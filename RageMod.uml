<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.1" xmlns:xmi="http://schema.omg.org/spec/XMI/2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/3.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_gnKpoIJREeGsv772wTim0Q" name="RageMod">
    <eAnnotations xmi:id="_goCzYIJREeGsv772wTim0Q" source="http://www.yatta-solutions.com/umllab/codegen/codegenDirectory">
      <details xmi:id="_goDacIJREeGsv772wTim0Q" key="codegenDirectory" value="/RageMod"/>
    </eAnnotations>
    <eAnnotations xmi:id="_tsikcIJREeGsv772wTim0Q" source="com.yattasolutions.codegen.RoundTripInformation">
      <details xmi:id="_tsikcYJREeGsv772wTim0Q" key="AssociatedSourceCode" value="/RageMod/src/main/java/net/rageland/ragemod/Build.java;2659582628/1;/RageMod/src/main/java/net/rageland/ragemod/InventoryUtilities.java;2357812459/1;/RageMod/src/main/java/net/rageland/ragemod/NPCUtilities.java;4158728011/1;/RageMod/src/main/java/net/rageland/ragemod/RMEntityListener.java;1450637687/1;/RageMod/src/main/java/net/rageland/ragemod/RMServerListener.java;3091426794/1;/RageMod/src/main/java/net/rageland/ragemod/RageMod.java;1921557360/1;/RageMod/src/main/java/net/rageland/ragemod/Util.java;764329663/1;/RageMod/src/main/java/net/rageland/ragemod/commands/BountyCommands.java;1540231819/1;/RageMod/src/main/java/net/rageland/ragemod/commands/Commands.java;1397974760/1;/RageMod/src/main/java/net/rageland/ragemod/commands/CompassCommands.java;3098506413/1;/RageMod/src/main/java/net/rageland/ragemod/commands/DebugCommands.java;3656937703/1;/RageMod/src/main/java/net/rageland/ragemod/commands/FactionCommands.java;1373159853/1;/RageMod/src/main/java/net/rageland/ragemod/commands/LotCommands.java;866969543/1;/RageMod/src/main/java/net/rageland/ragemod/commands/NPCCommands.java;328333016/1;/RageMod/src/main/java/net/rageland/ragemod/commands/NPCTownCommands.java;3202868134/1;/RageMod/src/main/java/net/rageland/ragemod/commands/PermitCommands.java;2170568171/1;/RageMod/src/main/java/net/rageland/ragemod/commands/QuestCommands.java;4262688242/1;/RageMod/src/main/java/net/rageland/ragemod/commands/TownCommands.java;44294610/1;/RageMod/src/main/java/net/rageland/ragemod/data/BountyHandler.java;3120856752/1;/RageMod/src/main/java/net/rageland/ragemod/data/Factions.java;2985547831/1;/RageMod/src/main/java/net/rageland/ragemod/data/Location2D.java;2931801771/1;/RageMod/src/main/java/net/rageland/ragemod/data/Lot.java;2366585661/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCData.java;3296503705/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCInstance.java;2753012235/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCLocation.java;2331672514/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCLocationPool.java;376932928/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCPhrase.java;3411394378/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCPool.java;841125409/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCTown.java;1029885202/1;/RageMod/src/main/java/net/rageland/ragemod/data/OverAllBounty.java;3556784048/1;/RageMod/src/main/java/net/rageland/ragemod/data/Permits.java;3449732997/1;/RageMod/src/main/java/net/rageland/ragemod/data/PlayerTown.java;2303479449/1;/RageMod/src/main/java/net/rageland/ragemod/data/Players.java;2259793174/1;/RageMod/src/main/java/net/rageland/ragemod/data/Region.java;2588922213/1;/RageMod/src/main/java/net/rageland/ragemod/data/Region2D.java;2002076330/1;/RageMod/src/main/java/net/rageland/ragemod/data/Region3D.java;1257989107/1;/RageMod/src/main/java/net/rageland/ragemod/data/Town.java;138481903/1;/RageMod/src/main/java/net/rageland/ragemod/data/TownLevel.java;2530656463/1;/RageMod/src/main/java/net/rageland/ragemod/data/Towns.java;1868745525/1;/RageMod/src/main/java/net/rageland/ragemod/database/JDCConnectionDriver.java;4007248196/1;/RageMod/src/main/java/net/rageland/ragemod/database/JDCConnectionPool.java;3372896136/1;/RageMod/src/main/java/net/rageland/ragemod/database/RageDB.java;2575051443/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/FactionQueries.java;4229741142/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/LotQueries.java;2118682335/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/NPCTownQueries.java;3839560055/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/PlayerQueries.java;1670538054/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/QuestQueries.java;1307622409/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/TownQueries.java;3788663365/1;/RageMod/src/main/java/net/rageland/ragemod/entity/Bounty.java;3650429690/1;/RageMod/src/main/java/net/rageland/ragemod/entity/BountySign.java;1082431875/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/QuestNPC.java;620679415/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/RageEntity.java;940141913/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/RageNPCManager.java;1875168784/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/SpeechData.java;1958182530/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/SpeechNPC.java;3676342745/1;/RageMod/src/main/java/net/rageland/ragemod/quest/KillCreatureQuest.java;1032137995/1;/RageMod/src/main/java/net/rageland/ragemod/quest/QuestData.java;480960711/1;/RageMod/src/main/java/net/rageland/ragemod/quest/QuestManager.java;387394662/1;/RageMod/src/main/java/net/rageland/ragemod/quest/QuestRequirements.java;3276781865/1;/RageMod/src/main/java/net/rageland/ragemod/quest/RewardQuest.java;320337549/1;/RageMod/src/main/java/net/rageland/ragemod/text/Languages.java;396922215/1;/RageMod/src/main/java/net/rageland/ragemod/utilities/Simple_Quicksort.java;950009609/1;/RageMod/src/test/npclib/BPlayer.java;1749849834/1;/RageMod/src/test/npclib/BWorld.java;2084834909/1;/RageMod/src/test/npclib/NPCEntity.java;1041073859/1;/RageMod/src/test/npclib/NPCNetHandler.java;735445744/1;/RageMod/src/test/npclib/NPCPath.java;2027257811/1;/RageMod/src/test/npclib/NullSocket.java;350715730/1;/RageMod/src/main/java/net/rageland/ragemod/Configuration.java;2151328751/1;/RageMod/src/main/java/net/rageland/ragemod/RMBlockListener.java;3774828046/1;/RageMod/src/main/java/net/rageland/ragemod/RMPlayerListener.java;3200747917/1;/RageMod/src/main/java/net/rageland/ragemod/RageConfig.java;1513986039/1;/RageMod/src/main/java/net/rageland/ragemod/RageTimer.java;1679126121/1;/RageMod/src/main/java/net/rageland/ragemod/RageZones.java;1137048569/1;/RageMod/src/main/java/net/rageland/ragemod/commands/RageCommands.java;4096375299/1;/RageMod/src/main/java/net/rageland/ragemod/data/Lots.java;3762910612/1;/RageMod/src/main/java/net/rageland/ragemod/data/PlayerData.java;3108415182/1;/RageMod/src/main/java/net/rageland/ragemod/data/Tasks.java;1925607619/1;/RageMod/src/main/java/net/rageland/ragemod/database/JDCConnection.java;1981791161/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/NPCQueries.java;955155086/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/TaskQueries.java;79537730/1;/RageMod/src/main/java/net/rageland/ragemod/quest/Flags.java;984413176/1;/RageMod/src/main/java/net/rageland/ragemod/quest/GatheringQuest.java;784998828/1;/RageMod/src/main/java/net/rageland/ragemod/quest/PlayerQuestData.java;4027721346/1;/RageMod/src/main/java/net/rageland/ragemod/quest/Quest.java;2403540744/1;/RageMod/src/main/java/net/rageland/ragemod/quest/RewardData.java;2625081904/1;/RageMod/src/main/java/net/rageland/ragemod/quest/TravelQuest.java;2104216156/1;/RageMod/src/main/java/net/rageland/ragemod/text/Language.java;3733162905/1;/RageMod/src/main/java/net/rageland/ragemod/text/Message.java;3040301620/1;/RageMod/src/main/java/net/rageland/ragemod/text/NPCParsing.java;209557164/1;/RageMod/src/test/npclib/BServer.java;1607196246/1;/RageMod/src/test/npclib/NPCManager.java;2449561812/1;/RageMod/src/test/npclib/NPCNetworkManager.java;3825355567/1;/RageMod/src/test/npclib/NpcEntityTargetEvent.java;3453174635/1;"/>
    </eAnnotations>
    <elementImport xmi:id="_s4tTwIJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_s4tTwYJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_s4tTwoJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_s4tTw4JREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_s4t60IJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_s4t60YJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_s4t60oJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_s4t604JREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_s4uh4IJREeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_snExMIJREeGsv772wTim0Q" name="net">
      <packagedElement xmi:type="uml:Package" xmi:id="_snFYQIJREeGsv772wTim0Q" name="rageland">
        <packagedElement xmi:type="uml:Package" xmi:id="_snIbkIJREeGsv772wTim0Q" name="ragemod">
          <packagedElement xmi:type="uml:Package" xmi:id="_snIbkYJREeGsv772wTim0Q" name="data">
            <packagedElement xmi:type="uml:Package" xmi:id="_sqpCkIJREeGsv772wTim0Q" name="Lot">
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_tacu4IJREeGsv772wTim0Q" name="LotCategory"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_srCEIIJREeGsv772wTim0Q" name="NPCInstance">
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_taiOcIJREeGsv772wTim0Q" name="NPCType"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s-XP0IJREeGsv772wTim0Q" name="BountyHandler">
              <ownedAttribute xmi:id="_tjjAgIJREeGsv772wTim0Q" name="bountys" visibility="private" isLeaf="true" type="_tZXJwIJREeGsv772wTim0Q" isReadOnly="true" association="_tqO3U4JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjjAgoJREeGsv772wTim0Q" value="new ArrayList&lt;Bounty>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjjnkYJREeGsv772wTim0Q" name="signs" visibility="private" isLeaf="true" type="_tZXJwIJREeGsv772wTim0Q" isReadOnly="true" association="_tqPeYIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjkOoIJREeGsv772wTim0Q" value="new ArrayList&lt;BountySign>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjkOooJREeGsv772wTim0Q" name="City" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjkOo4JREeGsv772wTim0Q" name="currentpos" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toACs4JREeGsv772wTim0Q" name="isGlobal" specification="_s-ZsEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toACtIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (City==&quot;global&quot;){&#xD;
			return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toACtYJREeGsv772wTim0Q" name="lookupPlayer" specification="_s-a6MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toACtoJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toACt4JREeGsv772wTim0Q" type="_tDK3UIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>for (int i = 0; i&lt;=this.bountys.size();i++){&#xD;
			if (this.bountys.get(i).getPlayerName() == PlayerName){&#xD;
				return this.bountys.get(i);&#xD;
			}&#xD;
		}&#xD;
		return null;&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toApwIJREeGsv772wTim0Q" name="sort" specification="_s-bhQIJREeGsv772wTim0Q">
                <language>java</language>
                <body>Bounty[] temp = (Bounty[]) this.bountys.toArray();&#xD;
		this.bountys.clear();&#xD;
		int[] work = new int[temp.length];&#xD;
		for (int i=0; i &lt;= temp.length;i++){&#xD;
			work[i]= Double.valueOf(temp[i].getAmount()).intValue();&#xD;
		}&#xD;
		Simple_Quicksort work2 = new Simple_Quicksort();&#xD;
		work = work2.sort(work);&#xD;
		work2 = null;&#xD;
		for (int i=0; i &lt;= temp.length;i++){&#xD;
			for (int x=0; x &lt;= temp.length;x++){&#xD;
				if(temp[i].getAmount() == work[x] &amp;&amp; this.bountys.get(x) == null){&#xD;
					this.bountys.add(i, temp[x]);&#xD;
					break;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toApwYJREeGsv772wTim0Q" name="hasPlayer" specification="_s-cIUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toApwoJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toApw4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for (int i = 0; i&lt;=this.bountys.size();i++){&#xD;
			if (this.bountys.get(i).getPlayerName() == PlayerName){&#xD;
				return true;&#xD;
			}&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toApxIJREeGsv772wTim0Q" name="addBounty" specification="_ta4MsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toApxYJREeGsv772wTim0Q" name="bounty" type="_tDK3UIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toApxoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (this.hasPlayer(bounty.getPlayerName())){&#xD;
			return increaseBounty(bounty);&#xD;
		}&#xD;
		this.bountys.add(bounty);&#xD;
		this.upadtesigns();&#xD;
		return true;&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toApx4JREeGsv772wTim0Q" name="increaseBounty" specification="_ta4zwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toApyIJREeGsv772wTim0Q" name="bounty" type="_tDK3UIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toApyYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (!this.hasPlayer(bounty.getPlayerName())){&#xD;
			return addBounty(bounty);&#xD;
		}&#xD;
		Bounty temp = this.lookupPlayer(bounty.getPlayerName());&#xD;
		temp.setAmount(temp.getAmount()+bounty.getAmount());&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toApyoJREeGsv772wTim0Q" name="removePlayer" specification="_s-ekkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toApy4JREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toBQ0IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Bounty temp = this.lookupPlayer(PlayerName);&#xD;
		this.bountys.remove(temp);&#xD;
		this.upadtesigns();&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toBQ0YJREeGsv772wTim0Q" name="removeBounty" specification="_s-fLoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toBQ0oJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toBQ04JREeGsv772wTim0Q" type="_tDK3UIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Bounty temp = this.lookupPlayer(PlayerName);&#xD;
		this.bountys.remove(temp);&#xD;
		return temp;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toBQ1IJREeGsv772wTim0Q" name="addSign" specification="_tgY-0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toBQ1YJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.currentpos++;&#xD;
		BountySign temp = new BountySign(block,this.bountys.get(currentpos),currentpos,this);&#xD;
		Sign temp2 = (Sign) block;&#xD;
		temp2.setLine(0, &quot;[Bounty]&quot;);&#xD;
		temp2.setLine(1, this.bountys.get(currentpos).getPlayerName());&#xD;
		temp2.setLine(2, String.valueOf(this.bountys.get(currentpos).getAmount()));&#xD;
		temp2.setLine(3, &quot;- &quot;+this.bountys.get(currentpos).getBountyGiver());&#xD;
		this.signs.add(temp);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toBQ1oJREeGsv772wTim0Q" name="upadtesigns" specification="_s-gZwIJREeGsv772wTim0Q">
                <language>java</language>
                <body>this.currentpos=0;&#xD;
		this.sort();&#xD;
		for (int i=0; i &lt;= signs.size();i++){&#xD;
			if (this.bountys.get(i) != null)&#xD;
			this.signs.get(i).bounty=this.bountys.get(i);&#xD;
			Sign temp =((Sign)this.signs.get(i).block);&#xD;
			temp.setLine(0, &quot;[Bounty]&quot;);&#xD;
			temp.setLine(1, this.bountys.get(i).getPlayerName());&#xD;
			temp.setLine(2, String.valueOf(this.bountys.get(i).getAmount()));&#xD;
			temp.setLine(3, &quot;- &quot;+this.bountys.get(i).getBountyGiver());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_s-ZsEIJREeGsv772wTim0Q" name="isGlobal" method="_toACs4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-aTIIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-a6MIJREeGsv772wTim0Q" name="lookupPlayer" method="_toACtYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-a6MYJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ta3loIJREeGsv772wTim0Q" type="_tDK3UIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_s-bhQIJREeGsv772wTim0Q" name="sort" visibility="private" method="_toApwIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_s-cIUIJREeGsv772wTim0Q" name="hasPlayer" method="_toApwYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-cvYIJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-cvYYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-ekkIJREeGsv772wTim0Q" name="removePlayer" method="_toApyoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-ekkYJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-ekkoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-fLoIJREeGsv772wTim0Q" name="removeBounty" method="_toBQ0YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-fysIJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ta4zw4JREeGsv772wTim0Q" type="_tDK3UIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_s-gZwIJREeGsv772wTim0Q" name="upadtesigns" method="_toBQ1oJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_ta4MsIJREeGsv772wTim0Q" name="addBounty" method="_toApxIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ta4MsYJREeGsv772wTim0Q" name="bounty" type="_tDK3UIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ta4MsoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ta4zwIJREeGsv772wTim0Q" name="increaseBounty" method="_toApx4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ta4zwYJREeGsv772wTim0Q" name="bounty" type="_tDK3UIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ta4zwoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgY-0IJREeGsv772wTim0Q" name="addSign" method="_toBQ1IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgY-0YJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s-oVkIJREeGsv772wTim0Q" name="Factions">
              <ownedAttribute xmi:id="_tjlcwIJREeGsv772wTim0Q" name="factions" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqPeY4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toBQ14JREeGsv772wTim0Q" name="Factions" specification="_s-qKwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toBQ2IJREeGsv772wTim0Q" type="_s-oVkIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>factions = new HashMap&lt;Integer, String>();&#xD;
		loadFactions();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toB34IJREeGsv772wTim0Q" name="loadFactions" specification="_s-qx0oJREeGsv772wTim0Q">
                <language>java</language>
                <body>factions.put(0, &quot;Neutral&quot;);&#xD;
 	factions.put(1, &quot;Red&quot;);&#xD;
 	factions.put(2, &quot;Blue&quot;);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toB34YJREeGsv772wTim0Q" name="getName" specification="_s-rY4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toB34oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toB344JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return factions.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toB35IJREeGsv772wTim0Q" name="getCodedName" specification="_s-snAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toB35YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toB35oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>char colorCode = getColorCode(id);&#xD;
		return &quot;&lt;t&quot; + colorCode + &quot;>&quot; + factions.get(id) + &quot;&lt;/t&quot; + colorCode + &quot;>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toB354JREeGsv772wTim0Q" name="getID" specification="_s-t1IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toB36IJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toB36YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>for( int id : factions.keySet() )&#xD;
 	{&#xD;
 		if( factions.get(id).equalsIgnoreCase(name) )&#xD;
 			return id;&#xD;
 	}&#xD;
 	&#xD;
 	return 0;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toCe8IJREeGsv772wTim0Q" name="getWoolColor" specification="_s-ucMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toCe8YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toCe8oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>switch(id)&#xD;
 	{&#xD;
 		case 1:		// red&#xD;
 			return 14;&#xD;
 		case 2:		// blue&#xD;
 			return 11;&#xD;
 		default:	// neutral&#xD;
 			return 0;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toCe84JREeGsv772wTim0Q" name="getLiquidBlock" specification="_s-vqUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toCe9IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toCe9YJREeGsv772wTim0Q" type="_tZY-8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>switch(id)&#xD;
 	{&#xD;
 		case 1:		// red&#xD;
 			return Material.LAVA;&#xD;
 		case 2:		// blue&#xD;
 			return Material.WATER;&#xD;
 		default:	// neutral&#xD;
 			return Material.ICE;&#xD;
 	}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toCe9oJREeGsv772wTim0Q" name="getSpecialBlock" specification="_s-w4cIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toCe94JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toCe-IJREeGsv772wTim0Q" type="_tZY-8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>switch(id)&#xD;
 	{&#xD;
 		case 1:		// red&#xD;
 			return Material.NETHERRACK;&#xD;
 		case 2:		// blue&#xD;
 			return Material.LAPIS_BLOCK;&#xD;
 		default:	// neutral&#xD;
 			return Material.SNOW_BLOCK;&#xD;
 	}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toCe-YJREeGsv772wTim0Q" name="getColorCode" specification="_s-yGkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toCe-oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toCe-4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
                <language>java</language>
                <body>switch(id)&#xD;
		{&#xD;
			case 1:		// red&#xD;
				return 'r';&#xD;
			case 2:		// blue&#xD;
				return 'b';&#xD;
			default:	// neutral&#xD;
				return 'n';&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDGAIJREeGsv772wTim0Q" name="getDyeColor" specification="_s-zUsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDGAYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toDGAoJREeGsv772wTim0Q" name="isPrimary">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toDGA4JREeGsv772wTim0Q" type="_ta6o8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( isPrimary )			// Primary colors&#xD;
			switch(id)&#xD;
			{&#xD;
				case 1:		// red&#xD;
					return DyeColor.RED;&#xD;
				case 2:		// blue&#xD;
					return DyeColor.BLUE;&#xD;
				default:&#xD;
					return DyeColor.WHITE;&#xD;
			}&#xD;
		else					// Secondary colors&#xD;
			switch(id)&#xD;
			{&#xD;
				case 1:		// red&#xD;
					return DyeColor.PINK;&#xD;
				case 2:		// blue&#xD;
					return DyeColor.LIGHT_BLUE;&#xD;
				default:&#xD;
					return DyeColor.GRAY;&#xD;
			}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_s-qKwIJREeGsv772wTim0Q" name="Factions" method="_toBQ14JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_s-qKwYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_s-qx0IJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_s-qx0YJREeGsv772wTim0Q" type="_s-oVkIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_s-qx0oJREeGsv772wTim0Q" name="loadFactions" method="_toB34IJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_s-rY4IJREeGsv772wTim0Q" name="getName" method="_toB34YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-r_8IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-r_8YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-snAIJREeGsv772wTim0Q" name="getCodedName" method="_toB35IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-snAYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-tOEIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-t1IIJREeGsv772wTim0Q" name="getID" method="_toB354JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-t1IYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-t1IoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-ucMIJREeGsv772wTim0Q" name="getWoolColor" isStatic="true" method="_toCe8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-vDQIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-vDQYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-vqUIJREeGsv772wTim0Q" name="getLiquidBlock" method="_toCe84JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-wRYIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgaM8IJREeGsv772wTim0Q" type="_tZY-8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_s-w4cIJREeGsv772wTim0Q" name="getSpecialBlock" method="_toCe9oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-w4cYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgaM8YJREeGsv772wTim0Q" type="_tZY-8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_s-yGkIJREeGsv772wTim0Q" name="getColorCode" method="_toCe-YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-yGkYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-ytoIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s-zUsIJREeGsv772wTim0Q" name="getDyeColor" method="_toDGAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s-zUsYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-zUsoJREeGsv772wTim0Q" name="isPrimary">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tga0AIJREeGsv772wTim0Q" type="_ta6o8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s-3mIIJREeGsv772wTim0Q" name="Location2D">
              <ownedAttribute xmi:id="_tjmD0YJREeGsv772wTim0Q" name="x" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjmq4IJREeGsv772wTim0Q" name="z" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDGBIJREeGsv772wTim0Q" name="Location2D" specification="_s-5bUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDGBYJREeGsv772wTim0Q" name="X">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toDGBoJREeGsv772wTim0Q" name="Z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toDGB4JREeGsv772wTim0Q" type="_s-3mIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>x = X;&#xD;
		z = Z;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDGCIJREeGsv772wTim0Q" name="Location2D" specification="_tgbbEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDGCYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toDGCoJREeGsv772wTim0Q" type="_s-3mIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>x = location.getX();&#xD;
		z = location.getZ();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDtEIJREeGsv772wTim0Q" name="distance" specification="_tgcpMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDtEYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toDtEoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( Math.sqrt( Math.pow(x-location.getX(),2) + Math.pow(z-location.getZ(),2) ));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDtE4JREeGsv772wTim0Q" name="distance" specification="_tgd3UYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDtFIJREeGsv772wTim0Q" name="location" type="_tgdQQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toDtFYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( Math.sqrt( Math.pow(x-location.getX(),2) + Math.pow(z-location.getZ(),2) ));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDtFoJREeGsv772wTim0Q" name="Distance" specification="_tgeeYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDtF4JREeGsv772wTim0Q" name="loc1" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toDtGIJREeGsv772wTim0Q" name="loc2" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toDtGYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( Math.sqrt( Math.pow(loc1.getX()-loc2.getX(),2) + Math.pow(loc1.getZ()-loc2.getZ(),2) ));&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_s-5bUIJREeGsv772wTim0Q" name="Location2D" method="_toDGBIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_s-6CYIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_s-6CYYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_s-5bUYJREeGsv772wTim0Q" name="X">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-5bUoJREeGsv772wTim0Q" name="Z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s-6CYoJREeGsv772wTim0Q" type="_s-3mIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgbbEIJREeGsv772wTim0Q" name="Location2D" method="_toDGCIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tgcCIIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tgcCIYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tgbbEYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgcCIoJREeGsv772wTim0Q" type="_s-3mIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgcpMIJREeGsv772wTim0Q" name="distance" method="_toDtEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgcpMYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgcpMoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgd3UYJREeGsv772wTim0Q" name="distance" method="_toDtE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgd3UoJREeGsv772wTim0Q" name="location" type="_tgdQQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgd3U4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgeeYIJREeGsv772wTim0Q" name="Distance" isStatic="true" method="_toDtFoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgeeYYJREeGsv772wTim0Q" name="loc1" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgeeYoJREeGsv772wTim0Q" name="loc2" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgfFcIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s_AwEIJREeGsv772wTim0Q" name="Lot">
              <ownedAttribute xmi:id="_tjmq4YJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqQFcIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjnR8YJREeGsv772wTim0Q" name="id_Lot">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjnR84JREeGsv772wTim0Q" name="number">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjn5AYJREeGsv772wTim0Q" name="category" type="_tgfsgYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjogEIJREeGsv772wTim0Q" name="region" type="_tgg6oIJREeGsv772wTim0Q" association="_tqQFc4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjogEoJREeGsv772wTim0Q" name="owner">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toDtGoJREeGsv772wTim0Q" name="Lot" specification="_ta-6YIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toDtG4JREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toDtHIJREeGsv772wTim0Q" type="_s_AwEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toEUIIJREeGsv772wTim0Q" name="getCategoryName" specification="_s_HdwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toEUIYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( category == LotCategory.WARRENS )&#xD;
			return &quot;Warrens&quot;;&#xD;
		else if( category == LotCategory.MARKET )&#xD;
			return &quot;Market&quot;;&#xD;
		else if( category == LotCategory.COAL )&#xD;
			return &quot;Coal&quot;;&#xD;
		else if( category == LotCategory.IRON )&#xD;
			return &quot;Iron&quot;;&#xD;
		else if( category == LotCategory.GOLD )&#xD;
			return &quot;Gold&quot;;&#xD;
		else if( category == LotCategory.DIAMOND )&#xD;
			return &quot;Diamond&quot;;&#xD;
		&#xD;
		System.out.println(&quot;Error: Invalid lot type called in GetCategoryName()&quot;);&#xD;
		return &quot;Error: Invalid lot category&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toEUIoJREeGsv772wTim0Q" name="getCategoryPrefix" specification="_s_IE0YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toEUI4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
                <language>java</language>
                <body>if( category == LotCategory.WARRENS )&#xD;
			return 'W';&#xD;
		else if( category == LotCategory.MARKET )&#xD;
			return 'M';&#xD;
		else if( category == LotCategory.COAL )&#xD;
			return 'A';&#xD;
		else if( category == LotCategory.IRON )&#xD;
			return 'B';&#xD;
		else if( category == LotCategory.GOLD )&#xD;
			return 'C';&#xD;
		else if( category == LotCategory.DIAMOND )&#xD;
			return 'D';&#xD;
		&#xD;
		System.out.println(&quot;Error: Invalid lot type called in GetCategoryPrefix()&quot;);&#xD;
		return ' ';&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toEUJIJREeGsv772wTim0Q" name="getLotCode" specification="_s_Ir4YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toEUJYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.getCategoryPrefix() + String.valueOf(this.number);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toEUJoJREeGsv772wTim0Q" name="setCategory" specification="_s_JS8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toEUJ4JREeGsv772wTim0Q" name="prefix">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( prefix.equals(&quot;W&quot;) )&#xD;
			category = LotCategory.WARRENS;&#xD;
		else if( prefix.equals(&quot;M&quot;) )&#xD;
			category = LotCategory.MARKET;&#xD;
		else if( prefix.equals(&quot;A&quot;) )&#xD;
			category = LotCategory.COAL;&#xD;
		else if( prefix.equals(&quot;B&quot;) )&#xD;
			category = LotCategory.IRON;&#xD;
		else if( prefix.equals(&quot;C&quot;) )&#xD;
			category = LotCategory.GOLD;&#xD;
		else if( prefix.equals(&quot;D&quot;) )&#xD;
			category = LotCategory.DIAMOND;&#xD;
		else&#xD;
			System.out.println(&quot;Error: Lot.SetCategory() called on invalid string: &quot; + prefix);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toEUKIJREeGsv772wTim0Q" name="canSetHome" specification="_s_J6AYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toEUKYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return isMemberLot();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toE7MIJREeGsv772wTim0Q" name="isInside" specification="_tghhsYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toE7MYJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toE7MoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return region.isInside(loc);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toE7M4JREeGsv772wTim0Q" name="isMemberLot" specification="_s_LIIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toE7NIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return category == LotCategory.COAL || category == LotCategory.IRON ||&#xD;
			   category == LotCategory.GOLD || category == LotCategory.DIAMOND; &#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toE7NYJREeGsv772wTim0Q" name="getPrice" specification="_s_LvMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toE7NoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( category == LotCategory.COAL )&#xD;
			return plugin.config.Lot_PRICE_COAL;&#xD;
		else if( category == LotCategory.IRON )&#xD;
			return plugin.config.Lot_PRICE_IRON;&#xD;
		else if( category == LotCategory.GOLD )&#xD;
			return plugin.config.Lot_PRICE_GOLD;&#xD;
		else if( category == LotCategory.DIAMOND )&#xD;
			return plugin.config.Lot_PRICE_DIAMOND;&#xD;
		else&#xD;
			return 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toE7N4JREeGsv772wTim0Q" name="getCenter" specification="_s_MWQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toE7OIJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new Location(region.world, region.nwCorner.getX() - ((region.nwCorner.getX() - region.seCorner.getX()) / 2), 65,&#xD;
								   region.seCorner.getZ() - ((region.seCorner.getZ() - region.nwCorner.getZ()) / 2));&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_s_ClQIJREeGsv772wTim0Q" name="LotCategory">
                <ownedLiteral xmi:id="_s_DzYIJREeGsv772wTim0Q" name="WARRENS"/>
                <ownedLiteral xmi:id="_s_DzYYJREeGsv772wTim0Q" name="MARKET"/>
                <ownedLiteral xmi:id="_s_DzYoJREeGsv772wTim0Q" name="COAL"/>
                <ownedLiteral xmi:id="_s_DzY4JREeGsv772wTim0Q" name="IRON"/>
                <ownedLiteral xmi:id="_s_EacIJREeGsv772wTim0Q" name="GOLD"/>
                <ownedLiteral xmi:id="_s_EacYJREeGsv772wTim0Q" name="DIAMOND"/>
              </nestedClassifier>
              <ownedOperation xmi:id="_s_HdwIJREeGsv772wTim0Q" name="getCategoryName" method="_toEUIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_IE0IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_IE0YJREeGsv772wTim0Q" name="getCategoryPrefix" method="_toEUIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_Ir4IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_Ir4YJREeGsv772wTim0Q" name="getLotCode" method="_toEUJIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_JS8IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_JS8YJREeGsv772wTim0Q" name="setCategory" method="_toEUJoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_J6AIJREeGsv772wTim0Q" name="prefix">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_J6AYJREeGsv772wTim0Q" name="canSetHome" method="_toEUKIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_KhEIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_LIIIJREeGsv772wTim0Q" name="isMemberLot" method="_toE7M4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_LIIYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_LvMIJREeGsv772wTim0Q" name="getPrice" method="_toE7NYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_LvMYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_MWQIJREeGsv772wTim0Q" name="getCenter" method="_toE7N4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgiv0IJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ta-6YIJREeGsv772wTim0Q" name="Lot" method="_toDtGoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_ta-6YoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ta-6Y4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ta-6YYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ta-6ZIJREeGsv772wTim0Q" type="_s_AwEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tghhsYJREeGsv772wTim0Q" name="isInside" method="_toE7MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tghhsoJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgiIwIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s_USEIJREeGsv772wTim0Q" name="NPCData">
              <ownedAttribute xmi:id="_tjpHIIJREeGsv772wTim0Q" name="id_NPC">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjpuMIJREeGsv772wTim0Q" name="id_NPCRace">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjpuMYJREeGsv772wTim0Q" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjpuMoJREeGsv772wTim0Q" name="isBilingual">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjqVQIJREeGsv772wTim0Q" name="id_NPCTown">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjqVQYJREeGsv772wTim0Q" name="isMale">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjqVQoJREeGsv772wTim0Q" value="true"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjqVQ4JREeGsv772wTim0Q" name="skinPath">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjq8UIJREeGsv772wTim0Q" name="defaultAffinityCode">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjq8UYJREeGsv772wTim0Q" name="inUse" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjq8UoJREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toFiQIJREeGsv772wTim0Q" name="activate" specification="_s_X8cIJREeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toFiQYJREeGsv772wTim0Q" name="deactivate" specification="_s_YjgYJREeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toFiQoJREeGsv772wTim0Q" name="getCodedName" specification="_s_ZKkYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toFiQ4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return &quot;&lt;pn>&quot; + name + &quot;&lt;/pn>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_s_X8cIJREeGsv772wTim0Q" name="activate" method="_toFiQIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_s_YjgYJREeGsv772wTim0Q" name="deactivate" method="_toFiQYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_s_ZKkYJREeGsv772wTim0Q" name="getCodedName" method="_toFiQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_ZxoIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s_hGYIJREeGsv772wTim0Q" name="NPCInstance">
              <ownedAttribute xmi:id="_tjrjYIJREeGsv772wTim0Q" name="id_NPCInstance" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjsKcYJREeGsv772wTim0Q" name="despawnTime" visibility="private" type="_tZ-NwIJREeGsv772wTim0Q" association="_tqQsgIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjsxgIJREeGsv772wTim0Q" name="data" type="_tgj98IJREeGsv772wTim0Q" isReadOnly="true" association="_tqQsg4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjsxgYJREeGsv772wTim0Q" name="location" type="_tglMEIJREeGsv772wTim0Q" isReadOnly="true" association="_tqRTkIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjsxgoJREeGsv772wTim0Q" name="entity" type="_tDSzIIJREeGsv772wTim0Q" isReadOnly="true" association="_tqRTk4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjtYkIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q" association="_tqR6oIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjtYkoJREeGsv772wTim0Q" name="server" type="_tZ1D0YJREeGsv772wTim0Q" association="_tqR6o4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjt_oIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q" association="_tqShsYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjt_ooJREeGsv772wTim0Q" name="questId">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjumsYJREeGsv772wTim0Q" name="questNPCType">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjv00IJREeGsv772wTim0Q" name="type" visibility="private" type="_tgnBQIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toGJVYJREeGsv772wTim0Q" name="NPCInstance" specification="_tgoPYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toGJVoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toGJV4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toGJWIJREeGsv772wTim0Q" name="type" type="_tgnBQIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toGJWYJREeGsv772wTim0Q" name="despawnTime" type="_tZ-NwIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toGJWoJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.id_NPCInstance = id;&#xD;
		this.type = type;&#xD;
		this.despawnTime = despawnTime;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toGwYIJREeGsv772wTim0Q" name="activate" specification="_s_tToIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toGwYYJREeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toGwYoJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toGwY4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>data = plugin.npcManager.activateNPC(id_NPC);&#xD;
		location = plugin.npcManager.activateLocation(id_NPCLocation);&#xD;
		&#xD;
		// Make sure the activate was valid&#xD;
		if( data == null || location == null )&#xD;
		{&#xD;
			plugin.npcManager.deactivateNPC(id_NPC);&#xD;
			plugin.npcManager.deactivateLocation(id_NPCLocation);&#xD;
			return false;&#xD;
		}&#xD;
&#xD;
		this.world = (World) new Location(location.getWorld(), id_NPCLocation, id_NPCLocation, id_NPCLocation);&#xD;
		&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toGwZIJREeGsv772wTim0Q" name="setIDs" specification="_s_uhwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toGwZYJREeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toGwZoJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>data = plugin.npcManager.getNPC(id_NPC);&#xD;
		location = plugin.npcManager.getLocation(id_NPCLocation);&#xD;
		this.world = (World) new Location(location.getWorld(), id_NPCLocation, id_NPCLocation, id_NPCLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toGwZ4JREeGsv772wTim0Q" name="setData" specification="_tgrSsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toGwaIJREeGsv772wTim0Q" name="data" type="_tgj98IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toGwaYJREeGsv772wTim0Q" name="location" type="_tglMEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.data = data;&#xD;
		this.location = location;&#xD;
		this.world = (World) new Location(location.getWorld(), id_NPCInstance, id_NPCInstance, id_NPCInstance);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toHXcIJREeGsv772wTim0Q" name="getID" specification="_s_vv4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toHXcYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.id_NPCInstance;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toHXcoJREeGsv772wTim0Q" name="getName" specification="_s_wW8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toHXc4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toHXdIJREeGsv772wTim0Q" name="getColorName" specification="_s_w-AYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toHXdYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Quest NPCs will use AQUA, speech will use DARK_AQUA&#xD;
		return ChatColor.DARK_AQUA + data.name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toHXdoJREeGsv772wTim0Q" name="getCodedName" specification="_s_xlEYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toHXd4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return &quot;&lt;pn>&quot; + data.name + &quot;&lt;/pn>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toHXeIJREeGsv772wTim0Q" name="getNPCid" specification="_s_yMIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toHXeYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.id_NPC;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toH-gIJREeGsv772wTim0Q" name="spawn" specification="_s_yzMIJREeGsv772wTim0Q">
                <language>java</language>
                <body>if( data == null || location == null )&#xD;
			throw new Exception(&quot;NPCInstance.spawn() called on non-activated instance&quot;);&#xD;
		&#xD;
		World world = (World) new Location(location.getWorld(), id_NPCInstance, id_NPCInstance, id_NPCInstance);&#xD;
		&#xD;
		// Spawn the type of NPC &#xD;
		switch(type)&#xD;
		{&#xD;
			case SPEECH:&#xD;
				entity = new SpeechNPC(this); &#xD;
				break;&#xD;
//			case QUEST:&#xD;
//				entity = new QuestNPC(this);&#xD;
			default:&#xD;
				entity = new RageEntity(this);&#xD;
		}&#xD;
&#xD;
		// Set the position and put the entity in the world&#xD;
		// TODO FIX THIS&#xD;
		entity.setPositionRotation(location.getX(), location.getY(), location.getZ(), location.getYaw(), location.getPitch());&#xD;
		net.citizensnpcs.resources.npclib.NPCManager.register(1, entity, getName(), &quot;Npc spawned with RageMod&quot;);&#xD;
		plugin.npcManager.addInstance(this.id_NPCInstance, this);&#xD;
		location.setInstance(this);&#xD;
		&#xD;
		this.setSkin();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toH-gYJREeGsv772wTim0Q" name="isExpired" specification="_s_zaQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toH-goJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return Util.now().getTime() > despawnTime.getTime();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toH-g4JREeGsv772wTim0Q" name="getRaceID" specification="_s_0BUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toH-hIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.id_NPCRace;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toH-hYJREeGsv772wTim0Q" name="getTownID" specification="_s_0oYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toH-hoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return location.getTownID();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toH-h4JREeGsv772wTim0Q" name="setSkin" specification="_s_0oYoJREeGsv772wTim0Q">
                <language>java</language>
                <body>SpoutManager.getAppearanceManager().setGlobalSkin((HumanEntity)entity.getBukkitEntity(), plugin.config.CUSTOM_SKIN_PATH + data.skinPath);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toIlkIJREeGsv772wTim0Q" name="getDefaultAffinity" specification="_s_2dkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toIlkYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.defaultAffinityCode * 4;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toIlkoJREeGsv772wTim0Q" name="getNPCData" specification="_s_3EoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toIlk4JREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.data;&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_s_kJsIJREeGsv772wTim0Q" name="NPCType">
                <ownedAttribute xmi:id="_tjvNwIJREeGsv772wTim0Q" name="value" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_s_nNAIJREeGsv772wTim0Q" name="NPCType" visibility="package" method="_toFiRIJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_s_obIIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_s_obIYJREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_s_n0EIJREeGsv772wTim0Q" name="value">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_s_obIoJREeGsv772wTim0Q" type="_s_kJsIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_s_pCMIJREeGsv772wTim0Q" name="getType" isStatic="true" method="_toGJUoJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_s_pCMYJREeGsv772wTim0Q" name="value">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_tgnoUIJREeGsv772wTim0Q" type="_tgnBQIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedLiteral xmi:id="_s_kwwIJREeGsv772wTim0Q" name="BASIC">
                  <specification xmi:type="uml:Expression" xmi:id="_s_kwwYJREeGsv772wTim0Q">
                    <operand xmi:type="uml:LiteralString" xmi:id="_tpFn0YJREeGsv772wTim0Q" value="0"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_s_lX0IJREeGsv772wTim0Q" name="SPEECH">
                  <specification xmi:type="uml:Expression" xmi:id="_s_lX0YJREeGsv772wTim0Q">
                    <operand xmi:type="uml:LiteralString" xmi:id="_tpFn0oJREeGsv772wTim0Q" value="1"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_s_lX0oJREeGsv772wTim0Q" name="QUEST">
                  <specification xmi:type="uml:Expression" xmi:id="_s_lX04JREeGsv772wTim0Q">
                    <operand xmi:type="uml:LiteralString" xmi:id="_tpGO4IJREeGsv772wTim0Q" value="2"/>
                  </specification>
                </ownedLiteral>
              </nestedClassifier>
              <ownedOperation xmi:id="_s_tToIJREeGsv772wTim0Q" name="activate" method="_toGwYIJREeGsv772wTim0Q" raisedException="_tgpdgYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_tToYJREeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s_t6sIJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s_t6sYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_uhwIJREeGsv772wTim0Q" name="setIDs" method="_toGwZIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_vI0IJREeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s_vI0YJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_vv4IJREeGsv772wTim0Q" name="getID" method="_toHXcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_wW8IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_wW8YJREeGsv772wTim0Q" name="getName" method="_toHXcoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_w-AIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_w-AYJREeGsv772wTim0Q" name="getColorName" method="_toHXdIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_xlEIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_xlEYJREeGsv772wTim0Q" name="getCodedName" method="_toHXdoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_xlEoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_yMIIJREeGsv772wTim0Q" name="getNPCid" method="_toHXeIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_yMIYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_yzMIJREeGsv772wTim0Q" name="spawn" method="_toH-gIJREeGsv772wTim0Q" raisedException="_tgpdgYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_s_zaQIJREeGsv772wTim0Q" name="isExpired" method="_toH-gYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_zaQYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_0BUIJREeGsv772wTim0Q" name="getRaceID" method="_toH-g4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_0BUYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_0oYIJREeGsv772wTim0Q" name="getTownID" method="_toH-hYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_0oYYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_0oYoJREeGsv772wTim0Q" name="setSkin" method="_toH-h4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_s_2dkIJREeGsv772wTim0Q" name="getDefaultAffinity" method="_toIlkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_s_2dkYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s_3EoIJREeGsv772wTim0Q" name="getNPCData" method="_toIlkoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgr5wIJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgoPYIJREeGsv772wTim0Q" name="NPCInstance" method="_toGJVYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tgo2dIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tgo2dYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tgo2cIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgo2cYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgo2coJREeGsv772wTim0Q" name="type" type="_tgnBQIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgo2c4JREeGsv772wTim0Q" name="despawnTime" type="_tZ-NwIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgpdgIJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgrSsIJREeGsv772wTim0Q" name="setData" method="_toGwZ4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgrSsYJREeGsv772wTim0Q" name="data" type="_tgj98IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgrSsoJREeGsv772wTim0Q" name="location" type="_tglMEIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tAIxcIJREeGsv772wTim0Q" name="NPCLocation">
              <generalization xmi:id="_tgxZUYJREeGsv772wTim0Q" general="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjxqAIJREeGsv772wTim0Q" name="id_NPCLocation" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjxqAYJREeGsv772wTim0Q" name="id_NPCTown" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjyREIJREeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjyREYJREeGsv772wTim0Q" name="id_NPCRace" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tjyREoJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqShtIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjyRE4JREeGsv772wTim0Q" name="zone" type="_tbIrYYJREeGsv772wTim0Q" isReadOnly="true" association="_tqTIwYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjzfMoJREeGsv772wTim0Q" name="quadrant" type="_tbIEUIJREeGsv772wTim0Q" isReadOnly="true" association="_tqTIxIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj0GQ4JREeGsv772wTim0Q" name="inUse" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tj0GRIJREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tj0tUIJREeGsv772wTim0Q" name="instance" type="_tgtu8IJREeGsv772wTim0Q" association="_tpG18IJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toJMo4JREeGsv772wTim0Q" name="NPCLocation" specification="_tguWAYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toJMpIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toJMpYJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJMpoJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJMp4JREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJMqIJREeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJMqYJREeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJMqoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toJMq4JREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(world, x, y, z, yaw, pitch);&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toJzsIJREeGsv772wTim0Q" name="NPCLocation" specification="_tgvkJIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toJzsYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toJzsoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toJzs4JREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(location.getWorld(), location.getX(), location.getY(), location.getZ(), location.getYaw(), location.getPitch());&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toJztIJREeGsv772wTim0Q" name="setIDs" specification="_tAO4EIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toJztYJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJztoJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toJzt4JREeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.id_NPCLocation = id_NPCLocation;&#xD;
		this.id_NPCTown = id_NPCTown;&#xD;
		this.id_NPCRace = id_NPCRace;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toJzuIJREeGsv772wTim0Q" name="activate" specification="_tAQGMYJREeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toJzuYJREeGsv772wTim0Q" name="deactivate" specification="_tAQtQYJREeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toJzuoJREeGsv772wTim0Q" name="isActivated" specification="_tARUUYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toJzu4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return inUse;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toKawIJREeGsv772wTim0Q" name="getID" specification="_tAR7YoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toKawYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id_NPCLocation;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toKawoJREeGsv772wTim0Q" name="getTownID" specification="_tASicoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toKaw4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id_NPCTown;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toKaxIJREeGsv772wTim0Q" name="getTown" specification="_tATJgYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toKaxYJREeGsv772wTim0Q" type="_tgwyQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( this.id_NPCTown != 0 )&#xD;
			return plugin.towns.getNPCTown(id_NPCTown);&#xD;
		else&#xD;
			return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tAO4EIJREeGsv772wTim0Q" name="setIDs" method="_toJztIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAO4EYJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tAPfIIJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tAPfIYJREeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tAQGMYJREeGsv772wTim0Q" name="activate" method="_toJzuIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tAQtQYJREeGsv772wTim0Q" name="deactivate" method="_toJzuYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tARUUYJREeGsv772wTim0Q" name="isActivated" method="_toJzuoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAR7YIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tAR7YoJREeGsv772wTim0Q" name="getID" method="_toKawIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tASicIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tASicoJREeGsv772wTim0Q" name="getTownID" method="_toKawoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tASic4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tATJgYJREeGsv772wTim0Q" name="getTown" method="_toKaxIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgxZUIJREeGsv772wTim0Q" type="_tgwyQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tguWAYJREeGsv772wTim0Q" name="NPCLocation" method="_toJMo4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tgvkIIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tgvkIYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tguWAoJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgu9EIJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgu9EYJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgu9EoJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgu9E4JREeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgu9FIJREeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgu9FYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgvkIoJREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgvkJIJREeGsv772wTim0Q" name="NPCLocation" method="_toJzsIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tgwLMoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tgwLM4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tgwLMIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgwLMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgwLNIJREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tAZQIIJREeGsv772wTim0Q" name="NPCLocationPool">
              <ownedAttribute xmi:id="_tj17cIJREeGsv772wTim0Q" name="npcLocations" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqTv0IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj2igoJREeGsv772wTim0Q" name="reserveNPCLocations" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_tqTv04JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj3woIJREeGsv772wTim0Q" name="floatingLocations" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_tqUW4IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj4XsIJREeGsv772wTim0Q" name="residentLocations" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqUW44JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj4-wYJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_tqU98IJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLB0IJREeGsv772wTim0Q" name="NPCLocationPool" specification="_tAaeQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLB0YJREeGsv772wTim0Q" type="_tAZQIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>npcLocations = new HashMap&lt;Integer, NPCLocation>();&#xD;
		 random = new Random();&#xD;
		 &#xD;
		 // Set up the reserve lists&#xD;
		 reserveNPCLocations = new HashSet&lt;Integer>();&#xD;
		 floatingLocations = new HashSet&lt;Integer>();&#xD;
		 residentLocations = new HashMap&lt;Integer, HashSet&lt;Integer>>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLB0oJREeGsv772wTim0Q" name="add" specification="_tgyncIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLB04JREeGsv772wTim0Q" name="npcLocation" type="_tglMEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcLocations.put(npcLocation.getID(), npcLocation);&#xD;
		reserveNPCLocations.add(npcLocation.getID());&#xD;
		&#xD;
		if( npcLocation.getTownID() == 0 )&#xD;
		{&#xD;
			floatingLocations.add(npcLocation.getID());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			if( !residentLocations.containsKey(npcLocation.getTownID()) )&#xD;
 			residentLocations.put(npcLocation.getTownID(), new HashSet&lt;Integer>());&#xD;
 		residentLocations.get(npcLocation.getTownID()).add(npcLocation.getID());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLB1IJREeGsv772wTim0Q" name="get" specification="_tAbFU4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLB1YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toLB1oJREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( npcLocations.containsKey(id) )&#xD;
 		return npcLocations.get(id);&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Warning: NPCLocationPool.get() called on non-existent id '&quot; + id + &quot;'&quot;);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLB14JREeGsv772wTim0Q" name="activate" specification="_tAbsYYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLB2IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toLB2YJREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( !reserveNPCLocations.contains(id) )&#xD;
 		return null;&#xD;
 	&#xD;
 	NPCLocation location = npcLocations.get(id);&#xD;
&#xD;
 	// Remove the NPC from all appropriate lists&#xD;
 	reserveNPCLocations.remove(id);&#xD;
 	&#xD;
 	if( location.getTownID() == 0 )&#xD;
 		floatingLocations.remove(id);&#xD;
 	else&#xD;
 		residentLocations.get(location.getTownID()).remove(id);&#xD;
 	&#xD;
 	location.activate();&#xD;
 	&#xD;
 	return location;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLB2oJREeGsv772wTim0Q" name="activateRandomFloating" specification="_tAcTcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLB24JREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( floatingLocations.size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>(floatingLocations);&#xD;
 	int id_NPCLocation = removeList.get(random.nextInt(removeList.size()));&#xD;
&#xD;
 	return activate(id_NPCLocation);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLo4IJREeGsv772wTim0Q" name="deactivate" specification="_tAc6gIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLo4YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( reserveNPCLocations.contains(id) || npcLocations.get(id) == null )&#xD;
 		return;&#xD;
 	&#xD;
 	reserveNPCLocations.add(id);&#xD;
 	npcLocations.get(id).deactivate();&#xD;
 	if( npcLocations.get(id).getTownID() == 0 )&#xD;
			floatingLocations.add(id);&#xD;
 	else&#xD;
 		residentLocations.get(npcLocations.get(id).getTownID()).add(npcLocations.get(id).getID());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLo4oJREeGsv772wTim0Q" name="getAllLocations" specification="_tAdhkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLo44JREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;NPCLocation>(npcLocations.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLo5IJREeGsv772wTim0Q" name="getActiveTownLocations" specification="_tAevsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLo5YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toLo5oJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;NPCLocation> locations = new ArrayList&lt;NPCLocation>();&#xD;
		&#xD;
		for( NPCLocation location : npcLocations.values() )&#xD;
			if( location.getTownID() == id &amp;&amp; location.isActivated() )&#xD;
				locations.add(location);&#xD;
				&#xD;
		return locations;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toLo54JREeGsv772wTim0Q" name="activateRandomInTown" specification="_tAf90YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toLo6IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toLo6YJREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( residentLocations.get(id) == null || residentLocations.get(id).size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>(residentLocations.get(id));&#xD;
 	int id_NPCLocation = removeList.get(random.nextInt(removeList.size()));&#xD;
&#xD;
 	return this.activate(id_NPCLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tAaeQIJREeGsv772wTim0Q" name="NPCLocationPool" method="_toLB0IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tAbFUIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tAbFUYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tAbFUoJREeGsv772wTim0Q" type="_tAZQIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAbFU4JREeGsv772wTim0Q" name="get" method="_toLB1IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAbsYIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgzOgIJREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAbsYYJREeGsv772wTim0Q" name="activate" method="_toLB14JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAcTcIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgzOgYJREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAcTcYJREeGsv772wTim0Q" name="activateRandomFloating" method="_toLB2oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgz1kIJREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAc6gIJREeGsv772wTim0Q" name="deactivate" method="_toLo4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAc6gYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tAdhkIJREeGsv772wTim0Q" name="getAllLocations" method="_toLo4oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgz1kYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAevsIJREeGsv772wTim0Q" name="getActiveTownLocations" method="_toLo5IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAevsYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgz1koJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAf90YJREeGsv772wTim0Q" name="activateRandomInTown" method="_toLo54JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAgk4IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgz1k4JREeGsv772wTim0Q" type="_tglMEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgyncIJREeGsv772wTim0Q" name="add" method="_toLB0oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgyncYJREeGsv772wTim0Q" name="npcLocation" type="_tglMEIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tAjoMIJREeGsv772wTim0Q" name="NPCPhrase">
              <ownedAttribute xmi:id="_tj5l0IJREeGsv772wTim0Q" name="message" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tj6M4YJREeGsv772wTim0Q" name="translations" visibility="private" type="_tZXJwIJREeGsv772wTim0Q" association="_tqU984JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj7bAYJREeGsv772wTim0Q" name="id" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tj7bA4JREeGsv772wTim0Q" name="npcData" visibility="private" type="_tgj98IJREeGsv772wTim0Q" association="_tqU99oJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj8CEYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqVlAYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj8CE4JREeGsv772wTim0Q" name="isDynamic" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toMP8IJREeGsv772wTim0Q" name="NPCPhrase" specification="_tg1DsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toMP8YJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toMP8oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toMP84JREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toMP9IJREeGsv772wTim0Q" name="isDynamic">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toMP9YJREeGsv772wTim0Q" name="npcData" type="_tgj98IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toMP9oJREeGsv772wTim0Q" type="_tAjoMIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.message = message;&#xD;
		this.id = id;&#xD;
		this.plugin = plugin;&#xD;
		this.isDynamic = isDynamic;&#xD;
		this.npcData = npcData;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toMP94JREeGsv772wTim0Q" name="getMessage" specification="_tg244IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toMP-IJREeGsv772wTim0Q" name="playerData" type="_tg2R0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toMP-YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( npcData.id_NPCRace == plugin.config.NPC_HUMAN_ID || playerData.getLanguageSkill(npcData.id_NPCRace) == 100 )&#xD;
			return parse(message, playerData);&#xD;
		else&#xD;
			return getTranslation(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toMP-oJREeGsv772wTim0Q" name="getID" specification="_tAldYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toMP-4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toM3AIJREeGsv772wTim0Q" name="getTranslation" specification="_tg2444JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toM3AYJREeGsv772wTim0Q" name="playerData" type="_tg2R0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toM3AoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Check to see if the translations have been set up yet&#xD;
		if( translations == null )&#xD;
			translations = plugin.languages.translate(message, npcData.id_NPCRace);&#xD;
		&#xD;
		int skill = playerData.getLanguageSkill(npcData.id_NPCRace);&#xD;
		&#xD;
		if( skill >= 100 )&#xD;
			return parse(message, playerData);&#xD;
		else&#xD;
			return parse(translations.get((int)(((skill / 25) - 3) * -1)), playerData);	// This maps 0 to 3, 25 to 2, 50 to 1, and 75 to 0&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toM3A4JREeGsv772wTim0Q" name="parse" specification="_tg3f8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toM3BIJREeGsv772wTim0Q" name="toParse">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toM3BYJREeGsv772wTim0Q" name="playerData" type="_tg2R0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toM3BoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( !isDynamic )&#xD;
			return toParse;&#xD;
		&#xD;
		String result = toParse;&#xD;
		result = result.replace(&quot;&lt;playerName/>&quot;, playerData.getCodedName());&#xD;
		result = result.replace(&quot;&lt;selfName/>&quot;, npcData.getCodedName());&#xD;
		return result;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tAldYIJREeGsv772wTim0Q" name="getID" method="_toMP-oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAldYYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tg1DsIJREeGsv772wTim0Q" name="NPCPhrase" method="_toMP8IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tg1qwoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tg1qw4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tg1DsYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg1DsoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg1Ds4JREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg1qwIJREeGsv772wTim0Q" name="isDynamic">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg1qwYJREeGsv772wTim0Q" name="npcData" type="_tgj98IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg1qxIJREeGsv772wTim0Q" type="_tAjoMIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tg244IJREeGsv772wTim0Q" name="getMessage" method="_toMP94JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tg244YJREeGsv772wTim0Q" name="playerData" type="_tg2R0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg244oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tg2444JREeGsv772wTim0Q" name="getTranslation" visibility="private" method="_toM3AIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tg245IJREeGsv772wTim0Q" name="playerData" type="_tg2R0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg3f8IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tg3f8YJREeGsv772wTim0Q" name="parse" visibility="private" method="_toM3A4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tg3f8oJREeGsv772wTim0Q" name="toParse">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg3f84JREeGsv772wTim0Q" name="playerData" type="_tg2R0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg4HAIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tApHwIJREeGsv772wTim0Q" name="NPCPool">
              <ownedAttribute xmi:id="_tj9QMIJREeGsv772wTim0Q" name="npcs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqVlBIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj93QoJREeGsv772wTim0Q" name="reserveNPCs" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_tqWMEYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj_FYIJREeGsv772wTim0Q" name="floatingNPCs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqWMFIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tj_scIJREeGsv772wTim0Q" name="residentNPCs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqWzIYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkATgIJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_tqWzJIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toM3B4JREeGsv772wTim0Q" name="NPCPool" specification="_tApu0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toM3CIJREeGsv772wTim0Q" type="_tApHwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>npcs = new HashMap&lt;Integer, NPCData>();&#xD;
		 random = new Random();&#xD;
		 &#xD;
		 // Set up the reserve lists&#xD;
		 reserveNPCs = new HashSet&lt;Integer>();&#xD;
		 floatingNPCs = new HashMap&lt;Integer, HashSet&lt;Integer>>();&#xD;
		 residentNPCs = new HashMap&lt;Integer, HashSet&lt;Integer>>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toNeEIJREeGsv772wTim0Q" name="add" specification="_tg4uEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toNeEYJREeGsv772wTim0Q" name="npc" type="_tgj98IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcs.put(npc.id_NPC, npc);&#xD;
		reserveNPCs.add(npc.id_NPC);&#xD;
		&#xD;
		if( npc.id_NPCTown == 0 )&#xD;
		{&#xD;
			if( !floatingNPCs.containsKey(npc.id_NPCRace) )&#xD;
				floatingNPCs.put(npc.id_NPCRace, new HashSet&lt;Integer>());&#xD;
			floatingNPCs.get(npc.id_NPCRace).add(npc.id_NPC);&#xD;
		}&#xD;
 	else&#xD;
 	{&#xD;
 		if( !residentNPCs.containsKey(npc.id_NPCTown) )&#xD;
 			residentNPCs.put(npc.id_NPCTown, new HashSet&lt;Integer>());&#xD;
 		residentNPCs.get(npc.id_NPCTown).add(npc.id_NPC);&#xD;
 	}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toNeEoJREeGsv772wTim0Q" name="get" specification="_tAqV44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toNeE4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toNeFIJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( npcs.containsKey(id) )&#xD;
 		return npcs.get(id);&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Warning: NPCPool.get() called on non-existent id '&quot; + id + &quot;'&quot;);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toNeFYJREeGsv772wTim0Q" name="activate" specification="_tAq88IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toNeFoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toNeF4JREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( !reserveNPCs.contains(id) )&#xD;
 		return null;&#xD;
&#xD;
 	NPCData npc = npcs.get(id);&#xD;
 	&#xD;
 	// Remove the NPC from all appropriate lists&#xD;
 	reserveNPCs.remove(id);&#xD;
 	if( npc.id_NPCTown == 0 )&#xD;
 		floatingNPCs.get(npc.id_NPCRace).remove(id);&#xD;
 	else&#xD;
 		residentNPCs.get(npc.id_NPCTown).remove(id);&#xD;
 	&#xD;
 	npc.activate();&#xD;
 	return npc;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toNeGIJREeGsv772wTim0Q" name="activateRandomFloating" specification="_tArkAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toNeGYJREeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toNeGoJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( reserveNPCs.size() == 0 || floatingNPCs.size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>();&#xD;
 	&#xD;
 	if( id_NPCRace == 0 )&#xD;
 	{&#xD;
 		// Add all races&#xD;
 		for( HashSet&lt;Integer> set : floatingNPCs.values() )&#xD;
 			removeList.addAll(set);&#xD;
 	}&#xD;
 	else&#xD;
 		removeList.addAll(floatingNPCs.get(id_NPCRace));&#xD;
 				&#xD;
 	if( removeList.size() == 0 )&#xD;
 		return null;&#xD;
&#xD;
 	int id_NPC = removeList.get(random.nextInt(removeList.size()));&#xD;
 	return activate(id_NPC);    &#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOFIIJREeGsv772wTim0Q" name="deactivate" specification="_tAsLEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOFIYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( reserveNPCs.contains(id) || npcs.get(id) == null )&#xD;
 		return;&#xD;
 	&#xD;
 	NPCData npc = npcs.get(id);&#xD;
 	&#xD;
 	reserveNPCs.add(id);&#xD;
 	if( npc.id_NPCTown == 0 )&#xD;
			floatingNPCs.get(npc.id_NPCRace).add(npc.id_NPC);&#xD;
 	else&#xD;
 		residentNPCs.get(npc.id_NPCTown).add(npc.id_NPC);&#xD;
 	&#xD;
 	npcs.get(id).deactivate();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOFIoJREeGsv772wTim0Q" name="activateRandomInTown" specification="_tAsyIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOFI4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOFJIJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( reserveNPCs.size() == 0 || residentNPCs.get(id) == null || residentNPCs.get(id).size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>();&#xD;
 	removeList.addAll(residentNPCs.get(id));&#xD;
&#xD;
 	int id_NPC = removeList.get(random.nextInt(removeList.size()));&#xD;
 	return activate(id_NPC);  &#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOFJYJREeGsv772wTim0Q" name="getAllResidents" specification="_tAtZMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOFJoJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOFJ4JREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashSet&lt;NPCData> residents = new HashSet&lt;NPCData>();&#xD;
 	for( NPCData npc : npcs.values() )&#xD;
 	{&#xD;
 		if( npc.id_NPCTown == id_NPCTown )&#xD;
 			residents.add(npc);&#xD;
 	}&#xD;
 	&#xD;
 	return residents;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tApu0IJREeGsv772wTim0Q" name="NPCPool" method="_toM3B4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tAqV4IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tAqV4YJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tAqV4oJREeGsv772wTim0Q" type="_tApHwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAqV44JREeGsv772wTim0Q" name="get" method="_toNeEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAqV5IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg5VIYJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAq88IJREeGsv772wTim0Q" name="activate" method="_toNeFYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAq88YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg5VIoJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tArkAIJREeGsv772wTim0Q" name="activateRandomFloating" method="_toNeGIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tArkAYJREeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg58MIJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAsLEIJREeGsv772wTim0Q" name="deactivate" method="_toOFIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAsLEYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tAsyIIJREeGsv772wTim0Q" name="activateRandomInTown" method="_toOFIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAsyIYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg58MYJREeGsv772wTim0Q" type="_tgj98IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tAtZMIJREeGsv772wTim0Q" name="getAllResidents" method="_toOFJYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAtZMYJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg58MoJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tg4uEIJREeGsv772wTim0Q" name="add" method="_toNeEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tg5VIIJREeGsv772wTim0Q" name="npc" type="_tgj98IJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tAxqoIJREeGsv772wTim0Q" name="NPCTown">
              <generalization xmi:id="_tg8_gIJREeGsv772wTim0Q" general="_tg6jQIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkA6kIJREeGsv772wTim0Q" name="isProtected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkBhoIJREeGsv772wTim0Q" name="id_NPCRace">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkBhoYJREeGsv772wTim0Q" name="steward">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkBhooJREeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkBho4JREeGsv772wTim0Q" name="buildPermissions" type="_tZXJwIJREeGsv772wTim0Q" association="_tqXaMYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkCIsYJREeGsv772wTim0Q" name="residents" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_tqXaNIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOsMIJREeGsv772wTim0Q" name="NPCTown" specification="_tg7xYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOsMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toOsMoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOsM4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOsNIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toOsNYJREeGsv772wTim0Q" name="steward">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOsNoJREeGsv772wTim0Q" type="_tAxqoIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(plugin, id, name, world);&#xD;
		this.steward = steward;&#xD;
		buildPermissions = new ArrayList&lt;String>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOsN4JREeGsv772wTim0Q" name="createRegion" specification="_tAzf0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOsOIJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOsOYJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOsOoJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toOsO4JREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>region = new Region2D(world, x1, z1, x2, z2);&#xD;
		this.centerPoint = new Location(this.world, Util.between(x1, x2), 65, Util.between(z1, z2));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOsPIJREeGsv772wTim0Q" name="createRegion" specification="_tA0G4oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOsPYJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>region = new Region2D(world, coords);&#xD;
		this.centerPoint = new Location(this.world, Util.between(region.nwCorner.getX(), region.seCorner.getX()), 65, &#xD;
				Util.between(region.nwCorner.getZ(), region.seCorner.getZ()));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toOsPoJREeGsv772wTim0Q" name="getCodedName" specification="_tA0t8oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toOsP4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return &quot;&lt;tp>&quot; + this.name + &quot;&lt;/tp>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toPTQIJREeGsv772wTim0Q" name="update" specification="_tA1VAYJREeGsv772wTim0Q">
                <language>java</language>
                <body>plugin.database.npcTownQueries.update(this);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toPTQYJREeGsv772wTim0Q" name="isOutsideZoneA" specification="_tA1VA4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toPTQoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return plugin.zones.isOutsideZoneA(region);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toPTQ4JREeGsv772wTim0Q" name="hasPermission" specification="_tA18EYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toPTRIJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toPTRYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for( String builder : buildPermissions )&#xD;
			if( builder.equalsIgnoreCase(playerName) )&#xD;
				return true;&#xD;
		&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tAzf0IJREeGsv772wTim0Q" name="createRegion" method="_toOsN4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tAzf0YJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tAzf0oJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tAzf04JREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tA0G4IJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tA0G4oJREeGsv772wTim0Q" name="createRegion" method="_toOsPIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA0t8IJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tA0t8oJREeGsv772wTim0Q" name="getCodedName" method="_toOsPoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA0t84JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tA1VAYJREeGsv772wTim0Q" name="update" method="_toPTQIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tA1VA4JREeGsv772wTim0Q" name="isOutsideZoneA" method="_toPTQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA1VBIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tA18EYJREeGsv772wTim0Q" name="hasPermission" method="_toPTQ4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA18EoJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tA18E4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tg7xYIJREeGsv772wTim0Q" name="NPCTown" method="_toOsMIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tg8YcYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tg8YcoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tg7xYYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg7xYoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg7xY4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg7xZIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tg8YcIJREeGsv772wTim0Q" name="steward">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg8Yc4JREeGsv772wTim0Q" type="_tAxqoIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tA4_YIJREeGsv772wTim0Q" name="OverAllBounty">
              <ownedAttribute xmi:id="_tkDW0IJREeGsv772wTim0Q" name="BH" visibility="private" type="_tg9mkIJREeGsv772wTim0Q" association="_tqYBQYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkD94IJREeGsv772wTim0Q" value="new HashMap&lt;String, BountyHandler>()"/>
                <qualifier xmi:id="_tkD94YJREeGsv772wTim0Q">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </qualifier>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkD94oJREeGsv772wTim0Q" name="BHL" visibility="private" type="_tg9mkIJREeGsv772wTim0Q" isOrdered="true" association="_tqYBRIJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tkEk8IJREeGsv772wTim0Q" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkEk8YJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqYoUYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkEk8oJREeGsv772wTim0Q" name="vault" visibility="private" type="_tbcNYYJREeGsv772wTim0Q" association="_tqYoVIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toPTRoJREeGsv772wTim0Q" name="addPlayer" specification="_tA5mcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toPTR4JREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Bounty[] temp = null; //TODO get from query&#xD;
		if (temp.length==0){&#xD;
			plugin.players.get(PlayerName).hasBounty=false;&#xD;
			return;&#xD;
		}&#xD;
		for (int i=0;i&lt;temp.length;i++){&#xD;
			Bounty b = temp[i];&#xD;
			this.BH.get(b.getCity()).addBounty(b);&#xD;
		}&#xD;
		plugin.players.get(PlayerName).hasBounty=true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toP6UIJREeGsv772wTim0Q" name="removePlayer" specification="_tA6NgYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toP6UYJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>BountyHandler[] temp = (BountyHandler[]) this.BHL.toArray();&#xD;
		for (int i=0;i&lt;temp.length;i++){&#xD;
			temp[i].removePlayer(PlayerName);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toP6UoJREeGsv772wTim0Q" name="getBH" specification="_tA60kYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toP6U4JREeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toP6VIJREeGsv772wTim0Q" type="_tg9mkIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.BH.get(city);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toP6VYJREeGsv772wTim0Q" name="updateallsigns" specification="_tA7boIJREeGsv772wTim0Q">
                <language>java</language>
                <body>for (int i=0;i&lt;BHL.size();i++){&#xD;
			if (BHL.get(i)!=null){&#xD;
				BHL.get(i).upadtesigns();&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toP6VoJREeGsv772wTim0Q" name="removeallBountys" specification="_tA7booJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toP6V4JREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toP6WIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>double temp = 0;&#xD;
		for (int i=0;i&lt;BHL.size();i++){&#xD;
			temp = temp + BHL.get(i).removeBounty(PlayerName).getAmount();&#xD;
		}&#xD;
		return temp;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tA5mcYJREeGsv772wTim0Q" name="addPlayer" method="_toPTRoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA5mcoJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tA6NgYJREeGsv772wTim0Q" name="removePlayer" method="_toP6UIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA6NgoJREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tA60kYJREeGsv772wTim0Q" name="getBH" method="_toP6UoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA60koJREeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tg-NoIJREeGsv772wTim0Q" type="_tg9mkIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tA7boIJREeGsv772wTim0Q" name="updateallsigns" method="_toP6VYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tA7booJREeGsv772wTim0Q" name="removeallBountys" method="_toP6VoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tA7bo4JREeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tA8CsIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tA-e8IJREeGsv772wTim0Q" name="Permits">
              <ownedAttribute xmi:id="_tkFMAIJREeGsv772wTim0Q" name="capitol">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkFzEIJREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tA_GAIJREeGsv772wTim0Q" name="PlayerTown" clientDependency="_tg_bwYJREeGsv772wTim0Q">
              <generalization xmi:id="_thFiY4JREeGsv772wTim0Q" general="_tg6jQIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkFzEoJREeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkGaIYJREeGsv772wTim0Q" name="treasuryBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkHBMIJREeGsv772wTim0Q" name="minimumBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkHBMoJREeGsv772wTim0Q" name="bankruptDate" type="_tZ-NwIJREeGsv772wTim0Q" association="_tqZPYYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkHoQIJREeGsv772wTim0Q" name="mayor">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkHoQoJREeGsv772wTim0Q" name="isDeleted">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkHoQ4JREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkIPUYJREeGsv772wTim0Q" name="residents" type="_tZXJwIJREeGsv772wTim0Q" association="_tqZPZIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkI2YoJREeGsv772wTim0Q" name="sanctumFloor" type="_thAp4IJREeGsv772wTim0Q" association="_tqZ2cYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkJdcIJREeGsv772wTim0Q" name="sanctumRoom" type="_thAp4IJREeGsv772wTim0Q" association="_tqZ2dIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkJdcoJREeGsv772wTim0Q" name="travelNode" type="_tZYX4IJREeGsv772wTim0Q" association="_tqadgYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toQhYIJREeGsv772wTim0Q" name="PlayerTown" specification="_thBQ8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toQhYYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toQhYoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toQhY4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toQhZIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toQhZYJREeGsv772wTim0Q" type="_tA_GAIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(plugin, id, name, world);&#xD;
		residents = new ArrayList&lt;String>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toQhZoJREeGsv772wTim0Q" name="compareTo" specification="_thDGIYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toQhZ4JREeGsv772wTim0Q" name="otherTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toQhaIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return otherTown.townLevel.level - this.townLevel.level;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toQhaYJREeGsv772wTim0Q" name="equals" specification="_thDtMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toQhaoJREeGsv772wTim0Q" name="otherTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toRIcIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return otherTown.id == this.id;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRIcYJREeGsv772wTim0Q" name="createRegions" specification="_tBA7MIJREeGsv772wTim0Q">
                <language>java</language>
                <body>region = new Region2D(world, centerPoint.getX() - (townLevel.size / 2), centerPoint.getZ() + (townLevel.size / 2),&#xD;
							  centerPoint.getX() + (townLevel.size / 2), centerPoint.getZ() - (townLevel.size / 2));&#xD;
		sanctumFloor = new Region3D(world, centerPoint.getX() - 10, centerPoint.getY() - 1, centerPoint.getZ() + 9,&#xD;
									centerPoint.getX() + 9, centerPoint.getY() - 3, centerPoint.getZ() - 10);&#xD;
		sanctumRoom = new Region3D(world, centerPoint.getX() - 10, centerPoint.getY() + 4, centerPoint.getZ() + 9,&#xD;
				centerPoint.getX() + 9, centerPoint.getY(), centerPoint.getZ() - 10);&#xD;
		travelNode = plugin.zones.getTravelNode(centerPoint);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRIcoJREeGsv772wTim0Q" name="build" specification="_tBA7MYJREeGsv772wTim0Q">
                <language>java</language>
                <body>createBorder();&#xD;
		buildSanctumFloor();&#xD;
		buildTravelNode();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRIc4JREeGsv772wTim0Q" name="isAtMaxLevel" specification="_tBBiQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toRIdIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if( id_Faction == 0 )&#xD;
			return townLevel.level >= plugin.config.Town_MAX_LEVEL_NEUTRAL;&#xD;
		else&#xD;
			return townLevel.level >= plugin.config.Town_MAX_LEVEL_FACTION;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRIdYJREeGsv772wTim0Q" name="isCapitol" specification="_tBBiQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toRIdoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return townLevel.isCapitol;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRId4JREeGsv772wTim0Q" name="isFull" specification="_tBCJUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toRvgIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>int numberOfResidents = plugin.database.townQueries.countResidents(name);&#xD;
		&#xD;
		return numberOfResidents >= townLevel.maxResidents;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRvgYJREeGsv772wTim0Q" name="getLevel" specification="_tBCJUoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toRvgoJREeGsv772wTim0Q" type="_thDtM4JREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return townLevel;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRvg4JREeGsv772wTim0Q" name="createBorder" specification="_tBCwYIJREeGsv772wTim0Q">
                <language>java</language>
                <body>int x, z;&#xD;
		&#xD;
		for (x = (int)region.nwCorner.getX() + 1; x &lt;= (int)region.seCorner.getX() - 1; x++) &#xD;
		{&#xD;
         // North Wall&#xD;
			z = (int)region.nwCorner.getZ();&#xD;
			placeOverlay(x, z);&#xD;
			&#xD;
			// South Wall&#xD;
			z = (int)region.seCorner.getZ();&#xD;
			placeOverlay(x, z);&#xD;
     }&#xD;
		&#xD;
		for (z = (int)region.nwCorner.getZ(); z >= (int)region.seCorner.getZ(); z--) &#xD;
     {&#xD;
			// West Wall&#xD;
			x = (int)region.nwCorner.getX();&#xD;
			placeOverlay(x, z);&#xD;
			&#xD;
			// East Wall&#xD;
			x = (int)region.seCorner.getX();&#xD;
			placeOverlay(x, z);&#xD;
     }&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRvhIJREeGsv772wTim0Q" name="placeOverlay" specification="_tBCwYYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toRvhYJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toRvhoJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>for (int y = 127; y >= 1; y--) &#xD;
     {&#xD;
         int upperType = world.getBlockTypeIdAt(x, y, z);&#xD;
         int lowerType = world.getBlockTypeIdAt(x, y-1, z);&#xD;
         &#xD;
         if( upperType == 0 &amp;&amp; lowerType != 0 )&#xD;
         {&#xD;
         	// Replace grass with cobble&#xD;
         	if( Material.getMaterial(lowerType) == Material.LONG_GRASS )&#xD;
         	{&#xD;
         		world.getBlockAt(x, y-1, z).setType(Material.COBBLESTONE);&#xD;
         	}&#xD;
         	// Don't place blocks on top of trees or torches&#xD;
         	else if( Material.getMaterial(lowerType) != Material.LEAVES &#xD;
         		&amp;&amp; Material.getMaterial(lowerType) != Material.TORCH)&#xD;
         	{&#xD;
         		world.getBlockAt(x, y, z).setType(Material.COBBLESTONE);&#xD;
         	}&#xD;
         	return;&#xD;
         }&#xD;
     }&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toRvh4JREeGsv772wTim0Q" name="getCodedName" specification="_tBDXcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toRviIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>char colorCode = plugin.factions.getColorCode(this.id_Faction);&#xD;
		return &quot;&lt;t&quot; + colorCode + &quot;>&quot; + this.name + &quot;&lt;/t&quot; + colorCode + &quot;>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toSWkIJREeGsv772wTim0Q" name="update" specification="_tBD-gIJREeGsv772wTim0Q">
                <language>java</language>
                <body>plugin.database.townQueries.update(this);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toSWkYJREeGsv772wTim0Q" name="removeResident" specification="_tBD-gYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toSWkoJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>plugin.database.townQueries.townLeave(playerName);&#xD;
		this.residents.remove(playerName);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toSWk4JREeGsv772wTim0Q" name="isInsideSanctumFloor" specification="_thEUQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toSWlIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toSWlYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.sanctumFloor.isInside(location);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toSWloJREeGsv772wTim0Q" name="isInsideSanctum" specification="_thE7UYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toSWl4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toSWmIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.sanctumRoom.isInside(location);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toSWmYJREeGsv772wTim0Q" name="processGoldBlock" specification="_thFiYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toSWmoJREeGsv772wTim0Q" name="rawEvent" type="_tbfQsIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toSWm4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// Block broken (withdrawl or theft)&#xD;
		if( rawEvent instanceof BlockBreakEvent )&#xD;
		{&#xD;
			BlockBreakEvent event = (BlockBreakEvent)rawEvent;&#xD;
			Player player = event.getPlayer();&#xD;
	    	PlayerData playerData = plugin.players.get(player.getName());&#xD;
	    	&#xD;
	    	// Town resident&#xD;
	    	if( playerData.townName.equals(this.name) )&#xD;
	    	{&#xD;
	    		// Make sure the player has enough blocks deposited&#xD;
	    		if( playerData.treasuryBlocks &lt; 1 )&#xD;
	    		{&#xD;
	    			plugin.message.send(player, &quot;You don't have any gold blocks deposited in the treasury.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		else&#xD;
	    		{&#xD;
	    			playerData.treasuryBlocks--;&#xD;
	    			playerData.update();&#xD;
	    			plugin.message.parse(player, &quot;You now have &quot; + playerData.treasuryBlocks + &quot; block&quot; + &#xD;
	    					(playerData.treasuryBlocks == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; deposited into the treasury.&quot;, ChatColor.GOLD);&#xD;
	    			return true;&#xD;
	    		}&#xD;
	    	}&#xD;
		}&#xD;
		else if( rawEvent instanceof BlockPlaceEvent )&#xD;
		{&#xD;
			BlockPlaceEvent event = (BlockPlaceEvent)rawEvent;&#xD;
			Player player = event.getPlayer();&#xD;
	    	PlayerData playerData = plugin.players.get(player.getName());&#xD;
	    	&#xD;
	    	// Town resident&#xD;
	    	if( playerData.townName.equals(this.name) )&#xD;
	    	{&#xD;
	    		// Neutral town are not allowed to have treasuries&#xD;
	    		if( this.id_Faction == 0 )&#xD;
	    		{&#xD;
	    			plugin.message.send(player, &quot;Neutral towns cannot use treasury blocks.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		if( this.townLevel.treasuryLevel == 0 )&#xD;
	    		{&#xD;
	    			plugin.message.send(player, this.townLevel.name + &quot;s are not allowed treasury blocks - upgrade your town to create income.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		&#xD;
	    		// See if the placement would exceed the town's treasury level&#xD;
	    		if( playerData.treasuryBlocks + 1 > this.townLevel.treasuryLevel )&#xD;
	    		{&#xD;
	    			plugin.message.parse(player, &quot;Your town only allows &quot; + this.townLevel.treasuryLevel + &quot; treasury block&quot; + &#xD;
	    					(this.townLevel.treasuryLevel == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; per resident.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		else&#xD;
	    		{&#xD;
	    			playerData.treasuryBlocks++;&#xD;
	    			playerData.update();&#xD;
	    			plugin.message.parse(player, &quot;You now have &quot; + playerData.treasuryBlocks + &quot; block&quot; + &#xD;
	    					(playerData.treasuryBlocks == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; deposited into the treasury.&quot;, ChatColor.GOLD);&#xD;
	    			return true;&#xD;
	    		}&#xD;
	    	}&#xD;
		}&#xD;
		// TODO Auto-generated method stub&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toS9oIJREeGsv772wTim0Q" name="countTreasuryBlocks" specification="_tBElkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toS9oYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>int total = 0;&#xD;
		&#xD;
		for( int x = (int)sanctumRoom.nwCorner.getX(); x &lt;= (int)sanctumRoom.seCorner.getX(); x++ )&#xD;
		{&#xD;
			for( int z = (int)sanctumRoom.nwCorner.getZ(); z >= (int)sanctumRoom.seCorner.getZ(); z-- )&#xD;
			{&#xD;
				for( int y = (int)sanctumRoom.nwCorner.getY(); y >= (int)sanctumRoom.seCorner.getY(); y-- )&#xD;
				{&#xD;
					if( world.getBlockAt(x, y, z).getType() == Material.GOLD_BLOCK )&#xD;
						total++;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		return total;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toS9ooJREeGsv772wTim0Q" name="removeTreasuryBlocks" specification="_tBFMoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toS9o4JREeGsv772wTim0Q" name="blocksToRemove">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// Give money to treasury (9 ingots in a block)&#xD;
		this.treasuryBalance += blocksToRemove * plugin.config.PRICE_GOLD * 9;&#xD;
		&#xD;
		// Clear the blocks&#xD;
		for( int x = (int)sanctumRoom.nwCorner.getX(); x &lt;= (int)sanctumRoom.seCorner.getX(); x++ )&#xD;
		{&#xD;
			for( int z = (int)sanctumRoom.nwCorner.getZ(); z >= (int)sanctumRoom.seCorner.getZ(); z-- )&#xD;
			{&#xD;
				for( int y = (int)sanctumRoom.nwCorner.getY(); y >= (int)sanctumRoom.seCorner.getY(); y-- )&#xD;
				{&#xD;
					if( world.getBlockAt(x, y, z).getType() == Material.GOLD_BLOCK )&#xD;
					{&#xD;
						world.getBlockAt(x, y, z).setType(Material.AIR);&#xD;
						blocksToRemove--;&#xD;
						if( blocksToRemove &lt;= 0 )&#xD;
							return;&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toS9pIJREeGsv772wTim0Q" name="buildSanctumFloor" specification="_tBFMooJREeGsv772wTim0Q">
                <language>java</language>
                <body>Build.sanctumFloor(plugin, this.world, (int)this.centerPoint.getX() - 10, (int)this.centerPoint.getY() - 1, (int)this.centerPoint.getZ() - 10, &#xD;
				this.townLevel.level, this.id_Faction);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toS9pYJREeGsv772wTim0Q" name="buildTravelNode" specification="_tBFzsIJREeGsv772wTim0Q">
                <language>java</language>
                <body>Build.travelNode(this.travelNode, this.townLevel.size, this.id_Faction);&#xD;
	</body>
              </ownedBehavior>
              <interfaceRealization xmi:id="_tg_bwYJREeGsv772wTim0Q" supplier="_tg-0sIJREeGsv772wTim0Q" client="_tA_GAIJREeGsv772wTim0Q" contract="_tg-0sIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tBA7MIJREeGsv772wTim0Q" name="createRegions" method="_toRIcYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tBA7MYJREeGsv772wTim0Q" name="build" method="_toRIcoJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tBBiQIJREeGsv772wTim0Q" name="isAtMaxLevel" method="_toRIc4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBBiQYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBBiQoJREeGsv772wTim0Q" name="isCapitol" method="_toRIdYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBBiQ4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBCJUIJREeGsv772wTim0Q" name="isFull" method="_toRId4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBCJUYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBCJUoJREeGsv772wTim0Q" name="getLevel" method="_toRvgYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thEUQYJREeGsv772wTim0Q" type="_thDtM4JREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tBCwYIJREeGsv772wTim0Q" name="createBorder" visibility="private" method="_toRvg4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tBCwYYJREeGsv772wTim0Q" name="placeOverlay" visibility="private" method="_toRvhIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBCwYoJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tBDXcIJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBDXcYJREeGsv772wTim0Q" name="getCodedName" method="_toRvh4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBDXcoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBD-gIJREeGsv772wTim0Q" name="update" method="_toSWkIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tBD-gYJREeGsv772wTim0Q" name="removeResident" method="_toSWkYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBD-goJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBElkIJREeGsv772wTim0Q" name="countTreasuryBlocks" method="_toS9oIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBElkYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBFMoIJREeGsv772wTim0Q" name="removeTreasuryBlocks" method="_toS9ooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBFMoYJREeGsv772wTim0Q" name="blocksToRemove">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBFMooJREeGsv772wTim0Q" name="buildSanctumFloor" visibility="private" method="_toS9pIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tBFzsIJREeGsv772wTim0Q" name="buildTravelNode" visibility="private" method="_toS9pYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_thBQ8YJREeGsv772wTim0Q" name="PlayerTown" method="_toQhYIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thB4BIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thB4BYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thB4AIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thB4AYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thB4AoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thB4A4JREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thB4BoJREeGsv772wTim0Q" type="_tA_GAIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thDGIYJREeGsv772wTim0Q" name="compareTo" method="_toQhZoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thDGIoJREeGsv772wTim0Q" name="otherTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thDGI4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thDtMIJREeGsv772wTim0Q" name="equals" method="_toQhaYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thDtMYJREeGsv772wTim0Q" name="otherTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thDtMoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thEUQoJREeGsv772wTim0Q" name="isInsideSanctumFloor" method="_toSWk4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thEUQ4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thE7UIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thE7UYJREeGsv772wTim0Q" name="isInsideSanctum" method="_toSWloJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thE7UoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thE7U4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thFiYIJREeGsv772wTim0Q" name="processGoldBlock" method="_toSWmYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thFiYYJREeGsv772wTim0Q" name="rawEvent" type="_tbfQsIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thFiYoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tBKsMIJREeGsv772wTim0Q" name="Players">
              <ownedAttribute xmi:id="_tkLSoIJREeGsv772wTim0Q" name="players" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqadhIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkL5soJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqbEkYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toTksIJREeGsv772wTim0Q" name="Players" specification="_tbkJMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toTksYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toTksoJREeGsv772wTim0Q" type="_tBKsMIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		players = new HashMap&lt;String, PlayerData>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toTks4JREeGsv772wTim0Q" name="playerLogin" specification="_tBL6UIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toTktIJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toTktYJREeGsv772wTim0Q" type="_tg2R0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.database.playerQueries.playerLogin(playerName);&#xD;
 	&#xD;
 	if(playerData == null) &#xD;
 	{&#xD;
 		// No contact with DB&#xD;
 		playerData = generateDefaultPlayer(playerName);&#xD;
 		&#xD;
 	} &#xD;
 	else &#xD;
 	{&#xD;
 		playerData.persistentInDatabase = true;&#xD;
 	}&#xD;
 	&#xD;
 	players.put(playerName.toLowerCase(), playerData);&#xD;
 	&#xD;
 	return playerData;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toTktoJREeGsv772wTim0Q" name="generateDefaultPlayer" specification="_tBMhYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toTkt4JREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toTkuIJREeGsv772wTim0Q" type="_tg2R0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = new PlayerData(plugin);&#xD;
 	playerData.name = playerName;&#xD;
 	playerData.id_Player = -1;&#xD;
 	playerData.id_Faction = -1;&#xD;
 	playerData.isMember = false;&#xD;
 	playerData.memberExpiration = new Date();&#xD;
 	playerData.bounty = 0;&#xD;
 	playerData.extraBounty = 0;&#xD;
 	playerData.persistentInDatabase = false;&#xD;
 	playerData.townName = &quot;&quot;;&#xD;
 	&#xD;
 	return playerData;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toTkuYJREeGsv772wTim0Q" name="get" specification="_tBNIcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toTkuoJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toTku4JREeGsv772wTim0Q" type="_tg2R0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( players.containsKey(playerName.toLowerCase()) )&#xD;
 		return players.get(playerName.toLowerCase());&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;DB fetch called for player: &quot; + playerName);&#xD;
 		PlayerData playerData = plugin.database.playerQueries.playerFetch(playerName);&#xD;
 		if( playerData != null )&#xD;
 			players.put(playerName.toLowerCase(), playerData);&#xD;
 		&#xD;
 		return playerData;    		&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toTkvIJREeGsv772wTim0Q" name="size" specification="_tBNIcoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toTkvYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return players.size();&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tBL6UIJREeGsv772wTim0Q" name="playerLogin" method="_toTks4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBL6UYJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thGwgIJREeGsv772wTim0Q" type="_tg2R0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tBMhYIJREeGsv772wTim0Q" name="generateDefaultPlayer" visibility="private" method="_toTktoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBMhYYJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thHXkIJREeGsv772wTim0Q" type="_tg2R0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tBNIcIJREeGsv772wTim0Q" name="get" method="_toTkuYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBNIcYJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thHXkYJREeGsv772wTim0Q" type="_tg2R0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tBNIcoJREeGsv772wTim0Q" name="size" method="_toTkvIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBNvgIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tbkJMIJREeGsv772wTim0Q" name="Players" method="_toTksIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tbkJMoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tbkJM4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tbkJMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tbkJNIJREeGsv772wTim0Q" type="_tBKsMIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tBO9oIJREeGsv772wTim0Q" name="Region">
              <ownedAttribute xmi:id="_tkMgwIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q" association="_tqbElIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tBQLwIJREeGsv772wTim0Q" name="Region2D">
              <generalization xmi:id="_thNeM4JREeGsv772wTim0Q" general="_thH-oIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkNH0YJREeGsv772wTim0Q" name="nwCorner" type="_tgdQQYJREeGsv772wTim0Q" association="_tqbroYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkNH04JREeGsv772wTim0Q" name="seCorner" type="_tgdQQYJREeGsv772wTim0Q" association="_tqbrpIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toULwIJREeGsv772wTim0Q" name="Region2D" specification="_thJMwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toULwYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toULwoJREeGsv772wTim0Q" name="_nwCorner" type="_tgdQQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toULw4JREeGsv772wTim0Q" name="_seCorner" type="_tgdQQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toULxIJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = _nwCorner;&#xD;
		seCorner = _seCorner;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toULxYJREeGsv772wTim0Q" name="Region2D" specification="_thJz0oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toULxoJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toULx4JREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toULyIJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toULyYJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toULyoJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toULy4JREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location2D((double)x1, (double)z1);&#xD;
		seCorner = new Location2D((double)x2, (double)z2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toULzIJREeGsv772wTim0Q" name="Region2D" specification="_thLB8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toULzYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toULzoJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toULz4JREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toUL0IJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toUL0YJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toUL0oJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location2D(x1, z1);&#xD;
		seCorner = new Location2D(x2, z2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toUy0IJREeGsv772wTim0Q" name="Region2D" specification="_thLpAoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toUy0YJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toUy0oJREeGsv772wTim0Q" name="l1" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toUy04JREeGsv772wTim0Q" name="l2" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toUy1IJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location2D(l1);&#xD;
		seCorner = new Location2D(l2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toUy1YJREeGsv772wTim0Q" name="Region2D" specification="_thM3IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toUy1oJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toUy14JREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toUy2IJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			nwCorner = new Location2D(Double.parseDouble(split[0]), Double.parseDouble(split[1]));&#xD;
			seCorner = new Location2D(Double.parseDouble(split[2]), Double.parseDouble(split[3]));&#xD;
			this.world = world;&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;ERROR: Invalid coordinate string passed to Region2D constructor&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toUy2YJREeGsv772wTim0Q" name="isInside" specification="_thNeMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toUy2oJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toUy24JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (loc.getWorld() == this.world) &amp;&amp; (Util.isBetween(loc.getX(), nwCorner.getX(), seCorner.getX()) &amp;&amp;&#xD;
				(Util.isBetween(loc.getZ(), nwCorner.getZ(), seCorner.getZ())));   &#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_thJMwIJREeGsv772wTim0Q" name="Region2D" method="_toULwIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thJMxIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thJz0IJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thJMwYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thJMwoJREeGsv772wTim0Q" name="_nwCorner" type="_tgdQQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thJMw4JREeGsv772wTim0Q" name="_seCorner" type="_tgdQQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thJz0YJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thJz0oJREeGsv772wTim0Q" name="Region2D" method="_toULxYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thKa4oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thKa44JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thJz04JREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thJz1IJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thJz1YJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thKa4IJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thKa4YJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thKa5IJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thLB8IJREeGsv772wTim0Q" name="Region2D" method="_toULzIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thLB9oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thLpAIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thLB8YJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thLB8oJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thLB84JREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thLB9IJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thLB9YJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thLpAYJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thLpAoJREeGsv772wTim0Q" name="Region2D" method="_toUy0IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thMQEoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thMQE4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thLpA4JREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thMQEIJREeGsv772wTim0Q" name="l1" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thMQEYJREeGsv772wTim0Q" name="l2" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thMQFIJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thM3IIJREeGsv772wTim0Q" name="Region2D" method="_toUy1YJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thM3I4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thM3JIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thM3IYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thM3IoJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thM3JYJREeGsv772wTim0Q" type="_tBQLwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thNeMIJREeGsv772wTim0Q" name="isInside" method="_toUy2YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thNeMYJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thNeMoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tBnYIIJREeGsv772wTim0Q" name="Region3D">
              <generalization xmi:id="_thQhgYJREeGsv772wTim0Q" general="_thH-oIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkOV8IJREeGsv772wTim0Q" name="nwCorner" type="_tZYX4IJREeGsv772wTim0Q" association="_tqcSsYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkO9AYJREeGsv772wTim0Q" name="seCorner" type="_tZYX4IJREeGsv772wTim0Q" association="_tqcStIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toVZ4IJREeGsv772wTim0Q" name="Region3D" specification="_thOFQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toVZ4YJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toVZ4oJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ44JREeGsv772wTim0Q" type="_tBnYIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			nwCorner = new Location(world, Double.parseDouble(split[0]), Double.parseDouble(split[1]), Double.parseDouble(split[2]));&#xD;
			seCorner = new Location(world, Double.parseDouble(split[3]), Double.parseDouble(split[4]), Double.parseDouble(split[5]));&#xD;
			this.world = world;&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;ERROR: Invalid coordinate string passed to Region3D constructor&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toVZ5IJREeGsv772wTim0Q" name="Region3D" specification="_thOsVIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toVZ5YJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toVZ5oJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ54JREeGsv772wTim0Q" name="y1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ6IJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ6YJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ6oJREeGsv772wTim0Q" name="y2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ64JREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toVZ7IJREeGsv772wTim0Q" type="_tBnYIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location(world, x1, y1, z1);&#xD;
		seCorner = new Location(world, x2, y2, z2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toVZ7YJREeGsv772wTim0Q" name="isInside" specification="_thP6c4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toVZ7oJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toVZ74JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (loc.getWorld() == this.world) &amp;&amp; &#xD;
				(Util.isBetween(loc.getX(), nwCorner.getX(), seCorner.getX()) &amp;&amp;&#xD;
				Util.isBetween(loc.getY(), nwCorner.getY(), seCorner.getY()) &amp;&amp;&#xD;
				Util.isBetween(loc.getZ(), nwCorner.getZ(), seCorner.getZ()));&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_thOFQIJREeGsv772wTim0Q" name="Region3D" method="_toVZ4IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thOsUYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thOsUoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thOFQYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thOsUIJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thOsU4JREeGsv772wTim0Q" type="_tBnYIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thOsVIJREeGsv772wTim0Q" name="Region3D" method="_toVZ5IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thP6cIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thP6cYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thPTYIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thPTYYJREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thPTYoJREeGsv772wTim0Q" name="y1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thPTY4JREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thPTZIJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thPTZYJREeGsv772wTim0Q" name="y2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thPTZoJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thP6coJREeGsv772wTim0Q" type="_tBnYIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thP6c4JREeGsv772wTim0Q" name="isInside" method="_toVZ7YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thP6dIJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thQhgIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tBrCgIJREeGsv772wTim0Q" name="Town" isAbstract="true">
              <ownedAttribute xmi:id="_tkPkEIJREeGsv772wTim0Q" name="id" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkQLIIJREeGsv772wTim0Q" name="name" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkQLIoJREeGsv772wTim0Q" name="region" visibility="protected" type="_tgg6oIJREeGsv772wTim0Q" association="_tqc5wYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkQyMIJREeGsv772wTim0Q" name="world" visibility="protected" type="_tZZmAIJREeGsv772wTim0Q" association="_tqc5xIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkQyMoJREeGsv772wTim0Q" name="quadrant" visibility="protected" type="_tbIEUIJREeGsv772wTim0Q" association="_tqdg0YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkRZQIJREeGsv772wTim0Q" name="centerPoint" type="_tZYX4IJREeGsv772wTim0Q" association="_tqdg1IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkRZQoJREeGsv772wTim0Q" name="townLevel" type="_thDtM4JREeGsv772wTim0Q" association="_tqeH4YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkRZRIJREeGsv772wTim0Q" name="npcLocations" visibility="protected" type="_tZXJwIJREeGsv772wTim0Q" association="_tqeH5IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkSAUoJREeGsv772wTim0Q" name="plugin" visibility="protected" type="_s5og0IJREeGsv772wTim0Q" association="_tqeu8YJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWA8IJREeGsv772wTim0Q" name="Town" specification="_thRvoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWA8YJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toWA8oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toWA84JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toWA9IJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toWA9YJREeGsv772wTim0Q" type="_tBrCgIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.id = id;&#xD;
		this.name = name;&#xD;
		this.world = world;&#xD;
		this.npcLocations = new ArrayList&lt;NPCLocation>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWA9oJREeGsv772wTim0Q" name="getCenter" specification="_tBs3soJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWA94JREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new Location(world, centerPoint.getX(), 65, centerPoint.getZ());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWA-IJREeGsv772wTim0Q" name="getID" specification="_tBtewIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWA-YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWoAIJREeGsv772wTim0Q" name="getName" specification="_tBtewoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWoAYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWoAoJREeGsv772wTim0Q" name="isInside" specification="_thS9wIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWoA4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toWoBIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return region.isInside(location);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWoBYJREeGsv772wTim0Q" name="getQuadrant" specification="_tBuF0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWoBoJREeGsv772wTim0Q" type="_tbIEUIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( this.quadrant == null )&#xD;
			this.quadrant = plugin.zones.getQuadrant(this.centerPoint);&#xD;
		&#xD;
		return this.quadrant;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toWoB4JREeGsv772wTim0Q" name="addNPCLocation" specification="_thTk0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toWoCIJREeGsv772wTim0Q" name="npcLocation" type="_tglMEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.npcLocations.add(npcLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toXPEIJREeGsv772wTim0Q" name="getNPCLocations" specification="_tBus4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toXPEYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocations;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tBsQoIJREeGsv772wTim0Q" name="getCodedName" isAbstract="true">
                <ownedParameter xmi:id="_tBs3sIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBs3sYJREeGsv772wTim0Q" name="update" isAbstract="true"/>
              <ownedOperation xmi:id="_tBs3soJREeGsv772wTim0Q" name="getCenter" method="_toWA9oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thSWs4JREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tBtewIJREeGsv772wTim0Q" name="getID" method="_toWA-IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBtewYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBtewoJREeGsv772wTim0Q" name="getName" method="_toWoAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tBtew4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tBuF0IJREeGsv772wTim0Q" name="getQuadrant" method="_toWoBYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thS9w4JREeGsv772wTim0Q" type="_tbIEUIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tBus4IJREeGsv772wTim0Q" name="getNPCLocations" method="_toXPEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thTk0oJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thRvoIJREeGsv772wTim0Q" name="Town" method="_toWA8IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thSWsIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thSWsYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thRvoYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thRvooJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thRvo4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thRvpIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thSWsoJREeGsv772wTim0Q" type="_tBrCgIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thS9wIJREeGsv772wTim0Q" name="isInside" method="_toWoAoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thS9wYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thS9woJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thTk0IJREeGsv772wTim0Q" name="addNPCLocation" method="_toWoB4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thTk0YJREeGsv772wTim0Q" name="npcLocation" type="_tglMEIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tBzlYIJREeGsv772wTim0Q" name="TownLevel">
              <ownedAttribute xmi:id="_tkTOcIJREeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkT1gIJREeGsv772wTim0Q" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkT1goJREeGsv772wTim0Q" name="size">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkUckIJREeGsv772wTim0Q" name="initialCost">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkUckoJREeGsv772wTim0Q" name="upkeepCost">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkVDoIJREeGsv772wTim0Q" name="minimumBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkVDooJREeGsv772wTim0Q" name="maxResidents">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkVqsIJREeGsv772wTim0Q" name="maxNPCs">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkVqsoJREeGsv772wTim0Q" name="isCapitol">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkVqs4JREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkWRwIJREeGsv772wTim0Q" name="treasuryLevel">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkWRwoJREeGsv772wTim0Q" name="sanctumFloor" type="_tZXJwIJREeGsv772wTim0Q" association="_tqeu9IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tB2osIJREeGsv772wTim0Q" name="Towns">
              <ownedAttribute xmi:id="_tkXf4IJREeGsv772wTim0Q" name="playerTowns" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqfWAYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkYG8YJREeGsv772wTim0Q" name="npcTowns" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqfWBIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkYuAYJREeGsv772wTim0Q" name="outsideNPCTowns" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_tqf9EYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkZVEYJREeGsv772wTim0Q" name="playerTownIDs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqf9FIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkZ8IYJREeGsv772wTim0Q" name="npcTownIDs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqgkIYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkajMYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqgkJIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toXPEoJREeGsv772wTim0Q" name="Towns" specification="_tbuhQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toXPE4JREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toXPFIJREeGsv772wTim0Q" type="_tB2osIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		playerTowns = new HashMap&lt;String, PlayerTown>();&#xD;
		npcTowns = new HashMap&lt;String, NPCTown>();&#xD;
		outsideNPCTowns = new HashSet&lt;NPCTown>();&#xD;
		playerTownIDs = new HashMap&lt;Integer, String>();&#xD;
		npcTownIDs = new HashMap&lt;Integer, String>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toXPFYJREeGsv772wTim0Q" name="loadTowns" specification="_tB5E8IJREeGsv772wTim0Q">
                <language>java</language>
                <body>playerTowns = plugin.database.townQueries.loadPlayerTowns();	&#xD;
		npcTowns = plugin.database.npcTownQueries.loadAll();&#xD;
		&#xD;
		// Populate the ID-name hashes (reverse these?)&#xD;
		for( PlayerTown town : playerTowns.values() )&#xD;
			playerTownIDs.put(town.getID(), town.getName().toLowerCase());&#xD;
		for( NPCTown town : npcTowns.values() )&#xD;
		{&#xD;
			npcTownIDs.put(town.getID(), town.getName().toLowerCase());&#xD;
			if( town.isOutsideZoneA() )&#xD;
				outsideNPCTowns.add(town);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toXPFoJREeGsv772wTim0Q" name="add" specification="_thVaAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toXPF4JREeGsv772wTim0Q" name="town" type="_tg6jQIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if( town instanceof PlayerTown )&#xD;
			playerTowns.put(town.name.toLowerCase(), (PlayerTown)town);&#xD;
		else if( town instanceof NPCTown )&#xD;
			npcTowns.put(town.name.toLowerCase(), (NPCTown)town);&#xD;
		else&#xD;
			System.out.println(&quot;ERROR: Invalid town type in Towns.add()&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toX2IIJREeGsv772wTim0Q" name="get" specification="_tB5E8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toX2IYJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toX2IoJREeGsv772wTim0Q" type="_tg6jQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( playerTowns.containsKey(townName.toLowerCase()) )&#xD;
 		return playerTowns.get(townName.toLowerCase());&#xD;
 	else if( npcTowns.containsKey(townName.toLowerCase()) )&#xD;
 		return npcTowns.get(townName.toLowerCase());&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Warning: Towns.Get called on non-existent town '&quot; + townName + &quot;'&quot;);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toX2I4JREeGsv772wTim0Q" name="getAll" specification="_tB5sAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toX2JIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;Town> allTowns = new ArrayList&lt;Town>(playerTowns.values());&#xD;
 		allTowns.addAll(npcTowns.values());&#xD;
 	return allTowns;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toX2JYJREeGsv772wTim0Q" name="getAllPlayerTowns" specification="_tB66IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toX2JoJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;PlayerTown>(playerTowns.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toX2J4JREeGsv772wTim0Q" name="getAllNPCTowns" specification="_tB8IQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toX2KIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;NPCTown>(npcTowns.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toYdMIJREeGsv772wTim0Q" name="checkForNearbyTowns" specification="_thWoIYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toYdMYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toYdMoJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashMap&lt;String, Integer> townList = new HashMap&lt;String, Integer>();&#xD;
 		double distance;&#xD;
 		Location2D location2D = new Location2D(location);&#xD;
 		ArrayList&lt;Town> allTowns = new ArrayList&lt;Town>(playerTowns.values());&#xD;
 		allTowns.addAll(npcTowns.values());&#xD;
 		&#xD;
 		for( Town town : allTowns )&#xD;
 		{&#xD;
 			distance = location2D.distance(town.centerPoint);&#xD;
 			if( distance &lt; plugin.config.Town_MIN_DISTANCE_BETWEEN )&#xD;
 				townList.put(town.name, (int)distance);&#xD;
 		}&#xD;
 		&#xD;
 		return townList;&#xD;
 	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toYdM4JREeGsv772wTim0Q" name="doesFactionCapitolExist" specification="_tB9WYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toYdNIJREeGsv772wTim0Q" name="faction">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toYdNYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for( PlayerTown town : playerTowns.values () )&#xD;
 	{&#xD;
 		if( town.id_Faction == faction &amp;&amp; town.isCapitol() )&#xD;
 			return true;&#xD;
 	}&#xD;
 	&#xD;
 	return false;	// No faction capitols found&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toYdNoJREeGsv772wTim0Q" name="areEnemyCapitolsTooClose" specification="_thX2QIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toYdN4JREeGsv772wTim0Q" name="playerTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toYdOIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Location2D location2D = new Location2D(playerTown.centerPoint);&#xD;
 	&#xD;
 	for( PlayerTown town : playerTowns.values () )&#xD;
 	{&#xD;
 		if( town.isCapitol() &amp;&amp; location2D.distance(town.centerPoint) &lt; plugin.config.Town_MIN_DISTANCE_ENEMY_CAPITOL )&#xD;
 		{&#xD;
 			return true;&#xD;
 		}&#xD;
 	}&#xD;
 	&#xD;
 	return false;	// No too-close capitols found&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toYdOYJREeGsv772wTim0Q" name="getCurrentTown" specification="_thX2Q4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toYdOoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toYdO4JREeGsv772wTim0Q" type="_tg6jQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// Zone A - NPC towns&#xD;
 	if( plugin.zones.isInZoneA(location) )&#xD;
 	{&#xD;
     	for( NPCTown town : npcTowns.values() )&#xD;
     	{&#xD;
     		if( town.isInside(location) )&#xD;
     			return town;&#xD;
     	}&#xD;
 	}&#xD;
 	// Zone B - Player towns&#xD;
 	else if( plugin.zones.isInZoneB(location) )&#xD;
 	{&#xD;
     	for( PlayerTown town : playerTowns.values() )&#xD;
     	{&#xD;
     		if( town.isInside(location) )&#xD;
     			return town;&#xD;
     	}&#xD;
     	for( NPCTown town : outsideNPCTowns )&#xD;
     	{&#xD;
     		if( town.isInside(location) )&#xD;
     			return town;&#xD;
     	}&#xD;
 	}&#xD;
	&#xD;
		// Location not inside any town; return null&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZEQIJREeGsv772wTim0Q" name="remove" specification="_thYdUYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZEQYJREeGsv772wTim0Q" name="playerTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>playerTowns.remove(playerTown);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZEQoJREeGsv772wTim0Q" name="getNPCTown" specification="_tB99cIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZEQ4JREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZERIJREeGsv772wTim0Q" type="_tgwyQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( npcTownIDs.containsKey(id_NPCTown) )&#xD;
			return npcTowns.get(npcTownIDs.get(id_NPCTown));&#xD;
		else&#xD;
			return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tB5E8IJREeGsv772wTim0Q" name="loadTowns" method="_toXPFYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tB5E8YJREeGsv772wTim0Q" name="get" method="_toX2IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tB5E8oJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thWBEIJREeGsv772wTim0Q" type="_tg6jQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tB5sAIJREeGsv772wTim0Q" name="getAll" method="_toX2I4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thWBEYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tB66IIJREeGsv772wTim0Q" name="getAllPlayerTowns" method="_toX2JYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thWBEoJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tB8IQIJREeGsv772wTim0Q" name="getAllNPCTowns" method="_toX2J4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thWoIIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tB9WYIJREeGsv772wTim0Q" name="doesFactionCapitolExist" method="_toYdM4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tB9WYYJREeGsv772wTim0Q" name="faction">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tB9WYoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tB99cIJREeGsv772wTim0Q" name="getNPCTown" method="_toZEQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tB99cYJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thZEYIJREeGsv772wTim0Q" type="_tgwyQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tbuhQIJREeGsv772wTim0Q" name="Towns" method="_toXPEoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tbvIUIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tbvIUYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tbuhQYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tbvIUoJREeGsv772wTim0Q" type="_tB2osIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thVaAIJREeGsv772wTim0Q" name="add" method="_toXPFoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thVaAYJREeGsv772wTim0Q" name="town" type="_tg6jQIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thWoIYJREeGsv772wTim0Q" name="checkForNearbyTowns" method="_toYdMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thWoIoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thXPMYJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thX2QIJREeGsv772wTim0Q" name="areEnemyCapitolsTooClose" method="_toYdNoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thX2QYJREeGsv772wTim0Q" name="playerTown" type="_thCfEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thX2QoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thX2Q4JREeGsv772wTim0Q" name="getCurrentTown" method="_toYdOYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thX2RIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thYdUIJREeGsv772wTim0Q" type="_tg6jQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thYdUYJREeGsv772wTim0Q" name="remove" method="_toZEQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thYdUoJREeGsv772wTim0Q" name="playerTown" type="_thCfEIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZiI4YJREeGsv772wTim0Q" name="PlayerData">
              <ownedAttribute xmi:id="_v2140IJREeGsv772wTim0Q" name="id_Player">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v2140oJREeGsv772wTim0Q" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v2141IJREeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v22f4YJREeGsv772wTim0Q" name="isMember">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v22f4oJREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v22f5IJREeGsv772wTim0Q" name="memberExpiration" type="_tZ-00YJREeGsv772wTim0Q" association="_v4Xi1IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v23G8IJREeGsv772wTim0Q" name="bounty">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v23G8oJREeGsv772wTim0Q" name="extraBounty">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v23G9IJREeGsv772wTim0Q" name="persistentInDatabase">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v23uAYJREeGsv772wTim0Q" name="home_Location" visibility="private" type="_tZYX4IJREeGsv772wTim0Q" association="_v4YJ4YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v23uA4JREeGsv772wTim0Q" name="home_LastUsed" type="_tZ-NwIJREeGsv772wTim0Q" association="_v4YJ5IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v23uBYJREeGsv772wTim0Q" name="hasBounty">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v24VEYJREeGsv772wTim0Q" name="spawn_Location" visibility="private" type="_tZYX4IJREeGsv772wTim0Q" association="_v4Yw8IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v24VE4JREeGsv772wTim0Q" name="spawn_LastUsed" type="_tZ-NwIJREeGsv772wTim0Q" association="_v4Yw84JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v248IIJREeGsv772wTim0Q" name="townName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v248IYJREeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v248I4JREeGsv772wTim0Q" name="isMayor">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v248JIJREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v248JoJREeGsv772wTim0Q" name="treasuryBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v25jMIJREeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v25jMoJREeGsv772wTim0Q" name="treasuryBlocks">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v25jNIJREeGsv772wTim0Q" name="npcTownName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v25jNYJREeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v26KQYJREeGsv772wTim0Q" name="isSteward">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v26KQoJREeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v26KRIJREeGsv772wTim0Q" name="lots" type="_tZXJwIJREeGsv772wTim0Q" association="_v4Yw9oJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v26xUIJREeGsv772wTim0Q" value="new ArrayList&lt;Lot>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v26xUoJREeGsv772wTim0Q" name="lotPermissions" type="_tZXJwIJREeGsv772wTim0Q" association="_v4ZYAYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v26xVIJREeGsv772wTim0Q" value="new ArrayList&lt;String>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v27YYYJREeGsv772wTim0Q" name="logonMessageQueue">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v27YYoJREeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v27YZIJREeGsv772wTim0Q" name="permits" type="_v1yI4IJREeGsv772wTim0Q" association="_v4ZYBIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v27YZYJREeGsv772wTim0Q" value="new Permits()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v27_cIJREeGsv772wTim0Q" name="languageSkill" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_v4Z_EYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v27_c4JREeGsv772wTim0Q" name="npcInteractions" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_v4Z_FIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v28mgoJREeGsv772wTim0Q" name="newNPCInteractions" visibility="private" type="_tbM80IJREeGsv772wTim0Q" association="_v4amIYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v29NkYJREeGsv772wTim0Q" name="npcAffinities" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_v4amJIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v290oIJREeGsv772wTim0Q" name="currentZone" type="_tbIrYYJREeGsv772wTim0Q" association="_v4bNMYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v290ooJREeGsv772wTim0Q" name="currentTown" type="_tg6jQIJREeGsv772wTim0Q" association="_v4bNNIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v290pIJREeGsv772wTim0Q" name="isInCapitol">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v2-bsIJREeGsv772wTim0Q" name="enterLeaveMessageTime" type="_tZ-NwIJREeGsv772wTim0Q" association="_v4b0QIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2-bsYJREeGsv772wTim0Q" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v2-bs4JREeGsv772wTim0Q" name="activeQuestData" type="_vuU2AIJREeGsv772wTim0Q" association="_v4b0Q4JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2-btIJREeGsv772wTim0Q" value="new PlayerQuestData()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v2-btoJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4cbUIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v2_CwYJREeGsv772wTim0Q" name="player" visibility="private" type="_tZlMMYJREeGsv772wTim0Q" association="_v4cbU4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3aglYJREeGsv772wTim0Q" name="PlayerData" specification="_vychAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3agloJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3agl4JREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.languageSkill = new HashMap&lt;Integer, Integer>();&#xD;
		this.npcInteractions = new HashSet&lt;Integer>();&#xD;
		this.newNPCInteractions = new HashSet&lt;Integer>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3agmIJREeGsv772wTim0Q" name="attachPlayer" specification="_vychBYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3agmYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.player = player;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3bHoIJREeGsv772wTim0Q" name="setSpawn" specification="_vydIEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3bHoYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>spawn_Location = location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3bHooJREeGsv772wTim0Q" name="getSpawn" specification="_vr3X4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3bHo4JREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return spawn_Location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3bHpIJREeGsv772wTim0Q" name="setHome" specification="_vydIE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3bHpYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>home_Location = location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3bHpoJREeGsv772wTim0Q" name="getHome" specification="_vr3-8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3bHp4JREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return home_Location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3bHqIJREeGsv772wTim0Q" name="clearSpawn" specification="_vr4mAIJREeGsv772wTim0Q">
                <language>java</language>
                <body>spawn_Location = null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3busIJREeGsv772wTim0Q" name="clearHome" specification="_vr4mAYJREeGsv772wTim0Q">
                <language>java</language>
                <body>home_Location = null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3busYJREeGsv772wTim0Q" name="isInsideOwnLot" specification="_vydvIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3busoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3bus4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(!location.getWorld().getName().equalsIgnoreCase(&quot;world&quot;))&#xD;
			return false;&#xD;
		&#xD;
		for( Lot lot : this.lots )&#xD;
		{&#xD;
			if( lot.isInside(location) )&#xD;
			{&#xD;
				return true;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// The location was not in any of the player's lots&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3butIJREeGsv772wTim0Q" name="isOnKillQuest" specification="_vr5NEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3butYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(this.activeQuestData.isPlayerOnQuest() &amp;&amp; activeQuestData.getQuest() instanceof KillCreatureQuest)&#xD;
		{&#xD;
			return true;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			return false;&#xD;
		}&#xD;
			&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3butoJREeGsv772wTim0Q" name="getCodedName" specification="_vr50IYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3but4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>char colorCode;&#xD;
		&#xD;
		if( id_Faction != 0 )&#xD;
			colorCode = plugin.factions.getColorCode(this.id_Faction);&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Owner&quot;) )&#xD;
			colorCode = 'o';&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Admin&quot;) )&#xD;
			colorCode = 'a';&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Moderator&quot;) )&#xD;
			colorCode = 'm';&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Citizen&quot;) )&#xD;
			colorCode = 'c';&#xD;
		else&#xD;
			colorCode = 't';	// tourist&#xD;
			&#xD;
		return &quot;&lt;p&quot; + colorCode + &quot;>&quot; + this.name + &quot;&lt;/p&quot; + colorCode + &quot;>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3buuIJREeGsv772wTim0Q" name="update" specification="_vr6bMIJREeGsv772wTim0Q">
                <language>java</language>
                <body>plugin.database.playerQueries.updatePlayer(this);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3buuYJREeGsv772wTim0Q" name="getLanguageSkill" specification="_vr7CQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3buuoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3buu4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.languageSkill.get(id);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVwIJREeGsv772wTim0Q" name="setLanguageSkill" specification="_vr7pUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVwYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3cVwoJREeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.languageSkill.put(id, value);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVw4JREeGsv772wTim0Q" name="recordNPCInteraction" specification="_vydvI4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVxIJREeGsv772wTim0Q" name="instance" type="_tgtu8IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>// Record the interaction&#xD;
		this.npcInteractions.add(instance.getID());&#xD;
		this.newNPCInteractions.add(instance.getID());&#xD;
		&#xD;
		// Increase the language skill, if applicable&#xD;
		if( instance.getRaceID() != plugin.config.NPC_HUMAN_ID &amp;&amp; this.languageSkill.get(instance.getRaceID()) &lt; 100 )&#xD;
		{&#xD;
			this.languageSkill.put(instance.getRaceID(), this.languageSkill.get(instance.getRaceID()) + 1);&#xD;
			&#xD;
			// Notify the player of increased language skill&#xD;
			if( player != null )&#xD;
				plugin.message.languageUp(player, instance.getRaceID(), 1, this.getLanguageSkill(instance.getRaceID()));&#xD;
		}&#xD;
		&#xD;
		// Increase the affinity&#xD;
		int npcID = instance.getNPCid();&#xD;
		if( npcAffinities.containsKey(npcID) )&#xD;
		{&#xD;
			npcAffinities.put(npcID, npcAffinities.get(npcID) + plugin.config.NPC_AFFINITY_GAIN_TALK);&#xD;
			if( npcAffinities.get(npcID) > plugin.config.NPC_AFFINITY_MAX )&#xD;
				npcAffinities.put(npcID, plugin.config.NPC_AFFINITY_MAX);&#xD;
		}&#xD;
		else&#xD;
			npcAffinities.put(npcID, instance.getDefaultAffinity() + plugin.config.NPC_AFFINITY_GAIN_TALK);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVxYJREeGsv772wTim0Q" name="getNewInteractions" specification="_vr8QYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVxoJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.newNPCInteractions;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVx4JREeGsv772wTim0Q" name="setInteractions" specification="_vydvJoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVyIJREeGsv772wTim0Q" name="interactions" type="_tbM80IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.npcInteractions = interactions;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVyYJREeGsv772wTim0Q" name="isNewInteraction" specification="_vr83cIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVyoJREeGsv772wTim0Q" name="instanceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3cVy4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return !npcInteractions.contains(instanceID);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVzIJREeGsv772wTim0Q" name="setAffinities" specification="_vyeWMYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVzYJREeGsv772wTim0Q" name="affinities" type="_tZxZcYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.npcAffinities = affinities;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3cVzoJREeGsv772wTim0Q" name="getAffinities" specification="_vr9egYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3cVz4JREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.npcAffinities;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3c80IJREeGsv772wTim0Q" name="isFirstMeeting" specification="_vr-soIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3c80YJREeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3c80oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return !npcAffinities.containsKey(npcID);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3c804JREeGsv772wTim0Q" name="getAffinity" specification="_vr_TsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3c81IJREeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3c81YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <language>java</language>
                <body>return npcAffinities.get(npcID);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vr3X4IJREeGsv772wTim0Q" name="getSpawn" method="_v3bHooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydIEoJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vr3-8IJREeGsv772wTim0Q" name="getHome" method="_v3bHpoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydIFYJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vr4mAIJREeGsv772wTim0Q" name="clearSpawn" method="_v3bHqIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vr4mAYJREeGsv772wTim0Q" name="clearHome" method="_v3busIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vr5NEIJREeGsv772wTim0Q" name="isOnKillQuest" method="_v3butIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr50IIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vr50IYJREeGsv772wTim0Q" name="getCodedName" method="_v3butoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr50IoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vr6bMIJREeGsv772wTim0Q" name="update" method="_v3buuIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vr7CQIJREeGsv772wTim0Q" name="getLanguageSkill" method="_v3buuYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr7CQYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vr7CQoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vr7pUIJREeGsv772wTim0Q" name="setLanguageSkill" method="_v3cVwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr7pUYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vr7pUoJREeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vr8QYIJREeGsv772wTim0Q" name="getNewInteractions" method="_v3cVxYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydvJYJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vr83cIJREeGsv772wTim0Q" name="isNewInteraction" method="_v3cVyYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr83cYJREeGsv772wTim0Q" name="instanceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vr9egIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vr9egYJREeGsv772wTim0Q" name="getAffinities" method="_v3cVzoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vye9QYJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vr-soIJREeGsv772wTim0Q" name="isFirstMeeting" method="_v3c80IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr-soYJREeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vr-sooJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vr_TsIJREeGsv772wTim0Q" name="getAffinity" method="_v3c804JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vr_TsYJREeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vr_TsoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vychAIJREeGsv772wTim0Q" name="PlayerData" method="_v3aglYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vychAoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vychA4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vychAYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vychBIJREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vychBYJREeGsv772wTim0Q" name="attachPlayer" method="_v3agmIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vychBoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vydIEIJREeGsv772wTim0Q" name="setSpawn" method="_v3bHoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydIEYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vydIE4JREeGsv772wTim0Q" name="setHome" method="_v3bHpIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydIFIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vydvIIJREeGsv772wTim0Q" name="isInsideOwnLot" method="_v3busYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydvIYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vydvIoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vydvI4JREeGsv772wTim0Q" name="recordNPCInteraction" method="_v3cVw4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydvJIJREeGsv772wTim0Q" name="instance" type="_tgtu8IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vydvJoJREeGsv772wTim0Q" name="setInteractions" method="_v3cVx4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vydvJ4JREeGsv772wTim0Q" name="interactions" type="_tbM80IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vyeWMYJREeGsv772wTim0Q" name="setAffinities" method="_v3cVzIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vyeWMoJREeGsv772wTim0Q" name="affinities" type="_tZxZcYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZzOoYJREeGsv772wTim0Q" name="Lots">
              <ownedAttribute xmi:id="_v20qsYJREeGsv772wTim0Q" name="lots" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_v4W7xIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v21RwYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4Xi0YJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Z5hIJREeGsv772wTim0Q" name="Lots" specification="_vyZdsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3Z5hYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3Z5hoJREeGsv772wTim0Q" type="_tZzOoYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		lots = new HashMap&lt;String, Lot>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Z5h4JREeGsv772wTim0Q" name="loadLots" specification="_vrngQIJREeGsv772wTim0Q">
                <language>java</language>
                <body>lots = plugin.database.lotQueries.loadLots();&#xD;
		&#xD;
		if(lots == null) &#xD;
		{&#xD;
			lots = new HashMap&lt;String, Lot>();&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Z5iIJREeGsv772wTim0Q" name="put" specification="_v1wTsoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3Z5iYJREeGsv772wTim0Q" name="lot" type="_v1wTsIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>lots.put(lot.getLotCode(), lot);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Z5ioJREeGsv772wTim0Q" name="get" specification="_vroHUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3Z5i4JREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3Z5jIJREeGsv772wTim0Q" type="_v1wTsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( lots.containsKey(lotCode.toUpperCase()) )&#xD;
 		return lots.get(lotCode.toUpperCase());&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Error: Lots.Get called on non-existent lot code &quot; + lotCode);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Z5jYJREeGsv772wTim0Q" name="get" specification="_vrouYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3Z5joJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3Z5j4JREeGsv772wTim0Q" type="_v1wTsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>for( Lot lot : lots.values() )&#xD;
		{&#xD;
 		if( lot.id_Lot == id )&#xD;
			{&#xD;
				return lot;&#xD;
			}&#xD;
		}&#xD;
 	&#xD;
 	// If we reach this point, we did not find a lot&#xD;
 	System.out.println(&quot;Error: Lots.Get called on non-existent lot ID &quot; + id);&#xD;
 	return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3agkIJREeGsv772wTim0Q" name="getAll" specification="_vrpVcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3agkYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;Lot> lotsList = new ArrayList&lt;Lot>();&#xD;
 	&#xD;
 	for(Lot lot : lots.values()) &#xD;
 	{&#xD;
 		lotsList.add(lot);&#xD;
 	}&#xD;
 	&#xD;
 	return lotsList;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3agkoJREeGsv772wTim0Q" name="findCurrentLot" specification="_vyaEwYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3agk4JREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3aglIJREeGsv772wTim0Q" type="_v1wTsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if(!loc.getWorld().getName().equals(&quot;world&quot;))&#xD;
 		return null;&#xD;
 	&#xD;
 	for( Lot lot : lots.values() )&#xD;
		{&#xD;
 		if( lot.isInside(loc) )&#xD;
			{&#xD;
				return lot;&#xD;
			}&#xD;
		}&#xD;
 	&#xD;
 	// If we reach this point, we did not find a lot&#xD;
 	return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vrngQIJREeGsv772wTim0Q" name="loadLots" method="_v3Z5h4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vroHUIJREeGsv772wTim0Q" name="get" method="_v3Z5ioJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vroHUYJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1w6wIJREeGsv772wTim0Q" type="_v1wTsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vrouYIJREeGsv772wTim0Q" name="get" method="_v3Z5jYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vrouYYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1w6wYJREeGsv772wTim0Q" type="_v1wTsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vrpVcIJREeGsv772wTim0Q" name="getAll" method="_v3agkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vyaEwIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vyZdsIJREeGsv772wTim0Q" name="Lots" method="_v3Z5hIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vyZdsoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyZds4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vyZdsYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vyZdtIJREeGsv772wTim0Q" type="_tZzOoYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vyaEwYJREeGsv772wTim0Q" name="findCurrentLot" method="_v3agkoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vyaEwoJREeGsv772wTim0Q" name="loc" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1w6woJREeGsv772wTim0Q" type="_v1wTsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1wTsoJREeGsv772wTim0Q" name="put" method="_v3Z5iIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1wTs4JREeGsv772wTim0Q" name="lot" type="_v1wTsIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZz1sYJREeGsv772wTim0Q" name="Tasks">
              <ownedAttribute xmi:id="_v2_p0IJREeGsv772wTim0Q" name="tasks" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_v4cbVoJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3AQ4YJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4dCYYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj4IJREeGsv772wTim0Q" name="Tasks" specification="_vyiAkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3dj4YJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3dj4oJREeGsv772wTim0Q" type="_tZz1sYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj44JREeGsv772wTim0Q" name="loadTaskTimes" specification="_vsfC8IJREeGsv772wTim0Q">
                <language>java</language>
                <body>tasks = plugin.database.taskQueries.loadTaskTimes();&#xD;
		if(tasks == null)&#xD;
			tasks = new HashMap&lt;String, Timestamp>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj5IJREeGsv772wTim0Q" name="setComplete" specification="_vsfqAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3dj5YJREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>tasks.put(taskName, Util.now());&#xD;
		plugin.database.taskQueries.setComplete(taskName);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj5oJREeGsv772wTim0Q" name="getSeconds" specification="_vsgREIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3dj54JREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3dj6IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// If we have a null value, the task has never been run, so return a huge value to force it to run&#xD;
		if( !tasks.containsKey(taskName) || tasks.get(taskName) == null )&#xD;
			return Integer.MAX_VALUE;&#xD;
		else&#xD;
			return (int)((Util.now().getTime() - tasks.get(taskName).getTime()) / 1000);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj6YJREeGsv772wTim0Q" name="processTownUpkeeps" specification="_vsg4IIJREeGsv772wTim0Q">
                <language>java</language>
                <body>double remaining;&#xD;
		double cost = plugin.config.Town_UPKEEP_PER_PLAYER;&#xD;
		int totalBlocks = 0;&#xD;
		int actualBlocks;&#xD;
		int income;&#xD;
		PlayerData playerData;&#xD;
		ArrayList&lt;String> evictList;&#xD;
		&#xD;
		if( plugin.config.PRE_RELEASE_MODE )&#xD;
			return;&#xD;
		&#xD;
		System.out.println(&quot;Beginning town upkeep processing...&quot;);&#xD;
		&#xD;
		// Notify players of incoming lag&#xD;
		plugin.message.broadcast(&quot;Beginning Ragemod upkeep tasks, hold on tight...&quot;, ChatColor.DARK_GREEN); // TODO: Store colors in config&#xD;
		&#xD;
		for( PlayerTown town : plugin.towns.getAllPlayerTowns() )&#xD;
		{&#xD;
			// *****  INCOME  *****&#xD;
			// Move through each town resident to give money&#xD;
			for( String playerName : town.residents )&#xD;
			{&#xD;
				playerData = plugin.players.get(playerName);&#xD;
				income = playerData.treasuryBlocks * plugin.config.INCOME_PER_BLOCK;&#xD;
				playerData.treasuryBalance += income;&#xD;
				playerData.update();&#xD;
				town.treasuryBalance += income;&#xD;
				plugin.database.townQueries.townDeposit(town.id, playerData.id_Player, (income));&#xD;
				totalBlocks += playerData.treasuryBlocks;&#xD;
			}&#xD;
			&#xD;
			if( totalBlocks > 0 )&#xD;
				System.out.println(&quot;Awarded &quot; + town.name + &quot; &quot; + RageMod.econ.format(totalBlocks * plugin.config.INCOME_PER_BLOCK) + &quot; for treasury blocks.&quot;);&#xD;
			&#xD;
			// *****  SANCTUM CLEANUP  *****&#xD;
			// Make sure the number of physical blocks in the treasury matches the database values&#xD;
			actualBlocks = town.countTreasuryBlocks();&#xD;
			&#xD;
			if( actualBlocks > totalBlocks )&#xD;
			{&#xD;
				System.out.println(&quot;WARNING: &quot; + town.name + &quot; has &quot; + actualBlocks + &quot; gold blocks in its sanctum, yet only &quot; + totalBlocks + &#xD;
						&quot; are recorded in the database.  Deleting &quot; + (actualBlocks - totalBlocks) + &quot; blocks to correct this.&quot;);&#xD;
				town.removeTreasuryBlocks(actualBlocks - totalBlocks);&#xD;
			}&#xD;
			else if( actualBlocks &lt; totalBlocks )&#xD;
			{&#xD;
				int difference = totalBlocks - actualBlocks;&#xD;
				System.out.println(&quot;WARNING: &quot; + town.name + &quot; has &quot; + actualBlocks + &quot; gold blocks in its sanctum, but &quot; + totalBlocks + &#xD;
						&quot; are recorded in the database.  Removing &quot; + difference + &quot; blocks from database to correct this.&quot;);&#xD;
				&#xD;
				// Go through the residents one by one, lowering their block values until the discrepancy is resolved.&#xD;
				// It will go through players that appear earliest in the database first, but as this situation should never&#xD;
				// happen in actual play, it shouldn't be a problem&#xD;
				for( String playerName : town.residents )&#xD;
				{&#xD;
					playerData = plugin.players.get(playerName);&#xD;
					if( playerData.treasuryBlocks > 0 )&#xD;
					{&#xD;
						playerData.treasuryBlocks--;&#xD;
						RageMod.econ.bankDeposit(playerData.name, plugin.config.PRICE_GOLD);&#xD;
						playerData.update();&#xD;
						difference--;&#xD;
						if( difference == 0 )&#xD;
							break;&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			&#xD;
			// *****  TAXES  *****&#xD;
			&#xD;
			// Set the total amount needed to be collected&#xD;
			remaining = town.getLevel().upkeepCost;&#xD;
			&#xD;
			evictList = new ArrayList&lt;String>();&#xD;
			&#xD;
			// Move through each town resident to collect money&#xD;
			for( String playerName : town.residents )&#xD;
			{&#xD;
				playerData = plugin.players.get(playerName);&#xD;
				&#xD;
				// Attempt to collect from player's iConomy balance first&#xD;
				if( RageMod.econ.has(playerName, cost) )&#xD;
				{&#xD;
					remaining -= cost;&#xD;
				}&#xD;
				// If they don't have enough on hand, see if they have deposits in the treasury&#xD;
				else if( playerData.treasuryBalance >= cost )&#xD;
				{&#xD;
					playerData.treasuryBalance -= cost;&#xD;
					town.treasuryBalance -= cost;&#xD;
					remaining -= cost;&#xD;
					playerData.update();&#xD;
					plugin.database.townQueries.townDeposit(town.id, playerData.id_Player, (cost * -1));&#xD;
				}&#xD;
				// If the player doesn't have the funds in either area, evict their freeloading ass&#xD;
				else if( !playerData.isMayor )&#xD;
				{&#xD;
					System.out.println(&quot;Automatically evicting &quot; + playerData.name + &quot; from &quot; + town.name + &quot;.&quot;);&#xD;
					playerData.clearSpawn();&#xD;
					playerData.treasuryBalance = 0;&#xD;
					playerData.logonMessageQueue += &quot;You have been automatically evicted from &quot; + &#xD;
							plugin.towns.get(playerData.townName).getCodedName() + &quot; for inability to pay taxes.&lt;br>&quot;;&#xD;
					playerData.townName = &quot;&quot;;&#xD;
					&#xD;
					evictList.add(playerName);&#xD;
					playerData.update();&#xD;
					&#xD;
					// TODO: Delete the player's treasury blocks, give them money&#xD;
					//				... wait a minute.  If the player had a treasury block, they wouldn't get evicted, would they :P&#xD;
					//				This DOES need to get written for town.leave and town.evict though.&#xD;
				}&#xD;
			}&#xD;
			&#xD;
			// Evict queued residents, if any&#xD;
			for( String evictName : evictList )&#xD;
			{&#xD;
				town.removeResident(evictName);&#xD;
			}&#xD;
			&#xD;
			// At this point we will have collected an amount of money less, equal to, or more than the town's upkeep&#xD;
			town.treasuryBalance -= remaining;&#xD;
			&#xD;
			// If the treasury balance is in the negative, the town is bankrupt&#xD;
			if( town.treasuryBalance &lt; 0 )&#xD;
			{&#xD;
				if( town.bankruptDate == null )&#xD;
				{&#xD;
					System.out.println(&quot;The town of &quot; + town.name + &quot; is now bankrupt.&quot;);&#xD;
					town.bankruptDate = Util.now();&#xD;
				}&#xD;
				else&#xD;
				{&#xD;
					// At this point the town has been bankrupt for some time - delete after specified time&#xD;
					if( Util.daysBetween(Util.now(), town.bankruptDate) > plugin.config.Town_MAX_BANKRUPT_DAYS )&#xD;
					{&#xD;
						PlayerData ownerData = plugin.players.get(plugin.config.OWNER_NAME);&#xD;
						String ownerMessages = ownerData.logonMessageQueue;&#xD;
						String bankruptMessage = &quot;The town of &quot; + town.getCodedName() + &quot; has been bankrupt for over &quot; + plugin.config.Town_MAX_BANKRUPT_DAYS +&#xD;
								&quot; days and has been set to deleted.&lt;br>&quot;;&#xD;
						&#xD;
						if( !ownerMessages.contains(bankruptMessage) )&#xD;
						{&#xD;
							ownerMessages += bankruptMessage;&#xD;
							ownerData.update();&#xD;
						}&#xD;
						&#xD;
						town.isDeleted = true;&#xD;
						plugin.towns.remove(town);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				town.bankruptDate = null;&#xD;
			}&#xD;
			&#xD;
			town.update();		// Update town info in database&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj6oJREeGsv772wTim0Q" name="processFillSandlot" specification="_vyiAlYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3dj64JREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>World world = plugin.getServer().getWorld(&quot;world&quot;);&#xD;
		Random random = new Random();&#xD;
		&#xD;
		System.out.println(&quot;Refilling sand lot...&quot;);&#xD;
		&#xD;
		// Look for players who are currently in the area and evacuate them&#xD;
		for( Player player : plugin.getServer().getOnlinePlayers() )&#xD;
		{&#xD;
			if( plugin.zones.isInSandlot(player.getLocation()) )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;Automatically refilling sand lot - get out of the way!&quot;);&#xD;
				player.teleport(world.getSpawnLocation());&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		Block currentBlock;&#xD;
		&#xD;
		for( int x = (int)RageZones.Capitol_SandLot.nwCorner.getX(); x &lt;= (int)RageZones.Capitol_SandLot.seCorner.getX(); x++ )&#xD;
		{&#xD;
			for( int y = (int)RageZones.Capitol_SandLot.nwCorner.getY(); y &lt;= (int)RageZones.Capitol_SandLot.seCorner.getY(); y++ )&#xD;
			{&#xD;
				for( int z = (int)RageZones.Capitol_SandLot.nwCorner.getZ(); z >= (int)RageZones.Capitol_SandLot.seCorner.getZ(); z-- )&#xD;
				{&#xD;
					currentBlock = world.getBlockAt(x, y, z);&#xD;
					if( random.nextInt( plugin.config.Capitol_SANDLOT_GOLD_ODDS ) == 0 )&#xD;
						currentBlock.setType(Material.GOLD_ORE);&#xD;
					else if( random.nextInt( plugin.config.Capitol_SANDLOT_DIAMOND_ODDS ) == 0 ) &#xD;
						currentBlock.setType(Material.DIAMOND_ORE);&#xD;
					else&#xD;
						currentBlock.setType(Material.SAND);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3dj7IJREeGsv772wTim0Q" name="spawnNPCs" specification="_vshfMIJREeGsv772wTim0Q">
                <language>java</language>
                <body>// Spawn non-town NPCs&#xD;
		ArrayList&lt;NPCInstance> floatingInstances = plugin.npcManager.getFloatingInstances();&#xD;
		&#xD;
		for( int i = floatingInstances.size(); i &lt; plugin.config.NPC_TOTAL_FLOATING; i++ )&#xD;
		{&#xD;
			NPCInstance instance = plugin.npcManager.spawnRandomFloating();&#xD;
			if( instance != null )&#xD;
				System.out.println(&quot;Spawned NPC &quot; + instance.getName() + &quot; at location #&quot; + instance.getLocation().getID() + &quot;.&quot;);&#xD;
		}&#xD;
		&#xD;
		// Spawn town NPCs&#xD;
		for( NPCTown town : plugin.towns.getAllNPCTowns() )&#xD;
		{&#xD;
			ArrayList&lt;NPCLocation> townLocations = plugin.npcManager.getActiveTownLocations(town.getID());&#xD;
			for( int i = townLocations.size(); i &lt; town.townLevel.maxNPCs; i++ )&#xD;
			{&#xD;
				NPCInstance instance = plugin.npcManager.spawnRandomInTown(town.getID());&#xD;
				if( instance != null )&#xD;
					System.out.println(&quot;Spawned NPC &quot; + instance.getName() + &quot; in town &quot; + town.getName() + &#xD;
							&quot; at location #&quot; + instance.getLocation().getID() + &quot;.&quot;);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Despawn NPCs&#xD;
		plugin.npcManager.despawnExpired();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vsfC8IJREeGsv772wTim0Q" name="loadTaskTimes" method="_v3dj44JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vsfqAIJREeGsv772wTim0Q" name="setComplete" method="_v3dj5IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsfqAYJREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsgREIJREeGsv772wTim0Q" name="getSeconds" method="_v3dj5oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsgREYJREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vsgREoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsg4IIJREeGsv772wTim0Q" name="processTownUpkeeps" method="_v3dj6YJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vshfMIJREeGsv772wTim0Q" name="spawnNPCs" method="_v3dj7IJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vyiAkIJREeGsv772wTim0Q" name="Tasks" method="_v3dj4IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vyiAkoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyiAk4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vyiAkYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vyiAlIJREeGsv772wTim0Q" type="_tZz1sYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vyiAlYJREeGsv772wTim0Q" name="processFillSandlot" method="_v3dj6oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vyiAloJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tgpdgYJREeGsv772wTim0Q" name="Exception"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_tg-0sIJREeGsv772wTim0Q" name="Comparable"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_tpG18IJREeGsv772wTim0Q" name="" memberEnd="_tj0tUIJREeGsv772wTim0Q _tpG18YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tpG18YJREeGsv772wTim0Q" name="" type="_tAIxcIJREeGsv772wTim0Q" association="_tpG18IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqO3U4JREeGsv772wTim0Q" name="" memberEnd="_tqO3VIJREeGsv772wTim0Q _tjjAgIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqO3VIJREeGsv772wTim0Q" name="" type="_s-XP0IJREeGsv772wTim0Q" association="_tqO3U4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqPeYIJREeGsv772wTim0Q" name="" memberEnd="_tqPeYYJREeGsv772wTim0Q _tjjnkYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqPeYYJREeGsv772wTim0Q" name="" type="_s-XP0IJREeGsv772wTim0Q" association="_tqPeYIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqPeY4JREeGsv772wTim0Q" name="" memberEnd="_tqPeZIJREeGsv772wTim0Q _tjlcwIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqPeZIJREeGsv772wTim0Q" name="" type="_s-oVkIJREeGsv772wTim0Q" association="_tqPeY4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqQFcIJREeGsv772wTim0Q" name="" memberEnd="_tqQFcYJREeGsv772wTim0Q _tjmq4YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqQFcYJREeGsv772wTim0Q" name="" type="_s_AwEIJREeGsv772wTim0Q" association="_tqQFcIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqQFc4JREeGsv772wTim0Q" name="" memberEnd="_tqQFdIJREeGsv772wTim0Q _tjogEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqQFdIJREeGsv772wTim0Q" name="" type="_s_AwEIJREeGsv772wTim0Q" association="_tqQFc4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqQsgIJREeGsv772wTim0Q" name="" memberEnd="_tqQsgYJREeGsv772wTim0Q _tjsKcYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqQsgYJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqQsgIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqQsg4JREeGsv772wTim0Q" name="" memberEnd="_tqQshIJREeGsv772wTim0Q _tjsxgIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqQshIJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqQsg4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqRTkIJREeGsv772wTim0Q" name="" memberEnd="_tqRTkYJREeGsv772wTim0Q _tjsxgYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqRTkYJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqRTkIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqRTk4JREeGsv772wTim0Q" name="" memberEnd="_tqRTlIJREeGsv772wTim0Q _tjsxgoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqRTlIJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqRTk4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqR6oIJREeGsv772wTim0Q" name="" memberEnd="_tqR6oYJREeGsv772wTim0Q _tjtYkIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqR6oYJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqR6oIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqR6o4JREeGsv772wTim0Q" name="" memberEnd="_tqR6pIJREeGsv772wTim0Q _tjtYkoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqR6pIJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqR6o4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqShsYJREeGsv772wTim0Q" name="" memberEnd="_tqShsoJREeGsv772wTim0Q _tjt_oIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqShsoJREeGsv772wTim0Q" name="" type="_s_hGYIJREeGsv772wTim0Q" association="_tqShsYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqShtIJREeGsv772wTim0Q" name="" memberEnd="_tqShtYJREeGsv772wTim0Q _tjyREoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqShtYJREeGsv772wTim0Q" name="" type="_tAIxcIJREeGsv772wTim0Q" association="_tqShtIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqTIwYJREeGsv772wTim0Q" name="" memberEnd="_tqTIwoJREeGsv772wTim0Q _tjyRE4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqTIwoJREeGsv772wTim0Q" name="" type="_tAIxcIJREeGsv772wTim0Q" association="_tqTIwYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqTIxIJREeGsv772wTim0Q" name="" memberEnd="_tqTIxYJREeGsv772wTim0Q _tjzfMoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqTIxYJREeGsv772wTim0Q" name="" type="_tAIxcIJREeGsv772wTim0Q" association="_tqTIxIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqTv0IJREeGsv772wTim0Q" name="" memberEnd="_tqTv0YJREeGsv772wTim0Q _tj17cIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqTv0YJREeGsv772wTim0Q" name="" type="_tAZQIIJREeGsv772wTim0Q" association="_tqTv0IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqTv04JREeGsv772wTim0Q" name="" memberEnd="_tqTv1IJREeGsv772wTim0Q _tj2igoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqTv1IJREeGsv772wTim0Q" name="" type="_tAZQIIJREeGsv772wTim0Q" association="_tqTv04JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqUW4IJREeGsv772wTim0Q" name="" memberEnd="_tqUW4YJREeGsv772wTim0Q _tj3woIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqUW4YJREeGsv772wTim0Q" name="" type="_tAZQIIJREeGsv772wTim0Q" association="_tqUW4IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqUW44JREeGsv772wTim0Q" name="" memberEnd="_tqUW5IJREeGsv772wTim0Q _tj4XsIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqUW5IJREeGsv772wTim0Q" name="" type="_tAZQIIJREeGsv772wTim0Q" association="_tqUW44JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqU98IJREeGsv772wTim0Q" name="" memberEnd="_tqU98YJREeGsv772wTim0Q _tj4-wYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqU98YJREeGsv772wTim0Q" name="" type="_tAZQIIJREeGsv772wTim0Q" association="_tqU98IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqU984JREeGsv772wTim0Q" name="" memberEnd="_tqU99IJREeGsv772wTim0Q _tj6M4YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqU99IJREeGsv772wTim0Q" name="" type="_tAjoMIJREeGsv772wTim0Q" association="_tqU984JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqU99oJREeGsv772wTim0Q" name="" memberEnd="_tqU994JREeGsv772wTim0Q _tj7bA4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqU994JREeGsv772wTim0Q" name="" type="_tAjoMIJREeGsv772wTim0Q" association="_tqU99oJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqVlAYJREeGsv772wTim0Q" name="" memberEnd="_tqVlAoJREeGsv772wTim0Q _tj8CEYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqVlAoJREeGsv772wTim0Q" name="" type="_tAjoMIJREeGsv772wTim0Q" association="_tqVlAYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqVlBIJREeGsv772wTim0Q" name="" memberEnd="_tqVlBYJREeGsv772wTim0Q _tj9QMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqVlBYJREeGsv772wTim0Q" name="" type="_tApHwIJREeGsv772wTim0Q" association="_tqVlBIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqWMEYJREeGsv772wTim0Q" name="" memberEnd="_tqWMEoJREeGsv772wTim0Q _tj93QoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqWMEoJREeGsv772wTim0Q" name="" type="_tApHwIJREeGsv772wTim0Q" association="_tqWMEYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqWMFIJREeGsv772wTim0Q" name="" memberEnd="_tqWMFYJREeGsv772wTim0Q _tj_FYIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqWMFYJREeGsv772wTim0Q" name="" type="_tApHwIJREeGsv772wTim0Q" association="_tqWMFIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqWzIYJREeGsv772wTim0Q" name="" memberEnd="_tqWzIoJREeGsv772wTim0Q _tj_scIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqWzIoJREeGsv772wTim0Q" name="" type="_tApHwIJREeGsv772wTim0Q" association="_tqWzIYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqWzJIJREeGsv772wTim0Q" name="" memberEnd="_tqWzJYJREeGsv772wTim0Q _tkATgIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqWzJYJREeGsv772wTim0Q" name="" type="_tApHwIJREeGsv772wTim0Q" association="_tqWzJIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqXaMYJREeGsv772wTim0Q" name="" memberEnd="_tqXaMoJREeGsv772wTim0Q _tkBho4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqXaMoJREeGsv772wTim0Q" name="" type="_tAxqoIJREeGsv772wTim0Q" association="_tqXaMYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqXaNIJREeGsv772wTim0Q" name="" memberEnd="_tqXaNYJREeGsv772wTim0Q _tkCIsYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqXaNYJREeGsv772wTim0Q" name="" type="_tAxqoIJREeGsv772wTim0Q" association="_tqXaNIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqYBQYJREeGsv772wTim0Q" name="" memberEnd="_tqYBQoJREeGsv772wTim0Q _tkDW0IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqYBQoJREeGsv772wTim0Q" name="" type="_tA4_YIJREeGsv772wTim0Q" association="_tqYBQYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqYBRIJREeGsv772wTim0Q" name="" memberEnd="_tqYBRYJREeGsv772wTim0Q _tkD94oJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqYBRYJREeGsv772wTim0Q" name="" type="_tA4_YIJREeGsv772wTim0Q" association="_tqYBRIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqYoUYJREeGsv772wTim0Q" name="" memberEnd="_tqYoUoJREeGsv772wTim0Q _tkEk8YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqYoUoJREeGsv772wTim0Q" name="" type="_tA4_YIJREeGsv772wTim0Q" association="_tqYoUYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqYoVIJREeGsv772wTim0Q" name="" memberEnd="_tqYoVYJREeGsv772wTim0Q _tkEk8oJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqYoVYJREeGsv772wTim0Q" name="" type="_tA4_YIJREeGsv772wTim0Q" association="_tqYoVIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqZPYYJREeGsv772wTim0Q" name="" memberEnd="_tqZPYoJREeGsv772wTim0Q _tkHBMoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqZPYoJREeGsv772wTim0Q" name="" type="_tA_GAIJREeGsv772wTim0Q" association="_tqZPYYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqZPZIJREeGsv772wTim0Q" name="" memberEnd="_tqZPZYJREeGsv772wTim0Q _tkIPUYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqZPZYJREeGsv772wTim0Q" name="" type="_tA_GAIJREeGsv772wTim0Q" association="_tqZPZIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqZ2cYJREeGsv772wTim0Q" name="" memberEnd="_tqZ2coJREeGsv772wTim0Q _tkI2YoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqZ2coJREeGsv772wTim0Q" name="" type="_tA_GAIJREeGsv772wTim0Q" association="_tqZ2cYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqZ2dIJREeGsv772wTim0Q" name="" memberEnd="_tqZ2dYJREeGsv772wTim0Q _tkJdcIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqZ2dYJREeGsv772wTim0Q" name="" type="_tA_GAIJREeGsv772wTim0Q" association="_tqZ2dIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqadgYJREeGsv772wTim0Q" name="" memberEnd="_tqadgoJREeGsv772wTim0Q _tkJdcoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqadgoJREeGsv772wTim0Q" name="" type="_tA_GAIJREeGsv772wTim0Q" association="_tqadgYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqadhIJREeGsv772wTim0Q" name="" memberEnd="_tqadhYJREeGsv772wTim0Q _tkLSoIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqadhYJREeGsv772wTim0Q" name="" type="_tBKsMIJREeGsv772wTim0Q" association="_tqadhIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqbEkYJREeGsv772wTim0Q" name="" memberEnd="_tqbEkoJREeGsv772wTim0Q _tkL5soJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqbEkoJREeGsv772wTim0Q" name="" type="_tBKsMIJREeGsv772wTim0Q" association="_tqbEkYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqbElIJREeGsv772wTim0Q" name="" memberEnd="_tqbElYJREeGsv772wTim0Q _tkMgwIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqbElYJREeGsv772wTim0Q" name="" type="_tBO9oIJREeGsv772wTim0Q" association="_tqbElIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqbroYJREeGsv772wTim0Q" name="" memberEnd="_tqbrooJREeGsv772wTim0Q _tkNH0YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqbrooJREeGsv772wTim0Q" name="" type="_tBQLwIJREeGsv772wTim0Q" association="_tqbroYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqbrpIJREeGsv772wTim0Q" name="" memberEnd="_tqbrpYJREeGsv772wTim0Q _tkNH04JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqbrpYJREeGsv772wTim0Q" name="" type="_tBQLwIJREeGsv772wTim0Q" association="_tqbrpIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqcSsYJREeGsv772wTim0Q" name="" memberEnd="_tqcSsoJREeGsv772wTim0Q _tkOV8IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqcSsoJREeGsv772wTim0Q" name="" type="_tBnYIIJREeGsv772wTim0Q" association="_tqcSsYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqcStIJREeGsv772wTim0Q" name="" memberEnd="_tqcStYJREeGsv772wTim0Q _tkO9AYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqcStYJREeGsv772wTim0Q" name="" type="_tBnYIIJREeGsv772wTim0Q" association="_tqcStIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqc5wYJREeGsv772wTim0Q" name="" memberEnd="_tqc5woJREeGsv772wTim0Q _tkQLIoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqc5woJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqc5wYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqc5xIJREeGsv772wTim0Q" name="" memberEnd="_tqc5xYJREeGsv772wTim0Q _tkQyMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqc5xYJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqc5xIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqdg0YJREeGsv772wTim0Q" name="" memberEnd="_tqdg0oJREeGsv772wTim0Q _tkQyMoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqdg0oJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqdg0YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqdg1IJREeGsv772wTim0Q" name="" memberEnd="_tqdg1YJREeGsv772wTim0Q _tkRZQIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqdg1YJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqdg1IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqeH4YJREeGsv772wTim0Q" name="" memberEnd="_tqeH4oJREeGsv772wTim0Q _tkRZQoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqeH4oJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqeH4YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqeH5IJREeGsv772wTim0Q" name="" memberEnd="_tqeH5YJREeGsv772wTim0Q _tkRZRIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqeH5YJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqeH5IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqeu8YJREeGsv772wTim0Q" name="" memberEnd="_tqeu8oJREeGsv772wTim0Q _tkSAUoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqeu8oJREeGsv772wTim0Q" name="" type="_tBrCgIJREeGsv772wTim0Q" association="_tqeu8YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqeu9IJREeGsv772wTim0Q" name="" memberEnd="_tqeu9YJREeGsv772wTim0Q _tkWRwoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqeu9YJREeGsv772wTim0Q" name="" type="_tBzlYIJREeGsv772wTim0Q" association="_tqeu9IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqfWAYJREeGsv772wTim0Q" name="" memberEnd="_tqfWAoJREeGsv772wTim0Q _tkXf4IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqfWAoJREeGsv772wTim0Q" name="" type="_tB2osIJREeGsv772wTim0Q" association="_tqfWAYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqfWBIJREeGsv772wTim0Q" name="" memberEnd="_tqfWBYJREeGsv772wTim0Q _tkYG8YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqfWBYJREeGsv772wTim0Q" name="" type="_tB2osIJREeGsv772wTim0Q" association="_tqfWBIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqf9EYJREeGsv772wTim0Q" name="" memberEnd="_tqf9EoJREeGsv772wTim0Q _tkYuAYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqf9EoJREeGsv772wTim0Q" name="" type="_tB2osIJREeGsv772wTim0Q" association="_tqf9EYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqf9FIJREeGsv772wTim0Q" name="" memberEnd="_tqf9FYJREeGsv772wTim0Q _tkZVEYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqf9FYJREeGsv772wTim0Q" name="" type="_tB2osIJREeGsv772wTim0Q" association="_tqf9FIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqgkIYJREeGsv772wTim0Q" name="" memberEnd="_tqgkIoJREeGsv772wTim0Q _tkZ8IYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqgkIoJREeGsv772wTim0Q" name="" type="_tB2osIJREeGsv772wTim0Q" association="_tqgkIYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqgkJIJREeGsv772wTim0Q" name="" memberEnd="_tqgkJYJREeGsv772wTim0Q _tkajMYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqgkJYJREeGsv772wTim0Q" name="" type="_tB2osIJREeGsv772wTim0Q" association="_tqgkJIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4W7xIJREeGsv772wTim0Q" name="" memberEnd="_v4W7xYJREeGsv772wTim0Q _v20qsYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4W7xYJREeGsv772wTim0Q" name="" type="_tZzOoYJREeGsv772wTim0Q" association="_v4W7xIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Xi0YJREeGsv772wTim0Q" name="" memberEnd="_v4Xi0oJREeGsv772wTim0Q _v21RwYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Xi0oJREeGsv772wTim0Q" name="" type="_tZzOoYJREeGsv772wTim0Q" association="_v4Xi0YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Xi1IJREeGsv772wTim0Q" name="" memberEnd="_v4Xi1YJREeGsv772wTim0Q _v22f5IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Xi1YJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4Xi1IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4YJ4YJREeGsv772wTim0Q" name="" memberEnd="_v4YJ4oJREeGsv772wTim0Q _v23uAYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4YJ4oJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4YJ4YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4YJ5IJREeGsv772wTim0Q" name="" memberEnd="_v4YJ5YJREeGsv772wTim0Q _v23uA4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4YJ5YJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4YJ5IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Yw8IJREeGsv772wTim0Q" name="" memberEnd="_v4Yw8YJREeGsv772wTim0Q _v24VEYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Yw8YJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4Yw8IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Yw84JREeGsv772wTim0Q" name="" memberEnd="_v4Yw9IJREeGsv772wTim0Q _v24VE4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Yw9IJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4Yw84JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Yw9oJREeGsv772wTim0Q" name="" memberEnd="_v4Yw94JREeGsv772wTim0Q _v26KRIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Yw94JREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4Yw9oJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4ZYAYJREeGsv772wTim0Q" name="" memberEnd="_v4ZYAoJREeGsv772wTim0Q _v26xUoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4ZYAoJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4ZYAYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4ZYBIJREeGsv772wTim0Q" name="" memberEnd="_v4ZYBYJREeGsv772wTim0Q _v27YZIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4ZYBYJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4ZYBIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Z_EYJREeGsv772wTim0Q" name="" memberEnd="_v4Z_EoJREeGsv772wTim0Q _v27_cIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Z_EoJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4Z_EYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4Z_FIJREeGsv772wTim0Q" name="" memberEnd="_v4Z_FYJREeGsv772wTim0Q _v27_c4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4Z_FYJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4Z_FIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4amIYJREeGsv772wTim0Q" name="" memberEnd="_v4amIoJREeGsv772wTim0Q _v28mgoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4amIoJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4amIYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4amJIJREeGsv772wTim0Q" name="" memberEnd="_v4amJYJREeGsv772wTim0Q _v29NkYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4amJYJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4amJIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4bNMYJREeGsv772wTim0Q" name="" memberEnd="_v4bNMoJREeGsv772wTim0Q _v290oIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4bNMoJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4bNMYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4bNNIJREeGsv772wTim0Q" name="" memberEnd="_v4bNNYJREeGsv772wTim0Q _v290ooJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4bNNYJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4bNNIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4b0QIJREeGsv772wTim0Q" name="" memberEnd="_v4b0QYJREeGsv772wTim0Q _v2-bsIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4b0QYJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4b0QIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4b0Q4JREeGsv772wTim0Q" name="" memberEnd="_v4b0RIJREeGsv772wTim0Q _v2-bs4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4b0RIJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4b0Q4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4cbUIJREeGsv772wTim0Q" name="" memberEnd="_v4cbUYJREeGsv772wTim0Q _v2-btoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4cbUYJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4cbUIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4cbU4JREeGsv772wTim0Q" name="" memberEnd="_v4cbVIJREeGsv772wTim0Q _v2_CwYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4cbVIJREeGsv772wTim0Q" name="" type="_tZiI4YJREeGsv772wTim0Q" association="_v4cbU4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4cbVoJREeGsv772wTim0Q" name="" memberEnd="_v4cbV4JREeGsv772wTim0Q _v2_p0IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4cbV4JREeGsv772wTim0Q" name="" type="_tZz1sYJREeGsv772wTim0Q" association="_v4cbVoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4dCYYJREeGsv772wTim0Q" name="" memberEnd="_v4dCYoJREeGsv772wTim0Q _v3AQ4YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4dCYoJREeGsv772wTim0Q" name="" type="_tZz1sYJREeGsv772wTim0Q" association="_v4dCYYJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_sndLsIJREeGsv772wTim0Q" name="npcentities">
            <packagedElement xmi:type="uml:Class" xmi:id="_tDPv0IJREeGsv772wTim0Q" name="QuestNPC">
              <generalization xmi:id="_th6BwoJREeGsv772wTim0Q" general="_th4MkYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlEDcIJREeGsv772wTim0Q" name="quest" visibility="private" type="_tcJYAYJREeGsv772wTim0Q" association="_tqpHBIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlEqgIJREeGsv772wTim0Q" name="type" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlFRkYJREeGsv772wTim0Q" name="START" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlFRkoJREeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlF4oIJREeGsv772wTim0Q" name="END" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlF4oYJREeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlF4ooJREeGsv772wTim0Q" name="STARTEND" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlF4o4JREeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tokqcIJREeGsv772wTim0Q" name="QuestNPC" specification="_tcR64IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tokqcYJREeGsv772wTim0Q" name="npcInstance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tokqcoJREeGsv772wTim0Q" type="_tDPv0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(npcInstance);&#xD;
		this.quest = RageMod.getInstance().questManager.quests.get(npcInstance.questId);&#xD;
		this.type = npcInstance.questNPCType;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tokqc4JREeGsv772wTim0Q" name="rightClickAction" specification="_th5asIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tokqdIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = this.plugin.players.get(player.getName());&#xD;
		if(playerData.activeQuestData.getQuest() == quest &amp;&amp; (type == STARTEND || type == END)) &#xD;
		{&#xD;
			player.sendMessage(&quot;If you are finished with your quest, left click me.&quot;);&#xD;
		} &#xD;
		else if(playerData.activeQuestData.isPlayerOnQuest() &amp;&amp; (type == STARTEND || type == START))&#xD;
		{&#xD;
			player.sendMessage(&quot;When you are finished with your current quest, come back to see me.&quot;);&#xD;
		}&#xD;
		else if(type == STARTEND || type == START)&#xD;
		{&#xD;
			player.sendMessage(&quot;Quest: &quot; + quest.getQuestData().getName());&#xD;
			player.sendMessage(quest.getQuestData().getStartText());&#xD;
			player.sendMessage(&quot;[Left click npc to accept]&quot;);	&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tokqdYJREeGsv772wTim0Q" name="leftClickAction" specification="_th6BwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tokqdoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = this.plugin.players.get(player.getName());&#xD;
		if(playerData.activeQuestData.getQuest() == quest &amp;&amp; (type == STARTEND || type == END)) &#xD;
		{&#xD;
			if(quest.isFinished(playerData))&#xD;
				quest.end(player, playerData);&#xD;
			else&#xD;
				quest.statusUpdate(player, playerData);&#xD;
		} &#xD;
		else if(playerData.activeQuestData.isPlayerOnQuest() &amp;&amp; (type == STARTEND || type == START))&#xD;
		{&#xD;
			player.sendMessage(&quot;When you are finished with your current quest, come back to see me.&quot;);&#xD;
		}&#xD;
		else if(type == STARTEND || type == START)&#xD;
		{&#xD;
			if(playerData.activeQuestData.isQuestCompleted(quest.getQuestData().getId()))&#xD;
			{&#xD;
				player.sendMessage(&quot;You have already finished this quest &quot;);&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				player.sendMessage(&quot;Quest: &quot; + quest.getQuestData().getName());&#xD;
				player.sendMessage(quest.getQuestData().getStartText());&#xD;
				quest.start(player, playerData);&#xD;
			}			&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Say something from phrases maybe? This happens if it is a Quest END NPC, and the player is not on a quest, or a wrong one.&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tcR64IJREeGsv772wTim0Q" name="QuestNPC" method="_tokqcIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tcR64oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tcR644JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tcR64YJREeGsv772wTim0Q" name="npcInstance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcR65IJREeGsv772wTim0Q" type="_tDPv0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th5asIJREeGsv772wTim0Q" name="rightClickAction" method="_tokqc4JREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpKgUYJREeGsv772wTim0Q">
                  <body>Method called when a right click action on the NPC is performed by a&#xD;
	 * player. *&#xD;
	 * &#xD;
	 * @param player&#xD;
	 *            Player that right clicked the entity</body>
                </ownedComment>
                <ownedParameter xmi:id="_th5asYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th6BwIJREeGsv772wTim0Q" name="leftClickAction" method="_tokqdYJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpKgUoJREeGsv772wTim0Q">
                  <body>Method called when a left click action on the NPC is performed by a&#xD;
	 * player. *&#xD;
	 * &#xD;
	 * @param player&#xD;
	 *            Player that left clicked the entity</body>
                </ownedComment>
                <ownedParameter xmi:id="_th6BwYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tDSzIIJREeGsv772wTim0Q" name="RageEntity">
              <ownedComment xmi:id="_tpKgU4JREeGsv772wTim0Q">
                <body>&#xD;
@author TheIcarusKid&#xD;
Provides a layer between NPCEntity and the custom entity classes for Ragemod-specific code&#xD;
 *</body>
              </ownedComment>
              <generalization xmi:id="_th-6Q4JREeGsv772wTim0Q" general="_tcWzYIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlHt0IJREeGsv772wTim0Q" name="lastTargetId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlIU4IJREeGsv772wTim0Q" name="lastBounceTick" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlIU4YJREeGsv772wTim0Q" name="lastBounceId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlI78IJREeGsv772wTim0Q" name="plugin" visibility="protected" type="_s5og0IJREeGsv772wTim0Q" association="_tqpuEYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlJjAIJREeGsv772wTim0Q" name="speechData" visibility="protected" type="_th6o0IJREeGsv772wTim0Q" association="_tqpuFIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlJjAYJREeGsv772wTim0Q" name="instance" visibility="protected" type="_s_hGYIJREeGsv772wTim0Q" association="_tqqVIYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlKKEIJREeGsv772wTim0Q" name="location" visibility="protected" type="_tZYX4IJREeGsv772wTim0Q" association="_tqqVJIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlKxIIJREeGsv772wTim0Q" name="world" visibility="package" type="_tcbE0YJREeGsv772wTim0Q" association="_tqq8MYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlLYMIJREeGsv772wTim0Q" name="netServerHandler" visibility="private" type="_tcWMUIJREeGsv772wTim0Q" association="_tqq8NIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlObgIJREeGsv772wTim0Q" name="bukkitEntity" visibility="package" type="_tZklIIJREeGsv772wTim0Q" association="_tqsxYIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tolRgIJREeGsv772wTim0Q" name="RageEntity" specification="_tceIIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tolRgYJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tolRgoJREeGsv772wTim0Q" type="_tDSzIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(handle); // TODO Fix this!&#xD;
		&#xD;
		NetworkManager netMgr = new NetworkManager(new Socket(),&#xD;
				&quot;NPC Manager&quot;, new NetHandler()&#xD;
				{&#xD;
					public boolean c()&#xD;
					{&#xD;
						return true;&#xD;
					}&#xD;
				});&#xD;
		// TODO Fix this!&#xD;
		//this.netServerHandler = new NPCNetHandler(instance.server.getMCServer(), netMgr, this);&#xD;
		this.lastTargetId = -1;&#xD;
		this.lastBounceId = -1;&#xD;
		this.lastBounceTick = 0L;&#xD;
		this.plugin = instance.plugin;&#xD;
		this.instance = instance;&#xD;
		&#xD;
		int radius = 20; &#xD;
		int interval = 30;&#xD;
		&#xD;
		this.speechData = plugin.database.npcQueries.getPhrases(instance.getNPCData(), instance.getTownID());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tolRg4JREeGsv772wTim0Q" name="addSpeechMessage" specification="_tcevMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tolRhIJREeGsv772wTim0Q" name="message" type="_tAjoMIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>speechData.addMessage(message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tolRhYJREeGsv772wTim0Q" name="actAsHurt" specification="_tDUoUIJREeGsv772wTim0Q">
                <language>java</language>
                <body>Entity entity = handle;&#xD;
		this.world.tracker.a(entity, new Packet18ArmAnimation());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tol4kIJREeGsv772wTim0Q" name="facePlayer" specification="_th9FEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tol4kYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>float yaw = (float) ((Math.atan2(instance.getLocation().getX() - player.getLocation().getX(), &#xD;
				player.getLocation().getZ() - instance.getLocation().getZ()) * 180) / Math.PI);&#xD;
		float pitch = (float) ((Math.atan(instance.getLocation().getY() - player.getLocation().getY()) * 180) / Math.PI);&#xD;
		&#xD;
		this.setPositionRotation(instance.getLocation().getX(), instance.getLocation().getY(), instance.getLocation().getZ(), yaw, pitch);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tol4mIJREeGsv772wTim0Q" name="setPositionRotation" specification="_tDXEkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tol4mYJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tol4moJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tol4m4JREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tol4nIJREeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tol4nYJREeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Unfinished&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tomfoIJREeGsv772wTim0Q" name="getBukkitEntity" specification="_tDYSsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tomfoYJREeGsv772wTim0Q" type="_tZklIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Unfinished&#xD;
		return bukkitEntity;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tomfooJREeGsv772wTim0Q" name="setPosition" specification="_tDYSsoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tomfo4JREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tomfpIJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tomfpYJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tomfpoJREeGsv772wTim0Q" name="setSneak" specification="_tDY5woJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tomfp4JREeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tomfqIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return flag;&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tDVPYIJREeGsv772wTim0Q" name="SpeechTask">
                <generalization xmi:id="_th-6QoJREeGsv772wTim0Q" general="_tcU-MIJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tlL_QIJREeGsv772wTim0Q" name="npcEntity" visibility="private" type="_th4MkYJREeGsv772wTim0Q" association="_tqrjQYJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tlMmUYJREeGsv772wTim0Q" name="timer" visibility="private" type="_tcUXIYJREeGsv772wTim0Q" association="_tqrjRIJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tlNNYYJREeGsv772wTim0Q" name="speechData" visibility="private" type="_th6o0IJREeGsv772wTim0Q" association="_tqsKUYJREeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tol4koJREeGsv772wTim0Q" name="SpeechTask" specification="_th-TMIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_tol4k4JREeGsv772wTim0Q" name="npcEntity" type="_th4MkYJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_tol4lIJREeGsv772wTim0Q" name="timer" type="_tcUXIYJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_tol4lYJREeGsv772wTim0Q" name="speechData" type="_th6o0IJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_tol4loJREeGsv772wTim0Q" type="_tDVPYIJREeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.npcEntity = npcEntity;&#xD;
			this.timer = timer;&#xD;
			this.speechData = speechData;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tol4l4JREeGsv772wTim0Q" name="run" specification="_tDV2cIJREeGsv772wTim0Q">
                  <language>java</language>
                  <body>if(RageMod.getInstance().npcManager.contains(npcEntity) &amp;&amp; speechData.getInterval() > 0)&#xD;
			{&#xD;
				Player[] players = RageEntity.this.plugin.getServer().getOnlinePlayers();&#xD;
				&#xD;
				for (Player player : players)&#xD;
				{&#xD;
					if ((player.getLocation().distance(this.npcEntity.getBukkitEntity().getLocation()) >= speechData.getRadius()))&#xD;
					{&#xD;
						continue;&#xD;
					}					&#xD;
					PlayerData playerData = plugin.players.get(player.getName());&#xD;
					player.sendMessage(speechData.getNextMessage(playerData));&#xD;
				}&#xD;
&#xD;
				if (RageMod.getInstance().npcManager.contains(this.npcEntity))&#xD;
					this.timer.schedule(new SpeechTask(RageEntity.this, this.timer, speechData), speechData.getInterval());&#xD;
			}				&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_tDV2cIJREeGsv772wTim0Q" name="run" method="_tol4l4JREeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_th-TMIJREeGsv772wTim0Q" name="SpeechTask" method="_tol4koJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_th-TNIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_th-6QIJREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_th-TMYJREeGsv772wTim0Q" name="npcEntity" type="_th4MkYJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_th-TMoJREeGsv772wTim0Q" name="timer" type="_tcUXIYJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_th-TM4JREeGsv772wTim0Q" name="speechData" type="_th6o0IJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_th-6QYJREeGsv772wTim0Q" type="_tDVPYIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_tDUoUIJREeGsv772wTim0Q" name="actAsHurt" method="_tolRhYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tDXEkIJREeGsv772wTim0Q" name="setPositionRotation" method="_tol4mIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDXEkYJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDXEkoJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDXroIJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDXroYJREeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDXrooJREeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDYSsIJREeGsv772wTim0Q" name="getBukkitEntity" method="_tomfoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcf9UIJREeGsv772wTim0Q" type="_tZklIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDYSsoJREeGsv772wTim0Q" name="setPosition" method="_tomfooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDYSs4JREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDYStIJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDY5wIJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDY5woJREeGsv772wTim0Q" name="setSneak" method="_tomfpoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDY5w4JREeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDY5xIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tceIIIJREeGsv772wTim0Q" name="RageEntity" method="_tolRgIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tceIIoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tceII4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tceIIYJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tceIJIJREeGsv772wTim0Q" type="_tDSzIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcevMIJREeGsv772wTim0Q" name="addSpeechMessage" method="_tolRg4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcevMYJREeGsv772wTim0Q" name="message" type="_tAjoMIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th728IJREeGsv772wTim0Q" name="rightClickAction">
                <ownedParameter xmi:id="_th728YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th8eAIJREeGsv772wTim0Q" name="leftClickAction">
                <ownedParameter xmi:id="_th8eAYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th8eAoJREeGsv772wTim0Q" name="onLeftClick">
                <ownedParameter xmi:id="_th8eA4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th9FEoJREeGsv772wTim0Q" name="facePlayer" method="_tol4kIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_th9FE4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tDhcoIJREeGsv772wTim0Q" name="RageNPCManager">
              <ownedAttribute xmi:id="_tlTUAIJREeGsv772wTim0Q" name="taskid" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlT7EIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqsxY4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlUiIIJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_tqtYcIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlUiIYJREeGsv772wTim0Q" name="activeNPCs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqtYc4JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlVJMYJREeGsv772wTim0Q" value="new HashMap&lt;Integer, NPCInstance>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlVwQIJREeGsv772wTim0Q" name="npcLocationPool" visibility="private" type="_tAZQIIJREeGsv772wTim0Q" association="_tqt_gIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlVwQYJREeGsv772wTim0Q" name="npcPool" visibility="private" type="_tApHwIJREeGsv772wTim0Q" association="_tqt_g4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tonGsIJREeGsv772wTim0Q" name="RageNPCManager" specification="_tcmD8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tonGsYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tonGsoJREeGsv772wTim0Q" type="_tDhcoIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		random = new Random();&#xD;
		&#xD;
		// On startup, pull all the NPC data from the DB into memory 		&#xD;
		this.npcLocationPool = plugin.database.npcQueries.loadNPCLocations();&#xD;
		this.npcPool = plugin.database.npcQueries.loadNPCs();&#xD;
		&#xD;
		this.taskid = plugin.getServer().getScheduler().scheduleAsyncRepeatingTask(plugin, new Runnable() &#xD;
		{&#xD;
			public void run() &#xD;
			{&#xD;
				// TODO Fix this!&#xD;
				HashSet&lt;Integer> toRemove = new HashSet&lt;Integer>();&#xD;
				for (int i : RageMod.getInstance().npcManager.activeNPCs.keySet()) &#xD;
				{&#xD;
					//net.minecraft.server.Entity j = (net.minecraft.server.Entity)RageMod.getInstance().npcManager.activeNPCs.get(i).getEntity(); // TODO Fix this!&#xD;
					//j.aA();&#xD;
					//if (j.dead) &#xD;
					{&#xD;
						toRemove.add(i);&#xD;
					}&#xD;
				}&#xD;
				for (int n : toRemove)&#xD;
					RageNPCManager.this.despawnById(n);&#xD;
			}&#xD;
		}, 100L, 100L);&#xD;
						//Listener listener;&#xD;
						//PluginManager pm = plugin.getServer().getPluginManager();&#xD;
						//pm.registerEvent(Event.Type.PLUGIN_DISABLE, new SL(), Priority.Normal, plugin);&#xD;
						//pm.registerEvent(Event.Type.CHUNK_LOAD, new WL(), Priority.Normal, plugin);&#xD;
						&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tonGs4JREeGsv772wTim0Q" name="spawnAllInstances" specification="_tDjR0IJREeGsv772wTim0Q">
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> npcInstances = plugin.database.npcQueries.loadInstances();&#xD;
		&#xD;
		// Spawn all NPCs with active Instances&#xD;
		for( NPCInstance instance : npcInstances )&#xD;
		{&#xD;
			try&#xD;
			{&#xD;
				instance.spawn();&#xD;
			}&#xD;
			catch( Exception ex )&#xD;
			{&#xD;
				System.out.println(&quot;Error spawning NPC Instance #&quot; + instance.getID() + &quot;: &quot; + ex.getMessage());&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tonGtIJREeGsv772wTim0Q" name="addLocation" specification="_tcmrAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tonGtYJREeGsv772wTim0Q" name="npcLocation" type="_tAIxcIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcLocationPool.add(npcLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tonGtoJREeGsv772wTim0Q" name="getLocation" specification="_tDjR0oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tonGt4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tonGuIJREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tontwIJREeGsv772wTim0Q" name="activateLocation" specification="_tDj44YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tontwYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tontwoJREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.activate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tontw4JREeGsv772wTim0Q" name="deactivateLocation" specification="_tcnSEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tontxIJREeGsv772wTim0Q" name="location" type="_tAIxcIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcLocationPool.deactivate(location.getID());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tontxYJREeGsv772wTim0Q" name="deactivateLocation" specification="_tDkf8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tontxoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>npcLocationPool.deactivate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tontx4JREeGsv772wTim0Q" name="getAllLocations" specification="_tDlHAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tontyIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.getAllLocations();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tontyYJREeGsv772wTim0Q" name="addNPC" specification="_tcn5IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tontyoJREeGsv772wTim0Q" name="npc" type="_s_USEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcPool.add(npc);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tooU0IJREeGsv772wTim0Q" name="getNPC" specification="_tDluEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tooU0YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tooU0oJREeGsv772wTim0Q" type="_s_USEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tooU04JREeGsv772wTim0Q" name="activateNPC" specification="_tDmVIYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tooU1IJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tooU1YJREeGsv772wTim0Q" type="_s_USEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.activate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tooU1oJREeGsv772wTim0Q" name="activateRandomFloatingNPC" specification="_tDm8MYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tooU14JREeGsv772wTim0Q" type="_s_USEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.activateRandomFloating(0);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tooU2IJREeGsv772wTim0Q" name="deactivateNPC" specification="_tDm8M4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tooU2YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>npcPool.deactivate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_too74IJREeGsv772wTim0Q" name="despawnById" specification="_tDnjQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_too74YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCInstance instance = activeNPCs.get(id);&#xD;
		despawn(instance);&#xD;
		activeNPCs.remove(id);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_too74oJREeGsv772wTim0Q" name="despawn" specification="_tcogMYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_too744JREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (instance == null)&#xD;
			return;&#xD;
		&#xD;
		// Return the NPC and Location back to the pool&#xD;
		npcPool.deactivate(instance.getNPCid());&#xD;
		npcLocationPool.deactivate(instance.getLocation().getID());&#xD;
		&#xD;
		RageEntity npc = instance.getEntity();&#xD;
		if (npc == null)&#xD;
			return;&#xD;
		&#xD;
		try &#xD;
		{&#xD;
			// TODO Fix this!&#xD;
			//npc.world.removeEntity(npc);&#xD;
		} catch (Exception e) &#xD;
		{&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_too75IJREeGsv772wTim0Q" name="despawnAll" specification="_tDoKUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_too75YJREeGsv772wTim0Q" name="deleteInstances">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for (NPCInstance instance : activeNPCs.values()) &#xD;
		{&#xD;
			if( deleteInstances &amp;&amp; instance != null ) &#xD;
				plugin.database.npcQueries.disableInstance(instance.getID());&#xD;
			&#xD;
			despawn(instance);&#xD;
		}&#xD;
&#xD;
		activeNPCs.clear();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_too75oJREeGsv772wTim0Q" name="getNPCIdFromEntity" specification="_tcpHQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_too754JREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_too76IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if ((e instanceof HumanEntity)) &#xD;
		{&#xD;
			for (int i : activeNPCs.keySet()) &#xD;
			{&#xD;
				if (((RageEntity) activeNPCs.get(i).getEntity()).getBukkitEntity().getEntityId() == ((HumanEntity) e).getEntityId()) &#xD;
				{&#xD;
					return i;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_topi8IJREeGsv772wTim0Q" name="getNPCFromEntity" specification="_tcpuUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_topi8YJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_topi8oJREeGsv772wTim0Q" type="_th4MkYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if ((e instanceof HumanEntity)) &#xD;
		{&#xD;
			for (int i : RageMod.getInstance().npcManager.activeNPCs.keySet()) &#xD;
			{&#xD;
				if (((RageEntity) RageMod.getInstance().npcManager.activeNPCs.get(i).getEntity()).getBukkitEntity().getEntityId() == ((HumanEntity) e).getEntityId()) &#xD;
				{&#xD;
					return (RageEntity) RageMod.getInstance().npcManager.activeNPCs.get(i).getEntity();&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_topi94JREeGsv772wTim0Q" name="addInstance" specification="_tcqVYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_topi-IJREeGsv772wTim0Q" name="id_NPCInstance">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_topi-YJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.activeNPCs.put(id_NPCInstance, instance);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_topi-oJREeGsv772wTim0Q" name="contains" specification="_tiCkoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_topi-4JREeGsv772wTim0Q" name="RageEntity" type="_th4MkYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_topi_IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for( NPCInstance instance : activeNPCs.values() )&#xD;
		{&#xD;
			if( instance.getEntity() == RageEntity )&#xD;
				return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqKAIJREeGsv772wTim0Q" name="getAllInstances" specification="_tDrNoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqKAYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;NPCInstance>(activeNPCs.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqKAoJREeGsv772wTim0Q" name="associateLocations" specification="_tDsbwIJREeGsv772wTim0Q">
                <language>java</language>
                <body>for( NPCLocation location : this.npcLocationPool.getAllLocations() )&#xD;
		{&#xD;
			if( location.getTown() != null )&#xD;
				location.getTown().addNPCLocation(location);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqKA4JREeGsv772wTim0Q" name="getFloatingInstances" specification="_tDsbwoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqKBIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> instances = new ArrayList&lt;NPCInstance>();&#xD;
		&#xD;
		for( NPCInstance instance : activeNPCs.values() )&#xD;
		{&#xD;
			if( instance.getLocation().getTown() == null )&#xD;
				instances.add(instance);&#xD;
		}&#xD;
		&#xD;
		return instances;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqKBYJREeGsv772wTim0Q" name="spawnRandomFloating" specification="_tDtp4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqKBoJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>NPCLocation location;&#xD;
		NPCData npc;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get a random NPCLocation from the reserve pool&#xD;
			location = this.npcLocationPool.activateRandomFloating();&#xD;
			if( location == null )&#xD;
				throw new Exception(&quot;Could not activate an NPCLocation.&quot;);&#xD;
			&#xD;
			// Activate a random NPC from the pool&#xD;
			npc = this.npcPool.activateRandomFloating(0);&#xD;
			if( npc == null )&#xD;
			{&#xD;
				this.deactivateLocation(location);&#xD;
				throw new Exception(&quot;There are no more NPCs in the pool to activate.&quot;);&#xD;
			}&#xD;
			&#xD;
			return spawn(location, npc);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;Error in NPCManager.spawnRandomFloating(): &quot; + ex.getMessage());&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqKB4JREeGsv772wTim0Q" name="generateTTL" specification="_tDtp4oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqKCIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return random.nextInt(plugin.config.NPC_TTL_MAX - plugin.config.NPC_TTL_MIN) + plugin.config.NPC_TTL_MIN;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqxEIJREeGsv772wTim0Q" name="getActiveTownLocations" specification="_tDuQ8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqxEYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toqxEoJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.getActiveTownLocations(id);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqxE4JREeGsv772wTim0Q" name="spawnRandomInTown" specification="_tDvfEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqxFIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toqxFYJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>NPCLocation location;&#xD;
		NPCData npc;&#xD;
		NPCTown town = plugin.towns.getNPCTown(id); &#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get a random NPCLocation from the reserve pool&#xD;
			location = this.npcLocationPool.activateRandomInTown(id);&#xD;
			if( location == null )&#xD;
				throw new Exception(&quot;Could not activate an NPCLocation.&quot;);&#xD;
			&#xD;
			// Activate a random NPC from the pool&#xD;
			// Determine whether it will be a resident or guest based on odds set in config&#xD;
			if( random.nextInt(100) &lt; plugin.config.NPCTOWN_GUEST_CHANCE )&#xD;
				npc = npcPool.activateRandomFloating(town.id_NPCRace);&#xD;
			else&#xD;
				npc = npcPool.activateRandomInTown(id);&#xD;
			&#xD;
			if( npc == null )&#xD;
			{&#xD;
				this.deactivateLocation(location);&#xD;
				throw new Exception(&quot;There are no more NPCs in the pool to activate.&quot;);&#xD;
			}&#xD;
			&#xD;
			return spawn(location, npc);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;Error in NPCManager.spawnRandomInTown(): &quot; + ex.getMessage());&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqxFoJREeGsv772wTim0Q" name="spawn" specification="_tcq8coJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqxF4JREeGsv772wTim0Q" name="location" type="_tAIxcIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toqxGIJREeGsv772wTim0Q" name="npc" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toqxGYJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>NPCInstance instance;&#xD;
		&#xD;
		// Register the NPC instance and spawn the NPC&#xD;
		instance = plugin.database.npcQueries.createInstance(&#xD;
				npc.id_NPC, location.getID(), this.generateTTL(), 0, NPCType.SPEECH);&#xD;
		instance.setData(npc, location);&#xD;
		instance.spawn();&#xD;
				&#xD;
		return instance;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqxGoJREeGsv772wTim0Q" name="despawnExpired" specification="_tDwGIIJREeGsv772wTim0Q">
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> instances = new ArrayList&lt;NPCInstance>(activeNPCs.values());&#xD;
		&#xD;
		for( NPCInstance instance : instances )&#xD;
		{&#xD;
			if( instance.isExpired() )&#xD;
			{&#xD;
				despawn(instance);&#xD;
				activeNPCs.remove(instance.getID());&#xD;
				System.out.println(&quot;Automatically despawned NPC &quot; + instance.getName());&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toqxG4JREeGsv772wTim0Q" name="getAllResidents" specification="_tDwGIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toqxHIJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toqxHYJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.getAllResidents(id_NPCTown);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_torYIIJREeGsv772wTim0Q" name="isNPC" specification="_tiEZ0YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_torYIYJREeGsv772wTim0Q" name="defenderEntity" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_torYIoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Unfinished&#xD;
		if (!(defenderEntity instanceof Player) &amp;&amp; !(defenderEntity instanceof Creature)) {&#xD;
			return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tDoxYIJREeGsv772wTim0Q" name="SL" visibility="private" clientDependency="_tiAvcoJREeGsv772wTim0Q">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_topi84JREeGsv772wTim0Q" name="onPluginDisable" specification="_tiBWgIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_topi9IJREeGsv772wTim0Q" name="event" type="_tZuWIIJREeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>if (event.getPlugin() == RageNPCManager.this.plugin) &#xD;
			{&#xD;
				RageNPCManager.this.despawnAll(false);&#xD;
				RageNPCManager.this.plugin.getServer().getScheduler().cancelTask(RageNPCManager.this.taskid);&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <interfaceRealization xmi:id="_tiAvcoJREeGsv772wTim0Q" supplier="_tZo2kIJREeGsv772wTim0Q" client="_tDoxYIJREeGsv772wTim0Q" contract="_tZo2kIJREeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_tDoxYoJREeGsv772wTim0Q" name="SL" visibility="private">
                  <eAnnotations xmi:id="_tDpYcIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tDpYcYJREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_tDpYc4JREeGsv772wTim0Q" type="_tDoxYIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_tiBWgIJREeGsv772wTim0Q" name="onPluginDisable" method="_topi84JREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_tiBWgYJREeGsv772wTim0Q" name="event" type="_tZuWIIJREeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tDp_gIJREeGsv772wTim0Q" name="WL" visibility="private" clientDependency="_tiB9kIJREeGsv772wTim0Q">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_topi9YJREeGsv772wTim0Q" name="onChunkLoad" specification="_tiB9kYJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_topi9oJREeGsv772wTim0Q" name="event" type="_tck10IJREeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>for (NPCInstance npcInstance : RageMod.getInstance().npcManager.activeNPCs.values())&#xD;
			{&#xD;
				RageEntity npc = null;&#xD;
				if( npcInstance != null )&#xD;
					npc = npcInstance.getEntity();&#xD;
				&#xD;
				if ((npc != null) &amp;&amp; (event.getChunk() == npc.getBukkitEntity().getLocation().getBlock().getChunk())) &#xD;
				{   // TODO FIX THIS!&#xD;
					//World world = new Location(event.getWorld(), taskid, taskid, taskid);&#xD;
					//world.getWorldServer().addEntity(npc);&#xD;
				}&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <interfaceRealization xmi:id="_tiB9kIJREeGsv772wTim0Q" supplier="_tZo2kIJREeGsv772wTim0Q" client="_tDp_gIJREeGsv772wTim0Q" contract="_tZo2kIJREeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_tDp_goJREeGsv772wTim0Q" name="WL" visibility="private">
                  <eAnnotations xmi:id="_tDqmkIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tDqmkYJREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_tDqmk4JREeGsv772wTim0Q" type="_tDp_gIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_tiB9kYJREeGsv772wTim0Q" name="onChunkLoad" method="_topi9YJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_tiB9koJREeGsv772wTim0Q" name="event" type="_tck10IJREeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_tDjR0IJREeGsv772wTim0Q" name="spawnAllInstances" method="_tonGs4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tDjR0oJREeGsv772wTim0Q" name="getLocation" method="_tonGtoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDjR04JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcmrA4JREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDj44YJREeGsv772wTim0Q" name="activateLocation" method="_tontwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDj44oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcmrBIJREeGsv772wTim0Q" type="_tAIxcIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDkf8YJREeGsv772wTim0Q" name="deactivateLocation" method="_tontxYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDkf8oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDlHAIJREeGsv772wTim0Q" name="getAllLocations" method="_tontx4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiAvcIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDluEoJREeGsv772wTim0Q" name="getNPC" method="_tooU0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDluE4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcn5I4JREeGsv772wTim0Q" type="_s_USEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDmVIYJREeGsv772wTim0Q" name="activateNPC" method="_tooU04JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDmVIoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcn5JIJREeGsv772wTim0Q" type="_s_USEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDm8MYJREeGsv772wTim0Q" name="activateRandomFloatingNPC" method="_tooU1oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcogMIJREeGsv772wTim0Q" type="_s_USEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDm8M4JREeGsv772wTim0Q" name="deactivateNPC" method="_tooU2IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDnjQIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDnjQoJREeGsv772wTim0Q" name="despawnById" method="_too74IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDnjQ4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDoKUIJREeGsv772wTim0Q" name="despawnAll" method="_too75IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDoKUYJREeGsv772wTim0Q" name="deleteInstances">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDrNoIJREeGsv772wTim0Q" name="getAllInstances" method="_toqKAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiDLsIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDsbwIJREeGsv772wTim0Q" name="associateLocations" method="_toqKAoJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tDsbwoJREeGsv772wTim0Q" name="getFloatingInstances" method="_toqKA4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiDLsYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDtp4IJREeGsv772wTim0Q" name="spawnRandomFloating" method="_toqKBYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcq8cIJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDtp4oJREeGsv772wTim0Q" name="generateTTL" method="_toqKB4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDtp44JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDuQ8YJREeGsv772wTim0Q" name="getActiveTownLocations" method="_toqxEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDuQ8oJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiDLsoJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDvfEIJREeGsv772wTim0Q" name="spawnRandomInTown" method="_toqxE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDvfEYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcq8cYJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDwGIIJREeGsv772wTim0Q" name="despawnExpired" method="_toqxGoJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tDwGIoJREeGsv772wTim0Q" name="getAllResidents" method="_toqxG4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDwGI4JREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiEZ0IJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcmD8IJREeGsv772wTim0Q" name="RageNPCManager" method="_tonGsIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tcmD8oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tcmD84JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tcmD8YJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcmD9IJREeGsv772wTim0Q" type="_tDhcoIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcmrAIJREeGsv772wTim0Q" name="addLocation" method="_tonGtIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcmrAYJREeGsv772wTim0Q" name="npcLocation" type="_tAIxcIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcnSEIJREeGsv772wTim0Q" name="deactivateLocation" method="_tontw4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcnSEYJREeGsv772wTim0Q" name="location" type="_tAIxcIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcn5IIJREeGsv772wTim0Q" name="addNPC" method="_tontyYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcn5IYJREeGsv772wTim0Q" name="npc" type="_s_USEIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcogMYJREeGsv772wTim0Q" name="despawn" visibility="private" method="_too74oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcogMoJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcpHQIJREeGsv772wTim0Q" name="getNPCIdFromEntity" method="_too75oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcpHQYJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcpHQoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tcpuUIJREeGsv772wTim0Q" name="getNPCFromEntity" isStatic="true" method="_topi8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcpuUYJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiAvcYJREeGsv772wTim0Q" type="_th4MkYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcqVYIJREeGsv772wTim0Q" name="addInstance" method="_topi94JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcqVYYJREeGsv772wTim0Q" name="id_NPCInstance">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcqVYoJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcq8coJREeGsv772wTim0Q" name="spawn" method="_toqxFoJREeGsv772wTim0Q" raisedException="_tiDLs4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcq8c4JREeGsv772wTim0Q" name="location" type="_tAIxcIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcrjgIJREeGsv772wTim0Q" name="npc" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcrjgYJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiCkoIJREeGsv772wTim0Q" name="contains" method="_topi-oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiCkoYJREeGsv772wTim0Q" name="RageEntity" type="_th4MkYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiCkooJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tiEZ0YJREeGsv772wTim0Q" name="isNPC" isStatic="true" method="_torYIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiEZ0oJREeGsv772wTim0Q" name="defenderEntity" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiEZ04JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tD-voIJREeGsv772wTim0Q" name="SpeechData">
              <ownedAttribute xmi:id="_tldFAIJREeGsv772wTim0Q" name="messages" visibility="private" type="_tZXJwIJREeGsv772wTim0Q" association="_tqumkIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tldsEYJREeGsv772wTim0Q" name="initialGreeting" visibility="private" type="_tAjoMIJREeGsv772wTim0Q" association="_tqumk4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tleTIIJREeGsv772wTim0Q" name="followups" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqvNoIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tle6MYJREeGsv772wTim0Q" name="npcData" visibility="private" type="_s_USEIJREeGsv772wTim0Q" association="_tqvNo4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlfhQIJREeGsv772wTim0Q" name="messagePointer" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlgIUIJREeGsv772wTim0Q" name="radius">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlgIUYJREeGsv772wTim0Q" value="20"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlgvYIJREeGsv772wTim0Q" name="interval">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlgvYYJREeGsv772wTim0Q" value="30"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlgvY4JREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqv0sIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_torYI4JREeGsv772wTim0Q" name="SpeechData" specification="_tiGPAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_torYJIJREeGsv772wTim0Q" name="messages" type="_tZXJwIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_torYJYJREeGsv772wTim0Q" name="initialGreeting" type="_tAjoMIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_torYJoJREeGsv772wTim0Q" name="followups" type="_tZxZcYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_torYJ4JREeGsv772wTim0Q" name="npcData" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_torYKIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_torYKYJREeGsv772wTim0Q" type="_tD-voIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.messages = messages;&#xD;
		messagePointer = 0;&#xD;
		this.initialGreeting = initialGreeting;&#xD;
		this.followups = followups;&#xD;
		this.npcData = npcData;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tor_MIJREeGsv772wTim0Q" name="getNextMessage" specification="_tiIEMYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tor_MYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tor_MoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if(messages.size() > 0)&#xD;
		{&#xD;
			String message = messages.get(messagePointer).getMessage(playerData);&#xD;
			&#xD;
			messagePointer++;&#xD;
			if(messagePointer == messages.size())&#xD;
				messagePointer = 0;&#xD;
			&#xD;
			return message;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			return &quot;I am error.&quot;;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tor_M4JREeGsv772wTim0Q" name="getInitialGreeting" specification="_tiIrQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tor_NIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tor_NYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return initialGreeting.getMessage(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tor_NoJREeGsv772wTim0Q" name="getFollowupGreeting" specification="_tiJSUYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tor_N4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tor_OIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Convert the -10 to 10 affinity float value to the -2 to 2 affinity integer code&#xD;
		int affinityCode = Util.getAffinityCode(playerData.getAffinity(npcData.id_NPC));&#xD;
		&#xD;
		return followups.get(affinityCode).getMessage(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tor_OYJREeGsv772wTim0Q" name="addMessage" specification="_tcxDEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tor_OoJREeGsv772wTim0Q" name="message" type="_tAjoMIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>messages.add(message);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tcxDEIJREeGsv772wTim0Q" name="addMessage" method="_tor_OYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcxDEYJREeGsv772wTim0Q" name="message" type="_tAjoMIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiGPAIJREeGsv772wTim0Q" name="SpeechData" method="_torYI4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tiGPBoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tiG2EIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tiGPAYJREeGsv772wTim0Q" name="messages" type="_tZXJwIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiGPAoJREeGsv772wTim0Q" name="initialGreeting" type="_tAjoMIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiGPA4JREeGsv772wTim0Q" name="followups" type="_tZxZcYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiGPBIJREeGsv772wTim0Q" name="npcData" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiGPBYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiG2EYJREeGsv772wTim0Q" type="_tD-voIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiIEMYJREeGsv772wTim0Q" name="getNextMessage" method="_tor_MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiIEMoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiIEM4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tiIrQYJREeGsv772wTim0Q" name="getInitialGreeting" method="_tor_M4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiIrQoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiIrQ4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tiJSUYJREeGsv772wTim0Q" name="getFollowupGreeting" method="_tor_NoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiJSUoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiJSU4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tEHSgIJREeGsv772wTim0Q" name="SpeechNPC">
              <generalization xmi:id="_tiLHgYJREeGsv772wTim0Q" general="_th4MkYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tljysIJREeGsv772wTim0Q" name="name" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tosmQIJREeGsv772wTim0Q" name="SpeechNPC" specification="_tczfUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tosmQYJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tosmQoJREeGsv772wTim0Q" type="_tEHSgIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(instance);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tosmQ4JREeGsv772wTim0Q" name="rightClickAction" specification="_tiKgcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tosmRIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		this.facePlayer(player);&#xD;
		&#xD;
		if( playerData.isNewInteraction(instance.getID()) )&#xD;
		{&#xD;
			// If  returned true, this is the first encounter with this instance&#xD;
			if( playerData.isFirstMeeting(instance.getNPCid()) )&#xD;
				plugin.message.talk(player, this.name, this.speechData.getInitialGreeting(playerData));&#xD;
			else&#xD;
				plugin.message.talk(player, this.name, speechData.getFollowupGreeting(playerData));&#xD;
			&#xD;
			playerData.recordNPCInteraction(instance);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.talk(player, this.name, this.speechData.getNextMessage(playerData));&#xD;
		}&#xD;
			&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tczfUIJREeGsv772wTim0Q" name="SpeechNPC" method="_tosmQIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tczfUoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tczfU4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tczfUYJREeGsv772wTim0Q" name="instance" type="_s_hGYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tc0GYIJREeGsv772wTim0Q" type="_tEHSgIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiKgcIJREeGsv772wTim0Q" name="rightClickAction" method="_tosmQ4JREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpLHYoJREeGsv772wTim0Q">
                  <body>Method called when a right click action on the NPC is performed by a&#xD;
	 * player. *&#xD;
	 * &#xD;
	 * @param player&#xD;
	 *            Player that right clicked the entity</body>
                </ownedComment>
                <ownedParameter xmi:id="_tiKgcYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiKgcoJREeGsv772wTim0Q" name="leftClickAction">
                <ownedParameter xmi:id="_tiKgc4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tiDLs4JREeGsv772wTim0Q" name="Exception"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqpHBIJREeGsv772wTim0Q" name="" memberEnd="_tqpHBYJREeGsv772wTim0Q _tlEDcIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqpHBYJREeGsv772wTim0Q" name="" type="_tDPv0IJREeGsv772wTim0Q" association="_tqpHBIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqpuEYJREeGsv772wTim0Q" name="" memberEnd="_tqpuEoJREeGsv772wTim0Q _tlI78IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqpuEoJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqpuEYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqpuFIJREeGsv772wTim0Q" name="" memberEnd="_tqpuFYJREeGsv772wTim0Q _tlJjAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqpuFYJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqpuFIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqqVIYJREeGsv772wTim0Q" name="" memberEnd="_tqqVIoJREeGsv772wTim0Q _tlJjAYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqqVIoJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqqVIYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqqVJIJREeGsv772wTim0Q" name="" memberEnd="_tqqVJYJREeGsv772wTim0Q _tlKKEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqqVJYJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqqVJIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqq8MYJREeGsv772wTim0Q" name="" memberEnd="_tqq8MoJREeGsv772wTim0Q _tlKxIIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqq8MoJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqq8MYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqq8NIJREeGsv772wTim0Q" name="" memberEnd="_tqq8NYJREeGsv772wTim0Q _tlLYMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqq8NYJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqq8NIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqrjQYJREeGsv772wTim0Q" name="" memberEnd="_tqrjQoJREeGsv772wTim0Q _tlL_QIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqrjQoJREeGsv772wTim0Q" name="" type="_tDVPYIJREeGsv772wTim0Q" association="_tqrjQYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqrjRIJREeGsv772wTim0Q" name="" memberEnd="_tqrjRYJREeGsv772wTim0Q _tlMmUYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqrjRYJREeGsv772wTim0Q" name="" type="_tDVPYIJREeGsv772wTim0Q" association="_tqrjRIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqsKUYJREeGsv772wTim0Q" name="" memberEnd="_tqsKUoJREeGsv772wTim0Q _tlNNYYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqsKUoJREeGsv772wTim0Q" name="" type="_tDVPYIJREeGsv772wTim0Q" association="_tqsKUYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqsxYIJREeGsv772wTim0Q" name="" memberEnd="_tqsxYYJREeGsv772wTim0Q _tlObgIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqsxYYJREeGsv772wTim0Q" name="" type="_tDSzIIJREeGsv772wTim0Q" association="_tqsxYIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqsxY4JREeGsv772wTim0Q" name="" memberEnd="_tqsxZIJREeGsv772wTim0Q _tlT7EIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqsxZIJREeGsv772wTim0Q" name="" type="_tDhcoIJREeGsv772wTim0Q" association="_tqsxY4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqtYcIJREeGsv772wTim0Q" name="" memberEnd="_tqtYcYJREeGsv772wTim0Q _tlUiIIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqtYcYJREeGsv772wTim0Q" name="" type="_tDhcoIJREeGsv772wTim0Q" association="_tqtYcIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqtYc4JREeGsv772wTim0Q" name="" memberEnd="_tqtYdIJREeGsv772wTim0Q _tlUiIYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqtYdIJREeGsv772wTim0Q" name="" type="_tDhcoIJREeGsv772wTim0Q" association="_tqtYc4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqt_gIJREeGsv772wTim0Q" name="" memberEnd="_tqt_gYJREeGsv772wTim0Q _tlVwQIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqt_gYJREeGsv772wTim0Q" name="" type="_tDhcoIJREeGsv772wTim0Q" association="_tqt_gIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqt_g4JREeGsv772wTim0Q" name="" memberEnd="_tqt_hIJREeGsv772wTim0Q _tlVwQYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqt_hIJREeGsv772wTim0Q" name="" type="_tDhcoIJREeGsv772wTim0Q" association="_tqt_g4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqumkIJREeGsv772wTim0Q" name="" memberEnd="_tqumkYJREeGsv772wTim0Q _tldFAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqumkYJREeGsv772wTim0Q" name="" type="_tD-voIJREeGsv772wTim0Q" association="_tqumkIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqumk4JREeGsv772wTim0Q" name="" memberEnd="_tqumlIJREeGsv772wTim0Q _tldsEYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqumlIJREeGsv772wTim0Q" name="" type="_tD-voIJREeGsv772wTim0Q" association="_tqumk4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqvNoIJREeGsv772wTim0Q" name="" memberEnd="_tqvNoYJREeGsv772wTim0Q _tleTIIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqvNoYJREeGsv772wTim0Q" name="" type="_tD-voIJREeGsv772wTim0Q" association="_tqvNoIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqvNo4JREeGsv772wTim0Q" name="" memberEnd="_tqvNpIJREeGsv772wTim0Q _tle6MYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqvNpIJREeGsv772wTim0Q" name="" type="_tD-voIJREeGsv772wTim0Q" association="_tqvNo4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqv0sIJREeGsv772wTim0Q" name="" memberEnd="_tqv0sYJREeGsv772wTim0Q _tlgvY4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqv0sYJREeGsv772wTim0Q" name="" type="_tD-voIJREeGsv772wTim0Q" association="_tqv0sIJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_sndLsYJREeGsv772wTim0Q" name="quest">
            <packagedElement xmi:type="uml:Class" xmi:id="_tEJuwIJREeGsv772wTim0Q" name="KillCreatureQuest">
              <generalization xmi:id="_tiScQoJREeGsv772wTim0Q" general="_tiLukYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlln4IJREeGsv772wTim0Q" name="questData" visibility="private" type="_tiMVoYJREeGsv772wTim0Q" association="_tqv0s4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlmO8IJREeGsv772wTim0Q" name="rewardData" visibility="private" type="_tiM8sYJREeGsv772wTim0Q" association="_tqwbwYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlmO8YJREeGsv772wTim0Q" name="flags" visibility="private" type="_tiNjwYJREeGsv772wTim0Q" association="_tqwbxIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlm2AIJREeGsv772wTim0Q" name="creatureToBeKilled" type="_tZj-EIJREeGsv772wTim0Q" isReadOnly="true" association="_tqxC0YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlndEIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqxC1IJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tosmRYJREeGsv772wTim0Q" name="KillCreatureQuest" specification="_tiOx4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tosmRoJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tosmR4JREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tosmSIJREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tosmSYJREeGsv772wTim0Q" name="creatureToBeKilled" type="_tZj-EIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tosmSoJREeGsv772wTim0Q" type="_tEJuwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
		this.questData = questData;&#xD;
		this.rewardData = rewardData;&#xD;
		this.flags = flags;&#xD;
		this.creatureToBeKilled = creatureToBeKilled;&#xD;
		this.plugin = RageMod.getInstance();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_totNUIJREeGsv772wTim0Q" name="end" specification="_tiPY8oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_totNUYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_totNUoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (InventoryUtilities.checkFreeSpace(player.getInventory(), rewardData.getItem(),&#xD;
				rewardData.getAmountOfItems()))&#xD;
		{&#xD;
			plugin.message.parse(player, questData.getEndText());&#xD;
			plugin.message.parse(player, &quot;Received: &quot;);&#xD;
&#xD;
			if (rewardData.getAmountOfItems() > 0)&#xD;
			{&#xD;
				plugin.message.parse(player,&#xD;
						Integer.toString(rewardData.getAmountOfItems())&#xD;
								+ rewardData.getItem().getType().toString());&#xD;
				InventoryUtilities.addItemToInventory(player.getInventory(),&#xD;
						rewardData.getItem(), rewardData.getAmountOfItems());&#xD;
			}&#xD;
&#xD;
			if (rewardData.getCoins() > 0.0D)&#xD;
			{&#xD;
				plugin.message.parse(player,&#xD;
						Double.toString(rewardData.getCoins()) + &quot; Coins&quot;);&#xD;
				plugin.economy.bankDeposit(player.getName(), rewardData.getCoins());&#xD;
			}&#xD;
&#xD;
			plugin.message.parse(player, &quot;for finishing &quot; + questData.getName());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			player.sendMessage(InventoryUtilities.notEnoughSpaceMessage);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_totNU4JREeGsv772wTim0Q" name="start" specification="_tiQnEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_totNVIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_totNVYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (playerData.activeQuestData.isPlayerOnQuest())&#xD;
		{&#xD;
			plugin.message&#xD;
					.parse(player,&#xD;
							&quot;You are already on a quest. To abandon the quest write /quest abandon&quot;);&#xD;
		} &#xD;
		else if(!questData.isRequirementsMet(playerData)) {&#xD;
			plugin.message.parse(player, &quot;You don't meet the requirements for this quest.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Accepted quest: &quot; + questData.getName());&#xD;
			plugin.message.parse(player, questData.getStartText());&#xD;
			playerData.activeQuestData.startNewQuest(this, questData.getObjectiveCounter());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_totNVoJREeGsv772wTim0Q" name="isFinished" specification="_tiROIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_totNV4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_totNWIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (playerData.activeQuestData.getObjectiveCounter() >= questData.getObjectiveCounter())&#xD;
		{&#xD;
			return true;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			return false;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_totNWYJREeGsv772wTim0Q" name="statusUpdate" specification="_tiR1MYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_totNWoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_totNW4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.message.parse(player, &quot;You have killed &quot;&#xD;
				+ playerData.activeQuestData.getObjectiveCounter() + &quot; of &quot;&#xD;
				+ questData.getObjectiveCounter() + &quot; &quot; + this.creatureToBeKilled.getName() + &quot;s.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tiOx4IJREeGsv772wTim0Q" name="KillCreatureQuest" method="_tosmRYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tiOx5YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tiOx5oJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tiOx4YJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiOx4oJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiOx44JREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiOx5IJREeGsv772wTim0Q" name="creatureToBeKilled" type="_tZj-EIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiPY8IJREeGsv772wTim0Q" type="_tEJuwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiPY8oJREeGsv772wTim0Q" name="end" method="_totNUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiPY84JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiQAAIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiQnEIJREeGsv772wTim0Q" name="start" method="_totNU4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiQnEYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiQnEoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiROIIJREeGsv772wTim0Q" name="isFinished" method="_totNVoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiROIYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiROIoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tiR1MYJREeGsv772wTim0Q" name="statusUpdate" method="_totNWYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiR1MoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiR1M4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tESRoIJREeGsv772wTim0Q" name="QuestData">
              <ownedComment xmi:id="_tpLucoJREeGsv772wTim0Q">
                <body>Contains quest data, each quest contains an instance of this class.&#xD;
@author Jorgen&#xD;
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_tlrHcIJREeGsv772wTim0Q" name="name" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlrHcYJREeGsv772wTim0Q" name="id" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlrugIJREeGsv772wTim0Q" name="startText" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlsVkIJREeGsv772wTim0Q" name="endText" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlsVkYJREeGsv772wTim0Q" name="objectiveCounter" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tls8oIJREeGsv772wTim0Q" name="questReqs" visibility="private" type="_tiTDUIJREeGsv772wTim0Q" association="_tqxp4YJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tot0YIJREeGsv772wTim0Q" name="QuestData" specification="_tiURcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tot0YYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tot0YoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tot0Y4JREeGsv772wTim0Q" name="startText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tot0ZIJREeGsv772wTim0Q" name="endText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tot0ZYJREeGsv772wTim0Q" name="questReqs" type="_tiTDUIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tot0ZoJREeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tot0Z4JREeGsv772wTim0Q" type="_tESRoIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.name = name;&#xD;
		this.id = id;&#xD;
		this.startText = startText;&#xD;
		this.endText = endText;&#xD;
		this.questReqs = questReqs;&#xD;
		this.objectiveCounter = objectiveCounter;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tot0aIJREeGsv772wTim0Q" name="getStartText" specification="_tETfwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tot0aYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return startText;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tot0aoJREeGsv772wTim0Q" name="isRequirementsMet" specification="_tiU4g4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tot0a4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tot0bIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return questReqs.requirementsMet(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tETfwIJREeGsv772wTim0Q" name="getStartText" method="_tot0aIJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpLudIJREeGsv772wTim0Q">
                  <body>Returns start text of a quest&#xD;
	 * @return Start text</body>
                </ownedComment>
                <ownedParameter xmi:id="_tEUG0IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tiURcIJREeGsv772wTim0Q" name="QuestData" method="_tot0YIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tiU4gIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tiU4gYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_tpLuc4JREeGsv772wTim0Q">
                  <body>&#xD;
	 * @param name Name of quest&#xD;
	 * @param id Quest ID&#xD;
	 * @param startText Text to be displayed when the quest is started&#xD;
	 * @param endText Text to be displayed when the quest is ended</body>
                </ownedComment>
                <ownedParameter xmi:id="_tiURcYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiURcoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiURc4JREeGsv772wTim0Q" name="startText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiURdIJREeGsv772wTim0Q" name="endText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiURdYJREeGsv772wTim0Q" name="questReqs" type="_tiTDUIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiURdoJREeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiU4goJREeGsv772wTim0Q" type="_tESRoIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiU4g4JREeGsv772wTim0Q" name="isRequirementsMet" method="_tot0aoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiVfkIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiVfkYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tEV8AIJREeGsv772wTim0Q" name="QuestManager">
              <ownedAttribute xmi:id="_tlux0IJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqxp5IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlvY4IJREeGsv772wTim0Q" name="quests" type="_tZxZcYJREeGsv772wTim0Q" association="_tqyQ8YJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlv_8YJREeGsv772wTim0Q" value="new HashMap&lt;Integer, Quest>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toubcIJREeGsv772wTim0Q" name="QuestManager" specification="_tEXKIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toubcYJREeGsv772wTim0Q" type="_tEV8AIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = RageMod.getInstance();&#xD;
		&#xD;
		&#xD;
//		QuestData testRewardQuestData = new QuestData(&quot;TestReward&quot;, &quot;reward1&quot;, &quot;start text reward1&quot;, &quot;end text reward1&quot;, 0, &quot;&quot;);&#xD;
//		RewardData testRewardData = new RewardData(new ItemStack(Material.getMaterial(&quot;stone&quot;)), 10, 50);&#xD;
		Flags testFlags = new Flags(false, false);		&#xD;
//		RewardQuest testRewardQuest = new RewardQuest(testRewardQuestData, testRewardData, testFlags);&#xD;
//		quests.put(testRewardQuest.getQuestData().getId(), testRewardQuest);&#xD;
		&#xD;
		&#xD;
//		QuestData testTravelQuestData = new QuestData(&quot;TestTravel&quot;, &quot;travel1&quot;, &quot;start text travel1&quot;, &quot;end text travel1&quot;, 0, &quot;&quot;);&#xD;
//		RewardData testTravelData = new RewardData(new ItemStack(Material.getMaterial(&quot;coal&quot;)), 15, 50);&#xD;
		Flags testTravelFlags = new Flags(false, false);		&#xD;
//		TravelQuest testTravelQuest = new TravelQuest(testTravelQuestData, testTravelData, testTravelFlags);&#xD;
//		quests.put(testTravelQuest.getQuestData().getId(), testTravelQuest);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tEXKIIJREeGsv772wTim0Q" name="QuestManager" method="_toubcIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tEXKIYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tEXKIoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tEXKI4JREeGsv772wTim0Q" type="_tEV8AIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tEY_UIJREeGsv772wTim0Q" name="QuestRequirements">
              <ownedAttribute xmi:id="_tlxOEIJREeGsv772wTim0Q" name="preQuest" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlxOEYJREeGsv772wTim0Q" name="rank" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlx1IIJREeGsv772wTim0Q" name="affinity" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlycMIJREeGsv772wTim0Q" name="reputation" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toubcoJREeGsv772wTim0Q" name="QuestRequirements" specification="_tEaNcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toubc4JREeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toubdIJREeGsv772wTim0Q" type="_tEY_UIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.preQuest = preQuest;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovCgIJREeGsv772wTim0Q" name="QuestRequirements" specification="_tEa0gIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tovCgYJREeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tovCgoJREeGsv772wTim0Q" name="rank">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tovCg4JREeGsv772wTim0Q" name="affinity">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tovChIJREeGsv772wTim0Q" name="reputation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tovChYJREeGsv772wTim0Q" type="_tEY_UIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.preQuest = preQuest;&#xD;
		this.rank = rank;&#xD;
		this.affinity = affinity;&#xD;
		this.reputation = reputation;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovChoJREeGsv772wTim0Q" name="requirementsMet" specification="_tiWGoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tovCh4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovCiIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// Perform check for whether a quest can be started.&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tEaNcIJREeGsv772wTim0Q" name="QuestRequirements" method="_toubcoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tEaNcoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tEaNc4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tEaNcYJREeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEaNdIJREeGsv772wTim0Q" type="_tEY_UIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEa0gIJREeGsv772wTim0Q" name="QuestRequirements" method="_tovCgIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tEbbkIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tEbbkYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tEa0gYJREeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEa0goJREeGsv772wTim0Q" name="rank">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEa0g4JREeGsv772wTim0Q" name="affinity">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEa0hIJREeGsv772wTim0Q" name="reputation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEbbkoJREeGsv772wTim0Q" type="_tEY_UIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiWGoIJREeGsv772wTim0Q" name="requirementsMet" method="_tovChoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiWGoYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiWtsIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tEdQwIJREeGsv772wTim0Q" name="RewardQuest">
              <generalization xmi:id="_tiaYEoJREeGsv772wTim0Q" general="_tiLukYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovCiYJREeGsv772wTim0Q" name="RewardQuest" specification="_tiXUwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tovCioJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovCi4JREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovCjIJREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovCjYJREeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tovCjoJREeGsv772wTim0Q" type="_tEdQwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovCj4JREeGsv772wTim0Q" name="start" specification="_tiX704JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tovCkIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovCkYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>end(player, playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovpkIJREeGsv772wTim0Q" name="isFinished" specification="_tiYi4YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tovpkYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovpkoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tiXUwIJREeGsv772wTim0Q" name="RewardQuest" method="_tovCiYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tiX70IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tiX70YJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tiXUwYJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiXUwoJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiXUw4JREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiXUxIJREeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tiX70oJREeGsv772wTim0Q" type="_tEdQwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiX704JREeGsv772wTim0Q" name="start" method="_tovCj4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiX71IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiYi4IJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiYi4YJREeGsv772wTim0Q" name="isFinished" method="_tovpkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiYi4oJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiZJ8IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tiZxAIJREeGsv772wTim0Q" name="statusUpdate">
                <ownedParameter xmi:id="_tiZxAYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiZxAoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tcIw8IJREeGsv772wTim0Q" name="Flags">
              <ownedAttribute xmi:id="_v3DUMoJREeGsv772wTim0Q" name="isNonExclusive" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3D7QIJREeGsv772wTim0Q" name="isReserved" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3D7QoJREeGsv772wTim0Q" name="isRepeatable" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mt0IJREeGsv772wTim0Q" name="Flags" specification="_vuHaoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mt0YJREeGsv772wTim0Q" name="isNonExclusive">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3mt0oJREeGsv772wTim0Q" name="isReserved">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3mt04JREeGsv772wTim0Q" type="_tcIw8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.isNonExclusive = isNonExclusive;&#xD;
		this.isReserved = isReserved;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mt1IJREeGsv772wTim0Q" name="isNonExclusive" specification="_vuIBsoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mt1YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return isNonExclusive;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mt1oJREeGsv772wTim0Q" name="isReserved" specification="_vuIowYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mt14JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return isReserved;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mt2IJREeGsv772wTim0Q" name="isRepeatable" specification="_vuJP0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mt2YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return isRepeatable;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vuHaoIJREeGsv772wTim0Q" name="Flags" method="_v3mt0IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vuHao4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vuIBsIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_v32lcIJREeGsv772wTim0Q">
                  <body>When a quest is created it is always active.&#xD;
	 * @param repeatable&#xD;
	 * @param random</body>
                </ownedComment>
                <ownedParameter xmi:id="_vuHaoYJREeGsv772wTim0Q" name="isNonExclusive">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vuHaooJREeGsv772wTim0Q" name="isReserved">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vuIBsYJREeGsv772wTim0Q" type="_tcIw8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vuIBsoJREeGsv772wTim0Q" name="isNonExclusive" method="_v3mt1IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vuIowIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vuIowYJREeGsv772wTim0Q" name="isReserved" method="_v3mt1oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vuIowoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vuJP0IJREeGsv772wTim0Q" name="isRepeatable" method="_v3mt2IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vuJP0YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tcJYAYJREeGsv772wTim0Q" name="Quest" isAbstract="true">
              <ownedAttribute xmi:id="_v3FwcIJREeGsv772wTim0Q" name="questData" visibility="protected" type="_tiMVoYJREeGsv772wTim0Q" association="_v4gFsIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3FwcoJREeGsv772wTim0Q" name="rewardData" visibility="protected" type="_tiM8sYJREeGsv772wTim0Q" association="_v4gFs4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3GXgIJREeGsv772wTim0Q" name="flags" visibility="protected" type="_tiNjwYJREeGsv772wTim0Q" association="_v4gswIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3GXgoJREeGsv772wTim0Q" name="id_NPCInstance_Source" visibility="protected" isStatic="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3GXhIJREeGsv772wTim0Q" name="TYPE_REWARD" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3GXhYJREeGsv772wTim0Q" value="1"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3n79IJREeGsv772wTim0Q" name="Quest" specification="_v08bYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3n79YJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3n79oJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3n794JREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3n7-IJREeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3n7-YJREeGsv772wTim0Q" type="_tcJYAYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.questData = questData;&#xD;
		this.rewardData = rewardData;&#xD;
		this.flags = flags;&#xD;
		this.id_NPCInstance_Source = id_NPCInstance_Source;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3n7-oJREeGsv772wTim0Q" name="end" specification="_v09CdYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3n7-4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3n7_IJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (InventoryUtilities.checkFreeSpace(player.getInventory(),rewardData.getItem(), rewardData.getAmountOfItems()))&#xD;
		{&#xD;
			player.sendMessage(ChatColor.LIGHT_PURPLE + questData.getEndText());&#xD;
			player.sendMessage(&quot;Received: &quot;);&#xD;
&#xD;
			if (rewardData.getAmountOfItems() > 0)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.DARK_GREEN&#xD;
						+ Integer.toString(rewardData.getAmountOfItems())&#xD;
						+ ChatColor.GOLD&#xD;
						+ rewardData.getItem().getType().toString());&#xD;
				InventoryUtilities.addItemToInventory(player.getInventory(),&#xD;
						rewardData.getItem(), rewardData.getAmountOfItems());&#xD;
			}&#xD;
&#xD;
			if (rewardData.getCoins() > 0.0D)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.GOLD + &quot; &quot; + RageMod.getInstance().economy.format(rewardData.getCoins()));&#xD;
				RageMod.econ.bankDeposit(player.getName(), rewardData.getCoins());&#xD;
			}&#xD;
&#xD;
			player.sendMessage(&quot; &quot;);&#xD;
			player.sendMessage(&quot;for finishing &amp;a&quot; + questData.getName());&#xD;
&#xD;
			&#xD;
			playerData.activeQuestData.questCompleted(questData.getId());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			player.sendMessage(InventoryUtilities.notEnoughSpaceMessage);&#xD;
		}		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3n7_YJREeGsv772wTim0Q" name="start" specification="_v09pgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3n7_oJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3n7_4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>playerData.activeQuestData.startNewQuest(this, 0);&#xD;
		player.sendMessage(&quot;You have accepted the quest.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3ojAIJREeGsv772wTim0Q" name="getQuestData" specification="_vubjsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3ojAYJREeGsv772wTim0Q" type="_tiMVoYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return questData;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3ojAoJREeGsv772wTim0Q" name="isRepeatable" specification="_vucKwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3ojA4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return flags.isRepeatable();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vubjsIJREeGsv772wTim0Q" name="getQuestData" method="_v3ojAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0-QkIJREeGsv772wTim0Q" type="_tiMVoYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vucKwIJREeGsv772wTim0Q" name="isRepeatable" method="_v3ojAoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vucKwYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v08bYIJREeGsv772wTim0Q" name="Quest" method="_v3n79IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v08bZYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v08bZoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v08bYYJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v08bYoJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v08bY4JREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v08bZIJREeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v09CcYJREeGsv772wTim0Q" type="_tcJYAYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v09CdYJREeGsv772wTim0Q" name="end" method="_v3n7-oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v09CdoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v09Cd4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v09pgIJREeGsv772wTim0Q" name="start" method="_v3n7_YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v09pgYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v09pgoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v09pg4JREeGsv772wTim0Q" name="isFinished" isAbstract="true">
                <ownedParameter xmi:id="_v09phIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v09phYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v0-QkYJREeGsv772wTim0Q" name="statusUpdate" isAbstract="true">
                <ownedParameter xmi:id="_v0-QkoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0-Qk4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tcJ_EYJREeGsv772wTim0Q" name="RewardData">
              <ownedComment xmi:id="_v32ldYJREeGsv772wTim0Q">
                <body>Contains data about the reward of a quest. Each quest&#xD;
consist of a RewardData object.&#xD;
@author Jorgen&#xD;
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_v3G-kIJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q" isReadOnly="true" association="_v4gsw4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3G-kYJREeGsv772wTim0Q" name="amountOfItems" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3G-koJREeGsv772wTim0Q" name="coins" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3ojBIJREeGsv772wTim0Q" name="RewardData" specification="_v0-3oIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3ojBYJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3ojBoJREeGsv772wTim0Q" name="amountOfItems">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3ojB4JREeGsv772wTim0Q" name="coins">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3ojCIJREeGsv772wTim0Q" type="_tcJ_EYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.item = item;&#xD;
		this.amountOfItems = amountOfItems;&#xD;
		this.coins = coins;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_v0-3oIJREeGsv772wTim0Q" name="RewardData" method="_v3ojBIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v0-3pIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v0-3pYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v0-3oYJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0-3ooJREeGsv772wTim0Q" name="amountOfItems">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0-3o4JREeGsv772wTim0Q" name="coins">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0-3poJREeGsv772wTim0Q" type="_tcJ_EYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqv0s4JREeGsv772wTim0Q" name="" memberEnd="_tqv0tIJREeGsv772wTim0Q _tlln4IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqv0tIJREeGsv772wTim0Q" name="" type="_tEJuwIJREeGsv772wTim0Q" association="_tqv0s4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqwbwYJREeGsv772wTim0Q" name="" memberEnd="_tqwbwoJREeGsv772wTim0Q _tlmO8IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqwbwoJREeGsv772wTim0Q" name="" type="_tEJuwIJREeGsv772wTim0Q" association="_tqwbwYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqwbxIJREeGsv772wTim0Q" name="" memberEnd="_tqwbxYJREeGsv772wTim0Q _tlmO8YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqwbxYJREeGsv772wTim0Q" name="" type="_tEJuwIJREeGsv772wTim0Q" association="_tqwbxIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqxC0YJREeGsv772wTim0Q" name="" memberEnd="_tqxC0oJREeGsv772wTim0Q _tlm2AIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqxC0oJREeGsv772wTim0Q" name="" type="_tEJuwIJREeGsv772wTim0Q" association="_tqxC0YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqxC1IJREeGsv772wTim0Q" name="" memberEnd="_tqxC1YJREeGsv772wTim0Q _tlndEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqxC1YJREeGsv772wTim0Q" name="" type="_tEJuwIJREeGsv772wTim0Q" association="_tqxC1IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqxp4YJREeGsv772wTim0Q" name="" memberEnd="_tqxp4oJREeGsv772wTim0Q _tls8oIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqxp4oJREeGsv772wTim0Q" name="" type="_tESRoIJREeGsv772wTim0Q" association="_tqxp4YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqxp5IJREeGsv772wTim0Q" name="" memberEnd="_tqxp5YJREeGsv772wTim0Q _tlux0IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqxp5YJREeGsv772wTim0Q" name="" type="_tEV8AIJREeGsv772wTim0Q" association="_tqxp5IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqyQ8YJREeGsv772wTim0Q" name="" memberEnd="_tqyQ8oJREeGsv772wTim0Q _tlvY4IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqyQ8oJREeGsv772wTim0Q" name="" type="_tEV8AIJREeGsv772wTim0Q" association="_tqyQ8YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vuLsEIJREeGsv772wTim0Q" name="GatheringQuest">
              <generalization xmi:id="_v07NQYJREeGsv772wTim0Q" general="_tiLukYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3D7RIJREeGsv772wTim0Q" name="itemToGather" visibility="private" type="_tZcCQYJREeGsv772wTim0Q" association="_v4e3lIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mt2oJREeGsv772wTim0Q" name="GatheringQuest" specification="_v04xAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mt24JREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mt3IJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mt3YJREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mt3oJREeGsv772wTim0Q" name="itemToGather" type="_tZcCQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mt34JREeGsv772wTim0Q" type="_vuLsEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
		this.itemToGather = itemToGather;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3nU4IJREeGsv772wTim0Q" name="end" specification="_v05YE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3nU4YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3nU4oJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>int additionalFreespace = questData.getObjectiveCounter() - (questData.getObjectiveCounter() % itemToGather.getMaxStackSize());&#xD;
				&#xD;
		if (InventoryUtilities.checkHasEnoughOfItem(player.getInventory().getContents(), itemToGather, questData.getObjectiveCounter())&#xD;
				&amp;&amp; InventoryUtilities.checkFreeSpace(player.getInventory(),rewardData.getItem(), rewardData.getAmountOfItems() - additionalFreespace))&#xD;
		{&#xD;
			InventoryUtilities.removeItemFromInventory(player.getInventory(), itemToGather, questData.getObjectiveCounter());&#xD;
			&#xD;
			player.sendMessage(ChatColor.LIGHT_PURPLE + questData.getEndText());&#xD;
			player.sendMessage(&quot;Received: &quot;);&#xD;
&#xD;
			if (rewardData.getAmountOfItems() > 0)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.DARK_GREEN&#xD;
						+ Integer.toString(rewardData.getAmountOfItems())&#xD;
						+ ChatColor.GOLD&#xD;
						+ rewardData.getItem().getType().toString());&#xD;
				InventoryUtilities.addItemToInventory(player.getInventory(),&#xD;
						rewardData.getItem(), rewardData.getAmountOfItems());&#xD;
			}&#xD;
&#xD;
			if (rewardData.getCoins() > 0.0D)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.GOLD + &quot; &quot; + RageMod.getInstance().economy.format(rewardData.getCoins()));&#xD;
				RageMod.getInstance().economy.bankDeposit(player.getName(), rewardData.getCoins());&#xD;
			}&#xD;
&#xD;
			player.sendMessage(&quot; &quot;);&#xD;
			player.sendMessage(&quot;for finishing &amp;a&quot; + questData.getName());&#xD;
&#xD;
			&#xD;
			playerData.activeQuestData.questCompleted(questData.getId());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			player.sendMessage(InventoryUtilities.notEnoughSpaceMessage);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3nU44JREeGsv772wTim0Q" name="isFinished" specification="_v05_IoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3nU5IJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3nU5YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_v04xAIJREeGsv772wTim0Q" name="GatheringQuest" method="_v3mt2oJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v05YEIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v05YEYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v04xAYJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v04xAoJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v04xA4JREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v04xBIJREeGsv772wTim0Q" name="itemToGather" type="_tZcCQYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v05YEoJREeGsv772wTim0Q" type="_vuLsEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v05YE4JREeGsv772wTim0Q" name="end" method="_v3nU4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v05YFIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v05YFYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v05_IoJREeGsv772wTim0Q" name="isFinished" method="_v3nU44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v05_I4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v05_JIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v06mMoJREeGsv772wTim0Q" name="statusUpdate">
                <ownedParameter xmi:id="_v06mM4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v06mNIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vuU2AIJREeGsv772wTim0Q" name="PlayerQuestData">
              <ownedAttribute xmi:id="_v3EiUYJREeGsv772wTim0Q" name="quest" type="_tiLukYJREeGsv772wTim0Q" isReadOnly="true" association="_v4feoYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3EiUoJREeGsv772wTim0Q" name="objectiveCounter" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3EiU4JREeGsv772wTim0Q" name="playerOnQuest" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3FJYIJREeGsv772wTim0Q" name="completedQuests" visibility="private" type="_tZXJwIJREeGsv772wTim0Q" association="_v4fepIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3nU5oJREeGsv772wTim0Q" name="questCompleted" specification="_vuXSQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3nU54JREeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if(!completedQuests.contains(questId))&#xD;
		{&#xD;
			completedQuests.add(questId);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3nU6IJREeGsv772wTim0Q" name="isQuestCompleted" specification="_vuX5UYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3nU6YJREeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3nU6oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(completedQuests.contains(questId))&#xD;
			return true;&#xD;
		else&#xD;
			return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3nU64JREeGsv772wTim0Q" name="incrementObjectiveCounter" specification="_vuYgYIJREeGsv772wTim0Q">
                <language>java</language>
                <body>if(objectiveCounter &lt; quest.getQuestData().getObjectiveCounter())&#xD;
			objectiveCounter++;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3n78IJREeGsv772wTim0Q" name="startNewQuest" specification="_v07NQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3n78YJREeGsv772wTim0Q" name="quest" type="_tiLukYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3n78oJREeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.quest = quest;&#xD;
		this.objectiveCounter = objectiveCounter;&#xD;
		this.playerOnQuest = true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3n784JREeGsv772wTim0Q" name="endQuest" specification="_vuYgYYJREeGsv772wTim0Q">
                <language>java</language>
                <body>playerOnQuest = false;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vuWrMIJREeGsv772wTim0Q" name="PlayerQuestData">
                <eAnnotations xmi:id="_vuWrMYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vuWrMoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vuWrNIJREeGsv772wTim0Q" type="_vuU2AIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vuXSQIJREeGsv772wTim0Q" name="questCompleted" method="_v3nU5oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vuX5UIJREeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vuX5UYJREeGsv772wTim0Q" name="isQuestCompleted" method="_v3nU6IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vuX5UoJREeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vuX5U4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vuYgYIJREeGsv772wTim0Q" name="incrementObjectiveCounter" method="_v3nU64JREeGsv772wTim0Q">
                <ownedComment xmi:id="_v32lcYJREeGsv772wTim0Q">
                  <body>Will increment the objectiveCounter if it is less then what is required&#xD;
	 * by the quest.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_vuYgYYJREeGsv772wTim0Q" name="endQuest" method="_v3n784JREeGsv772wTim0Q">
                <ownedComment xmi:id="_v32lc4JREeGsv772wTim0Q">
                  <body>Resets the quest and questCounter. Called when a quest is finished.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_v07NQoJREeGsv772wTim0Q" name="startNewQuest" method="_v3n78IJREeGsv772wTim0Q">
                <ownedComment xmi:id="_v32lcoJREeGsv772wTim0Q">
                  <body>Starts a new quest for the player.&#xD;
	 * &#xD;
	 * @param quest&#xD;
	 * @param questCounter</body>
                </ownedComment>
                <ownedParameter xmi:id="_v070UIJREeGsv772wTim0Q" name="quest" type="_tiLukYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v070UYJREeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vuhDQIJREeGsv772wTim0Q" name="TravelQuest">
              <generalization xmi:id="_v1BT4oJREeGsv772wTim0Q" general="_tiLukYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3ojCYJREeGsv772wTim0Q" name="TravelQuest" specification="_v0_esIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3ojCoJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3pKEIJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3pKEYJREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3pKEoJREeGsv772wTim0Q" type="_vuhDQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pKE4JREeGsv772wTim0Q" name="isFinished" specification="_v1AFw4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pKFIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3pKFYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_v0_esIJREeGsv772wTim0Q" name="TravelQuest" method="_v3ojCYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1AFwIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1AFwYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v0_esYJREeGsv772wTim0Q" name="questData" type="_tiMVoYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0_esoJREeGsv772wTim0Q" name="rewardData" type="_tiM8sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0_es4JREeGsv772wTim0Q" name="flags" type="_tiNjwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1AFwoJREeGsv772wTim0Q" type="_vuhDQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1AFw4JREeGsv772wTim0Q" name="isFinished" method="_v3pKE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1AFxIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1AFxYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1As0oJREeGsv772wTim0Q" name="statusUpdate">
                <ownedParameter xmi:id="_v1As04JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1As1IJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4e3lIJREeGsv772wTim0Q" name="" memberEnd="_v4e3lYJREeGsv772wTim0Q _v3D7RIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4e3lYJREeGsv772wTim0Q" name="" type="_vuLsEIJREeGsv772wTim0Q" association="_v4e3lIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4feoYJREeGsv772wTim0Q" name="" memberEnd="_v4feooJREeGsv772wTim0Q _v3EiUYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4feooJREeGsv772wTim0Q" name="" type="_vuU2AIJREeGsv772wTim0Q" association="_v4feoYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4fepIJREeGsv772wTim0Q" name="" memberEnd="_v4fepYJREeGsv772wTim0Q _v3FJYIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4fepYJREeGsv772wTim0Q" name="" type="_vuU2AIJREeGsv772wTim0Q" association="_v4fepIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4gFsIJREeGsv772wTim0Q" name="" memberEnd="_v4gFsYJREeGsv772wTim0Q _v3FwcIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4gFsYJREeGsv772wTim0Q" name="" type="_tcJYAYJREeGsv772wTim0Q" association="_v4gFsIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4gFs4JREeGsv772wTim0Q" name="" memberEnd="_v4gFtIJREeGsv772wTim0Q _v3FwcoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4gFtIJREeGsv772wTim0Q" name="" type="_tcJYAYJREeGsv772wTim0Q" association="_v4gFs4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4gswIJREeGsv772wTim0Q" name="" memberEnd="_v4gswYJREeGsv772wTim0Q _v3GXgIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4gswYJREeGsv772wTim0Q" name="" type="_tcJYAYJREeGsv772wTim0Q" association="_v4gswIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4gsw4JREeGsv772wTim0Q" name="" memberEnd="_v4gsxIJREeGsv772wTim0Q _v3G-kIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4gsxIJREeGsv772wTim0Q" name="" type="_tcJ_EYJREeGsv772wTim0Q" association="_v4gsw4JREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_snzJ8IJREeGsv772wTim0Q" name="database">
            <packagedElement xmi:type="uml:Class" xmi:id="_tCC18IJREeGsv772wTim0Q" name="JDCConnectionDriver" clientDependency="_thaSgIJREeGsv772wTim0Q">
              <ownedAttribute xmi:id="_tkbxUIJREeGsv772wTim0Q" name="URL_PREFIX" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkbxUYJREeGsv772wTim0Q" value="&quot;jdbc:jdc:&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkcYYIJREeGsv772wTim0Q" name="MAJOR_VERSION" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkcYYYJREeGsv772wTim0Q" value="1"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkcYYoJREeGsv772wTim0Q" name="MINOR_VERSION" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkcYY4JREeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkc_cIJREeGsv772wTim0Q" name="pool" visibility="private" type="_thaSgoJREeGsv772wTim0Q" association="_tqhLMYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZERYJREeGsv772wTim0Q" name="JDCConnectionDriver" specification="_tCErIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZERoJREeGsv772wTim0Q" name="driver">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZER4JREeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZESIJREeGsv772wTim0Q" name="user">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZESYJREeGsv772wTim0Q" name="password">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZESoJREeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZES4JREeGsv772wTim0Q" type="_tCC18IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>DriverManager.registerDriver(this);&#xD;
     Class.forName(driver).newInstance();&#xD;
     pool = new JDCConnectionPool(url, user, password, timeout);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZrUIJREeGsv772wTim0Q" name="getConnectionPool" specification="_tCF5QIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZrUYJREeGsv772wTim0Q" type="_thaSgoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return pool;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZrUoJREeGsv772wTim0Q" name="connect" specification="_thej8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZrU4JREeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZrVIJREeGsv772wTim0Q" name="props" type="_thd84IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toZrVYJREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if(!url.startsWith(URL_PREFIX)) {&#xD;
          return null;&#xD;
     }&#xD;
     return pool.getConnection();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZrVoJREeGsv772wTim0Q" name="acceptsURL" specification="_tCGgUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZrV4JREeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toZrWIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return url.startsWith(URL_PREFIX);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toZrWYJREeGsv772wTim0Q" name="getMajorVersion" specification="_tCHHYYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toZrWoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return MAJOR_VERSION;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toaSYIJREeGsv772wTim0Q" name="getMinorVersion" specification="_tCHucIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toaSYYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return MINOR_VERSION;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toaSYoJREeGsv772wTim0Q" name="getPropertyInfo" specification="_thfyEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toaSY4JREeGsv772wTim0Q" name="str">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toaSZIJREeGsv772wTim0Q" name="props" type="_thd84IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toaSZYJREeGsv772wTim0Q" type="_thfLAIJREeGsv772wTim0Q" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_toaSZoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return new DriverPropertyInfo[0];&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toaSZ4JREeGsv772wTim0Q" name="jdbcCompliant" specification="_tCHucoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toaSaIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return false;&#xD;
 </body>
              </ownedBehavior>
              <interfaceRealization xmi:id="_thaSgIJREeGsv772wTim0Q" supplier="_thZrcIJREeGsv772wTim0Q" client="_tCC18IJREeGsv772wTim0Q" contract="_thZrcIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tCErIIJREeGsv772wTim0Q" name="JDCConnectionDriver" method="_toZERYJREeGsv772wTim0Q" raisedException="_tha5kYJREeGsv772wTim0Q _thbgoYJREeGsv772wTim0Q _thcHsYJREeGsv772wTim0Q _tb8jsIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tCFSMIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tCFSMYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tCErIYJREeGsv772wTim0Q" name="driver">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCErIoJREeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCErI4JREeGsv772wTim0Q" name="user">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCErJIJREeGsv772wTim0Q" name="password">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCErJYJREeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCFSMoJREeGsv772wTim0Q" type="_tCC18IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCF5QIJREeGsv772wTim0Q" name="getConnectionPool" method="_toZrUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thcuwYJREeGsv772wTim0Q" type="_thaSgoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCGgUIJREeGsv772wTim0Q" name="acceptsURL" method="_toZrVoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCGgUYJREeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCHHYIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tCHHYYJREeGsv772wTim0Q" name="getMajorVersion" method="_toZrWYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCHHYoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tCHucIJREeGsv772wTim0Q" name="getMinorVersion" method="_toaSYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCHucYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tCHucoJREeGsv772wTim0Q" name="jdbcCompliant" method="_toaSZ4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCIVgIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_thej8IJREeGsv772wTim0Q" name="connect" method="_toZrUoJREeGsv772wTim0Q" raisedException="_tb8jsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thej8YJREeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thej8oJREeGsv772wTim0Q" name="props" type="_thd84IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thej84JREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thfyEIJREeGsv772wTim0Q" name="getPropertyInfo" method="_toaSYoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thfyEYJREeGsv772wTim0Q" name="str">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thfyEoJREeGsv772wTim0Q" name="props" type="_thd84IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thfyE4JREeGsv772wTim0Q" type="_thfLAIJREeGsv772wTim0Q" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_thfyFIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tCLY0IJREeGsv772wTim0Q" name="ConnectionReaper" visibility="package">
              <generalization xmi:id="_thoU84JREeGsv772wTim0Q" general="_thhAMIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkifAIJREeGsv772wTim0Q" name="pool" visibility="private" type="_thaSgoJREeGsv772wTim0Q" association="_tqiZU4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkifAoJREeGsv772wTim0Q" name="delay" visibility="private" isLeaf="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkjGEIJREeGsv772wTim0Q" value="3600000"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocHkIJREeGsv772wTim0Q" name="ConnectionReaper" specification="_thnt4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tocHkYJREeGsv772wTim0Q" name="pool" type="_thaSgoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocHkoJREeGsv772wTim0Q" type="_tCLY0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.pool=pool;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocHk4JREeGsv772wTim0Q" name="run" specification="_tCTUoIJREeGsv772wTim0Q">
                <language>java</language>
                <body>while(true) {&#xD;
        try {&#xD;
           sleep(delay);&#xD;
        } catch( InterruptedException e) { }&#xD;
        //System.out.println(&quot;[RAGE] Attempting to reap connections... (pool size: &quot; + pool.connections.size() + &quot;)&quot;);&#xD;
        pool.reapConnections();&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tCL_4IJREeGsv772wTim0Q" name="ConnectionKeepAlive" visibility="package">
                <eAnnotations xmi:id="_tCL_4YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tCL_4oJREeGsv772wTim0Q" key="sameFile"/>
                </eAnnotations>
                <ownedComment xmi:id="_tpIrIIJREeGsv772wTim0Q">
                  <body>To keep the connections in the pool alive. This was what caused our problems.&#xD;
No good way to track if a connection is closed or not without just keeping&#xD;
it alive by using ping.&#xD;
@author Jorgen&#xD;
 *</body>
                </ownedComment>
                <generalization xmi:id="_thjccYJREeGsv772wTim0Q" general="_thhAMIJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tkdmgIJREeGsv772wTim0Q" name="connections" visibility="private" type="_thhnQIJREeGsv772wTim0Q" association="_tqhLNIJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tke0oIJREeGsv772wTim0Q" name="interval" visibility="private" isLeaf="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_tke0oYJREeGsv772wTim0Q" value="60000"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toa5cIJREeGsv772wTim0Q" name="ConnectionKeepAlive" specification="_thiOUYJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_toa5cYJREeGsv772wTim0Q" name="connections" type="_thhnQIJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_toa5coJREeGsv772wTim0Q" type="_tCL_4IJREeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.connections = connections;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toa5c4JREeGsv772wTim0Q" name="run" specification="_tCMm8IJREeGsv772wTim0Q">
                  <language>java</language>
                  <body>while(true)&#xD;
		{			&#xD;
			try {&#xD;
				sleep(interval);				&#xD;
			} &#xD;
			catch (InterruptedException e) { }&#xD;
			for(JDCConnection conn : connections)&#xD;
			{&#xD;
				PreparedStatement ps;&#xD;
				&#xD;
				try {&#xD;
					ps = conn.prepareStatement(&quot;/* ping */ SELECT 1&quot;);&#xD;
					ps.executeQuery();&#xD;
				} catch (SQLException e) {					&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
				&#xD;
			}&#xD;
		}&#xD;
	</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_tCMm8IJREeGsv772wTim0Q" name="run" method="_toa5c4JREeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_thiOUYJREeGsv772wTim0Q" name="ConnectionKeepAlive" method="_toa5cIJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_thi1YIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_thi1YYJREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_thiOUoJREeGsv772wTim0Q" name="connections" type="_thhnQIJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_thi1YoJREeGsv772wTim0Q" type="_tCL_4IJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tCN1EIJREeGsv772wTim0Q" name="JDCConnectionPool">
                <eAnnotations xmi:id="_tCN1EYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tCN1EoJREeGsv772wTim0Q" key="sameFile"/>
                </eAnnotations>
                <ownedAttribute xmi:id="_tkfbsIJREeGsv772wTim0Q" name="connections" type="_thhnQIJREeGsv772wTim0Q" association="_tqhyQYJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tkfbsoJREeGsv772wTim0Q" name="url" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tkgCwYJREeGsv772wTim0Q" name="timeout" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkgp0IJREeGsv772wTim0Q" value="190000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tkgp0YJREeGsv772wTim0Q" name="reaper" visibility="private" type="_thkDgIJREeGsv772wTim0Q" association="_tqhyRIJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tkgp0oJREeGsv772wTim0Q" name="pinger" visibility="private" type="_thkqkIJREeGsv772wTim0Q" association="_tqiZUIJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tkhQ4IJREeGsv772wTim0Q" name="poolsize" visibility="private" isLeaf="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkhQ4YJREeGsv772wTim0Q" value="20"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpIrIoJREeGsv772wTim0Q" name="user" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpJSMYJREeGsv772wTim0Q" name="password" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toa5dIJREeGsv772wTim0Q" name="JDCConnectionPool" specification="_tCPDMIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_toa5dYJREeGsv772wTim0Q" name="url">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_toa5doJREeGsv772wTim0Q" name="user">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_toa5d4JREeGsv772wTim0Q" name="password">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_toa5eIJREeGsv772wTim0Q" name="timeout">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_toa5eYJREeGsv772wTim0Q" type="_tCN1EIJREeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.url = url;&#xD;
   this.user = user;&#xD;
   this.password = password;&#xD;
   this.timeout = timeout;&#xD;
   connections = new Vector&lt;JDCConnection>(poolsize);&#xD;
   reaper = new ConnectionReaper(this);&#xD;
   reaper.start();&#xD;
   //pinger = new ConnectionKeepAlive(connections);&#xD;
   //pinger.start();&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toa5eoJREeGsv772wTim0Q" name="reapConnections" specification="_tCPqQYJREeGsv772wTim0Q">
                  <language>java</language>
                  <body>long stale = System.currentTimeMillis() - timeout;&#xD;
   Enumeration&lt;JDCConnection> connlist = connections.elements();&#xD;
 &#xD;
   while( (connlist != null) &amp;&amp; (connlist.hasMoreElements()) ) &#xD;
   {&#xD;
       JDCConnection conn = (JDCConnection)connlist.nextElement();&#xD;
&#xD;
       //System.out.println(&quot;[RAGE] Conn. &quot; + connections.indexOf(conn) + &quot;: inUse: &quot; + conn.inUse() + &quot;, stale: &quot; + ((stale-conn.getLastUse())/1000) + &quot; validate(): &quot; + conn.validate());&#xD;
       &#xD;
       if((conn.inUse()) &amp;&amp; !conn.validate()) // Reap all connections that fail validate() (DC)&#xD;
       {&#xD;
     	  removeConnection(conn);&#xD;
     	  System.out.println(&quot;[RAGE] Connection pool reaped broken connection.  Pool size: &quot; + connections.size());&#xD;
       }&#xD;
       // Also reap ALL older connections - the pool isn't going to try to use them anyway&#xD;
       else if((!conn.inUse() &amp;&amp; (stale > conn.getLastUse())) || (!conn.validate())) // Reap all connections that fail validate() or are too old (DC)&#xD;
       {&#xD;
     	  removeConnection(conn);&#xD;
     	  System.out.println(&quot;[RAGE] Connection pool reaped idle connection.  Pool size: &quot; + connections.size());&#xD;
       }&#xD;
   }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tobggIJREeGsv772wTim0Q" name="closeConnections" specification="_tCPqRYJREeGsv772wTim0Q">
                  <language>java</language>
                  <body>Enumeration&lt;JDCConnection> connlist = connections.elements();&#xD;
&#xD;
   while((connlist != null) &amp;&amp; (connlist.hasMoreElements())) {&#xD;
       JDCConnection conn = (JDCConnection)connlist.nextElement();&#xD;
       removeConnection(conn);&#xD;
   }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tobggYJREeGsv772wTim0Q" name="removeConnection" specification="_thl4sYJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_tobggoJREeGsv772wTim0Q" name="conn" type="_thlRoYJREeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>connections.removeElement(conn);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tobgg4JREeGsv772wTim0Q" name="getConnection" specification="_tCQRU4JREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_tobghIJREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>long stale = System.currentTimeMillis() - timeout;   // DC - added stale checking to getConnection - don't even try with old connections&#xD;
	   &#xD;
	   for(JDCConnection connection : connections) {    	   &#xD;
        if(stale &lt; connection.getLastUse() &amp;&amp; (connection.validate() &amp;&amp; connection.lease())) &#xD;
        {&#xD;
            //System.out.println(&quot;[RAGE] Getting connection &quot; + connections.indexOf(connection));&#xD;
     	   return connection;&#xD;
        } &#xD;
    }&#xD;
&#xD;
    //System.out.println(&quot;[RAGE] Creating new connection&quot;);&#xD;
    &#xD;
    Connection conn = DriverManager.getConnection(url, user, password);&#xD;
    JDCConnection newConnection = new JDCConnection(conn, this);&#xD;
    newConnection.lease();&#xD;
    connections.addElement(newConnection);&#xD;
    &#xD;
    return newConnection;&#xD;
  </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tobghYJREeGsv772wTim0Q" name="returnConnection" specification="_thnG0IJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_tobghoJREeGsv772wTim0Q" name="conn" type="_thlRoYJREeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>conn.expireLease();&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_tCPDMIJREeGsv772wTim0Q" name="JDCConnectionPool" method="_toa5dIJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_tCPDNYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tCPDNoJREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_tCPDMYJREeGsv772wTim0Q" name="url">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_tCPDMoJREeGsv772wTim0Q" name="user">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_tCPDM4JREeGsv772wTim0Q" name="password">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_tCPDNIJREeGsv772wTim0Q" name="timeout">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_tCPDN4JREeGsv772wTim0Q" type="_tCN1EIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_tCPqQYJREeGsv772wTim0Q" name="reapConnections" method="_toa5eoJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_tCPqQoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tCPqQ4JREeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                </ownedOperation>
                <ownedOperation xmi:id="_tCPqRYJREeGsv772wTim0Q" name="closeConnections" method="_tobggIJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_tCQRUIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tCQRUYJREeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                </ownedOperation>
                <ownedOperation xmi:id="_tCQRU4JREeGsv772wTim0Q" name="getConnection" method="_tobgg4JREeGsv772wTim0Q" raisedException="_tb8jsIJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_tCQRVIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tCQRVYJREeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_thmfw4JREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_thl4sYJREeGsv772wTim0Q" name="removeConnection" visibility="private" method="_tobggYJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_thmfwIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_thmfwYJREeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_thl4soJREeGsv772wTim0Q" name="conn" type="_thlRoYJREeGsv772wTim0Q"/>
                </ownedOperation>
                <ownedOperation xmi:id="_thnG0IJREeGsv772wTim0Q" name="returnConnection" method="_tobghYJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_thnG0oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_thnG04JREeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_thnG0YJREeGsv772wTim0Q" name="conn" type="_thlRoYJREeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_tCTUoIJREeGsv772wTim0Q" name="run" method="_tocHk4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_thnt4IJREeGsv772wTim0Q" name="ConnectionReaper" visibility="package" method="_tocHkIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thoU8IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thoU8YJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thnt4YJREeGsv772wTim0Q" name="pool" type="_thaSgoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thoU8oJREeGsv772wTim0Q" type="_tCLY0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tCW_AIJREeGsv772wTim0Q" name="RageDB">
              <ownedAttribute xmi:id="_tkkUMIJREeGsv772wTim0Q" name="connectionDriver" visibility="private" type="_thpjEIJREeGsv772wTim0Q" association="_tqjAYIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkk7QYJREeGsv772wTim0Q" name="url" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkliUIJREeGsv772wTim0Q" name="databaseName" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkliUoJREeGsv772wTim0Q" name="driver" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkmJYYJREeGsv772wTim0Q" name="user" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkmJY4JREeGsv772wTim0Q" name="password" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkmwcYJREeGsv772wTim0Q" name="timeout" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tkmwc4JREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqjAY4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tknXgYJREeGsv772wTim0Q" name="townQueries" type="_tDCUcIJREeGsv772wTim0Q" association="_tqjAZoJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tknXg4JREeGsv772wTim0Q" name="lotQueries" type="_tChXEIJREeGsv772wTim0Q" association="_tqjncYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkn-kYJREeGsv772wTim0Q" name="playerQueries" type="_tCwnoIJREeGsv772wTim0Q" association="_tqjndIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkn-k4JREeGsv772wTim0Q" name="factionQueries" type="_tCdssIJREeGsv772wTim0Q" association="_tqkOgYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkoloYJREeGsv772wTim0Q" name="taskQueries" type="_tb0n4YJREeGsv772wTim0Q" association="_tqkOhIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkolo4JREeGsv772wTim0Q" name="npcQueries" type="_tb0A0IJREeGsv772wTim0Q" association="_tqk1kYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkpMsYJREeGsv772wTim0Q" name="npcTownQueries" type="_tCpS4IJREeGsv772wTim0Q" association="_tqk1lIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocHlIJREeGsv772wTim0Q" name="RageDB" specification="_thqxMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tocHlYJREeGsv772wTim0Q" name="instance" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocHloJREeGsv772wTim0Q" name="config" type="_taP6kIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocHl4JREeGsv772wTim0Q" type="_tCW_AIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>plugin = instance;&#xD;
 	townQueries = new TownQueries(this, this.plugin);&#xD;
 	lotQueries = new LotQueries(this, this.plugin);&#xD;
 	playerQueries = new PlayerQueries(this, this.plugin);&#xD;
 	factionQueries = new FactionQueries(this, this.plugin);&#xD;
 	taskQueries = new TaskQueries(this, this.plugin);&#xD;
 	npcQueries = new NPCQueries(this, this.plugin);&#xD;
 	npcTownQueries = new NPCTownQueries(this, this.plugin);&#xD;
 	&#xD;
 	url = config.DB_URL;&#xD;
 	databaseName = config.DB_NAME;&#xD;
 	driver = config.DB_DRIVER;&#xD;
 	user = config.DB_USER;&#xD;
 	password = config.DB_PASSWORD;&#xD;
 	timeout = config.DB_TIMEOUT;&#xD;
 	&#xD;
     try&#xD;
     {&#xD;
     	connectionDriver = new JDCConnectionDriver(driver, url + databaseName, user, password, timeout);&#xD;
     }&#xD;
     catch(Exception e)&#xD;
     {&#xD;
        System.out.println(e);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocuoIJREeGsv772wTim0Q" name="getConnection" specification="_tCY0MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tocuoYJREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return connectionDriver.getConnectionPool().getConnection();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocuooJREeGsv772wTim0Q" name="close" specification="_thtNcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tocuo4JREeGsv772wTim0Q" name="rs" type="_thr_UYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocupIJREeGsv772wTim0Q" name="preparedStatement" type="_thsmYYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocupYJREeGsv772wTim0Q" name="conn" type="_vyjOsIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>try {&#xD;
			if (rs != null) &#xD;
			{&#xD;
				rs.close();&#xD;
			}&#xD;
&#xD;
			if (preparedStatement != null) &#xD;
			{&#xD;
				preparedStatement.close();&#xD;
			}&#xD;
&#xD;
			if (conn != null) &#xD;
			{&#xD;
				connectionDriver.getConnectionPool().returnConnection((JDCConnection)conn);&#xD;
			}&#xD;
		} catch (Exception e) {&#xD;
&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tCY0MIJREeGsv772wTim0Q" name="getConnection" method="_tocuoIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thrYQIJREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thqxMIJREeGsv772wTim0Q" name="RageDB" method="_tocHlIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_thqxM4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_thqxNIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_thqxMYJREeGsv772wTim0Q" name="instance" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thqxMoJREeGsv772wTim0Q" name="config" type="_taP6kIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thqxNYJREeGsv772wTim0Q" type="_tCW_AIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thtNcYJREeGsv772wTim0Q" name="close" method="_tocuooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thtNcoJREeGsv772wTim0Q" name="rs" type="_thr_UYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tht0gIJREeGsv772wTim0Q" name="preparedStatement" type="_thsmYYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tht0gYJREeGsv772wTim0Q" name="conn" type="_vyjOsIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_thZrcIJREeGsv772wTim0Q" name="Driver"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tha5kYJREeGsv772wTim0Q" name="ClassNotFoundException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thbgoYJREeGsv772wTim0Q" name="InstantiationException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thcHsYJREeGsv772wTim0Q" name="IllegalAccessException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thd84IJREeGsv772wTim0Q" name="Properties"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thfLAIJREeGsv772wTim0Q" name="DriverPropertyInfo"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thhAMIJREeGsv772wTim0Q" name="Thread"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thhnQIJREeGsv772wTim0Q" name="Vector"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thrYQYJREeGsv772wTim0Q" name="SQLException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thr_UYJREeGsv772wTim0Q" name="ResultSet"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_thsmYYJREeGsv772wTim0Q" name="PreparedStatement"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqhLMYJREeGsv772wTim0Q" name="" memberEnd="_tqhLMoJREeGsv772wTim0Q _tkc_cIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqhLMoJREeGsv772wTim0Q" name="" type="_tCC18IJREeGsv772wTim0Q" association="_tqhLMYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqhLNIJREeGsv772wTim0Q" name="" memberEnd="_tqhLNYJREeGsv772wTim0Q _tkdmgIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqhLNYJREeGsv772wTim0Q" name="" type="_tCL_4IJREeGsv772wTim0Q" association="_tqhLNIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqhyQYJREeGsv772wTim0Q" name="" memberEnd="_tqhyQoJREeGsv772wTim0Q _tkfbsIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqhyQoJREeGsv772wTim0Q" name="" type="_tCN1EIJREeGsv772wTim0Q" association="_tqhyQYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqhyRIJREeGsv772wTim0Q" name="" memberEnd="_tqhyRYJREeGsv772wTim0Q _tkgp0YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqhyRYJREeGsv772wTim0Q" name="" type="_tCN1EIJREeGsv772wTim0Q" association="_tqhyRIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqiZUIJREeGsv772wTim0Q" name="" memberEnd="_tqiZUYJREeGsv772wTim0Q _tkgp0oJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqiZUYJREeGsv772wTim0Q" name="" type="_tCN1EIJREeGsv772wTim0Q" association="_tqiZUIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqiZU4JREeGsv772wTim0Q" name="" memberEnd="_tqiZVIJREeGsv772wTim0Q _tkifAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqiZVIJREeGsv772wTim0Q" name="" type="_tCLY0IJREeGsv772wTim0Q" association="_tqiZU4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqjAYIJREeGsv772wTim0Q" name="" memberEnd="_tqjAYYJREeGsv772wTim0Q _tkkUMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqjAYYJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqjAYIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqjAY4JREeGsv772wTim0Q" name="" memberEnd="_tqjAZIJREeGsv772wTim0Q _tkmwc4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqjAZIJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqjAY4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqjAZoJREeGsv772wTim0Q" name="" memberEnd="_tqjAZ4JREeGsv772wTim0Q _tknXgYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqjAZ4JREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqjAZoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqjncYJREeGsv772wTim0Q" name="" memberEnd="_tqjncoJREeGsv772wTim0Q _tknXg4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqjncoJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqjncYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqjndIJREeGsv772wTim0Q" name="" memberEnd="_tqjndYJREeGsv772wTim0Q _tkn-kYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqjndYJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqjndIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqkOgYJREeGsv772wTim0Q" name="" memberEnd="_tqkOgoJREeGsv772wTim0Q _tkn-k4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqkOgoJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqkOgYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqkOhIJREeGsv772wTim0Q" name="" memberEnd="_tqkOhYJREeGsv772wTim0Q _tkoloYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqkOhYJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqkOhIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqk1kYJREeGsv772wTim0Q" name="" memberEnd="_tqk1koJREeGsv772wTim0Q _tkolo4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqk1koJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqk1kYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqk1lIJREeGsv772wTim0Q" name="" memberEnd="_tqk1lYJREeGsv772wTim0Q _tkpMsYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqk1lYJREeGsv772wTim0Q" name="" type="_tCW_AIJREeGsv772wTim0Q" association="_tqk1lIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vslwoIJREeGsv772wTim0Q" name="JDCConnection" clientDependency="_v0sjwIJREeGsv772wTim0Q">
              <ownedAttribute xmi:id="_v3AQ44JREeGsv772wTim0Q" name="pool" visibility="private" type="_thaSgoJREeGsv772wTim0Q" association="_v4dCZIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3A38YJREeGsv772wTim0Q" name="conn" visibility="private" type="_vyjOsIJREeGsv772wTim0Q" association="_v4dpcYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3A384JREeGsv772wTim0Q" name="inuse" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3BfAIJREeGsv772wTim0Q" name="timestamp" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eK8IJREeGsv772wTim0Q" name="JDCConnection" specification="_v0sjwYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eK8YJREeGsv772wTim0Q" name="conn" type="_vyjOsIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3eK8oJREeGsv772wTim0Q" name="pool" type="_thaSgoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3eK84JREeGsv772wTim0Q" type="_vslwoIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.conn=conn;&#xD;
     this.pool=pool;&#xD;
     this.inuse=false;&#xD;
     this.timestamp=0;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eK9IJREeGsv772wTim0Q" name="lease" specification="_vsoM4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eK9YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(inuse)  {&#xD;
        return false;&#xD;
    } else {&#xD;
       inuse=true;&#xD;
       timestamp=System.currentTimeMillis();&#xD;
       return true;&#xD;
    }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eK9oJREeGsv772wTim0Q" name="validate" specification="_vsoz8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eK94JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>try {&#xD;
         conn.getMetaData();&#xD;
     }catch (Exception e) {&#xD;
	    return false;&#xD;
	}&#xD;
	return true;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eK-IJREeGsv772wTim0Q" name="inUse" specification="_vsoz8oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eK-YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return inuse;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eK-oJREeGsv772wTim0Q" name="getLastUse" specification="_vspbAYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eK-4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <language>java</language>
                <body>return timestamp;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eyAIJREeGsv772wTim0Q" name="close" specification="_vsqCEIJREeGsv772wTim0Q">
                <language>java</language>
                <body>pool.returnConnection(this);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eyAYJREeGsv772wTim0Q" name="expireLease" specification="_vsqCEYJREeGsv772wTim0Q">
                <language>java</language>
                <body>inuse=false;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eyAoJREeGsv772wTim0Q" name="getConnection" specification="_vsqpIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eyA4JREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eyBIJREeGsv772wTim0Q" name="prepareStatement" specification="_vsrQMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eyBYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3eyBoJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.prepareStatement(sql);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eyB4JREeGsv772wTim0Q" name="prepareStatement" specification="_vsr3QIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eyCIJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3eyCYJREeGsv772wTim0Q" name="autoGeneratedKeys">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3eyCoJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.prepareStatement(sql, autoGeneratedKeys);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3eyC4JREeGsv772wTim0Q" name="prepareCall" specification="_vstFYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3eyDIJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3eyDYJREeGsv772wTim0Q" type="_v10lIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.prepareCall(sql);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3fZEIJREeGsv772wTim0Q" name="createStatement" specification="_vstscIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3fZEYJREeGsv772wTim0Q" type="_tcAOEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.createStatement();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3fZEoJREeGsv772wTim0Q" name="nativeSQL" specification="_vsuTgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3fZE4JREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3fZFIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.nativeSQL(sql);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3fZFYJREeGsv772wTim0Q" name="setAutoCommit" specification="_vsvhoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3fZFoJREeGsv772wTim0Q" name="autoCommit">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setAutoCommit(autoCommit);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3fZF4JREeGsv772wTim0Q" name="getAutoCommit" specification="_vsvhooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3fZGIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.getAutoCommit();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3fZGYJREeGsv772wTim0Q" name="commit" specification="_vswIsYJREeGsv772wTim0Q">
                <language>java</language>
                <body>conn.commit();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3fZGoJREeGsv772wTim0Q" name="rollback" specification="_vswvwIJREeGsv772wTim0Q">
                <language>java</language>
                <body>conn.rollback();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gAIIJREeGsv772wTim0Q" name="isClosed" specification="_vsxW0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gAIYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.isClosed();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gAIoJREeGsv772wTim0Q" name="getMetaData" specification="_vsx94IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gAI4JREeGsv772wTim0Q" type="_v11MMoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.getMetaData();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gAJIJREeGsv772wTim0Q" name="setReadOnly" specification="_vsyk8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gAJYJREeGsv772wTim0Q" name="readOnly">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setReadOnly(readOnly);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gAJoJREeGsv772wTim0Q" name="isReadOnly" specification="_vszMAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gAJ4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.isReadOnly();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gAKIJREeGsv772wTim0Q" name="setCatalog" specification="_vszzEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gAKYJREeGsv772wTim0Q" name="catalog">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setCatalog(catalog);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gAKoJREeGsv772wTim0Q" name="getCatalog" specification="_vs0aIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gAK4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.getCatalog();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gnMIJREeGsv772wTim0Q" name="setTransactionIsolation" specification="_vs1BMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gnMYJREeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setTransactionIsolation(level);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gnMoJREeGsv772wTim0Q" name="getTransactionIsolation" specification="_vs1oQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gnM4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.getTransactionIsolation();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gnNIJREeGsv772wTim0Q" name="getWarnings" specification="_vs2PUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gnNYJREeGsv772wTim0Q" type="_v11zQoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.getWarnings();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gnNoJREeGsv772wTim0Q" name="clearWarnings" specification="_vs22YIJREeGsv772wTim0Q">
                <language>java</language>
                <body>conn.clearWarnings();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gnN4JREeGsv772wTim0Q" name="isWrapperFor" specification="_v12aUoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gnOIJREeGsv772wTim0Q" name="arg0" type="_v12aUIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3gnOYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3gnOoJREeGsv772wTim0Q" name="unwrap" specification="_v13ocIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3gnO4JREeGsv772wTim0Q" name="arg0" type="_v12aUIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3gnPIJREeGsv772wTim0Q" type="_v13BYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3hOQIJREeGsv772wTim0Q" name="createArrayOf" specification="_v15dooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3hOQYJREeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3hOQoJREeGsv772wTim0Q" name="elements" type="_v15doIJREeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3hOQ4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3hORIJREeGsv772wTim0Q" type="_v142kIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3hORYJREeGsv772wTim0Q" name="createBlob" specification="_vs4rkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3hORoJREeGsv772wTim0Q" type="_v16EsoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3hOR4JREeGsv772wTim0Q" name="createClob" specification="_vs4rkYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3hOSIJREeGsv772wTim0Q" type="_v16rwoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3hOSYJREeGsv772wTim0Q" name="createNClob" specification="_vs5SoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3hOSoJREeGsv772wTim0Q" type="_v17S0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3hOS4JREeGsv772wTim0Q" name="createSQLXML" specification="_vs55sIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3hOTIJREeGsv772wTim0Q" type="_v17S04JREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3hOTYJREeGsv772wTim0Q" name="createStatement" specification="_vs6gwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3hOToJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3hOT4JREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3hOUIJREeGsv772wTim0Q" type="_tcAOEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3h1UIJREeGsv772wTim0Q" name="createStatement" specification="_vs7u4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3h1UYJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3h1UoJREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3h1U4JREeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3h1VIJREeGsv772wTim0Q" type="_tcAOEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3h1VYJREeGsv772wTim0Q" name="createStruct" specification="_v18g8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3h1VoJREeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3h1V4JREeGsv772wTim0Q" name="attributes" type="_v15doIJREeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3h1WIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3h1WYJREeGsv772wTim0Q" type="_v1754oJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3h1WoJREeGsv772wTim0Q" name="getClientInfo" specification="_vs9kEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3h1W4JREeGsv772wTim0Q" type="_thd84IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3h1XIJREeGsv772wTim0Q" name="getClientInfo" specification="_vs-LIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3h1XYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3h1XoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3icYIJREeGsv772wTim0Q" name="getHoldability" specification="_vs_ZQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3icYYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3icYoJREeGsv772wTim0Q" name="getTypeMap" specification="_vs_ZQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3icY4JREeGsv772wTim0Q" type="_tbbmUYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3icZIJREeGsv772wTim0Q" name="isValid" specification="_vtAnYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3icZYJREeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3icZoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3icZ4JREeGsv772wTim0Q" name="prepareCall" specification="_vtB1gIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3icaIJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3icaYJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3icaoJREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3ica4JREeGsv772wTim0Q" type="_v10lIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3icbIJREeGsv772wTim0Q" name="prepareCall" specification="_vtDDoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3icbYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3icboJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3icb4JREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3iccIJREeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3iccYJREeGsv772wTim0Q" type="_v10lIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jDcIJREeGsv772wTim0Q" name="prepareStatement" specification="_vtERwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jDcYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDcoJREeGsv772wTim0Q" name="columnIndexes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3jDc4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDdIJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jDdYJREeGsv772wTim0Q" name="prepareStatement" specification="_vtFf4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jDdoJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDd4JREeGsv772wTim0Q" name="columnNames">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3jDeIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDeYJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jDeoJREeGsv772wTim0Q" name="prepareStatement" specification="_vtGuAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jDe4JREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDfIJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDfYJREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDfoJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jDf4JREeGsv772wTim0Q" name="prepareStatement" specification="_vtH8IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jDgIJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDgYJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDgoJREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDg4JREeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jDhIJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jqgIJREeGsv772wTim0Q" name="releaseSavepoint" specification="_v19vEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jqgYJREeGsv772wTim0Q" name="savepoint" type="_v19vEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jqgoJREeGsv772wTim0Q" name="rollback" specification="_v1-WIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jqg4JREeGsv772wTim0Q" name="savepoint" type="_v19vEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jqhIJREeGsv772wTim0Q" name="setClientInfo" specification="_v0vnFIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jqhYJREeGsv772wTim0Q" name="properties" type="_thd84IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jqhoJREeGsv772wTim0Q" name="setClientInfo" specification="_vtJxUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jqh4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3jqiIJREeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jqiYJREeGsv772wTim0Q" name="setHoldability" specification="_vtK_cIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jqioJREeGsv772wTim0Q" name="holdability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3jqi4JREeGsv772wTim0Q" name="setSavepoint" specification="_vtLmgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3jqjIJREeGsv772wTim0Q" type="_v19vEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3kRkIJREeGsv772wTim0Q" name="setSavepoint" specification="_vtMNkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3kRkYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3kRkoJREeGsv772wTim0Q" type="_v19vEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3kRk4JREeGsv772wTim0Q" name="setTypeMap" specification="_v0wOIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3kRlIJREeGsv772wTim0Q" name="map" type="_tbbmUYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <interfaceRealization xmi:id="_v0sjwIJREeGsv772wTim0Q" supplier="_vyjOsIJREeGsv772wTim0Q" client="_vslwoIJREeGsv772wTim0Q" contract="_vyjOsIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vsoM4IJREeGsv772wTim0Q" name="lease" method="_v3eK9IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vsoM4YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vsoM4oJREeGsv772wTim0Q" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vsoM44JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsoz8IJREeGsv772wTim0Q" name="validate" method="_v3eK9oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsoz8YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsoz8oJREeGsv772wTim0Q" name="inUse" method="_v3eK-IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vspbAIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vspbAYJREeGsv772wTim0Q" name="getLastUse" method="_v3eK-oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vspbAoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsqCEIJREeGsv772wTim0Q" name="close" method="_v3eyAIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vsqCEYJREeGsv772wTim0Q" name="expireLease" visibility="protected" method="_v3eyAYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vsqpIIJREeGsv772wTim0Q" name="getConnection" visibility="protected" method="_v3eyAoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0tK1IJREeGsv772wTim0Q" type="_vyjOsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vsrQMIJREeGsv772wTim0Q" name="prepareStatement" method="_v3eyBIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsrQMYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0tK1YJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vsr3QIJREeGsv772wTim0Q" name="prepareStatement" method="_v3eyB4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsr3QYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vsr3QoJREeGsv772wTim0Q" name="autoGeneratedKeys">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0tK1oJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vstFYIJREeGsv772wTim0Q" name="prepareCall" method="_v3eyC4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vstFYYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v11MMYJREeGsv772wTim0Q" type="_v10lIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vstscIJREeGsv772wTim0Q" name="createStatement" method="_v3fZEIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0tx4IJREeGsv772wTim0Q" type="_tcAOEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vsuTgIJREeGsv772wTim0Q" name="nativeSQL" method="_v3fZEoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsuTgYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vsu6kIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsvhoIJREeGsv772wTim0Q" name="setAutoCommit" method="_v3fZFYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsvhoYJREeGsv772wTim0Q" name="autoCommit">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsvhooJREeGsv772wTim0Q" name="getAutoCommit" method="_v3fZF4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vswIsIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vswIsYJREeGsv772wTim0Q" name="commit" method="_v3fZGYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vswvwIJREeGsv772wTim0Q" name="rollback" method="_v3fZGoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vsxW0IJREeGsv772wTim0Q" name="isClosed" method="_v3gAIIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsxW0YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vsx94IJREeGsv772wTim0Q" name="getMetaData" method="_v3gAIoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v11zQYJREeGsv772wTim0Q" type="_v11MMoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vsyk8IJREeGsv772wTim0Q" name="setReadOnly" method="_v3gAJIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vsyk8YJREeGsv772wTim0Q" name="readOnly">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vszMAIJREeGsv772wTim0Q" name="isReadOnly" method="_v3gAJoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vszMAYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vszzEIJREeGsv772wTim0Q" name="setCatalog" method="_v3gAKIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vszzEYJREeGsv772wTim0Q" name="catalog">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vs0aIIJREeGsv772wTim0Q" name="getCatalog" method="_v3gAKoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs0aIYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vs1BMIJREeGsv772wTim0Q" name="setTransactionIsolation" method="_v3gnMIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs1BMYJREeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vs1oQIJREeGsv772wTim0Q" name="getTransactionIsolation" method="_v3gnMoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs1oQYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vs2PUIJREeGsv772wTim0Q" name="getWarnings" method="_v3gnNIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v11zRIJREeGsv772wTim0Q" type="_v11zQoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs22YIJREeGsv772wTim0Q" name="clearWarnings" method="_v3gnNoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vs4rkIJREeGsv772wTim0Q" name="createBlob" method="_v3hORYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v16rwYJREeGsv772wTim0Q" type="_v16EsoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs4rkYJREeGsv772wTim0Q" name="createClob" method="_v3hOR4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v16rxIJREeGsv772wTim0Q" type="_v16rwoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs5SoIJREeGsv772wTim0Q" name="createNClob" method="_v3hOSYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v17S0oJREeGsv772wTim0Q" type="_v17S0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs55sIJREeGsv772wTim0Q" name="createSQLXML" method="_v3hOS4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1754YJREeGsv772wTim0Q" type="_v17S04JREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs6gwIJREeGsv772wTim0Q" name="createStatement" method="_v3hOTYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs6gwYJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vs7H0IJREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0uY8IJREeGsv772wTim0Q" type="_tcAOEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs7u4IJREeGsv772wTim0Q" name="createStatement" method="_v3h1UIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs8V8IJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vs8V8YJREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vs8V8oJREeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0vAAIJREeGsv772wTim0Q" type="_tcAOEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs9kEIJREeGsv772wTim0Q" name="getClientInfo" method="_v3h1WoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0vAAYJREeGsv772wTim0Q" type="_thd84IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vs-LIIJREeGsv772wTim0Q" name="getClientInfo" method="_v3h1XIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs-LIYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vs-yMIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vs_ZQIJREeGsv772wTim0Q" name="getHoldability" method="_v3icYIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vs_ZQYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vs_ZQoJREeGsv772wTim0Q" name="getTypeMap" method="_v3icYoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0vAAoJREeGsv772wTim0Q" type="_tbbmUYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtAnYIJREeGsv772wTim0Q" name="isValid" method="_v3icZIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtAnYYJREeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtAnYoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vtB1gIJREeGsv772wTim0Q" name="prepareCall" method="_v3icZ4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtB1gYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtB1goJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtB1g4JREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v19IAIJREeGsv772wTim0Q" type="_v10lIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtDDoIJREeGsv772wTim0Q" name="prepareCall" method="_v3icbIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtDDoYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtDDooJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtDDo4JREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtDDpIJREeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v19IAYJREeGsv772wTim0Q" type="_v10lIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtERwIJREeGsv772wTim0Q" name="prepareStatement" method="_v3jDcIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtERwYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtERwoJREeGsv772wTim0Q" name="columnIndexes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vtE40IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0vnEIJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtFf4IJREeGsv772wTim0Q" name="prepareStatement" method="_v3jDdYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtFf4YJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtFf4oJREeGsv772wTim0Q" name="columnNames">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vtGG8IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0vnEYJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtGuAIJREeGsv772wTim0Q" name="prepareStatement" method="_v3jDeoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtGuAYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtGuAoJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtGuA4JREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0vnEoJREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtH8IIJREeGsv772wTim0Q" name="prepareStatement" method="_v3jDf4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtH8IYJREeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtH8IoJREeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtH8I4JREeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtH8JIJREeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0vnE4JREeGsv772wTim0Q" type="_thsmYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtJxUIJREeGsv772wTim0Q" name="setClientInfo" method="_v3jqhoJREeGsv772wTim0Q" raisedException="_v1-WIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtJxUYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vtJxUoJREeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vtK_cIJREeGsv772wTim0Q" name="setHoldability" method="_v3jqiYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtK_cYJREeGsv772wTim0Q" name="holdability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vtLmgIJREeGsv772wTim0Q" name="setSavepoint" method="_v3jqi4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1-9MYJREeGsv772wTim0Q" type="_v19vEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtMNkIJREeGsv772wTim0Q" name="setSavepoint" method="_v3kRkIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtM0oIJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1-9MoJREeGsv772wTim0Q" type="_v19vEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v0sjwYJREeGsv772wTim0Q" name="JDCConnection" method="_v3eK8IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v0tK0YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v0tK0oJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v0sjwoJREeGsv772wTim0Q" name="conn" type="_vyjOsIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0tK0IJREeGsv772wTim0Q" name="pool" type="_thaSgoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0tK04JREeGsv772wTim0Q" type="_vslwoIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v0vnFIJREeGsv772wTim0Q" name="setClientInfo" method="_v3jqhIJREeGsv772wTim0Q" raisedException="_v1-WIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0vnFYJREeGsv772wTim0Q" name="properties" type="_thd84IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v0wOIIJREeGsv772wTim0Q" name="setTypeMap" method="_v3kRk4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v0wOIYJREeGsv772wTim0Q" name="map" type="_tbbmUYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v12aUoJREeGsv772wTim0Q" name="isWrapperFor" method="_v3gnN4JREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v12aU4JREeGsv772wTim0Q" name="arg0" type="_v12aUIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v12aVIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v13ocIJREeGsv772wTim0Q" name="unwrap" method="_v3gnOoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v13ocYJREeGsv772wTim0Q" name="arg0" type="_v12aUIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v13oc4JREeGsv772wTim0Q" type="_v13BYYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v15dooJREeGsv772wTim0Q" name="createArrayOf" method="_v3hOQIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v15do4JREeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v15dpIJREeGsv772wTim0Q" name="elements" type="_v15doIJREeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v16EsYJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v16EsIJREeGsv772wTim0Q" type="_v142kIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v18g8IJREeGsv772wTim0Q" name="createStruct" method="_v3h1VYJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v18g8YJREeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v18g8oJREeGsv772wTim0Q" name="attributes" type="_v15doIJREeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v18g9IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v18g84JREeGsv772wTim0Q" type="_v1754oJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v19vEoJREeGsv772wTim0Q" name="releaseSavepoint" method="_v3jqgIJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v19vE4JREeGsv772wTim0Q" name="savepoint" type="_v19vEIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1-WIIJREeGsv772wTim0Q" name="rollback" method="_v3jqgoJREeGsv772wTim0Q" raisedException="_thrYQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1-WIYJREeGsv772wTim0Q" name="savepoint" type="_v19vEIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_vyjOsIJREeGsv772wTim0Q" name="Connection"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v10lIIJREeGsv772wTim0Q" name="CallableStatement"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v11MMoJREeGsv772wTim0Q" name="DatabaseMetaData"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v11zQoJREeGsv772wTim0Q" name="SQLWarning"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v12aUIJREeGsv772wTim0Q" name="Class"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v13BYYJREeGsv772wTim0Q" name="T"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v142kIJREeGsv772wTim0Q" name="Array"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v15doIJREeGsv772wTim0Q" name="Object"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v16EsoJREeGsv772wTim0Q" name="Blob"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v16rwoJREeGsv772wTim0Q" name="Clob"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v17S0IJREeGsv772wTim0Q" name="NClob"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v17S04JREeGsv772wTim0Q" name="SQLXML"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v1754oJREeGsv772wTim0Q" name="Struct"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v19vEIJREeGsv772wTim0Q" name="Savepoint"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v1-WIoJREeGsv772wTim0Q" name="SQLClientInfoException"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4dCZIJREeGsv772wTim0Q" name="" memberEnd="_v4dCZYJREeGsv772wTim0Q _v3AQ44JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4dCZYJREeGsv772wTim0Q" name="" type="_vslwoIJREeGsv772wTim0Q" association="_v4dCZIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4dpcYJREeGsv772wTim0Q" name="" memberEnd="_v4dpcoJREeGsv772wTim0Q _v3A38YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4dpcoJREeGsv772wTim0Q" name="" type="_vslwoIJREeGsv772wTim0Q" association="_v4dpcYJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_snzxAIJREeGsv772wTim0Q" name="text">
            <packagedElement xmi:type="uml:Class" xmi:id="_tEgUEIJREeGsv772wTim0Q" name="Languages">
              <ownedAttribute xmi:id="_tl0RYIJREeGsv772wTim0Q" name="languages" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqy4AIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tl04cYJREeGsv772wTim0Q" value="new HashMap&lt;Integer, Language>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tl1fgYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqy4A4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovpk4JREeGsv772wTim0Q" name="Languages" specification="_tc9QUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tovplIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tovplYJREeGsv772wTim0Q" type="_tEgUEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		languages = new HashMap&lt;Integer, Language>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tovploJREeGsv772wTim0Q" name="loadDictionaries" specification="_tEhiMIJREeGsv772wTim0Q">
                <language>java</language>
                <body>languages = plugin.database.npcQueries.loadDictionaries();	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_towQoIJREeGsv772wTim0Q" name="translate" specification="_tEiJQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_towQoYJREeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_towQooJREeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_towQo4JREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return languages.get(id_Language).translate(source);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_towQpIJREeGsv772wTim0Q" name="getAbbreviation" specification="_tEjXYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_towQpYJREeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_towQpoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>switch( id_Language )&#xD;
		{&#xD;
			case 1:&#xD;
				return &quot;Cr&quot;;&#xD;
			case 2:&#xD;
				return &quot;Gh&quot;;&#xD;
			case 3:&#xD;
				return &quot;Be&quot;;&#xD;
			case 4:&#xD;
				return &quot;Av&quot;;&#xD;
			default:&#xD;
				return &quot;XX&quot;;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tEhiMIJREeGsv772wTim0Q" name="loadDictionaries" method="_tovploJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tEiJQIJREeGsv772wTim0Q" name="translate" method="_towQoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tEiJQYJREeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEiJQoJREeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tia_IIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEjXYIJREeGsv772wTim0Q" name="getAbbreviation" method="_towQpIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tEjXYYJREeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEj-cIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tc9QUIJREeGsv772wTim0Q" name="Languages" method="_tovpk4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tc93YYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tc93YoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tc93YIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tc93Y4JREeGsv772wTim0Q" type="_tEgUEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZ0cwYJREeGsv772wTim0Q" name="Message">
              <ownedAttribute xmi:id="_v3IzwIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4h64YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3IzwYJREeGsv772wTim0Q" name="npcParsing" visibility="private" type="_v2HgEYJREeGsv772wTim0Q" association="_v4h65IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3IzwoJREeGsv772wTim0Q" name="playerPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4ih8YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3Izw4JREeGsv772wTim0Q" name="commandPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4ih9IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3IzxIJREeGsv772wTim0Q" name="requiredPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4jJAYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3Ja0IJREeGsv772wTim0Q" name="optionalPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4jJBIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3Ja0YJREeGsv772wTim0Q" name="parenthesesPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4jwEYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3KB4IJREeGsv772wTim0Q" name="townPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4jwFIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3KB4YJREeGsv772wTim0Q" name="numberPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4kXIIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3KB4oJREeGsv772wTim0Q" name="DEFAULT_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4kXI4JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3KB44JREeGsv772wTim0Q" value="ChatColor.GREEN"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3KB5IJREeGsv772wTim0Q" name="COLOR_NO" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4kXJoJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3Ko8IJREeGsv772wTim0Q" value="ChatColor.DARK_RED"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3Ko8YJREeGsv772wTim0Q" name="BROADCAST_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4k-MYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3Ko8oJREeGsv772wTim0Q" value="ChatColor.DARK_GREEN"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3Ko84JREeGsv772wTim0Q" name="PLAYER_OWNER_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4k-NIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3Ko9IJREeGsv772wTim0Q" value="ChatColor.GOLD"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3Ko9YJREeGsv772wTim0Q" name="PLAYER_ADMIN_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4llQYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3Ko9oJREeGsv772wTim0Q" value="ChatColor.YELLOW"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3LQAIJREeGsv772wTim0Q" name="PLAYER_MOD_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4llRIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3LQAYJREeGsv772wTim0Q" value="ChatColor.DARK_GREEN"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3LQAoJREeGsv772wTim0Q" name="PLAYER_MERCHANT_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4mMUIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3LQA4JREeGsv772wTim0Q" value="ChatColor.WHITE"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3LQBIJREeGsv772wTim0Q" name="PLAYER_RED_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4mMU4JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3LQBYJREeGsv772wTim0Q" value="ChatColor.RED"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3LQBoJREeGsv772wTim0Q" name="PLAYER_BLUE_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4sS8IJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3L3EIJREeGsv772wTim0Q" value="ChatColor.BLUE"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3L3EYJREeGsv772wTim0Q" name="PLAYER_CITIZEN_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4sS84JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3L3EoJREeGsv772wTim0Q" value="ChatColor.GRAY"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3L3E4JREeGsv772wTim0Q" name="NPC_NAME_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4sS9oJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3L3FIJREeGsv772wTim0Q" value="ChatColor.AQUA"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3L3FYJREeGsv772wTim0Q" name="NPC_TEXT_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4s6AYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3L3FoJREeGsv772wTim0Q" value="ChatColor.DARK_AQUA"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3MeIIJREeGsv772wTim0Q" name="NPC_FOREIGN_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4thEYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3MeIYJREeGsv772wTim0Q" value="ChatColor.GRAY"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3MeIoJREeGsv772wTim0Q" name="LANGUAGE_NAME_COLOR" isStatic="true" type="_taJz8IJREeGsv772wTim0Q" association="_v4thFIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3MeI4JREeGsv772wTim0Q" value="ChatColor.DARK_GREEN"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pxKYJREeGsv772wTim0Q" name="Message" specification="_v1EXMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pxKoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3pxK4JREeGsv772wTim0Q" type="_tZ0cwYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.npcParsing = new NPCParsing(plugin);&#xD;
		&#xD;
		playerPattern = Pattern.compile(&quot;&lt;p(.)>(\\w+)&lt;/p.>&quot;);&#xD;
		townPattern = Pattern.compile(&quot;&lt;t(.)>(.+)&lt;/t.>&quot;);&#xD;
		 &#xD;
		commandPattern = Pattern.compile(&quot;([\\s'])(/[a-zA-Z]+)&quot;);&#xD;
		requiredPattern = Pattern.compile(&quot;(&lt;.+>)&quot;);&#xD;
		optionalPattern = Pattern.compile(&quot;(\\[.+\\])&quot;);&#xD;
		parenthesesPattern = Pattern.compile(&quot;([(]\\D+[)])&quot;);&#xD;
		numberPattern = Pattern.compile(&quot;(\\s)([\\d+,-\\.#]+( &quot; + plugin.config.CURRENCY_NAME + &quot;)?( &quot; + plugin.config.CURRENCY_MINOR + &quot;)?)&quot;);&#xD;
		 &#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3qYMIJREeGsv772wTim0Q" name="parse" specification="_v1E-RIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3qYMYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3qYMoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>parse(player, message, DEFAULT_COLOR);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3qYM4JREeGsv772wTim0Q" name="parseNo" specification="_v1FlUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3qYNIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3qYNYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>parse(player, message, COLOR_NO);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3qYNoJREeGsv772wTim0Q" name="parse" specification="_v1FlVIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3qYN4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3qYOIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3qYOYJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.sendMessage(process(message, color));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3qYOoJREeGsv772wTim0Q" name="process" specification="_v1GMYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3qYO4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3qYPIJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3qYPYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>message = color + message;&#xD;
		&#xD;
		// Process XML codes first &#xD;
		message = highlightPlayers(message, color);&#xD;
		message = highlightTowns(message, color);&#xD;
		&#xD;
		// Parse for basic text&#xD;
		message = highlightNumbers(message, color);&#xD;
		message = highlightCommands(message, color);&#xD;
		message = highlightRequired(message, color);&#xD;
		message = highlightOptional(message, color);&#xD;
		message = highlightParentheses(message, color);&#xD;
		&#xD;
		return message;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3qYPoJREeGsv772wTim0Q" name="send" specification="_v1GMZYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3qYP4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3qYQIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(DEFAULT_COLOR + message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3q_QIJREeGsv772wTim0Q" name="send" specification="_v1GzcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3q_QYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3q_QoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3q_Q4JREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.sendMessage(color + message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3q_RIJREeGsv772wTim0Q" name="sendNo" specification="_v1GzdoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3q_RYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3q_RoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(COLOR_NO + message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3q_R4JREeGsv772wTim0Q" name="broadcast" specification="_vutQgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3q_SIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>broadcast(message, BROADCAST_COLOR);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3q_SYJREeGsv772wTim0Q" name="broadcast" specification="_v1HagYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3q_SoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3q_S4JREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>message = process(message, color);&#xD;
		&#xD;
		for( Player onlinePlayer : plugin.getServer().getOnlinePlayers() )&#xD;
			onlinePlayer.sendMessage(message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3q_TIJREeGsv772wTim0Q" name="talk" specification="_v1HahYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3q_TYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3q_ToJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3q_T4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Trim off the color code from the NPC name&#xD;
		name = name.substring(2);&#xD;
		&#xD;
		wrap(player, process(NPC_NAME_COLOR + name + ChatColor.WHITE + &quot;: &quot; + NPC_TEXT_COLOR + message, NPC_TEXT_COLOR), NPC_TEXT_COLOR);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3rmUIJREeGsv772wTim0Q" name="highlightPlayers" specification="_v1IBkoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3rmUYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3rmUoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3rmU4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = playerPattern.matcher(message);&#xD;
	    ChatColor playerColor = ChatColor.GRAY;		// bad code&#xD;
	    &#xD;
	    &#xD;
	    StringBuffer sb = new StringBuffer();&#xD;
     while( matcher.find() )&#xD;
     {&#xD;
     	if( matcher.group(1).equals(&quot;o&quot;) )		// owner&#xD;
	    		playerColor = ChatColor.GOLD;&#xD;
	    	else if( matcher.group(1).equals(&quot;a&quot;) )	// admin&#xD;
	    		playerColor = ChatColor.YELLOW;&#xD;
	    	else if( matcher.group(1).equals(&quot;m&quot;) )	// moderator&#xD;
	    		playerColor = ChatColor.DARK_GREEN;&#xD;
	    	else if( matcher.group(1).equals(&quot;e&quot;) )	// merchant&#xD;
	    		playerColor = ChatColor.WHITE;&#xD;
	    	else if( matcher.group(1).equals(&quot;b&quot;) )	// blue&#xD;
	    		playerColor = ChatColor.BLUE;&#xD;
	    	else if( matcher.group(1).equals(&quot;r&quot;) )	// red&#xD;
	    		playerColor = ChatColor.RED;&#xD;
	    	else if( matcher.group(1).equals(&quot;c&quot;) )	// citizen&#xD;
	    		playerColor = ChatColor.GRAY;&#xD;
	    	else if( matcher.group(1).equals(&quot;t&quot;) )	// tourist&#xD;
	    		playerColor = ChatColor.DARK_GRAY;&#xD;
	    	else if( matcher.group(1).equals(&quot;n&quot;) )	// NPC&#xD;
	    		playerColor = ChatColor.AQUA;&#xD;
     	&#xD;
     	matcher.appendReplacement(sb, playerColor + &quot;$2&quot; + color);&#xD;
     }&#xD;
     matcher.appendTail(sb);&#xD;
     &#xD;
     return sb.toString();&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3rmVIJREeGsv772wTim0Q" name="highlightTowns" specification="_v1IooIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3rmVYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3rmVoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3rmV4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = townPattern.matcher(message);&#xD;
	    ChatColor townColor = ChatColor.WHITE;		// neutral/bad code&#xD;
	    if( matcher.find() )&#xD;
	    {&#xD;
	    	if( matcher.group(1).equals(&quot;b&quot;) )		// blue&#xD;
	    		townColor = ChatColor.BLUE;&#xD;
	    	else if( matcher.group(1).equals(&quot;r&quot;) )	// red&#xD;
	    		townColor = ChatColor.RED;&#xD;
	    	else if( matcher.group(1).equals(&quot;p&quot;) ) // npc&#xD;
	    		townColor = ChatColor.AQUA;&#xD;
	    	else if( matcher.group(1).equals(&quot;c&quot;) ) // Rage City&#xD;
	    		townColor = ChatColor.YELLOW;&#xD;
	    }&#xD;
	   &#xD;
	    return matcher.replaceAll(townColor + &quot;$2&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3rmWIJREeGsv772wTim0Q" name="highlightNumbers" specification="_v1IopYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3rmWYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3rmWoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3rmW4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = numberPattern.matcher(message);&#xD;
	    return matcher.replaceAll(&quot;$1&quot; + ChatColor.WHITE + &quot;$2&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3rmXIJREeGsv772wTim0Q" name="highlightCommands" specification="_v1JPsoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3rmXYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3rmXoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3rmX4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = commandPattern.matcher(message);&#xD;
	    return matcher.replaceAll(&quot;$1&quot; + ChatColor.DARK_GREEN + &quot;$2&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3rmYIJREeGsv772wTim0Q" name="highlightRequired" specification="_v1JPt4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3rmYYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3rmYoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3rmY4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = requiredPattern.matcher(message);&#xD;
	    return matcher.replaceAll(ChatColor.GOLD + &quot;$1&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3sNYIJREeGsv772wTim0Q" name="highlightOptional" specification="_v1J2w4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3sNYYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3sNYoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3sNY4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = optionalPattern.matcher(message);&#xD;
	    return matcher.replaceAll(ChatColor.YELLOW + &quot;$1&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3sNZIJREeGsv772wTim0Q" name="highlightParentheses" specification="_v1Kd0YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3sNZYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3sNZoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3sNZ4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = parenthesesPattern.matcher(message);&#xD;
	    return matcher.replaceAll(ChatColor.GRAY + &quot;$1&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3sNaIJREeGsv772wTim0Q" name="languageUp" specification="_v1Kd1oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3sNaYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3sNaoJREeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3sNa4JREeGsv772wTim0Q" name="increase">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3sNbIJREeGsv772wTim0Q" name="languageSkill">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(ChatColor.GOLD + &quot;Language: &quot; + LANGUAGE_NAME_COLOR + plugin.config.NPC_LANGUAGE_NAMES.get(raceID) + &#xD;
							ChatColor.GREEN + &quot; skill &quot; + ChatColor.WHITE + &quot;+&quot; + increase + ChatColor.GRAY + &quot; (&quot; + languageSkill + &quot;/100)&quot;);&#xD;
		if( languageSkill == 100 )&#xD;
			player.sendMessage(ChatColor.YELLOW + &quot;Congratulations!  &quot; + DEFAULT_COLOR + &quot;You are now fluent in &quot; + LANGUAGE_NAME_COLOR + &#xD;
					plugin.config.NPC_LANGUAGE_NAMES.get(raceID) + &quot;!&quot;);	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3sNbYJREeGsv772wTim0Q" name="wrap" specification="_v1LE44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3sNboJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3sNb4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3sNcIJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>String[] split = message.split(&quot; &quot;);&#xD;
		int count = 0;&#xD;
		String currentLine = &quot;&quot;;&#xD;
		&#xD;
		for( int i = 0; i &lt; split.length; i++ )&#xD;
		{&#xD;
			currentLine += split[i] + &quot; &quot;;&#xD;
			count += ChatColor.stripColor(split[i]).length() + 1;&#xD;
			&#xD;
			// Wrap to new line if past length&#xD;
			if( count > 54 )&#xD;
			{&#xD;
				player.sendMessage(currentLine);&#xD;
				currentLine = &quot;   &quot; + color;&#xD;
				count = 3;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		if( ChatColor.stripColor(currentLine).trim().length() > 0 )&#xD;
			player.sendMessage(currentLine);&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3sNcYJREeGsv772wTim0Q" name="messageNo" specification="_v1Lr8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3sNcoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3sNc4JREeGsv772wTim0Q" name="string">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(string);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vutQgIJREeGsv772wTim0Q" name="broadcast" method="_v3q_R4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vutQgYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1EXMIJREeGsv772wTim0Q" name="Message" method="_v3pxKYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1E-QIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1E-QYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v1EXMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1E-QoJREeGsv772wTim0Q" type="_tZ0cwYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1E-RIJREeGsv772wTim0Q" name="parse" method="_v3qYMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1E-RYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1E-RoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1FlUIJREeGsv772wTim0Q" name="parseNo" method="_v3qYM4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1FlUYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1FlUoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1FlVIJREeGsv772wTim0Q" name="parse" method="_v3qYNoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1FlVYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1FlVoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1FlV4JREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1GMYIJREeGsv772wTim0Q" name="process" visibility="private" method="_v3qYOoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1GMYYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1GMYoJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1GMY4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1GMZYJREeGsv772wTim0Q" name="send" method="_v3qYPoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1GMZoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1GMZ4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1GzcYJREeGsv772wTim0Q" name="send" method="_v3q_QIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1GzcoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Gzc4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1GzdIJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1GzdoJREeGsv772wTim0Q" name="sendNo" method="_v3q_RIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1Gzd4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1GzeIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1HagYJREeGsv772wTim0Q" name="broadcast" method="_v3q_SYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1HagoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1Hag4JREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1HahYJREeGsv772wTim0Q" name="talk" method="_v3q_TIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1HahoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Hah4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1IBkIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1IBkoJREeGsv772wTim0Q" name="highlightPlayers" visibility="private" method="_v3rmUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1IBk4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1IBlIJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1IBlYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1IooIJREeGsv772wTim0Q" name="highlightTowns" visibility="private" method="_v3rmVIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1IooYJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1IoooJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Ioo4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1IopYJREeGsv772wTim0Q" name="highlightNumbers" visibility="private" method="_v3rmWIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1IopoJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1Iop4JREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1JPsIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1JPsoJREeGsv772wTim0Q" name="highlightCommands" visibility="private" method="_v3rmXIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1JPs4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1JPtIJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1JPtYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1JPt4JREeGsv772wTim0Q" name="highlightRequired" visibility="private" method="_v3rmYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1JPuIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1J2wIJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1J2wYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1J2w4JREeGsv772wTim0Q" name="highlightOptional" visibility="private" method="_v3sNYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1J2xIJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1J2xYJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1J2xoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1Kd0YJREeGsv772wTim0Q" name="highlightParentheses" visibility="private" method="_v3sNZIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1Kd0oJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1Kd04JREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Kd1IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1Kd1oJREeGsv772wTim0Q" name="languageUp" method="_v3sNaIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1Kd14JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Kd2IJREeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1LE4IJREeGsv772wTim0Q" name="increase">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1LE4YJREeGsv772wTim0Q" name="languageSkill">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1LE44JREeGsv772wTim0Q" name="wrap" method="_v3sNbYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1LE5IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1LE5YJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1LE5oJREeGsv772wTim0Q" name="color" type="_taJz8IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1Lr8IJREeGsv772wTim0Q" name="messageNo" method="_v3sNcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1Lr8YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Lr8oJREeGsv772wTim0Q" name="string">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqy4AIJREeGsv772wTim0Q" name="" memberEnd="_tqy4AYJREeGsv772wTim0Q _tl0RYIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqy4AYJREeGsv772wTim0Q" name="" type="_tEgUEIJREeGsv772wTim0Q" association="_tqy4AIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqy4A4JREeGsv772wTim0Q" name="" memberEnd="_tqy4BIJREeGsv772wTim0Q _tl1fgYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqy4BIJREeGsv772wTim0Q" name="" type="_tEgUEIJREeGsv772wTim0Q" association="_tqy4A4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vukGkIJREeGsv772wTim0Q" name="Language">
              <ownedAttribute xmi:id="_v3HloIJREeGsv772wTim0Q" name="name" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3HloYJREeGsv772wTim0Q" name="dictionary" visibility="private" type="_tZXJwIJREeGsv772wTim0Q" association="_v4gsxoJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3IMsIJREeGsv772wTim0Q" name="puncPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4hT0YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3IMsYJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_v4hT1IJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pKFoJREeGsv772wTim0Q" name="Language" specification="_vuktoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pKF4JREeGsv772wTim0Q" type="_vukGkIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// Temp - set up sample dictionary&#xD;
		name = &quot;Test Language&quot;;&#xD;
		puncPattern = Pattern.compile(&quot;([^\\.\\,\\!\\?\\;\\:]*)([\\.\\,\\!\\?\\;\\:]*)$&quot;);&#xD;
		random = new Random();&#xD;
		&#xD;
		dictionary = new ArrayList&lt;ArrayList&lt;String>>();&#xD;
		&#xD;
		// Set up banks for up to 12 letter words&#xD;
		for( int i = 0; i &lt; 12; i++ )&#xD;
		{&#xD;
			dictionary.add(new ArrayList&lt;String>());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pKGIJREeGsv772wTim0Q" name="addWord" specification="_vulUsYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pKGYJREeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>addWord(word, word.length());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pKGoJREeGsv772wTim0Q" name="addWord" specification="_vulUtIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pKG4JREeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3pKHIJREeGsv772wTim0Q" name="length">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>dictionary.get(length - 1).add(word);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pKHYJREeGsv772wTim0Q" name="translate" specification="_vul7w4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pKHoJREeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3pKH4JREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;String> result = new ArrayList&lt;String>();&#xD;
		String[] split = source.split(&quot; &quot;);&#xD;
		int total = split.length;&#xD;
		int wordIndex;&#xD;
		&#xD;
		// Add color prefixes to the English words&#xD;
		for( int i = 0; i &lt; split.length; i++ )&#xD;
			split[i] = Message.NPC_TEXT_COLOR + split[i];&#xD;
		&#xD;
		// Create an array of numbers that represents the words not translated yet&#xD;
		ArrayList&lt;Integer> toTranslate = new ArrayList&lt;Integer>();&#xD;
		for( int i = 0; i &lt; total; i++)&#xD;
			toTranslate.add(i);&#xD;
		&#xD;
		// Go through 4 passes to get 25%, 50%, 75%, and 100% translation&#xD;
		for( int i = 1; i &lt;= 4; i++ )&#xD;
		{&#xD;
			while( toTranslate.size() > (total * (1 - ((double)i / 4))) )&#xD;
			{&#xD;
				wordIndex = toTranslate.remove(random.nextInt(toTranslate.size()));&#xD;
				// Don't translate any of the codes&#xD;
				if( 	!split[wordIndex].equals(&quot;&lt;playerName/>&quot;) &amp;&amp; &#xD;
						!split[wordIndex].equals(&quot;&lt;selfName/>&quot;)	)&#xD;
					split[wordIndex] = Message.NPC_FOREIGN_COLOR + translateWord(split[wordIndex], random);&#xD;
			}&#xD;
			result.add(join(split, &quot; &quot;));&#xD;
		}&#xD;
		&#xD;
		return result;&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pxIIJREeGsv772wTim0Q" name="translateWord" specification="_v1CiAoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pxIYJREeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3pxIoJREeGsv772wTim0Q" name="random" type="_tZeegIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3pxI4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Remove the color prefix&#xD;
		word = word.substring(2);&#xD;
		&#xD;
		Matcher matcher = puncPattern.matcher(word);&#xD;
&#xD;
	    if( matcher.find() )&#xD;
	    	word = matcher.group(1);	// Separate the word without the punctuation&#xD;
	    &#xD;
		// Find the length of the word at the specified index&#xD;
		int wordLength = word.length();&#xD;
		&#xD;
		if( wordLength > 0 )&#xD;
		{&#xD;
			// Cut all word lengths down to 12&#xD;
			if( wordLength > 12 )&#xD;
				wordLength = 12;&#xD;
			&#xD;
			// Pull a random word of that length from the dictionary&#xD;
			String newWord = dictionary.get(wordLength - 1).get(random.nextInt(dictionary.get(wordLength - 1).size()));&#xD;
			&#xD;
			// Test for capitalization&#xD;
			if( word.substring(0, 1).equals(word.substring(0, 1).toUpperCase()) )&#xD;
				newWord = newWord.substring(0, 1).toUpperCase() + newWord.substring(1);&#xD;
			&#xD;
			// Return the replaced and processed word&#xD;
			return newWord + matcher.group(2);		// Add the punctuation back	&#xD;
		}&#xD;
		else&#xD;
			return &quot;&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3pxJIJREeGsv772wTim0Q" name="join" specification="_vunJ4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3pxJYJREeGsv772wTim0Q" name="array">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3pxJoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3pxJ4JREeGsv772wTim0Q" name="delimiter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3pxKIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>List&lt;String> s = Arrays.asList(array);&#xD;
&#xD;
	    if (s == null || s.isEmpty()) return &quot;&quot;;&#xD;
	    Iterator&lt;String> iter = s.iterator();&#xD;
	    StringBuilder builder = new StringBuilder(iter.next());&#xD;
	    while( iter.hasNext() )&#xD;
	    {&#xD;
	        builder.append(delimiter).append(iter.next());&#xD;
	    }&#xD;
	    return builder.toString();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vuktoIJREeGsv772wTim0Q" name="Language" method="_v3pKFoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vuktoYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vuktooJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vukto4JREeGsv772wTim0Q" type="_vukGkIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vulUsYJREeGsv772wTim0Q" name="addWord" method="_v3pKGIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vulUsoJREeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vulUtIJREeGsv772wTim0Q" name="addWord" method="_v3pKGoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vul7wIJREeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vul7wYJREeGsv772wTim0Q" name="length">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vul7w4JREeGsv772wTim0Q" name="translate" method="_v3pKHYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vul7xIJREeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1CiAYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vunJ4IJREeGsv772wTim0Q" name="join" visibility="private" isStatic="true" method="_v3pxJIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vunJ4YJREeGsv772wTim0Q" name="array">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vunw8IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vunJ4oJREeGsv772wTim0Q" name="delimiter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vunJ44JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1CiAoJREeGsv772wTim0Q" name="translateWord" visibility="private" method="_v3pxIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1CiA4JREeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1CiBIJREeGsv772wTim0Q" name="random" type="_tZeegIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1DJEIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vu9vMIJREeGsv772wTim0Q" name="NPCParsing">
              <ownedAttribute xmi:id="_v3NFMIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4uIIIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3NFMYJREeGsv772wTim0Q" name="playerPattern" visibility="private" type="_v1B684JREeGsv772wTim0Q" association="_v4uII4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3s0cIJREeGsv772wTim0Q" name="NPCParsing" specification="_v1OIMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3s0cYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3s0coJREeGsv772wTim0Q" type="_vu9vMIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		&#xD;
		playerPattern = Pattern.compile(&quot;&lt;playerName/>&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_v1OIMIJREeGsv772wTim0Q" name="NPCParsing" method="_v3s0cIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1OIMoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1OIM4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v1OIMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1OINIJREeGsv772wTim0Q" type="_vu9vMIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4gsxoJREeGsv772wTim0Q" name="" memberEnd="_v4gsx4JREeGsv772wTim0Q _v3HloYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4gsx4JREeGsv772wTim0Q" name="" type="_vukGkIJREeGsv772wTim0Q" association="_v4gsxoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4hT0YJREeGsv772wTim0Q" name="" memberEnd="_v4hT0oJREeGsv772wTim0Q _v3IMsIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4hT0oJREeGsv772wTim0Q" name="" type="_vukGkIJREeGsv772wTim0Q" association="_v4hT0YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4hT1IJREeGsv772wTim0Q" name="" memberEnd="_v4hT1YJREeGsv772wTim0Q _v3IMsYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4hT1YJREeGsv772wTim0Q" name="" type="_vukGkIJREeGsv772wTim0Q" association="_v4hT1IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4h64YJREeGsv772wTim0Q" name="" memberEnd="_v4h64oJREeGsv772wTim0Q _v3IzwIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4h64oJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4h64YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4h65IJREeGsv772wTim0Q" name="" memberEnd="_v4h65YJREeGsv772wTim0Q _v3IzwYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4h65YJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4h65IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4ih8YJREeGsv772wTim0Q" name="" memberEnd="_v4ih8oJREeGsv772wTim0Q _v3IzwoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4ih8oJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4ih8YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4ih9IJREeGsv772wTim0Q" name="" memberEnd="_v4ih9YJREeGsv772wTim0Q _v3Izw4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4ih9YJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4ih9IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4jJAYJREeGsv772wTim0Q" name="" memberEnd="_v4jJAoJREeGsv772wTim0Q _v3IzxIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4jJAoJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4jJAYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4jJBIJREeGsv772wTim0Q" name="" memberEnd="_v4jJBYJREeGsv772wTim0Q _v3Ja0IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4jJBYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4jJBIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4jwEYJREeGsv772wTim0Q" name="" memberEnd="_v4jwEoJREeGsv772wTim0Q _v3Ja0YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4jwEoJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4jwEYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4jwFIJREeGsv772wTim0Q" name="" memberEnd="_v4jwFYJREeGsv772wTim0Q _v3KB4IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4jwFYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4jwFIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4kXIIJREeGsv772wTim0Q" name="" memberEnd="_v4kXIYJREeGsv772wTim0Q _v3KB4YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4kXIYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4kXIIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4kXI4JREeGsv772wTim0Q" name="" memberEnd="_v4kXJIJREeGsv772wTim0Q _v3KB4oJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4kXJIJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4kXI4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4kXJoJREeGsv772wTim0Q" name="" memberEnd="_v4kXJ4JREeGsv772wTim0Q _v3KB5IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4kXJ4JREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4kXJoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4k-MYJREeGsv772wTim0Q" name="" memberEnd="_v4k-MoJREeGsv772wTim0Q _v3Ko8YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4k-MoJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4k-MYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4k-NIJREeGsv772wTim0Q" name="" memberEnd="_v4k-NYJREeGsv772wTim0Q _v3Ko84JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4k-NYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4k-NIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4llQYJREeGsv772wTim0Q" name="" memberEnd="_v4llQoJREeGsv772wTim0Q _v3Ko9YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4llQoJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4llQYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4llRIJREeGsv772wTim0Q" name="" memberEnd="_v4llRYJREeGsv772wTim0Q _v3LQAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4llRYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4llRIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4mMUIJREeGsv772wTim0Q" name="" memberEnd="_v4mMUYJREeGsv772wTim0Q _v3LQAoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4mMUYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4mMUIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4mMU4JREeGsv772wTim0Q" name="" memberEnd="_v4mMVIJREeGsv772wTim0Q _v3LQBIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4mMVIJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4mMU4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4sS8IJREeGsv772wTim0Q" name="" memberEnd="_v4sS8YJREeGsv772wTim0Q _v3LQBoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4sS8YJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4sS8IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4sS84JREeGsv772wTim0Q" name="" memberEnd="_v4sS9IJREeGsv772wTim0Q _v3L3EYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4sS9IJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4sS84JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4sS9oJREeGsv772wTim0Q" name="" memberEnd="_v4sS94JREeGsv772wTim0Q _v3L3E4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4sS94JREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4sS9oJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4s6AYJREeGsv772wTim0Q" name="" memberEnd="_v4s6AoJREeGsv772wTim0Q _v3L3FYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4s6AoJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4s6AYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4thEYJREeGsv772wTim0Q" name="" memberEnd="_v4thEoJREeGsv772wTim0Q _v3MeIIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4thEoJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4thEYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4thFIJREeGsv772wTim0Q" name="" memberEnd="_v4thFYJREeGsv772wTim0Q _v3MeIoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4thFYJREeGsv772wTim0Q" name="" type="_tZ0cwYJREeGsv772wTim0Q" association="_v4thFIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4uIIIJREeGsv772wTim0Q" name="" memberEnd="_v4uIIYJREeGsv772wTim0Q _v3NFMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4uIIYJREeGsv772wTim0Q" name="" type="_vu9vMIJREeGsv772wTim0Q" association="_v4uIIIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4uII4JREeGsv772wTim0Q" name="" memberEnd="_v4uIJIJREeGsv772wTim0Q _v3NFMYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4uIJIJREeGsv772wTim0Q" name="" type="_vu9vMIJREeGsv772wTim0Q" association="_v4uII4JREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_spLC8IJREeGsv772wTim0Q" name="entity">
            <packagedElement xmi:type="uml:Class" xmi:id="_tDK3UIJREeGsv772wTim0Q" name="Bounty">
              <ownedAttribute xmi:id="_tk980IJREeGsv772wTim0Q" name="PlayerName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tk-j4IJREeGsv772wTim0Q" name="Amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tk-j4YJREeGsv772wTim0Q" name="global">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tk_K8IJREeGsv772wTim0Q" name="city">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tk_yAIJREeGsv772wTim0Q" name="bountyGiver">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedOperation xmi:id="_tDMFcIJREeGsv772wTim0Q" name="Bounty">
                <eAnnotations xmi:id="_tDMFcYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tDMFcoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tDMsgIJREeGsv772wTim0Q" type="_tDK3UIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tDNTkIJREeGsv772wTim0Q" name="BountySign">
              <ownedAttribute xmi:id="_tlAZEIJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q" association="_tqof8YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlBAIYJREeGsv772wTim0Q" name="bounty" type="_th2XYYJREeGsv772wTim0Q" association="_tqof9IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tlBnMYJREeGsv772wTim0Q" name="num">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tlCOQYJREeGsv772wTim0Q" name="owner" type="_s-XP0IJREeGsv772wTim0Q" association="_tqpHAYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tokDY4JREeGsv772wTim0Q" name="BountySign" specification="_th3lgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tokDZIJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tokDZYJREeGsv772wTim0Q" name="bounty" type="_th2XYYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tokDZoJREeGsv772wTim0Q" name="Number">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tokDZ4JREeGsv772wTim0Q" name="BH" type="_s-XP0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tokDaIJREeGsv772wTim0Q" type="_tDNTkIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.block=block;&#xD;
		this.num=Number;&#xD;
		this.bounty=bounty;&#xD;
		this.owner=BH;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_th3lgIJREeGsv772wTim0Q" name="BountySign" method="_tokDY4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_th3lhYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_th3lhoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_th3lgYJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_th3lgoJREeGsv772wTim0Q" name="bounty" type="_th2XYYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_th3lg4JREeGsv772wTim0Q" name="Number">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_th3lhIJREeGsv772wTim0Q" name="BH" type="_s-XP0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_th3lh4JREeGsv772wTim0Q" type="_tDNTkIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqof8YJREeGsv772wTim0Q" name="" memberEnd="_tqof8oJREeGsv772wTim0Q _tlAZEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqof8oJREeGsv772wTim0Q" name="" type="_tDNTkIJREeGsv772wTim0Q" association="_tqof8YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqof9IJREeGsv772wTim0Q" name="" memberEnd="_tqof9YJREeGsv772wTim0Q _tlBAIYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqof9YJREeGsv772wTim0Q" name="" type="_tDNTkIJREeGsv772wTim0Q" association="_tqof9IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqpHAYJREeGsv772wTim0Q" name="" memberEnd="_tqpHAoJREeGsv772wTim0Q _tlCOQYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqpHAoJREeGsv772wTim0Q" name="" type="_tDNTkIJREeGsv772wTim0Q" association="_tqpHAYJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_spaTgIJREeGsv772wTim0Q" name="commands">
            <packagedElement xmi:type="uml:Class" xmi:id="_s7I8sIJREeGsv772wTim0Q" name="BountyCommands">
              <ownedAttribute xmi:id="_tjbrwIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqKl4IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjcS0YJREeGsv772wTim0Q" name="oab" visibility="private" type="_tA4_YIJREeGsv772wTim0Q" association="_tqKl44JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjcS04JREeGsv772wTim0Q" name="perms" visibility="private" type="_tZynkYJREeGsv772wTim0Q" association="_tqLM8IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjc54YJREeGsv772wTim0Q" name="BlockCommands" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_tqLM84JREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjdg8IJREeGsv772wTim0Q" value="new HashMap&lt;String,String[]>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tno2UIJREeGsv772wTim0Q" name="BountyCommands" specification="_taLpIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tno2UYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tno2UoJREeGsv772wTim0Q" type="_s7I8sIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.oab = plugin.Bounties;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tno2U4JREeGsv772wTim0Q" name="addSignIssue" specification="_tfZgUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tno2VIJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tno2VYJREeGsv772wTim0Q" name="Command">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tno2VoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.createsign&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty.signcreate&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;)) {&#xD;
			this.BlockCommands.put(Issuer.getName(),Command);&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;You may no right-click a sign.&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tno2V4JREeGsv772wTim0Q" name="resultBlockIssue" specification="_tfaHYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tno2WIJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tno2WYJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (!BlockCommands.containsKey((Issuer.getName()) == null)){&#xD;
			if (BlockCommands.get((Issuer.getName()))[0]== &quot;signcreate&quot;){&#xD;
				if (BlockCommands.get((Issuer.getName())).length > 1){&#xD;
					this.createsign(block, BlockCommands.get((Issuer.getName()))[1], Issuer);&#xD;
				}else{&#xD;
					this.createsign(block, Issuer);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnpdYIJREeGsv772wTim0Q" name="createsign" specification="_tfaucIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnpdYYJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnpdYoJREeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tnpdY4JREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>//admin one&#xD;
		if (perms.playerHas(Issuer, &quot;ragemod.bounty.createsign&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;)) {&#xD;
			this.oab.getBH(city).addSign(block);						&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty-Sign successfully added!&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnpdZIJREeGsv772wTim0Q" name="createsign" specification="_tfbVgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnpdZYJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnpdZoJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.signcreate&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;)) {&#xD;
			this.oab.getBH(this.plugin.players.get(Issuer.getName()).townName).addSign(block);	&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty-Sign successfully added!&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnpdZ4JREeGsv772wTim0Q" name="updateall" specification="_s7PDUIJREeGsv772wTim0Q">
                <language>java</language>
                <body>this.oab.updateallsigns();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnqEcIJREeGsv772wTim0Q" name="addBounty" specification="_tfb8kYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnqEcYJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnqEcoJREeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tnqEc4JREeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tnqEdIJREeGsv772wTim0Q" name="City">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.add.normal&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;)) {&#xD;
			Bounty temp = new Bounty();&#xD;
			EconomyResponse work = this.plugin.economy.bankWithdraw(Issuer.getName(),Double.parseDouble(Amount) );&#xD;
			if (work.type == EconomyResponse.ResponseType.SUCCESS){		&#xD;
			temp.setAmount(Double.parseDouble(Amount));&#xD;
			temp.setPlayerName(Target);&#xD;
			temp.setBountyGiver(Issuer.getName());&#xD;
			temp.setCity(City);&#xD;
			this.oab.getBH(City).addBounty(temp);&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty added!&quot;);&#xD;
			}else{&#xD;
				Issuer.sendMessage(&quot;You don't have enough money. You need to hunt him by yourself :(&quot;);	&#xD;
			}&#xD;
		} else if (Issuer instanceof Player ) {&#xD;
			Issuer.sendMessage(&quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnqEdYJREeGsv772wTim0Q" name="addGlobalBounty" specification="_tfdKsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnqEdoJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnqEd4JREeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tnqEeIJREeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.add.global&quot;) || perms.playerHas(Issuer,  &quot;ragemod.bounty&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;)) {&#xD;
			EconomyResponse work = this.plugin.economy.bankWithdraw(Issuer.getName(),Double.parseDouble(Amount) );&#xD;
			if (work.type == EconomyResponse.ResponseType.SUCCESS){	&#xD;
			Bounty temp = new Bounty();&#xD;
			temp.setAmount(Integer.parseInt(Amount));&#xD;
			temp.setPlayerName(Target);&#xD;
			temp.setBountyGiver(Issuer.getName());&#xD;
			temp.setCity(&quot;global&quot;);&#xD;
			this.oab.getBH(&quot;global&quot;).addBounty(temp);&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty added!&quot;);&#xD;
			}else{&#xD;
				Issuer.sendMessage(&quot;You don't have enough money. You need to hunt him by yourself :(&quot;);	&#xD;
			}&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnqrgIJREeGsv772wTim0Q" name="removeAllBountys" specification="_tfdxwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnqrgYJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnqrgoJREeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.removeall&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer,  &quot;ragemod.bounty&quot;)) {&#xD;
			this.oab.removeallBountys(Target);&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;All Bountys removed!&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_s7PDUIJREeGsv772wTim0Q" name="updateall" method="_tnpdZ4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_taLpIIJREeGsv772wTim0Q" name="BountyCommands" method="_tno2UIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_taMQMIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_taMQMYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_taLpIYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_taMQMoJREeGsv772wTim0Q" type="_s7I8sIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfZgUIJREeGsv772wTim0Q" name="addSignIssue" method="_tno2U4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfZgUYJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfZgUoJREeGsv772wTim0Q" name="Command">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfZgU4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfaHYIJREeGsv772wTim0Q" name="resultBlockIssue" method="_tno2V4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfaHYYJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfaHYoJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfaucIJREeGsv772wTim0Q" name="createsign" method="_tnpdYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfaucYJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfaucoJREeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tfauc4JREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfbVgIJREeGsv772wTim0Q" name="createsign" method="_tnpdZIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfbVgYJREeGsv772wTim0Q" name="block" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfb8kIJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfb8kYJREeGsv772wTim0Q" name="addBounty" method="_tnqEcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfb8koJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfcjoIJREeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tfcjoYJREeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tfcjooJREeGsv772wTim0Q" name="City">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfdKsIJREeGsv772wTim0Q" name="addGlobalBounty" method="_tnqEdYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfdKsYJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfdKsoJREeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tfdKs4JREeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfdxwIJREeGsv772wTim0Q" name="removeAllBountys" method="_tnqrgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfdxwYJREeGsv772wTim0Q" name="Issuer" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfdxwoJREeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s7jMYIJREeGsv772wTim0Q" name="Commands">
              <ownedAttribute xmi:id="_tjdg8oJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqL0AIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnr5oIJREeGsv772wTim0Q" name="Commands" specification="_taRvwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnr5oYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnr5ooJREeGsv772wTim0Q" type="_s7jMYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnr5o4JREeGsv772wTim0Q" name="zone" specification="_tfe_4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnr5pIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.message.parse(player, &quot;Your current zone is &quot; + plugin.zones.getName(player.getLocation()) &#xD;
				+ &quot; and distance from spawn is &quot; + (int)plugin.zones.getDistanceFromSpawn(player.getLocation()));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnr5pYJREeGsv772wTim0Q" name="home" specification="_tfgOAYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnr5poJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnr5p4JREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Timestamp now = new Timestamp(new Date().getTime());&#xD;
		Location destination;&#xD;
		&#xD;
		// Use /home clear to fix problems with beds&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;clear&quot;) )&#xD;
		{&#xD;
			if( playerData.getHome() == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You do not have a home to clear.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				// Remove any nearby beds to the home location&#xD;
				Build.clearNearbyBeds(playerData.getHome());&#xD;
				playerData.clearHome();&#xD;
				playerData.update();&#xD;
				plugin.message.send(player, &quot;Your home has now been cleared.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check permissions so only mods and admins can go to another player's home&#xD;
		if( targetPlayerData.id_Player != playerData.id_Player &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.referee.inspectspawn&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only mods and admins can teleport to other players' home points.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// See if player has an active membership&#xD;
		if( !playerData.isMember )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only active Rageland members can use /home.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check to see if home is on cooldown&#xD;
		if( playerData.home_LastUsed != null )&#xD;
		{&#xD;
			int secondsSinceLastUse = (int)((now.getTime() - playerData.home_LastUsed.getTime()) / 1000);&#xD;
			if( secondsSinceLastUse &lt; plugin.config.Cooldown_Home )&#xD;
			{&#xD;
				plugin.message.parseNo(player, &quot;Spell /home is not ready yet (&quot; + Util.formatCooldown(plugin.config.Cooldown_Home - secondsSinceLastUse) + &quot; left)&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// Make sure the player has set a home&#xD;
		if( targetPlayerData.getHome() == null )			&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You have not yet set a /home (place a bed inside your lot).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
		player.teleport(targetPlayerData.getHome());&#xD;
		playerData.home_LastUsed = now;&#xD;
		playerData.update();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnsgsIJREeGsv772wTim0Q" name="spawn" specification="_tfg1EoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnsgsYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnsgsoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Timestamp now = new Timestamp(new Date().getTime());&#xD;
		Location destination;&#xD;
		&#xD;
		// Use /home clear to fix problems with beds&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;clear&quot;) )&#xD;
		{&#xD;
			if( targetPlayerData.getSpawn() == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You do not have a spawn to clear.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				// Remove any nearby beds to the home location&#xD;
				Build.clearNearbyBeds(playerData.getSpawn());&#xD;
				playerData.clearSpawn();&#xD;
				playerData.update();&#xD;
				plugin.message.send(player, &quot;Your spawn has now been cleared.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check permissions so only mods and admins can go to another player's spawn&#xD;
		if( targetPlayerData.id_Player != playerData.id_Player &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.referee.inspectspawn&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only mods and admins can teleport to other players' spawn points.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check to see if spawn is on cooldown&#xD;
		if( playerData.spawn_LastUsed != null )&#xD;
		{&#xD;
			int secondsSinceLastUse = (int)((now.getTime() - playerData.spawn_LastUsed.getTime()) / 1000);&#xD;
			if( secondsSinceLastUse &lt; plugin.config.Cooldown_Spawn )&#xD;
			{&#xD;
				plugin.message.parseNo(player, &quot;Spell /spawn is not ready yet (&quot; + Util.formatCooldown(plugin.config.Cooldown_Spawn - secondsSinceLastUse) + &quot; left)&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		if( targetPlayerData.getSpawn() != null )			&#xD;
			destination = targetPlayerData.getSpawn();&#xD;
		else&#xD;
			destination = plugin.zones.world.getSpawnLocation();&#xD;
		&#xD;
		plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
		player.teleport(destination);&#xD;
		playerData.spawn_LastUsed = now;&#xD;
		plugin.database.playerQueries.updatePlayer(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnsgs4JREeGsv772wTim0Q" name="language" specification="_tfhcIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnsgtIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String skillText;&#xD;
		&#xD;
		plugin.message.send(player, ChatColor.GOLD + &quot;Language skill:&quot;);&#xD;
		&#xD;
		for(int i = 1; i &lt;= 4; i++ )&#xD;
		{&#xD;
			if( playerData.getLanguageSkill(i) == 100 )&#xD;
				skillText = ChatColor.WHITE + &quot;100/100&quot;;&#xD;
			else&#xD;
				skillText = ChatColor.GRAY + Integer.toString(playerData.getLanguageSkill(i)) + &quot;/100&quot;;&#xD;
			plugin.message.send(player, Message.LANGUAGE_NAME_COLOR + &quot;   &quot; + plugin.config.NPC_LANGUAGE_NAMES.get(i) + &quot;: &quot; + skillText);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnsgtYJREeGsv772wTim0Q" name="affinity" specification="_tfiDMYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnsgtoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		HashMap&lt;Integer, Integer> affinities = new HashMap&lt;Integer, Integer>();&#xD;
		affinities.put(-2, 0);&#xD;
		affinities.put(-1, 0);&#xD;
		affinities.put(0, 0);&#xD;
		affinities.put(1, 0);&#xD;
		affinities.put(2, 0);&#xD;
		&#xD;
		for( float affinity : playerData.getAffinities().values() )&#xD;
		{&#xD;
			int affinityCode = Util.getAffinityCode(affinity);&#xD;
			affinities.put(affinityCode, affinities.get(affinityCode) + 1);&#xD;
		}&#xD;
		&#xD;
		plugin.message.send(player, ChatColor.GOLD + &quot;NPC affinity totals:&quot;);&#xD;
		for( int i = 2; i >= -2; i-- )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;   &quot; + plugin.config.NPC_AFFINITY_CODED_NAMES.get(i) + &quot;: &quot; + ChatColor.WHITE + affinities.get(i));&#xD;
		}&#xD;
		plugin.message.send(player, &quot;   &quot; + ChatColor.WHITE + &quot;Total: &quot; + playerData.getAffinities().size());&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_taRvwIJREeGsv772wTim0Q" name="Commands" method="_tnr5oIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_taSW0IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_taSW0YJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_taRvwYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_taSW0oJREeGsv772wTim0Q" type="_s7jMYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfe_4IJREeGsv772wTim0Q" name="zone" method="_tnr5o4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tffm8IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfgOAYJREeGsv772wTim0Q" name="home" method="_tnr5pYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfgOAoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfg1EIJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfg1EoJREeGsv772wTim0Q" name="spawn" method="_tnsgsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfg1E4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfhcIIJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfhcIoJREeGsv772wTim0Q" name="language" method="_tnsgs4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfhcI4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfiDMYJREeGsv772wTim0Q" name="affinity" method="_tnsgtYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfiDMoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s7zrEIJREeGsv772wTim0Q" name="CompassCommands">
              <ownedAttribute xmi:id="_tjeIAIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqL0A4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tntu0IJREeGsv772wTim0Q" name="CompassCommands" specification="_taUzEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tntu0YJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tntu0oJREeGsv772wTim0Q" type="_s7zrEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tntu04JREeGsv772wTim0Q" name="onCompassCommand" specification="_tfjRUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tntu1IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tntu1YJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tntu1oJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tntu14JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Compass commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /compass lot &lt;lot_code>   (points compass to specified lot)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /compass spawn   (points compass to world spawn)&quot;);&#xD;
			if( !plugin.config.PRE_RELEASE_MODE )&#xD;
			{&#xD;
				if( playerData.townName.equals(&quot;&quot;) )&#xD;
					plugin.message.parse(player, &quot;   /compass town &lt;town_name>   (points compass to specified town)&quot;);&#xD;
				else&#xD;
					plugin.message.parse(player, &quot;   /compass town [town_name]   (points compass to town)&quot;);&#xD;
			}	&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;lot&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.lot(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /compass lot &lt;lot_code>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawn&quot;) )&#xD;
		{&#xD;
			this.spawn(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;town&quot;) &amp;&amp; !plugin.config.PRE_RELEASE_MODE )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				this.town(player, playerData.townName);&#xD;
			else if( split.length == 3 )&#xD;
				this.town(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town info &lt;town_name>&quot;);&#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /compass to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnuV4IJREeGsv772wTim0Q" name="lot" specification="_tfkfcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnuV4YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnuV4oJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Lot lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// lot will be null if code is invalid&#xD;
		if( lot == null )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		player.setCompassTarget(lot.getCenter());&#xD;
		plugin.message.send(player, &quot;Compass target set to lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnuV44JREeGsv772wTim0Q" name="spawn" specification="_tflGgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnuV5IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.setCompassTarget(player.getServer().getWorld(&quot;world&quot;).getSpawnLocation());&#xD;
		plugin.message.send(player, &quot;Compass target set to world spawn.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnuV5YJREeGsv772wTim0Q" name="town" specification="_tflGgoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnuV5oJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnuV54JREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		player.setCompassTarget(town.getCenter());&#xD;
		plugin.message.parse(player, &quot;Compass target set to &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_taUzEIJREeGsv772wTim0Q" name="CompassCommands" method="_tntu0IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_taUzEoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_taUzE4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_taUzEYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_taUzFIJREeGsv772wTim0Q" type="_s7zrEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfjRUIJREeGsv772wTim0Q" name="onCompassCommand" method="_tntu04JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfjRUYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfjRUoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfj4YIJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfj4YYJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfkfcIJREeGsv772wTim0Q" name="lot" method="_tnuV4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfkfcYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfkfcoJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tflGgIJREeGsv772wTim0Q" name="spawn" method="_tnuV44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tflGgYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tflGgoJREeGsv772wTim0Q" name="town" method="_tnuV5YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfltkIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfltkYJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s8BtgIJREeGsv772wTim0Q" name="DebugCommands">
              <ownedAttribute xmi:id="_tjevEIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqMbEIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjevEYJREeGsv772wTim0Q" name="level" visibility="package">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnvkAIJREeGsv772wTim0Q" name="DebugCommands" specification="_taXPUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnvkAYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnvkAoJREeGsv772wTim0Q" type="_s8BtgIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnvkA4JREeGsv772wTim0Q" name="onRmdebugCommand" specification="_tfmUoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnvkBIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnvkBYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnvkBoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnvkB4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Debug commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug colors   (displays all chat colors)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug donation  (displays amount of donations)&quot;);&#xD;
			if( false )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug sanctum &lt;level> (attempts to build sanctum floor)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug setlang &lt;1-4> &lt;level> (sets your language skill)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug tptown &lt;town_name> (teleports to town)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug translate [text] (translates the entered text)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug transcast &lt;#> &lt;text> (translates/broadcasts text)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;colors&quot;) )&#xD;
		{&#xD;
			this.colors(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;donation&quot;) )&#xD;
		{&#xD;
			this.donation(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;sanctum&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.sanctum(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /debug sanctum &lt;level>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;setlang&quot;) )&#xD;
		{&#xD;
			if( split.length == 4 )&#xD;
				this.setlang(player, split[2], split[3]); &#xD;
			else&#xD;
			{&#xD;
 			plugin.message.parse(player, &quot;Usage: /rmdebug setlang &lt;1-4> &lt;level>&quot;); &#xD;
				plugin.message.send(player, &quot;   Languages: 1-Creeptongue, 2-Gronuk, 3-Benali, 4-Avialese&quot;);&#xD;
			}&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;tptown&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.towntp(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /rmdebug tptown &lt;town_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;translate&quot;) )&#xD;
		{&#xD;
				this.translate(player, split); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;transcast&quot;) )&#xD;
		{&#xD;
			if( split.length > 3 )&#xD;
				this.transcast(player, split); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /rmdebug transcast 1-4 &lt;text>&quot;); &#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /rmdebug to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnvkCIJREeGsv772wTim0Q" name="colors" specification="_tfniwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnvkCYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.sendMessage(ChatColor.DARK_GRAY + &quot;Dark Gray: Player (Tourist)&quot;);&#xD;
		player.sendMessage(ChatColor.GRAY + &quot;Gray: Player (Neutral)&quot;);&#xD;
		player.sendMessage(ChatColor.WHITE + &quot;White: Town (Neutral), Player (Merchant)&quot;);&#xD;
		player.sendMessage(ChatColor.YELLOW + &quot;Yellow: Player (Admin)&quot;);&#xD;
		player.sendMessage(ChatColor.GOLD + &quot;Gold: Treasury messages, Player (Owner)&quot;);&#xD;
		player.sendMessage(ChatColor.RED + &quot;Red: Town (Red), Player (Red)&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_RED + &quot;Dark Red: Negative messages&quot;);&#xD;
		player.sendMessage(ChatColor.LIGHT_PURPLE + &quot;Light Purple: Battle messages&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_PURPLE + &quot;Dark Purple: Important battle messages&quot;);&#xD;
		player.sendMessage(ChatColor.BLUE + &quot;Blue: Player (Blue)&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_BLUE + &quot;Dark Blue: Unused (illegible)  :(&quot;);&#xD;
		player.sendMessage(ChatColor.AQUA + &quot;Aqua: NPC names, NPC towns&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_AQUA + &quot;Dark Aqua: NPC speech, Quest info&quot;);&#xD;
		player.sendMessage(ChatColor.GREEN + &quot;Green: Ragemod messages&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_GREEN + &quot;Dark Green: Important messages, Broadcasts, Player (Moderator)&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnwLEIJREeGsv772wTim0Q" name="donation" specification="_tfoJ0YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnwLEYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		int donation = plugin.database.playerQueries.getRecentDonations(playerData.id_Player);&#xD;
		&#xD;
		plugin.message.send(player, &quot;The database records you with a total donation of $&quot; + donation + &quot; in the last month.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnwLEoJREeGsv772wTim0Q" name="sanctum" specification="_tfow4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnwLE4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnwLFIJREeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>//plugin.message.sendNo(player, &quot;This command has been disabled.&quot;);&#xD;
		//return;&#xD;
&#xD;
		World world = player.getWorld();&#xD;
		PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			level = Integer.parseInt(levelString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.text.messageNo(player, &quot;Invalid level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		if( level &lt; 1 || level > 5 )&#xD;
		{&#xD;
			plugin.text.messageNo(player, &quot;Invalid level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Pinpoint the top-left corner&#xD;
		int cornerX = (int)player.getLocation().getX() - 2; &#xD;
		int cornerY = (int)player.getLocation().getY() - 1;&#xD;
		int cornerZ = (int)player.getLocation().getZ() - 10; &#xD;
		&#xD;
		Build.sanctumFloor(plugin, world, cornerX, cornerY, cornerZ, level, playerData.id_Faction);	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnwLFYJREeGsv772wTim0Q" name="setlang" specification="_tfpX8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnwLFoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnwLF4JREeGsv772wTim0Q" name="langString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tnwLGIJREeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		int id_Language;&#xD;
		int level;&#xD;
		&#xD;
		// Parse the language string&#xD;
		try&#xD;
		{&#xD;
			id_Language = Integer.parseInt(langString);&#xD;
			if( id_Language &lt; 1 || id_Language > 4 )&#xD;
				throw new Exception();&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid language (1-4).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Parse the level string&#xD;
		try&#xD;
		{&#xD;
			level = Integer.parseInt(levelString);&#xD;
			if( level &lt; 0 || level > 100 )&#xD;
				throw new Exception();&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid skill level (0-100).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Set the language skill&#xD;
		playerData.setLanguageSkill(id_Language, level);&#xD;
		playerData.update();&#xD;
		&#xD;
		plugin.message.send(player, &quot;Your &quot; + plugin.message.LANGUAGE_NAME_COLOR + plugin.config.NPC_LANGUAGE_NAMES.get(id_Language) + &#xD;
				plugin.message.DEFAULT_COLOR + &quot; skill is now &quot; + ChatColor.WHITE + level + &quot;.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnwyIIJREeGsv772wTim0Q" name="towntp" specification="_tfqmEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnwyIYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnwyIoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Teleport to the town&#xD;
		plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
		player.teleport(Util.findTeleportLocation(town.centerPoint));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnxZMIJREeGsv772wTim0Q" name="translate" specification="_tfrNIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnxZMYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnxZMoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnxZM4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>String message = new String();&#xD;
		ArrayList&lt;String> results;&#xD;
		&#xD;
		if( split.length == 2 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Usage: /debug translate [text]&quot;);&#xD;
			plugin.message.parse(player, &quot;Translating sample message...&quot;);&#xD;
			message = &quot;Greetings, fellow traveler.  Would you like a cup of ale?&quot;;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Pull the commands out of the string&#xD;
			for( int i = 2; i &lt; split.length; i++ )&#xD;
				message += split[i] + &quot; &quot;;&#xD;
		}&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			plugin.message.parse(player,  &quot;[En] &quot; + message);&#xD;
			&#xD;
			// Translate into all 4 languages&#xD;
			for( int i = 1; i &lt;= 4; i++ )&#xD;
			{&#xD;
				results = plugin.languages.translate(message, i);&#xD;
				plugin.message.parse(player,  &quot;[&quot; + plugin.languages.getAbbreviation(i) + &quot;] &quot; + results.get(3), ChatColor.DARK_AQUA);&#xD;
			}&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnxZNIJREeGsv772wTim0Q" name="transcast" specification="_tfsbQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnxZNYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnxZNoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnxZN4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String message = new String();&#xD;
		ArrayList&lt;String> results;&#xD;
		int id_Language;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			id_Language = Integer.parseInt(split[2]);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid language (1-4).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		if( id_Language &lt; 1 || id_Language > 4 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid language (1-4).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Pull the commands out of the string&#xD;
		for( int i = 3; i &lt; split.length; i++ )&#xD;
			message += split[i] + &quot; &quot;;&#xD;
		&#xD;
		results = plugin.languages.translate(message, id_Language);&#xD;
		plugin.message.broadcast(playerData.getCodedName() + &quot; has initiated a translation test:&quot;);&#xD;
		plugin.message.broadcast(&quot;[En] &quot; + message, ChatColor.GREEN);&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			plugin.message.broadcast(&quot;[&quot; + plugin.languages.getAbbreviation(id_Language) + &quot;] &quot; + results.get(3), ChatColor.DARK_AQUA);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_taXPUIJREeGsv772wTim0Q" name="DebugCommands" method="_tnvkAIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_taXPUoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_taXPU4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_taXPUYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_taXPVIJREeGsv772wTim0Q" type="_s8BtgIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfmUoIJREeGsv772wTim0Q" name="onRmdebugCommand" method="_tnvkA4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfm7sIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfm7sYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfm7soJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfm7tIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfniwIJREeGsv772wTim0Q" name="colors" visibility="private" method="_tnvkCIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfniwYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfoJ0YJREeGsv772wTim0Q" name="donation" visibility="private" method="_tnwLEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfoJ0oJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfow4IJREeGsv772wTim0Q" name="sanctum" visibility="private" method="_tnwLEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfow4YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfow4oJREeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfpX8IJREeGsv772wTim0Q" name="setlang" visibility="private" method="_tnwLFYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfpX8YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfpX8oJREeGsv772wTim0Q" name="langString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tfp_AIJREeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfqmEoJREeGsv772wTim0Q" name="towntp" visibility="private" method="_tnwyIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfqmE4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfrNIIJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfrNIoJREeGsv772wTim0Q" name="translate" visibility="private" method="_tnxZMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfrNI4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfr0MIJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfr0MoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfsbQIJREeGsv772wTim0Q" name="transcast" visibility="private" method="_tnxZNIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfsbQYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfsbQoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfsbRIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s8b9MIJREeGsv772wTim0Q" name="FactionCommands">
              <ownedAttribute xmi:id="_tjfWIIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqMbE4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnz1cIJREeGsv772wTim0Q" name="FactionCommands" specification="_taa5sIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnz1cYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnz1coJREeGsv772wTim0Q" type="_s8b9MIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnz1c4JREeGsv772wTim0Q" name="onFactionCommand" specification="_tfuQcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tnz1dIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnz1dYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tnz1doJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnz1d4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Faction commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.id_Faction == 0 )&#xD;
				plugin.message.parse(player, &quot;   /faction join     (used to join a faction)&quot;);&#xD;
			if( playerData.id_Faction != 0 )&#xD;
				plugin.message.parse(player, &quot;   /faction leave    (leaves your faction)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /faction stats    (displays stats on each faction)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;join&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.join(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.join(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /faction join [faction_name]&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;leave&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.leave(player, false);&#xD;
 		else if( split.length == 3 &amp;&amp; split[2].equalsIgnoreCase(&quot;confirm&quot;))&#xD;
 			this.leave(player, true);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /faction leave [confirm]&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;stats&quot;) )&#xD;
		{&#xD;
			this.stats(player);&#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /faction to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn0cgIJREeGsv772wTim0Q" name="join" specification="_tfu3gYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn0cgYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn0cgoJREeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		int id_Faction;&#xD;
		&#xD;
		// Ensure the player is not already a member of a faction&#xD;
		if( playerData.id_Faction != 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You are already a member of a faction.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Calculate the cost to join each faction&#xD;
		HashMap&lt;Integer, Integer> populations = plugin.database.factionQueries.getFactionPopulations();&#xD;
		int lowestPopulation = 9999;&#xD;
		for( int faction : populations.keySet() )&#xD;
		{&#xD;
			if( lowestPopulation > populations.get(faction) )&#xD;
				lowestPopulation = populations.get(faction);&#xD;
		}&#xD;
		for( int faction : populations.keySet() )&#xD;
		{&#xD;
			populations.put(faction, (plugin.config.Faction_BaseJoinCost + ((populations.get(faction) - lowestPopulation) * plugin.config.Faction_JoinCostIncrease)));&#xD;
		}&#xD;
		&#xD;
		// If the player did not type a faction name, return the cost to join each faction&#xD;
		if( factionName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Current costs to join each faction (based on population):&quot;);&#xD;
			for( int faction : populations.keySet() )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   &quot; + plugin.factions.getCodedName(faction) + &quot;: &quot; + RageMod.econ.format(populations.get(faction)));&#xD;
			}&#xD;
			return;&#xD;
		}&#xD;
		// Check to make sure the typed faction exists&#xD;
		id_Faction = plugin.factions.getID(factionName);&#xD;
		if( id_Faction == 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Faction '&quot; + factionName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if the player has enough money to join the specified faction&#xD;
		if( populations.get(id_Faction) != null &amp;&amp; !RageMod.econ.has(factionName, populations.get(id_Faction)))&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You need at least &quot; + RageMod.econ.format(populations.get(id_Faction)) + &quot; to join the &quot; + plugin.factions.getCodedName(id_Faction) + &quot; faction.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Subtract from player balance&#xD;
		RageMod.econ.bankWithdraw(factionName, populations.get(id_Faction));&#xD;
		&#xD;
		// Set the player's faction&#xD;
		playerData.id_Faction = id_Faction;&#xD;
		plugin.database.playerQueries.updatePlayer(playerData);&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Congratulations, you are now a member of the &quot; + plugin.factions.getCodedName(id_Faction) + &quot; faction!&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn0cg4JREeGsv772wTim0Q" name="leave" specification="_tfvekYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn0chIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn0chYJREeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Ensure the player is a member of a faction&#xD;
		if( playerData.id_Faction == 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You are not a member of a faction.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// See if the player typed &quot;confirm&quot; or not&#xD;
		if( !isConfirmed )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;Are you sure?  You will need to pay the join fee again if you change your mind.&quot;);&#xD;
			plugin.message.parse(player, &quot;Type /faction leave confirm to leave your faction.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Reset the player's faction&#xD;
			plugin.message.parse(player, &quot;You are no longer a member of the &quot; + plugin.factions.getCodedName(playerData.id_Faction) + &quot; faction.&quot;);&#xD;
			playerData.id_Faction = 0;&#xD;
			plugin.database.playerQueries.updatePlayer(playerData);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn0choJREeGsv772wTim0Q" name="stats" specification="_tfwFoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn1DkIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>HashMap&lt;Integer, Integer> populations = plugin.database.factionQueries.getFactionPopulations();&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Current faction populations (excluding inactive players):&quot;);&#xD;
		for( int faction : populations.keySet() )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;   &quot; + plugin.factions.getCodedName(faction) + &quot;: &quot; + populations.get(faction) + &quot; players&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_taa5sIJREeGsv772wTim0Q" name="FactionCommands" method="_tnz1cIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_taa5soJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_taa5s4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_taa5sYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_taa5tIJREeGsv772wTim0Q" type="_s8b9MIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfuQcIJREeGsv772wTim0Q" name="onFactionCommand" method="_tnz1c4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfuQcYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfuQcoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfuQc4JREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfuQdIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfu3gYJREeGsv772wTim0Q" name="join" method="_tn0cgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfu3goJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfvekIJREeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfvekYJREeGsv772wTim0Q" name="leave" method="_tn0cg4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfvekoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfvek4JREeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfwFoIJREeGsv772wTim0Q" name="stats" method="_tn0choJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfwFoYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s8m8UIJREeGsv772wTim0Q" name="LotCommands">
              <ownedAttribute xmi:id="_tjfWIoJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqNCIIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn1qoIJREeGsv772wTim0Q" name="LotCommands" specification="_tad9AIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn1qoYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn1qooJREeGsv772wTim0Q" type="_s8m8UIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn1qo4JREeGsv772wTim0Q" name="onLotCommand" specification="_tfxTwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn1qpIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn1qpYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn1qpoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn1qp4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 4 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Lot commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot allow &lt;player_name> (allow player to build in your lots)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.lot.assign&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /lot assign &lt;lot_code> &lt;player_name>  (gives lot to player)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /lot check   (returns info on the current lot)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /lot claim [lot_code]   (claims the specified or current lot)&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot disallow &lt;player_name/all> (removes permissions)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.lot.evict&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /lot evict &lt;lot_code>   (sets specified lot to 'unclaimed')&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot list   (lists all lots you own)&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot unclaim [lot_code]  (unclaims the specified lot)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;allow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.allow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot allow &lt;player_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;assign&quot;) )&#xD;
		{&#xD;
			if( split.length == 4 )&#xD;
				this.assign(player, split[2], split[3]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot assign &lt;lot_code> &lt;player_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;check&quot;) )&#xD;
		{&#xD;
			this.check(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;claim&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.claim(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.claim(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot claim [lot_code]&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;disallow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.disallow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot disallow &lt;player_name/all>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;evict&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.evict(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot evict &lt;lot_code>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			this.list(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;unclaim&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.unclaim(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.unclaim(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot unclaim [lot_code]&quot;); &#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /lot to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn2RsIJREeGsv772wTim0Q" name="allow" specification="_tfyh4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn2RsYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn2RsoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if the target player already has permission&#xD;
		if( playerData.lotPermissions.contains(targetPlayerData.name) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; already has permission to build in your lots.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - update the DB&#xD;
		plugin.database.lotQueries.allow(playerData.id_Player, targetPlayerData.id_Player);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.lotPermissions.add(targetPlayerData.name);&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now allowed to build in your lots.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has given you permission to build in his/her lots.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn2Rs4JREeGsv772wTim0Q" name="assign" specification="_tfzI8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn2RtIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn2RtYJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn2RtoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Lot lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.lot.assign&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// lot will be null if code is invalid&#xD;
		if( lot == null )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// See if the lot is already claimed&#xD;
		if( !lot.owner.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Lot &quot; + lot.getLotCode() + &quot; is already owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - give the lot to the player&#xD;
		plugin.database.lotQueries.lotClaim(targetPlayerData, lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.lots.add(lot);&#xD;
		&#xD;
		// Update Lots to set the owner&#xD;
		lot.owner = targetPlayerData.name;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; now owns lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn24wIJREeGsv772wTim0Q" name="check" specification="_tfzwAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn24wYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>// Make sure the player is in the capitol&#xD;
		if( !plugin.zones.isInCapitol(player.getLocation()) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You must be in &quot; + plugin.config.Capitol_CodedName + &quot; to use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		Lot lot = plugin.lots.findCurrentLot(player.getLocation());&#xD;
		&#xD;
		if( lot != null )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;You are currently in lot &quot; + lot.getLotCode() + &quot; (&quot; + lot.getCategoryName() + &quot;).&quot;);&#xD;
			if( lot.owner.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;This lot is unowned - type /lot claim to claim it.&quot;);&#xD;
			else&#xD;
				plugin.message.parse(player, &quot;This lot is owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You are not standing inside of a lot.&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn24woJREeGsv772wTim0Q" name="claim" specification="_tf0XEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn24w4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn24xIJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		Lot lot;&#xD;
		&#xD;
		// Get the current lot, whether blank (current location) or typed&#xD;
		if( lotCode.equals(&quot;&quot;) )&#xD;
			lot = plugin.lots.findCurrentLot(player.getLocation());&#xD;
		else&#xD;
			lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// lot will be null if either of the above methods failed&#xD;
		if( lot == null )&#xD;
		{&#xD;
			if( lotCode.equals(&quot;&quot;) )&#xD;
				plugin.message.parseNo(player, &quot;You are not standing on a valid lot.  (consult the online map)&quot;);&#xD;
			else&#xD;
				plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// See if the lot is already claimed&#xD;
		if( !lot.owner.equals(&quot;&quot;) )&#xD;
		{&#xD;
			if( lot.owner.equals(playerData.name) )&#xD;
				plugin.message.sendNo(player, &quot;You already own this lot!&quot;);&#xD;
			else&#xD;
				plugin.message.parseNo(player, &quot;Lot &quot; + lot.getLotCode() + &quot; is already owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the player does not already own a lot of the current lot's category&#xD;
		for( Lot ownedLot : playerData.lots )&#xD;
		{&#xD;
			if( ownedLot.category == lot.category &amp;&amp; (lot.category == LotCategory.WARRENS || lot.category == LotCategory.MARKET) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You can only own one &quot; + lot.getCategoryName() + &quot; lot at a time.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			else if( (lot.category == LotCategory.COAL || lot.category == LotCategory.IRON || lot.category == LotCategory.GOLD || lot.category == LotCategory.DIAMOND) &amp;&amp;&#xD;
					 (ownedLot.category == LotCategory.COAL || ownedLot.category == LotCategory.IRON || ownedLot.category == LotCategory.GOLD || ownedLot.category == LotCategory.DIAMOND) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You can only own one member lot at a time.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// If the player is claiming a member lot, see if they have donated the appropriate amount&#xD;
		if( lot.isMemberLot() )&#xD;
		{&#xD;
			int donation = plugin.database.playerQueries.getRecentDonations(playerData.id_Player);&#xD;
			&#xD;
			if( donation &lt; lot.getPrice() )&#xD;
			{&#xD;
				plugin.message.send(player, &quot;To claim this lot you must be a &quot; + lot.getCategoryName() + &quot;-level &quot; + plugin.config.SERVER_NAME + &quot; member.&quot;, ChatColor.AQUA);&#xD;
				plugin.message.send(player, &quot;Visit http://www.rageland.net/donate for more details.&quot;, ChatColor.AQUA);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// See if the player has an active membership&#xD;
		if( lot.category == LotCategory.MARKET )&#xD;
		{&#xD;
			if( !playerData.isMember )&#xD;
			{&#xD;
				plugin.message.send(player, &quot;To claim a Market lot you must be an active &quot; + plugin.config.SERVER_NAME + &quot; member.&quot;, ChatColor.AQUA);&#xD;
				plugin.message.send(player, &quot;Visit http://www.rageland.net/donate for more details.&quot;, ChatColor.AQUA);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - give the lot to the player&#xD;
		plugin.database.lotQueries.lotClaim(playerData, lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.lots.add(lot);&#xD;
		&#xD;
		// Update Lots to set the owner&#xD;
		lot.owner = playerData.name;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.send(player, &quot;You now own lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn3f0IJREeGsv772wTim0Q" name="disallow" specification="_tf0-IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn3f0YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn3f0oJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;all&quot;) )&#xD;
		{&#xD;
			if( playerData.lotPermissions.size() == 0 )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You have no permissions to disallow.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.lotQueries.disallow(playerData.id_Player, 0);&#xD;
			&#xD;
			// Update the playerData&#xD;
			playerData.lotPermissions.clear();&#xD;
			&#xD;
			plugin.message.send(player, &quot;All of your lot permissions have been cleared.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
			&#xD;
			// Check to see if target player exists&#xD;
			if( targetPlayerData == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			// Check to see if the target player already has permission&#xD;
			if( !playerData.lotPermissions.contains(targetPlayerData.name) )&#xD;
			{&#xD;
				plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; does not have permission to build in your lots.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.lotQueries.disallow(playerData.id_Player, targetPlayerData.id_Player);&#xD;
			&#xD;
			// Update the playerData&#xD;
			playerData.lotPermissions.remove(targetPlayerData.name);&#xD;
			&#xD;
			plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is no longer allowed to build in your lots.&quot;);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn3f04JREeGsv772wTim0Q" name="evict" specification="_tf1lMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn3f1IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn3f1YJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Lot lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.lot.evict&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// lot will be null if invalid&#xD;
		if( lot == null )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the lot is already claimed&#xD;
		if( lot.owner.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Lot &quot; + lot.getLotCode() + &quot; is already unclaimed.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - remove the lot owner&#xD;
		plugin.database.lotQueries.lotUnclaim(lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		PlayerData targetPlayerData = plugin.players.get(lot.owner);&#xD;
		targetPlayerData.lots.remove(lot);&#xD;
		&#xD;
		// Update Lots to set the owner&#xD;
		lot.owner = &quot;&quot;;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; has been evicted from lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn3f1oJREeGsv772wTim0Q" name="list" specification="_tf1lM4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn3f14JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Make sure the player actually owns lots&#xD;
		if( playerData.lots.size() == 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not own any lots.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		plugin.message.send(player, &quot;You currently own the following lots:&quot;);&#xD;
		&#xD;
		for( Lot lot : playerData.lots )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;   &quot; + lot.getLotCode() + &quot; (&quot; + lot.getCategoryName() + &quot;)  &quot; + &#xD;
							   &quot;x: &quot; + (int)lot.region.nwCorner.getX() + &quot;  z: &quot; + (int)lot.region.nwCorner.getZ());&#xD;
		}&#xD;
		&#xD;
		// List all players allowed to build in their lots, if any&#xD;
		if( playerData.lotPermissions.size() > 0 )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;The following players are allowed to build in your lots:&quot;);&#xD;
			String nameList = &quot;&quot;;&#xD;
			for( String name : playerData.lotPermissions )&#xD;
			{&#xD;
				if( nameList.equals(&quot;&quot;) )&#xD;
					nameList += plugin.players.get(name).getCodedName();&#xD;
				else&#xD;
					nameList += &quot;, &quot; + plugin.players.get(name).getCodedName();&#xD;
			}&#xD;
			plugin.message.parse(player, &quot;   &quot; + nameList);&#xD;
		}		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn3f2IJREeGsv772wTim0Q" name="unclaim" specification="_tf2MQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn3f2YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn3f2oJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		Lot lot;&#xD;
		boolean isLotOwned = false;&#xD;
		&#xD;
		lotCode = lotCode.toUpperCase();&#xD;
		&#xD;
		// Get the current lot, whether blank (current location) or typed&#xD;
		if( lotCode.equals(&quot;&quot;) )&#xD;
			lot = plugin.lots.findCurrentLot(player.getLocation());&#xD;
		else&#xD;
			lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// lot will be null if either of the above methods failed&#xD;
		if( lot == null )&#xD;
		{&#xD;
			if( lotCode.equals(&quot;&quot;) )&#xD;
				plugin.message.parseNo(player, &quot;You are not standing on a valid lot.  (use /lot check and consult the online map)&quot;);&#xD;
			else&#xD;
				plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the player owns the specified lot&#xD;
		for( Lot ownedLot : playerData.lots )&#xD;
		{&#xD;
			if( ownedLot.id_Lot == lot.id_Lot )&#xD;
				isLotOwned = true;&#xD;
		}&#xD;
		if( !isLotOwned )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not own lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - reset the lot owner&#xD;
		plugin.database.lotQueries.lotUnclaim(lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.lots.remove(lot);&#xD;
		&#xD;
		// Update Lots to remove the owner&#xD;
		lot.owner = &quot;&quot;;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.send(player, &quot;You are no longer the owner of lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tad9AIJREeGsv772wTim0Q" name="LotCommands" method="_tn1qoIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tad9AoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_taekEIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tad9AYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_taekEYJREeGsv772wTim0Q" type="_s8m8UIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tfxTwIJREeGsv772wTim0Q" name="onLotCommand" method="_tn1qo4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfxTwYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfxTwoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfxTw4JREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tfx60IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfyh4IJREeGsv772wTim0Q" name="allow" method="_tn2RsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfyh4YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfyh4oJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfzI8IJREeGsv772wTim0Q" name="assign" method="_tn2Rs4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfzI8YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tfzI8oJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tfzI84JREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tfzwAIJREeGsv772wTim0Q" name="check" method="_tn24wIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tfzwAYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tf0XEIJREeGsv772wTim0Q" name="claim" method="_tn24woJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf0XEYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf0XEoJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf0-IIJREeGsv772wTim0Q" name="disallow" method="_tn3f0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf0-IYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf0-IoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf1lMIJREeGsv772wTim0Q" name="evict" method="_tn3f04JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf1lMYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf1lMoJREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf1lM4JREeGsv772wTim0Q" name="list" method="_tn3f1oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf2MQIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tf2MQYJREeGsv772wTim0Q" name="unclaim" method="_tn3f2IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf2MQoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf2MQ4JREeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s86eUIJREeGsv772wTim0Q" name="NPCCommands">
              <ownedAttribute xmi:id="_tjf9MYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqNCI4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjf9MoJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_tqNpMIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn4G4IJREeGsv772wTim0Q" name="NPCCommands" specification="_tajckIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn4G4YJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn4G4oJREeGsv772wTim0Q" type="_s86eUIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.random = new Random();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn4G44JREeGsv772wTim0Q" name="onNPCCommand" specification="_tf4BcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn4G5IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn4G5YJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn4G5oJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn4G54JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 5 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;NPC commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc create &lt;name> [raceID] [sex]  (creates a new NPC)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc despawnall   (clears all NPCs on server)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc list   (lists all active NPCs)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc listloc   (lists all NPCLocations)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc newloc   (creates a new NPCLocation at your point)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc spawn &lt;locID> [npcID]  (spawns an NPC at location)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc spawnq &lt;locID> &lt;q.type> [q.id]  (spawns quest NPC)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc spawnall   (forces server-wide NPC spawning)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc tploc &lt;locID>  (teleports to the NPCLocation)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;create&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 ) &#xD;
				this.create(player, split[2], &quot;5&quot;, &quot;M&quot;); &#xD;
			else if( split.length == 4 )&#xD;
				this.create(player, split[2], split[3], &quot;M&quot;); &#xD;
			else if(split.length == 5) &#xD;
				this.create(player, split[2], split[3], split[4]); &#xD;
			else&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;Usage: /npc create &lt;name> [raceID] [gender]&quot;);&#xD;
				plugin.message.send(player, &quot;   Races: 1-Creep, 2-Pigman, 3-Benali, 4-Avian, 5-Human&quot;);&#xD;
			}&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;despawnall&quot;) )&#xD;
		{&#xD;
			this.despawnall(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;listloc&quot;) )&#xD;
		{&#xD;
			this.listloc(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			this.list(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;newloc&quot;) )&#xD;
		{&#xD;
			this.newloc(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawn&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.spawn(player, split[2], &quot;random&quot;); &#xD;
			else if(split.length == 4) &#xD;
				this.spawn(player, split[2], split[3]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npc spawn &lt;locID> [npcID]&quot;);  &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawnq&quot;) )&#xD;
		{&#xD;
			if(split.length == 5) &#xD;
			{&#xD;
				String name = split[2];&#xD;
				String questNpcType = split[3];&#xD;
				String questId = split[4];&#xD;
				createQuestNPC(player, name, questNpcType, questId);&#xD;
			}&#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npc spawn &lt;locID>&quot;);  &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawnall&quot;) )&#xD;
		{&#xD;
			this.spawnall(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;tploc&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.tploc(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npc tploc &lt;locID>&quot;);  &#xD;
		}&#xD;
&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /npc to see a list of available commands.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn4t8IJREeGsv772wTim0Q" name="createQuestNPC" specification="_tf5PkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn4t8YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn4t8oJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn4t84JREeGsv772wTim0Q" name="questNpcType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn4t9IJREeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			if (name.length() > 14) &#xD;
			{&#xD;
				String tmp = name.substring(0, 14);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 14 characters,&quot;);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
				name = tmp;&#xD;
			}&#xD;
			&#xD;
			// Add the NPC to memory&#xD;
			NPCData npc = new NPCData();&#xD;
			npc.id_NPCRace = 5;		// temp: 5 for humans&#xD;
			npc.id_NPCTown = 0;		// 0 = no town&#xD;
			npc.name = name;&#xD;
			npc.isBilingual = false;&#xD;
			/*&#xD;
			npc.isQuestNPC = true;&#xD;
			npc.quest = plugin.questManager.quests.get(questId);&#xD;
			&#xD;
			if(questNpcType.equals(&quot;0&quot;))&#xD;
				npc.questNPCType = 0;&#xD;
			else if(questNpcType.equals(&quot;1&quot;))&#xD;
				npc.questNPCType = 1;&#xD;
			else&#xD;
				npc.questNPCType = 2;&#xD;
				*/&#xD;
			&#xD;
			plugin.npcManager.addNPC(npc);&#xD;
			&#xD;
			// Add the NPC to the database&#xD;
			int id_NPC = plugin.database.npcQueries.createNPC(npc, playerData.id_Player);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPC #&quot; + id_NPC + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn4t9YJREeGsv772wTim0Q" name="isSpawnCommand" specification="_s8-vwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn4t9oJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn4t94JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn4t-IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length > 4 &amp;&amp; split.length &lt; 7)&#xD;
		{&#xD;
			if(split[1].equalsIgnoreCase(&quot;spawn&quot;))&#xD;
			{&#xD;
				if(split[2].equalsIgnoreCase(&quot;speechnpc&quot;) &amp;&amp; split.length == 5)&#xD;
				{&#xD;
					return true;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn4t-YJREeGsv772wTim0Q" name="isDespawnCommand" specification="_s9Ak8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn4t-oJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn4t-4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn4t_IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length == 3 &amp;&amp; split[1].equalsIgnoreCase(&quot;despawn&quot;))&#xD;
		{&#xD;
			&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn5VAIJREeGsv772wTim0Q" name="isAddSpeechCommand" specification="_s9BzEYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn5VAYJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn5VAoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn5VA4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length == 4 &amp;&amp; split[1].equalsIgnoreCase(&quot;addspeechmessage&quot;))&#xD;
			return true;&#xD;
		else&#xD;
			return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn5VBIJREeGsv772wTim0Q" name="newloc" specification="_tf6dsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn5VBYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			NPCLocation npcLocation = new NPCLocation(player.getLocation(), plugin);&#xD;
			int townID = 0;&#xD;
			&#xD;
			// See if the location is inside a town&#xD;
			Town town = plugin.towns.getCurrentTown(npcLocation);&#xD;
			if( town != null )&#xD;
			{&#xD;
				townID = town.getID();&#xD;
				town.addNPCLocation(npcLocation); &#xD;
			}&#xD;
			&#xD;
			// Add the NPCLocation to the database&#xD;
			int id_NPCLocation = plugin.database.npcQueries.createNPCLocation(player.getLocation(), townID, 0, playerData.id_Player);&#xD;
			&#xD;
			// Add the NPCLocation to memory&#xD;
			npcLocation.setIDs(id_NPCLocation, townID, 0);&#xD;
			plugin.npcManager.addLocation(npcLocation);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPCLocation #&quot; + id_NPCLocation + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn5VBoJREeGsv772wTim0Q" name="spawn" specification="_tf7EwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn5VB4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn5VCIJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn5VCYJREeGsv772wTim0Q" name="npcString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		NPCLocation location;&#xD;
		NPCData npc;&#xD;
		NPCInstance instance;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get the NPC location&#xD;
			location = plugin.npcManager.activateLocation(Integer.parseInt(id_NPCLocation));&#xD;
			if( location == null )&#xD;
				throw new Exception(id_NPCLocation + &quot; is already in use or is an invalid location ID.&quot;);&#xD;
			&#xD;
			System.out.println(&quot;Activated NPCLocation #&quot; + location.getID());&#xD;
			&#xD;
			// Activate a random NPC from the pool&#xD;
			if( npcString.equalsIgnoreCase(&quot;random&quot;) )&#xD;
				npc = plugin.npcManager.activateRandomFloatingNPC();&#xD;
			else&#xD;
				npc = plugin.npcManager.activateNPC(Integer.parseInt(npcString));&#xD;
			&#xD;
			if( npc == null )&#xD;
			{&#xD;
				plugin.npcManager.deactivateLocation(location);&#xD;
				throw new Exception(&quot;There are no more NPCs in the pool to activate.&quot;);&#xD;
			}&#xD;
			&#xD;
			System.out.println(&quot;Activated NPC #&quot; + npc.id_NPC);&#xD;
			&#xD;
			// Register the NPC instance and spawn the NPC&#xD;
			instance = plugin.database.npcQueries.createInstance(&#xD;
					npc.id_NPC, location.getID(), 30, playerData.id_Player, NPCType.SPEECH);&#xD;
			instance.setData(npc, location);&#xD;
			instance.spawn();&#xD;
					&#xD;
			plugin.message.parse(player, &quot;Successfully spawned &quot; + instance.getCodedName() + &quot; at location #&quot; + location.getID() + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
			return;&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn58EIJREeGsv772wTim0Q" name="create" specification="_tf7r0YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn58EYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn58EoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn58E4JREeGsv772wTim0Q" name="race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn58FIJREeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>int raceID = Integer.parseInt(race);&#xD;
		if( raceID &lt; 1 || raceID > 5 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid race ID (1-5)&quot;);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		NPCCommands.newNPC(plugin, player, name, raceID, gender, 0);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn58FYJREeGsv772wTim0Q" name="newNPC" specification="_tf858IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn58FoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn58F4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn58GIJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn58GYJREeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn58GoJREeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn58G4JREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		boolean isMale;&#xD;
		&#xD;
		Random random = new Random();&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			isMale = gender.equalsIgnoreCase(&quot;M&quot;);&#xD;
			&#xD;
			if (name.length() > 14) &#xD;
			{&#xD;
				String tmp = name.substring(0, 14);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 14 characters,&quot;);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
				name = tmp;&#xD;
			}&#xD;
			&#xD;
			// Add the NPC to memory&#xD;
			NPCData npc = new NPCData();&#xD;
			npc.id_NPCRace = raceID;&#xD;
			npc.id_NPCTown = id_NPCTown;		// 0 = no town&#xD;
			npc.name = name;&#xD;
			npc.isBilingual = false;&#xD;
			npc.isMale = isMale;&#xD;
			&#xD;
			// Determine the default affinity randomly&#xD;
			int affinityRoll = random.nextInt(100);&#xD;
			if( affinityRoll &lt; 10 )&#xD;
				npc.defaultAffinityCode = -2;&#xD;
			else if( affinityRoll &lt; 30 )&#xD;
				npc.defaultAffinityCode = -1;&#xD;
			else if( affinityRoll &lt; 50 )&#xD;
				npc.defaultAffinityCode = 1;&#xD;
			else&#xD;
				npc.defaultAffinityCode = 0;&#xD;
			&#xD;
			// Add the NPC to the database&#xD;
			npc.id_NPC = plugin.database.npcQueries.createNPC(npc, playerData.id_Player);&#xD;
			&#xD;
			plugin.npcManager.addNPC(npc);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPC #&quot; + npc.id_NPC + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn58HIJREeGsv772wTim0Q" name="listloc" specification="_tf-IEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn58HYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.message.send(player, &quot;List of all non-town NPC locations:&quot;);&#xD;
		&#xD;
		for( NPCLocation location : plugin.npcManager.getAllLocations() )&#xD;
		{&#xD;
			if( location.getTown() == null )&#xD;
				plugin.message.parse(player, &quot; &quot; + location.getID() + &quot;: &quot; + plugin.zones.getName(location.getZone()) + &quot; (&quot; + &#xD;
						location.getQuadrant().toString() + &quot;) &quot; + &#xD;
						(location.isActivated() ? ChatColor.GOLD + &quot;ACTIVE&quot; : &quot;&quot;));&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn58HoJREeGsv772wTim0Q" name="tploc" specification="_tf-vIYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn58H4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn58IIJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCLocation location;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get the NPC location&#xD;
			location = plugin.npcManager.getLocation(Integer.parseInt(id_NPCLocation));&#xD;
			if( location == null )&#xD;
				throw new Exception(id_NPCLocation + &quot; is an invalid location ID.&quot;);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
			player.teleport(location);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
			return;&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn6jIIJREeGsv772wTim0Q" name="list" specification="_tf_WMYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn6jIYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> instances = plugin.npcManager.getAllInstances();&#xD;
		&#xD;
		if( instances.size() == 0 )&#xD;
			plugin.message.send(player, &quot;There are no currently active NPCs.&quot;);&#xD;
		else&#xD;
		{&#xD;
			plugin.message.send(player, &quot;List of all active NPCs:&quot;);&#xD;
			&#xD;
			for( NPCInstance instance : plugin.npcManager.getAllInstances() )&#xD;
			{&#xD;
				String locationStr;&#xD;
				Town town = plugin.towns.getCurrentTown(instance.getLocation());&#xD;
				if( town != null )&#xD;
					locationStr = town.getCodedName();&#xD;
				else&#xD;
					locationStr = plugin.zones.getName(instance.getLocation().getZone()) + &quot; (&quot; + &#xD;
							instance.getLocation().getQuadrant().toString() + &quot;)&quot;;&#xD;
				plugin.message.parse(player, &quot; &quot; + instance.getCodedName() + &quot;: Loc. &quot; + instance.getLocation().getID() + &quot;, &quot; + locationStr);&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn6jIoJREeGsv772wTim0Q" name="spawnall" specification="_tf_9QYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn6jI4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.tasks.spawnNPCs();&#xD;
		 plugin.message.send(player, &quot;Spawned &quot; + plugin.npcManager.getAllInstances().size() + &quot; NPCs.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn6jJIJREeGsv772wTim0Q" name="despawnall" specification="_tgAkUYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn6jJYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.npcManager.despawnAll(true);&#xD;
		plugin.message.send(player, &quot;Cleared all NPCs.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_s8-vwIJREeGsv772wTim0Q" name="isSpawnCommand" visibility="private" method="_tn4t9YJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpEZs4JREeGsv772wTim0Q">
                  <body>To be a valid spawn command, format is:&#xD;
	 * &#xD;
	 * npc spawn &lt;npctype> &lt;npcname> [questid]&#xD;
	 * @param split&#xD;
	 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_s8_W0IJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_s8_94IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s8_W0YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s9Ak8IJREeGsv772wTim0Q" name="isDespawnCommand" visibility="private" method="_tn4t-YJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpFAwIJREeGsv772wTim0Q">
                  <body>To be a valid despawn command format is:&#xD;
	 * &#xD;
	 * npc despawn &lt;npcname>&#xD;
	 * @param split&#xD;
	 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_s9Ak8YJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_s9BMAoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s9BMAIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_s9BzEYJREeGsv772wTim0Q" name="isAddSpeechCommand" visibility="private" method="_tn5VAIJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpFAwYJREeGsv772wTim0Q">
                  <body>Command format: /npc addspeechmessage &lt;npcname> &lt;message></body>
                </ownedComment>
                <ownedParameter xmi:id="_s9CaIIJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_s9CaI4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_s9CaIYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tajckIJREeGsv772wTim0Q" name="NPCCommands" method="_tn4G4IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_takDoYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_takDooJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_takDoIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_takDo4JREeGsv772wTim0Q" type="_s86eUIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tf4BcIJREeGsv772wTim0Q" name="onNPCCommand" method="_tn4G44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf4BcYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf4BcoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf4ogIJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tf4ogoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf5PkIJREeGsv772wTim0Q" name="createQuestNPC" visibility="private" method="_tn4t8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf5PkYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf5PkoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf5Pk4JREeGsv772wTim0Q" name="questNpcType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf52oIJREeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf6dsIJREeGsv772wTim0Q" name="newloc" visibility="private" method="_tn5VBIJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpFAwoJREeGsv772wTim0Q">
                  <body>Creates a new NPCLocation and adds it to the database</body>
                </ownedComment>
                <ownedParameter xmi:id="_tf6dsYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tf7EwIJREeGsv772wTim0Q" name="spawn" visibility="private" method="_tn5VBoJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpFAw4JREeGsv772wTim0Q">
                  <body>Spawns a new NPC at the specified location&#xD;
	 * @param player&#xD;
	 * @param id_NPCLocation</body>
                </ownedComment>
                <ownedParameter xmi:id="_tf7EwYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf7EwoJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf7Ew4JREeGsv772wTim0Q" name="npcString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf7r0YJREeGsv772wTim0Q" name="create" visibility="private" method="_tn58EIJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpFAxIJREeGsv772wTim0Q">
                  <body>Creates a new NPC record in the database&#xD;
	 * @param player&#xD;
	 * @param name</body>
                </ownedComment>
                <ownedParameter xmi:id="_tf7r0oJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf8S4IJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf8S4YJREeGsv772wTim0Q" name="race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf8S4oJREeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf858IJREeGsv772wTim0Q" name="newNPC" isStatic="true" method="_tn58FYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf858YJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf858oJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf8584JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf859IJREeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf9hAIJREeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tf9hAYJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf-IEIJREeGsv772wTim0Q" name="listloc" visibility="private" method="_tn58HIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf-IEYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tf-vIYJREeGsv772wTim0Q" name="tploc" visibility="private" method="_tn58HoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf-vIoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tf-vI4JREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tf_WMYJREeGsv772wTim0Q" name="list" visibility="private" method="_tn6jIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf_WMoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tf_9QYJREeGsv772wTim0Q" name="spawnall" visibility="private" method="_tn6jIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tf_9QoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgAkUYJREeGsv772wTim0Q" name="despawnall" visibility="private" method="_tn6jJIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgAkUoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s9cCwIJREeGsv772wTim0Q" name="NPCTownCommands">
              <ownedAttribute xmi:id="_tjgkQIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqNpM4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7KMIJREeGsv772wTim0Q" name="NPCTownCommands" specification="_tao8IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7KMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7KMoJREeGsv772wTim0Q" type="_s9cCwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7KM4JREeGsv772wTim0Q" name="onNPCTownCommand" specification="_tgCZgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7KNIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7KNYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7KNoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn7KN4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 5 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;NPCTown commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown allow &lt;player> (allow player to build in your town)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.npctown&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /npctown create &lt;name> &lt;raceID> &lt;x,z,x,z>   (new NPCTown)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown disallow &lt;player/all> (removes permissions)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npctown list   (lists all NPCTowns)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npctown info [town_name]   (gives info on NPCTown)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown newloc  (creates a new NPC)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown newphrase &lt;phrase>  (adds a new phrase)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown resident &lt;name> [sex]  (creates a new NPC)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.npctown&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /npctown setsteward &lt;town> &lt;player>   (sets steward)&quot;);&#xD;
			&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;allow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.allow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown allow &lt;player_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;create&quot;) )&#xD;
		{&#xD;
			if( split.length == 5 )&#xD;
				this.create(player, split[2], split[3], split[4]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown create &lt;name> &lt;lvl> &lt;x,z,x,z>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;disallow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.disallow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown disallow &lt;player_name/all>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;info&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.npcTownName.equals(&quot;&quot;) )&#xD;
				this.info(player, playerData.npcTownName);&#xD;
			else if( split.length == 3 )&#xD;
				this.info(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown info &lt;town_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			this.list(player, &quot;&quot;);&#xD;
 	}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;newloc&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.newloc(player);&#xD;
//			else if( split.length == 3 )&#xD;
//				this.newloc(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown newloc&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;newphrase&quot;) )&#xD;
		{&#xD;
			if( split.length > 2 )&#xD;
				this.newphrase(player, split);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown newphrase &lt;phrase>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;resident&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 ) &#xD;
				this.resident(player, split[2], &quot;M&quot;); &#xD;
			else if( split.length == 4 )&#xD;
				this.resident(player, split[2], split[3]); &#xD;
			else&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;Usage: /npctown resident &lt;name> [gender]&quot;);&#xD;
			}&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;setsteward&quot;) )&#xD;
		{&#xD;
			if( split.length == 4 )&#xD;
 			this.setsteward(player, split[2], split[3]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown setsteward &lt;town_name> &lt;player_name>&quot;);&#xD;
		}&#xD;
&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /npctown to see a list of available commands.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7KOIJREeGsv772wTim0Q" name="allow" specification="_tgDnoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7KOYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7KOoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
&#xD;
		// Make sure the player is a steward&#xD;
		if( !playerData.isSteward )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
		&#xD;
		// Check to see if the target player already has permission&#xD;
		if( town.buildPermissions.contains(targetPlayerData.name) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; already has permission to build in &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - update the DB&#xD;
		plugin.database.npcTownQueries.allow(town.getID(), targetPlayerData.id_Player);&#xD;
		&#xD;
		// Update the town data&#xD;
		town.buildPermissions.add(targetPlayerData.name);&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now allowed to build in &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has given you permission to build in &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7xQIJREeGsv772wTim0Q" name="create" specification="_tgEOsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7xQYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7xQoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn7xQ4JREeGsv772wTim0Q" name="raceString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn7xRIJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			int id_Race = Integer.parseInt(raceString);&#xD;
			if( id_Race &lt; 1 || id_Race > 5 )&#xD;
				throw new Exception(&quot;Invalid Race ID (1-5)&quot;);&#xD;
			&#xD;
			int id_NPCTown = plugin.database.npcTownQueries.create(player, name, &#xD;
					Integer.parseInt(split[0]), Integer.parseInt(split[1]), Integer.parseInt(split[2]), Integer.parseInt(split[3]),&#xD;
					1, id_Race);&#xD;
			&#xD;
			NPCTown town = new NPCTown(plugin, id_NPCTown, name, player.getLocation().getWorld(), &quot;&quot;);&#xD;
			town.id_NPCRace = id_Race;	&#xD;
 		town.townLevel = plugin.config.townLevels.get(1);&#xD;
 		&#xD;
			town.createRegion(coords);&#xD;
			plugin.towns.add(town);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully created NPCTown &quot; + name + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
			return;&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7xRYJREeGsv772wTim0Q" name="disallow" specification="_tgFc0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7xRoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7xR4JREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Make sure the player is a steward&#xD;
		if( !playerData.isSteward )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;all&quot;) )&#xD;
		{&#xD;
			if( town.buildPermissions.size() == 0 )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You have no permissions to disallow.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.npcTownQueries.disallow(town.getID(), 0);&#xD;
			&#xD;
			// Update the town&#xD;
			town.buildPermissions.clear();&#xD;
			&#xD;
			plugin.message.send(player, &quot;All of your NPCTown build permissions have been cleared.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
			&#xD;
			// Check to see if target player exists&#xD;
			if( targetPlayerData == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			// Check to see if the target player already has permission&#xD;
			if( !town.buildPermissions.contains(targetPlayerData.name) )&#xD;
			{&#xD;
				plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; does not have permission to build in your NPCTown.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.npcTownQueries.disallow(town.getID(), targetPlayerData.id_Player);&#xD;
			&#xD;
			// Update the town&#xD;
			town.buildPermissions.remove(targetPlayerData.name);&#xD;
			&#xD;
			plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is no longer allowed to build in your NPCTown.&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7xSIJREeGsv772wTim0Q" name="info" specification="_tgGD4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7xSYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn7xSoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		if( town instanceof PlayerTown )&#xD;
		{&#xD;
			plugin.message.parseNo(player, town.getCodedName() + &quot; is a Player Town (use /town info).&quot;);&#xD;
		}&#xD;
		else if( town instanceof NPCTown )&#xD;
		{&#xD;
			NPCTown npcTown = (NPCTown)town;&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Info for &quot; + npcTown.getCodedName() + &quot;:&quot;);&#xD;
			plugin.message.parse(player, &quot;   Race: &quot; + plugin.config.NPC_RACE_NAMES.get(npcTown.id_NPCRace));&#xD;
			plugin.message.parse(player, &quot;   Level: &quot; + npcTown.townLevel.name + &quot; (&quot; + npcTown.townLevel.level + &quot;)&quot;);&#xD;
			if( !npcTown.steward.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   Steward: &quot; + plugin.players.get(npcTown.steward).getCodedName());&#xD;
			&#xD;
			// List the allowed builders&#xD;
			String builders = &quot;&quot;;&#xD;
			for( String builder : npcTown.buildPermissions )&#xD;
				builders += &quot;, &quot; + plugin.players.get(builder).getCodedName();&#xD;
			if( !builders.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   Builders: &quot; + builders.substring(2));&#xD;
			&#xD;
			// List the NPC residents&#xD;
			String residents = &quot;&quot;;&#xD;
			for( NPCData npc : plugin.npcManager.getAllResidents(town.getID()) )&#xD;
				residents += &quot;, #&quot; + npc.id_NPC + &quot;: &quot; + npc.getCodedName() + &quot; (&quot; + (npc.isMale ? 'M' : 'F') + &quot;, &quot; + &#xD;
						plugin.config.NPC_AFFINITY_NAMES.get(npc.defaultAffinityCode) + &quot;)&quot;;&#xD;
			if( !residents.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   Residents: &quot; + residents.substring(2));&#xD;
				&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.npctown&quot;) || playerData.npcTownName.equalsIgnoreCase(town.getName()) )&#xD;
			{&#xD;
				for( NPCLocation location : npcTown.getNPCLocations() )&#xD;
				{&#xD;
					plugin.message.parse(player, &quot;   Loc. #&quot; + location.getID() + &#xD;
							&quot; (&quot; + (int)location.getX() + &quot;, &quot; + (int)location.getY() + &quot;, &quot; + (int)location.getZ() + &quot;)&quot; +&#xD;
							&quot; &quot; + (location.isActivated() ? location.getInstance().getCodedName() : &quot;&quot;));&#xD;
				}	&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn7xS4JREeGsv772wTim0Q" name="newloc" specification="_tgGq8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn7xTIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			NPCLocation npcLocation = new NPCLocation(player.getLocation(), plugin);&#xD;
			int townID = 0;&#xD;
			&#xD;
			// Make sure the player is a steward&#xD;
			if( !playerData.isSteward || playerData.npcTownName.equals(&quot;&quot;) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// See if the location is inside a town&#xD;
			Town town = plugin.towns.getCurrentTown(npcLocation);&#xD;
			if( town == null || !playerData.npcTownName.equalsIgnoreCase(town.getName()) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You can only create NPCLocations inside your own NPCTown.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// I like unicorns&#xD;
			townID = town.getID();&#xD;
			town.addNPCLocation(npcLocation); &#xD;
			&#xD;
			// Add the NPCLocation to the database&#xD;
			int id_NPCLocation = plugin.database.npcQueries.createNPCLocation(player.getLocation(), townID, 0, playerData.id_Player);&#xD;
			&#xD;
			// Add the NPCLocation to memory&#xD;
			npcLocation.setIDs(id_NPCLocation, townID, 0);&#xD;
			plugin.npcManager.addLocation(npcLocation);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPCLocation #&quot; + id_NPCLocation + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn8YUIJREeGsv772wTim0Q" name="newphrase" specification="_tgHSAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn8YUYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8YUoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn8YU4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String message = new String();&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Make sure the player is a steward&#xD;
			if( !playerData.isSteward || playerData.npcTownName.equals(&quot;&quot;) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// Pull the phrase out of the string&#xD;
			for( int i = 2; i &lt; split.length; i++ )&#xD;
				message += split[i] + &quot; &quot;;&#xD;
			&#xD;
			NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
			&#xD;
			if( plugin.database.npcQueries.submitPhrase(town, playerData, message) )&#xD;
				plugin.message.send(player, &quot;Phrase submitted for approval.&quot;);&#xD;
			else&#xD;
				plugin.message.send(player, &quot;Error submitting phrase.&quot;);&#xD;
			&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn8YVIJREeGsv772wTim0Q" name="resident" specification="_tgH5EoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn8YVYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8YVoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn8YV4JREeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Make sure the player is a steward&#xD;
		if( !playerData.isSteward || playerData.npcTownName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
		NPCCommands.newNPC(plugin, player, name, town.id_NPCRace, gender, town.getID());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn8YWIJREeGsv772wTim0Q" name="setsteward" specification="_tgJHMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn8YWYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8YWoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tn8YW4JREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.npctown&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// town will be null if name is invalid&#xD;
		if( town == null || !(town instanceof NPCTown) )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, townName + &quot; is not a valid NPCTown.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown npcTown = (NPCTown) town;&#xD;
		&#xD;
		// Clear the existing steward, if any&#xD;
		if( !npcTown.steward.equals(&quot;&quot;) )&#xD;
		{&#xD;
			PlayerData stewardData = plugin.players.get(npcTown.steward);&#xD;
			stewardData.isSteward = false;&#xD;
			stewardData.npcTownName = &quot;&quot;;&#xD;
			stewardData.update();&#xD;
		}&#xD;
		&#xD;
		// Update the NPCTown&#xD;
		npcTown.steward = targetPlayerData.name;&#xD;
		npcTown.update();&#xD;
		&#xD;
		// Update the player&#xD;
		targetPlayerData.isSteward = true;&#xD;
		targetPlayerData.npcTownName = town.getName();&#xD;
		targetPlayerData.update();&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now the Steward of &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has assigned you as the Steward of &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn8_YIJREeGsv772wTim0Q" name="list" specification="_tgJuQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn8_YYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8_YoJREeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>ArrayList&lt;NPCTown> npcTowns = plugin.towns.getAllNPCTowns();&#xD;
		&#xD;
		// TODO: Implement page # functionality &#xD;
		&#xD;
		plugin.message.send(player, &quot;List of all NPC Towns:&quot;);&#xD;
		for( NPCTown town : npcTowns )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;   &quot; + town.getCodedName() + &quot; &quot; + ChatColor.YELLOW + town.getQuadrant().toString() + &#xD;
					 &quot; (&quot; + town.townLevel.name + &quot;) &quot; +&#xD;
					 town.getNPCLocations().size() + ChatColor.WHITE + &quot; locations&quot;);&#xD;
		}&#xD;
		return;&#xD;
	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tao8IIJREeGsv772wTim0Q" name="NPCTownCommands" method="_tn7KMIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tapjMYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tapjMoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tapjMIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tapjM4JREeGsv772wTim0Q" type="_s9cCwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgCZgIJREeGsv772wTim0Q" name="onNPCTownCommand" method="_tn7KM4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgCZgYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgCZgoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgCZg4JREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tgDAkIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgDnoIJREeGsv772wTim0Q" name="allow" visibility="private" method="_tn7KOIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgDnoYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgDnooJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgEOsIJREeGsv772wTim0Q" name="create" visibility="private" method="_tn7xQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgEOsYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgEOsoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgE1wIJREeGsv772wTim0Q" name="raceString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgE1wYJREeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgFc0IJREeGsv772wTim0Q" name="disallow" visibility="private" method="_tn7xRYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgFc0YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgFc0oJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgGD4IJREeGsv772wTim0Q" name="info" method="_tn7xSIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgGD4YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgGD4oJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgGq8IJREeGsv772wTim0Q" name="newloc" visibility="private" method="_tn7xS4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgGq8YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgHSAIJREeGsv772wTim0Q" name="newphrase" visibility="private" method="_tn8YUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgHSAYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgHSAoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tgH5EIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgH5EoJREeGsv772wTim0Q" name="resident" visibility="private" method="_tn8YVIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgIgIIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgIgIYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgIgIoJREeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgJHMIJREeGsv772wTim0Q" name="setsteward" visibility="private" method="_tn8YWIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgJHMYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgJHMoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tgJHM4JREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgJuQIJREeGsv772wTim0Q" name="list" method="_tn8_YIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgJuQYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgJuQoJREeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s9wy4IJREeGsv772wTim0Q" name="PermitCommands">
              <ownedAttribute xmi:id="_tjhLUIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqOQQIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tjhLUoJREeGsv772wTim0Q" name="DEFAULT_LENGTH" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjhyYIJREeGsv772wTim0Q" value="7"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn8_Y4JREeGsv772wTim0Q" name="PermitCommands" specification="_tatNkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn8_ZIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8_ZYJREeGsv772wTim0Q" type="_s9wy4IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn8_ZoJREeGsv772wTim0Q" name="onCommand" specification="_tgK8YIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn8_Z4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8_aIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn8_aYJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn8_aoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Permit commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /permit capitol &lt;player_name>   (edit city infrastructure)&quot;);	&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;capitol&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.capitol(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /permit capitol &lt;player_name>&quot;); &#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /permit to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn9mcIJREeGsv772wTim0Q" name="capitol" specification="_tgMxkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn9mcYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn9mcoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.permit.capitol&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - assign the permit&#xD;
		plugin.database.playerQueries.grantPermit(playerData.id_Player, targetPlayerData.id_Player, &quot;CAPITOL&quot;, DEFAULT_LENGTH);&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.permits.capitol = true;&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; has been granted a one-week permit to build in the city.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has granted you a one-week permit to build in the city.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tatNkIJREeGsv772wTim0Q" name="PermitCommands" method="_tn8_Y4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tatNkoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tatNk4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tatNkYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tatNlIJREeGsv772wTim0Q" type="_s9wy4IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgK8YIJREeGsv772wTim0Q" name="onCommand" method="_tn8_ZoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgLjcIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgLjcYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgLjcoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tgMKgIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgMxkIJREeGsv772wTim0Q" name="capitol" method="_tn9mcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgMxkYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgMxkoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s9580IJREeGsv772wTim0Q" name="QuestCommands">
              <ownedAttribute xmi:id="_tjhyYoJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqOQQ4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn9mc4JREeGsv772wTim0Q" name="QuestCommands" specification="_tavCwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn9mdIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn9mdYJREeGsv772wTim0Q" type="_s9580IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn9mdoJREeGsv772wTim0Q" name="onQuestCommand" specification="_tgN_sIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn9md4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn9meIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn9meYJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn9meoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length != 2) &#xD;
		{&#xD;
			plugin.message.send(player, &quot;Quest commands: &quot;);&#xD;
			plugin.message.parse(player, &quot;    /quest abandon (Abandons your current quest)&quot;);&#xD;
			plugin.message.parse(player, &quot;    /quest view    (Views your current quest)&quot;);&#xD;
		}&#xD;
		else if(split[1].equalsIgnoreCase(&quot;abandon&quot;)) &#xD;
		{&#xD;
			if(playerData.activeQuestData.isPlayerOnQuest()) &#xD;
			{&#xD;
				plugin.message.send(player, &quot;Quest &quot; + &#xD;
						playerData.activeQuestData.getQuest().getQuestData().getName() + &#xD;
						&quot; abandoned. You currently have no active quest.&quot;);&#xD;
				playerData.activeQuestData.endQuest();&#xD;
			} &#xD;
			else&#xD;
				plugin.message.sendNo(player, &quot;ERROR: You're not currently on a quest.&quot;);&#xD;
		} &#xD;
		else if(split[1].equalsIgnoreCase(&quot;view&quot;))&#xD;
		{&#xD;
			if(playerData.activeQuestData.isPlayerOnQuest())&#xD;
			{&#xD;
				plugin.message.send(player, &quot;Active quest: &quot; + playerData.activeQuestData.getQuest().getQuestData().getName());&#xD;
				plugin.message.send(player, &quot;Quest text: &quot;);&#xD;
				plugin.message.send(player, playerData.activeQuestData.getQuest().getQuestData().getStartText());&#xD;
				&#xD;
			}&#xD;
			else &#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;ERROR: You're not currently on a quest.&quot;);&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tavCwIJREeGsv772wTim0Q" name="QuestCommands" method="_tn9mc4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tavCwoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tavCw4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tavCwYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tavCxIJREeGsv772wTim0Q" type="_s9580IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgN_sIJREeGsv772wTim0Q" name="onQuestCommand" method="_tn9mdoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgN_sYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgN_soJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgN_s4JREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tgOmwIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_s-ADcIJREeGsv772wTim0Q" name="TownCommands">
              <ownedAttribute xmi:id="_tjiZcIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqO3UIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-NgIJREeGsv772wTim0Q" name="TownCommands" specification="_tayGEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-NgYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-NgoJREeGsv772wTim0Q" type="_s-ADcIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-Ng4JREeGsv772wTim0Q" name="onTownCommand" specification="_tgPN0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-NhIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-NhYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-NhoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tn-Nh4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Town commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town add &lt;player_name>   (adds a new resident)&quot;);&#xD;
			if( playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town create [town_name]   (creates a new town)&quot;);&#xD;
			if( !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town deposit &lt;amount>   (deposits into town treasury)&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;))&#xD;
				plugin.message.parse(player, &quot;   /town evict &lt;player_name>   (removes a resident)&quot;);&#xD;
			if( playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town info &lt;town_name>   (gives info on selected town)&quot;);&#xD;
			else&#xD;
				plugin.message.parse(player, &quot;   /town info [town_name]   (gives info on selected town)&quot;);&#xD;
			if( !playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town leave   (leaves your current town)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /town list [npc/faction]   (lists all towns in the world)&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town minimum &lt;amount>   (sets the min. treasury balance)&quot;);&#xD;
			if( playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town residents &lt;town_name>   (lists all residents of town)&quot;);&#xD;
			else&#xD;
				plugin.message.parse(player, &quot;   /town residents [town_name]   (lists all residents of town)&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town upgrade [confirm]   (upgrades your town)&quot;);&#xD;
			if( !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town withdrawl &lt;amount>   (withdrawls from town treasury)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;add&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
 			this.add(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town add &lt;player_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;create&quot;) )&#xD;
		{&#xD;
	&#xD;
			// TODO: Support 2+ word town names&#xD;
			&#xD;
			if( split.length == 2 )&#xD;
				this.create(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.create(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town create [town_name] (use 'quotes' for multiple-word town names)&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;deposit&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.deposit(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town deposit &lt;amount>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;evict&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.evict(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town evict &lt;player_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;info&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				this.info(player, playerData.townName);&#xD;
			else if( split.length == 3 )&#xD;
				this.info(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town info &lt;town_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;leave&quot;) )&#xD;
		{&#xD;
			this.leave(player); 	 &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.list(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.list(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town list [faction]&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;minimum&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.minimum(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town minimum &lt;amount>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;residents&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				this.residents(player, playerData.townName);&#xD;
			else if( split.length == 3 )&#xD;
				this.residents(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town residents &lt;town_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;upgrade&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
 			this.upgrade(player, false);&#xD;
 		else if( split.length == 3 &amp;&amp; split[2].equalsIgnoreCase(&quot;confirm&quot;))&#xD;
 			this.upgrade(player, true);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town upgrade [confirm]&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;withdrawl&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.withdrawl(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town withdrawl &lt;amount>&quot;);&#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /town to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-NiIJREeGsv772wTim0Q" name="add" specification="_tgQb8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-NiYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-NioJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerTown == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only town mayors can use '/town add'.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the target player is not currently a resident of a town&#xD;
		if( !targetPlayerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; is already a resident of '&quot; + playerTown.getCodedName() + &quot;'.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the target player is the same faction as the mayor&#xD;
		if( playerData.id_Faction != targetPlayerData.id_Faction )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You can only add players that are the same faction as you.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		if( playerTown.isFull() )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Your town already has the maximum number of residents for its level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Add the target to the player's town&#xD;
		plugin.database.townQueries.townAdd(targetPlayerName, playerData.townName);&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.townName = playerData.townName;&#xD;
		// This will give the player's balance back if they were a previous resident of the town&#xD;
		targetPlayerData.treasuryBalance = plugin.database.playerQueries.getPlayerTreasuryBalance(targetPlayerData.id_Player, playerTown.getID());&#xD;
		&#xD;
		playerTown.residents.add(targetPlayerData.name);&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now a resident of &quot; + playerTown.getCodedName() + &quot;.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-0kIJREeGsv772wTim0Q" name="create" specification="_tgRDAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-0kYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-0koJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		HashMap&lt;String, Integer> nearbyTowns = plugin.towns.checkForNearbyTowns(player.getLocation());&#xD;
		int cost = plugin.config.townLevels.get(1).initialCost;&#xD;
&#xD;
		// Ensure that the player is not currently a resident of a town&#xD;
		if( !playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You are already a resident of '&quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot;'; you must use '/town leave' before you can create a new town.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the town name is not taken&#xD;
		if( plugin.towns.get(townName) != null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;A town named &quot; + townName + &quot; already exists!&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the current zone is allowed to create towns&#xD;
		if( !plugin.zones.checkPermission(player.getLocation(), Action.TOWN_CREATE) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You cannot create a town in this zone.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check for any towns that are too close to the current point - list all&#xD;
		if( nearbyTowns.size() > 0 )&#xD;
		{&#xD;
			String message = &quot;You are too close to the following towns: &quot;;&#xD;
			for( String nearbyTownName : nearbyTowns.keySet() )&#xD;
			{&#xD;
				message += plugin.towns.get(nearbyTownName).getCodedName() + &quot; (&quot; + nearbyTowns.get(nearbyTownName) + &quot;m) &quot;;&#xD;
			}&#xD;
			plugin.message.parseNo(player, message);&#xD;
			plugin.message.parse(player, &quot;Towns must be a minimum distance of &quot; + plugin.config.Town_MIN_DISTANCE_BETWEEN + &quot;m apart.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if the player has enough money to join the specified faction&#xD;
		if( !RageMod.econ.has(townName, cost) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You need at least &quot; + RageMod.econ.format(cost) + &quot; to create a &quot; + plugin.config.townLevels.get(1).name + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// TODO: Check against NPC town names&#xD;
		&#xD;
		// Create the town if name selected, otherwise return message&#xD;
		if( !townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			// Add the new town to the database&#xD;
			int townID = plugin.database.townQueries.townCreate(player, townName);&#xD;
			&#xD;
			// Update PlayerTowns&#xD;
			PlayerTown playerTown = new PlayerTown(plugin, townID, townName, player.getWorld());&#xD;
			playerTown.centerPoint = player.getLocation();&#xD;
					&#xD;
			playerTown.id_Faction = playerData.id_Faction;&#xD;
			playerTown.bankruptDate = null;&#xD;
			playerTown.townLevel = plugin.config.townLevels.get(1);&#xD;
			playerTown.treasuryBalance = plugin.config.townLevels.get(1).minimumBalance;&#xD;
			playerTown.minimumBalance = plugin.config.townLevels.get(1).minimumBalance;&#xD;
			playerTown.mayor = playerData.name;&#xD;
			playerTown.residents.add(playerData.name);&#xD;
			&#xD;
			playerTown.createRegions();&#xD;
			playerTown.build();&#xD;
			&#xD;
			plugin.towns.add(playerTown);&#xD;
			&#xD;
			// Update the playerData&#xD;
			playerData.townName = townName;&#xD;
			playerData.isMayor = true;&#xD;
			playerData.currentTown = playerTown;&#xD;
			playerData.treasuryBalance = cost;&#xD;
			&#xD;
			// Subtract from player balance&#xD;
			RageMod.econ.bankWithdraw(townName, cost);&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Congratulations, you are the new mayor of &quot; + playerTown.getCodedName() + &quot;!&quot;);		&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;This location is valid for a new town - to create one for &quot; + RageMod.econ.format(cost) + &quot;, type '/town create &lt;town_name>'&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-0k4JREeGsv772wTim0Q" name="deposit" specification="_tgRqEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-0lIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-0lYJREeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		double amount;&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Make sure the player is a resident of a town&#xD;
		if( playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only town residents can use the deposit command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the typed amount is a valid number&#xD;
		try&#xD;
		{&#xD;
			amount = Double.parseDouble(amountString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the amount is greater than 0 (no sneaky withdrawls!)&#xD;
		if( amount &lt;= 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;	&#xD;
		}&#xD;
		// Make sure the player has enough money to make the deposit&#xD;
		if( !RageMod.econ.has(amountString, amount) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You don't have enough money!&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Subtract the amount from the player's balance&#xD;
		RageMod.econ.bankWithdraw(amountString, amount);&#xD;
		&#xD;
		// Update the database&#xD;
		plugin.database.townQueries.townDeposit(playerTown.getID(), playerData.id_Player, amount);&#xD;
		&#xD;
		// Update the town data&#xD;
		playerTown.treasuryBalance += amount; &#xD;
		plugin.towns.add(playerTown);&#xD;
		&#xD;
		// Update the player data&#xD;
		playerData.treasuryBalance += amount;&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Deposited &quot; + RageMod.econ.format(amount) + &quot; into town treasury.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-0loJREeGsv772wTim0Q" name="evict" specification="_tgSRIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-0l4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-0mIJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only town mayors can use /town evict.&quot;);&#xD;
			return;&#xD;
		}	&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}	&#xD;
		// Ensure that the target player is a resident of the mayor's town&#xD;
		if( !targetPlayerData.townName.equals(playerData.townName) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; is not a resident of &quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Remove the target from the player's town&#xD;
		plugin.database.townQueries.townLeave(targetPlayerName);&#xD;
		&#xD;
		// TODO: This causes two updates to the same table in the database.  Expand updatePlayer() to include town info&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.townName = &quot;&quot;;&#xD;
		targetPlayerData.clearSpawn();&#xD;
		targetPlayerData.logonMessageQueue += &quot;You have been evicted from &quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot; by &quot; + &#xD;
				playerData.getCodedName() + &quot;.&lt;br>&quot;;&#xD;
		targetPlayerData.update();&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is no longer a resident of &quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot;.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-0mYJREeGsv772wTim0Q" name="info" specification="_tgS4MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-0moJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn-0m4JREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		if( town instanceof PlayerTown )&#xD;
		{&#xD;
			PlayerTown playerTown = (PlayerTown)town;&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Info for &quot; + playerTown.getCodedName() + &quot;:&quot;);&#xD;
			plugin.message.parse(player, &quot;   Faction: &quot; + plugin.factions.getName(playerTown.id_Faction));&#xD;
			plugin.message.parse(player, &quot;   Level: &quot; + playerTown.getLevel().name + &quot; (&quot; + playerTown.townLevel.level + &quot;)&quot;);&#xD;
			plugin.message.parse(player, &quot;   Mayor: &quot; + plugin.players.get(playerTown.mayor).getCodedName());&#xD;
			if( playerData.townName.equalsIgnoreCase(townName) )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   Total Balance: &quot; + RageMod.econ.format(playerTown.treasuryBalance));&#xD;
				plugin.message.parse(player, &quot;   Minimum Balance:  &quot; + RageMod.econ.format(playerTown.minimumBalance));&#xD;
				plugin.message.parse(player, &quot;   Your Balance:  &quot; + RageMod.econ.format(playerData.treasuryBalance));&#xD;
			}&#xD;
		}&#xD;
		else if( town instanceof NPCTown )&#xD;
		{&#xD;
			plugin.message.parseNo(player, town.getCodedName() + &quot; is an NPCTown (use /npctown info).&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn-0nIJREeGsv772wTim0Q" name="leave" specification="_tgUGUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn-0nYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String townName = playerData.townName;&#xD;
&#xD;
		// Ensure that the player is currently a resident of a town&#xD;
		if( townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have a town to leave.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the player is not the mayor&#xD;
		if( playerData.isMayor )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Town mayors cannot use '/town leave'; contact an admin to shut down your town.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Remove the player from the town in the database&#xD;
		plugin.database.townQueries.townLeave(playerData.name);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.townName = &quot;&quot;;&#xD;
		playerData.isMayor = false;&#xD;
		playerData.clearSpawn();&#xD;
		playerData.treasuryBalance = 0;&#xD;
		&#xD;
		plugin.message.parse(player, &quot;You are no longer a resident of &quot; + plugin.towns.get(townName).getCodedName() + &quot;.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn_boIJREeGsv772wTim0Q" name="list" specification="_tgUGUoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn_boYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn_booJREeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>ArrayList&lt;PlayerTown> playerTowns = plugin.towns.getAllPlayerTowns();&#xD;
		&#xD;
		// TODO: Implement page # functionality &#xD;
		&#xD;
		// Sorts the towns by level&#xD;
		Collections.sort(playerTowns);&#xD;
		&#xD;
		if( factionName.equals(&quot;&quot;) )&#xD;
			plugin.message.parse(player, &quot;List of all player towns: (&quot; + playerTowns.size() + &quot;)&quot;);&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;List of all towns for &quot; + factionName + &quot; faction:&quot;);&#xD;
		&#xD;
		for( PlayerTown town : playerTowns )&#xD;
		{&#xD;
			if( plugin.factions.getName(town.id_Faction).equalsIgnoreCase(factionName) || factionName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, town.getCodedName() + &quot; (&quot; + town.getLevel().name + &quot;)&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn_bo4JREeGsv772wTim0Q" name="minimum" specification="_tgVUcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn_bpIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn_bpYJREeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		double amount;&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only town mayors can use /town minimum.&quot;);&#xD;
			return;&#xD;
		}	&#xD;
		// Ensure that the typed amount is a valid number&#xD;
		try&#xD;
		{&#xD;
			amount = Double.parseDouble(amountString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the amount is greater than 0&#xD;
		if( amount &lt;= 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;	&#xD;
		}&#xD;
		// Make sure the amount is not lower than the server-defined minimum balances&#xD;
		if( amount &lt; playerTown.townLevel.minimumBalance )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;The lowest minimum balance allowed for a &quot; + playerTown.townLevel.name + &quot; is &quot; + &#xD;
								RageMod.econ.format(playerTown.townLevel.minimumBalance) + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Update the database&#xD;
		plugin.database.townQueries.townSetMinimumBalance(playerTown.getID(), amount);&#xD;
		&#xD;
		// Update the town data&#xD;
		playerTown.minimumBalance = amount; &#xD;
		plugin.towns.add(playerTown);&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Your town's treasury minimum balance is now &quot; + RageMod.econ.format(amount) + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn_bpoJREeGsv772wTim0Q" name="residents" specification="_tgV7gIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn_bp4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn_bqIJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerTown playerTown = (PlayerTown)plugin.towns.get(townName);&#xD;
		boolean isMayor = true;&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( playerTown == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Residents of &quot; + playerTown.getCodedName() + &quot;:&quot;);&#xD;
		&#xD;
		for( String resident : playerTown.residents )&#xD;
		{&#xD;
			if( isMayor )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   &quot; + plugin.players.get(resident).getCodedName() + &quot; (mayor)&quot;);&#xD;
				isMayor = false;&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   &quot; + plugin.players.get(resident).getCodedName());&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tn_bqYJREeGsv772wTim0Q" name="upgrade" specification="_tgWikIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tn_bqoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tn_bq4JREeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only town mayors can use '/town upgrade'.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the town is not at its maximum level&#xD;
		if( playerTown.isAtMaxLevel() )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Your town is already at its maximum level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Load the data for the target town level&#xD;
		TownLevel targetLevel = plugin.config.townLevels.get(playerTown.townLevel.level + 1);&#xD;
		&#xD;
		// If the upgrade would make the current town a capitol...&#xD;
		if( targetLevel.isCapitol )&#xD;
		{&#xD;
			// ...check to see if the player's faction already has a capitol...&#xD;
			if( plugin.towns.doesFactionCapitolExist(playerData.id_Faction) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Your faction already has a capitol; your town cannot be upgraded further.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			// ...and make sure it is not too close to enemy capitols.&#xD;
			if( plugin.towns.areEnemyCapitolsTooClose(playerTown) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Your town is ineligible to be your faction's capitol; it is too close to an enemy capitol.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// Check treasury balance&#xD;
		if( playerTown.treasuryBalance &lt; targetLevel.initialCost )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You need at least &quot; + RageMod.econ.format(targetLevel.initialCost) + &quot; in your treasury to upgrade your town to a &quot; + targetLevel.name + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Make the updates if confirm was typed&#xD;
		if( isConfirmed ) &#xD;
		{&#xD;
			// Update PlayerTowns; subtract balance from treasury; also add minimum balance&#xD;
			playerTown.townLevel = plugin.config.townLevels.get(playerTown.townLevel.level + 1);&#xD;
			playerTown.treasuryBalance = playerTown.treasuryBalance - targetLevel.initialCost + targetLevel.minimumBalance;&#xD;
			playerTown.minimumBalance = targetLevel.minimumBalance;&#xD;
			playerTown.createRegions();&#xD;
			playerTown.build();&#xD;
			plugin.towns.add(playerTown);&#xD;
			&#xD;
			plugin.database.townQueries.townUpgrade(playerTown.getName(), (targetLevel.initialCost - targetLevel.minimumBalance));&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Congratulations, &quot; + playerTown.getCodedName() + &quot; has been upgraded to a &quot; + targetLevel.name + &quot;!&quot;);&#xD;
			plugin.message.parse(player, &quot; &quot; + RageMod.econ.format(targetLevel.initialCost) + &quot; has been deducted from the town treasury.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Your town is ready to be upgraded to a &quot; + targetLevel.name + &quot; for &quot; + RageMod.econ.format(targetLevel.initialCost) + &#xD;
					&quot;; type '/town upgrade confirm' to complete the upgrade.&quot;);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toACsIJREeGsv772wTim0Q" name="withdrawl" specification="_tgXJoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toACsYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toACsoJREeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		double amount;&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Make sure the player is a resident of a town&#xD;
		if( playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only town residents can use the deposit command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the typed amount is a valid number&#xD;
		try&#xD;
		{&#xD;
			amount = Double.parseDouble(amountString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the amount is greater than 0&#xD;
		if( amount &lt;= 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;	&#xD;
		}&#xD;
		// Make sure the player has a high enough balance to make the withdrawl&#xD;
		if( playerData.treasuryBalance &lt; amount )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You only have &quot; + RageMod.econ.format(playerData.treasuryBalance) + &quot; in the treasury.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the withdrawl wouldn't put the town below its minimum balance&#xD;
		if( playerTown.treasuryBalance - amount &lt; playerTown.minimumBalance )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;This transaction would put the town below its minimum balance.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Add the amount to the player's balance&#xD;
		RageMod.econ.bankDeposit(amountString, amount);&#xD;
		&#xD;
		// Update the database&#xD;
		plugin.database.townQueries.townDeposit(playerTown.getID(), playerData.id_Player, (amount * -1));&#xD;
		&#xD;
		// Update the town data&#xD;
		playerTown.treasuryBalance -= amount; &#xD;
		plugin.towns.add(playerTown);&#xD;
		&#xD;
		// Update the player data&#xD;
		playerData.treasuryBalance -= amount;&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Withdrew &quot; + RageMod.econ.format(amount) + &quot; from town treasury.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tayGEIJREeGsv772wTim0Q" name="TownCommands" method="_tn-NgIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tayGEoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tayGE4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tayGEYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tayGFIJREeGsv772wTim0Q" type="_s-ADcIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgPN0IJREeGsv772wTim0Q" name="onTownCommand" method="_tn-Ng4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgPN0YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgPN0oJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgP04IJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tgP04YJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgQb8IJREeGsv772wTim0Q" name="add" method="_tn-NiIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgQb8YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgQb8oJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgRDAIJREeGsv772wTim0Q" name="create" method="_tn-0kIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgRDAYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgRDAoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgRqEIJREeGsv772wTim0Q" name="deposit" method="_tn-0k4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgRqEYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgRqEoJREeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgSRIIJREeGsv772wTim0Q" name="evict" method="_tn-0loJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgSRIYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgSRIoJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgS4MIJREeGsv772wTim0Q" name="info" method="_tn-0mYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgS4MYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgS4MoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgUGUIJREeGsv772wTim0Q" name="leave" method="_tn-0nIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgUGUYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tgUGUoJREeGsv772wTim0Q" name="list" method="_tn_boIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgUtYIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgUtYYJREeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgVUcIJREeGsv772wTim0Q" name="minimum" method="_tn_bo4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgVUcYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgVUcoJREeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgV7gIJREeGsv772wTim0Q" name="residents" method="_tn_bpoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgV7gYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgV7goJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgWikIJREeGsv772wTim0Q" name="upgrade" method="_tn_bqYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgWikYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgWikoJREeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tgXJoIJREeGsv772wTim0Q" name="withdrawl" method="_toACsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tgXJoYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tgXJooJREeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqKl4IJREeGsv772wTim0Q" name="" memberEnd="_tqKl4YJREeGsv772wTim0Q _tjbrwIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqKl4YJREeGsv772wTim0Q" name="" type="_s7I8sIJREeGsv772wTim0Q" association="_tqKl4IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqKl44JREeGsv772wTim0Q" name="" memberEnd="_tqKl5IJREeGsv772wTim0Q _tjcS0YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqKl5IJREeGsv772wTim0Q" name="" type="_s7I8sIJREeGsv772wTim0Q" association="_tqKl44JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqLM8IJREeGsv772wTim0Q" name="" memberEnd="_tqLM8YJREeGsv772wTim0Q _tjcS04JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqLM8YJREeGsv772wTim0Q" name="" type="_s7I8sIJREeGsv772wTim0Q" association="_tqLM8IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqLM84JREeGsv772wTim0Q" name="" memberEnd="_tqLM9IJREeGsv772wTim0Q _tjc54YJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqLM9IJREeGsv772wTim0Q" name="" type="_s7I8sIJREeGsv772wTim0Q" association="_tqLM84JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqL0AIJREeGsv772wTim0Q" name="" memberEnd="_tqL0AYJREeGsv772wTim0Q _tjdg8oJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqL0AYJREeGsv772wTim0Q" name="" type="_s7jMYIJREeGsv772wTim0Q" association="_tqL0AIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqL0A4JREeGsv772wTim0Q" name="" memberEnd="_tqL0BIJREeGsv772wTim0Q _tjeIAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqL0BIJREeGsv772wTim0Q" name="" type="_s7zrEIJREeGsv772wTim0Q" association="_tqL0A4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqMbEIJREeGsv772wTim0Q" name="" memberEnd="_tqMbEYJREeGsv772wTim0Q _tjevEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqMbEYJREeGsv772wTim0Q" name="" type="_s8BtgIJREeGsv772wTim0Q" association="_tqMbEIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqMbE4JREeGsv772wTim0Q" name="" memberEnd="_tqMbFIJREeGsv772wTim0Q _tjfWIIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqMbFIJREeGsv772wTim0Q" name="" type="_s8b9MIJREeGsv772wTim0Q" association="_tqMbE4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqNCIIJREeGsv772wTim0Q" name="" memberEnd="_tqNCIYJREeGsv772wTim0Q _tjfWIoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqNCIYJREeGsv772wTim0Q" name="" type="_s8m8UIJREeGsv772wTim0Q" association="_tqNCIIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqNCI4JREeGsv772wTim0Q" name="" memberEnd="_tqNCJIJREeGsv772wTim0Q _tjf9MYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqNCJIJREeGsv772wTim0Q" name="" type="_s86eUIJREeGsv772wTim0Q" association="_tqNCI4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqNpMIJREeGsv772wTim0Q" name="" memberEnd="_tqNpMYJREeGsv772wTim0Q _tjf9MoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqNpMYJREeGsv772wTim0Q" name="" type="_s86eUIJREeGsv772wTim0Q" association="_tqNpMIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqNpM4JREeGsv772wTim0Q" name="" memberEnd="_tqNpNIJREeGsv772wTim0Q _tjgkQIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqNpNIJREeGsv772wTim0Q" name="" type="_s9cCwIJREeGsv772wTim0Q" association="_tqNpM4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqOQQIJREeGsv772wTim0Q" name="" memberEnd="_tqOQQYJREeGsv772wTim0Q _tjhLUIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqOQQYJREeGsv772wTim0Q" name="" type="_s9wy4IJREeGsv772wTim0Q" association="_tqOQQIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqOQQ4JREeGsv772wTim0Q" name="" memberEnd="_tqOQRIJREeGsv772wTim0Q _tjhyYoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqOQRIJREeGsv772wTim0Q" name="" type="_s9580IJREeGsv772wTim0Q" association="_tqOQQ4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqO3UIJREeGsv772wTim0Q" name="" memberEnd="_tqO3UYJREeGsv772wTim0Q _tjiZcIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqO3UYJREeGsv772wTim0Q" name="" type="_s-ADcIJREeGsv772wTim0Q" association="_tqO3UIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vriAsIJREeGsv772wTim0Q" name="RageCommands">
              <ownedAttribute xmi:id="_v20DoYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4W7wYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3ZScIJREeGsv772wTim0Q" name="RageCommands" specification="_vyYPkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3ZScYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3ZScoJREeGsv772wTim0Q" type="_vriAsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3ZSc4JREeGsv772wTim0Q" name="onCommand" specification="_vyYPlYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3ZSdIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3ZSdYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3ZSdoJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3ZSd4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Rage commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /rage addphrase &lt;phrase> (adds a new NPC phrase)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;addphrase&quot;) )&#xD;
		{&#xD;
			if( split.length > 2 )&#xD;
				this.addphrase(player, split); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /rage addphrase &lt;phrase>&quot;); &#xD;
		}&#xD;
		&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /npctown to see a list of available commands.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Z5gIJREeGsv772wTim0Q" name="addphrase" specification="_vyY2o4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3Z5gYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3Z5goJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3Z5g4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String message = new String();&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Pull the phrase out of the string&#xD;
			for( int i = 2; i &lt; split.length; i++ )&#xD;
				message += split[i] + &quot; &quot;;&#xD;
			&#xD;
			if( plugin.database.npcQueries.submitPhrase(null, playerData, message) )&#xD;
				plugin.message.send(player, &quot;Phrase submitted for approval.&quot;);&#xD;
			else&#xD;
				plugin.message.send(player, &quot;Error submitting phrase.&quot;);&#xD;
			&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vyYPkIJREeGsv772wTim0Q" name="RageCommands" method="_v3ZScIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vyYPkoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyYPk4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_vyYPkYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vyYPlIJREeGsv772wTim0Q" type="_vriAsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vyYPlYJREeGsv772wTim0Q" name="onCommand" method="_v3ZSc4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vyYPloJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vyY2oIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vyY2oYJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vyY2ooJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vyY2o4JREeGsv772wTim0Q" name="addphrase" visibility="private" method="_v3Z5gIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vyY2pIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_vyY2pYJREeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vyY2poJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4W7wYJREeGsv772wTim0Q" name="" memberEnd="_v4W7woJREeGsv772wTim0Q _v20DoYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4W7woJREeGsv772wTim0Q" name="" type="_vriAsIJREeGsv772wTim0Q" association="_v4W7wYJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_ssSoYIJREeGsv772wTim0Q" name="RageZones">
            <packagedElement xmi:type="uml:Class" xmi:id="_vyar0IJREeGsv772wTim0Q" name="Zone"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_ss66gIJREeGsv772wTim0Q" name="utilities">
            <packagedElement xmi:type="uml:Class" xmi:id="_tElMkIJREeGsv772wTim0Q" name="Simple_Quicksort">
              <ownedAttribute xmi:id="_tl3UsIJREeGsv772wTim0Q" name="a" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tl3UsYJREeGsv772wTim0Q" value="*"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_towQp4JREeGsv772wTim0Q" name="Simple_Quicksort" specification="_tEmasIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_towQqIJREeGsv772wTim0Q" type="_tElMkIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.a = new int[0];&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_towQqYJREeGsv772wTim0Q" name="exchange" specification="_tEnBwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_towQqoJREeGsv772wTim0Q" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_towQq4JREeGsv772wTim0Q" name="j">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>int t = a[i];&#xD;
		a[i] = a[j];&#xD;
		a[j] = t;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tow3sIJREeGsv772wTim0Q" name="quicksort" specification="_tEno0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tow3sYJREeGsv772wTim0Q" name="low">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tow3soJREeGsv772wTim0Q" name="high">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>int i = low, j = high;&#xD;
		int x = a[(low + high) >>> 1];&#xD;
		while (i &lt;= j) {&#xD;
			while (a[i] &lt; x) {&#xD;
				i++;&#xD;
			}&#xD;
			while (a[j] > x) {&#xD;
				j--;&#xD;
			}&#xD;
			if (i &lt;= j) {&#xD;
				exchange(i, j);&#xD;
				i++;&#xD;
				j--;&#xD;
			}&#xD;
		}&#xD;
		if (low &lt; j) {&#xD;
			quicksort(low, j);&#xD;
		}&#xD;
		if (i &lt; high) {&#xD;
			quicksort(i, high);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tow3s4JREeGsv772wTim0Q" name="sort" specification="_tEoP4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tow3tIJREeGsv772wTim0Q" name="k">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tow3tYJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tow3toJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tow3t4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>this.a = k.clone();&#xD;
		quicksort(0, a.length - 1);&#xD;
		return a.clone();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tEmasIJREeGsv772wTim0Q" name="Simple_Quicksort" method="_towQp4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tEmasYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tEmasoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tEmas4JREeGsv772wTim0Q" type="_tElMkIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEnBwIJREeGsv772wTim0Q" name="exchange" visibility="private" method="_towQqYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tEnBwYJREeGsv772wTim0Q" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEnBwoJREeGsv772wTim0Q" name="j">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tEno0IJREeGsv772wTim0Q" name="quicksort" visibility="private" method="_tow3sIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tEno0YJREeGsv772wTim0Q" name="low">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEno0oJREeGsv772wTim0Q" name="high">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tEoP4IJREeGsv772wTim0Q" name="sort" method="_tow3s4JREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpMVgIJREeGsv772wTim0Q">
                  <body>&#xD;
	 * Ein einfach Quicksort&#xD;
	 * &#xD;
	 * @param a&#xD;
	 *            das zu sortierende Array&#xD;
	 * @return das sortierte Array</body>
                </ownedComment>
                <ownedParameter xmi:id="_tEoP4YJREeGsv772wTim0Q" name="k">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tEo28IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEoP4oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tEoP44JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_s0QRkIJREeGsv772wTim0Q" name="dbqueries">
            <packagedElement xmi:type="uml:Class" xmi:id="_tCdssIJREeGsv772wTim0Q" name="FactionQueries">
              <ownedAttribute xmi:id="_tkqa0IJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_tqlcoIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkrB4IJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqlco4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocupoJREeGsv772wTim0Q" name="FactionQueries" specification="_tb6ugYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tocup4JREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocuqIJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tocuqYJREeGsv772wTim0Q" type="_tCdssIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tocuqoJREeGsv772wTim0Q" name="getFactionPopulations" specification="_tCe60IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tocuq4JREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashMap&lt;Integer, Integer> populations = new HashMap&lt;Integer, Integer>();&#xD;
		Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
     		&quot;SELECT p.ID_Faction, COUNT(*) as Population FROM Factions f &quot; +&#xD;
     		&quot;INNER JOIN Players p ON p.ID_Faction = f.ID_Faction &quot; +&#xD;
     		&quot;WHERE DATE_SUB(CURDATE(),INTERVAL 30 DAY) &lt;= p.LastLogin &quot; +&#xD;
     		&quot;GROUP BY f.ID_Faction&quot;);&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		populations.put(rs.getInt(&quot;ID_Faction&quot;), rs.getInt(&quot;Population&quot;));       		&#xD;
     	}&#xD;
     	&#xD;
     	// Account for 0 populations&#xD;
     	if( !populations.containsKey(1) )&#xD;
     		populations.put(1, 0);&#xD;
     	if( !populations.containsKey(2) )&#xD;
     		populations.put(2, 0);&#xD;
     	&#xD;
     	&#xD;
     	return populations;&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in FactionQueries.getFactionPopulations(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tCe60IJREeGsv772wTim0Q" name="getFactionPopulations" method="_tocuqoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thubkIJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tb6ugYJREeGsv772wTim0Q" name="FactionQueries" method="_tocupoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tb7VkoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tb7Vk4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tb7VkIJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tb7VkYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tb7VlIJREeGsv772wTim0Q" type="_tCdssIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tChXEIJREeGsv772wTim0Q" name="LotQueries">
              <ownedComment xmi:id="_tpJ5QYJREeGsv772wTim0Q">
                <body>Contains the lot queries used for database communication.&#xD;
@author Jorgen&#xD;
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_tksQAIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_tqlcpoJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tks3EIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqmDsYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_todVsIJREeGsv772wTim0Q" name="LotQueries" specification="_tb9x0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_todVsYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_todVsoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_todVs4JREeGsv772wTim0Q" type="_tChXEIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_todVtIJREeGsv772wTim0Q" name="getLots" specification="_tCilMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_todVtYJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_todVtoJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;  &#xD;
		ArrayList&lt;Lot> playerLots = new ArrayList&lt;Lot>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT ID_Lot FROM Lots WHERE ID_Player = &quot; + id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		playerLots.add(plugin.lots.get(rs.getInt(&quot;ID_Lot&quot;)));	// We already have the lot info in memory; save the DB some work&#xD;
     	}&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.getLots(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return playerLots;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_todVt4JREeGsv772wTim0Q" name="getLotPermissions" specification="_tCjzUYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_todVuIJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_todVuYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		ArrayList&lt;String> lotPermissions = new ArrayList&lt;String>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT p.Name as Name FROM LotPermissions lp &quot; +&#xD;
     		&quot;INNER JOIN Players p ON p.ID_Player = lp.ID_Player_Builder &quot; +&#xD;
     		&quot;WHERE lp.ID_Player_Owner = &quot; + id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
         while( rs.next() )&#xD;
     	{&#xD;
     		lotPermissions.add(rs.getString(&quot;Name&quot;));	&#xD;
     	}&#xD;
         return lotPermissions;&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.getLotPermissions(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_todVuoJREeGsv772wTim0Q" name="loadLots" specification="_tClBcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_todVu4JREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		HashMap&lt;String, Lot> lots = new HashMap&lt;String, Lot>();&#xD;
		Lot currentLot = null;&#xD;
		int mult = plugin.config.Lot_MULTIPLIER;&#xD;
		World world = plugin.getServer().getWorld(&quot;world&quot;);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
     		&quot;SELECT l.ID_Lot, l.Category, l.Number, IFNULL(p.Name, '') as Owner, l.XCoord, l.ZCoord, &quot; +&#xD;
     		&quot;l.Width, l.Height &quot; +&#xD;
     		&quot;FROM Lots l &quot; +&#xD;
     		&quot;LEFT JOIN Players p ON l.ID_Player = p.ID_Player&quot;);	&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		currentLot = new Lot(plugin);&#xD;
     		&#xD;
     		currentLot.id_Lot = rs.getInt(&quot;ID_Lot&quot;);&#xD;
     		currentLot.setCategory(rs.getString(&quot;Category&quot;));&#xD;
     		currentLot.number = rs.getInt(&quot;Number&quot;);&#xD;
     		currentLot.owner = rs.getString(&quot;Owner&quot;);&#xD;
     		// X and Z are reversed >:(&#xD;
     		currentLot.region = new Region2D(world, &#xD;
     				((rs.getInt(&quot;ZCoord&quot;)-1) * mult) + plugin.config.Lot_X_OFFSET,&#xD;
     				((rs.getInt(&quot;XCoord&quot;)-1) * mult * -1) + plugin.config.Lot_Z_OFFSET,&#xD;
     				((rs.getInt(&quot;ZCoord&quot;)-1) * mult) + plugin.config.Lot_X_OFFSET + (rs.getInt(&quot;Height&quot;) * mult),&#xD;
     				((rs.getInt(&quot;XCoord&quot;)-1) * mult * -1) + plugin.config.Lot_Z_OFFSET - (rs.getInt(&quot;Width&quot;) * mult));&#xD;
 	        &#xD;
     		lots.put(currentLot.getLotCode(), currentLot);	        		&#xD;
     	}&#xD;
     		&#xD;
     	return lots;				&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in RageDB.loadLots(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tod8wIJREeGsv772wTim0Q" name="lotClaim" specification="_thvpsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tod8wYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tod8woJREeGsv772wTim0Q" name="lot" type="_s_AwEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the Lots table to assign the owner&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Lots SET ID_Player = &quot; + playerData.id_Player + &quot;, DateClaimed = NOW() WHERE ID_Lot = &quot; + lot.id_Lot);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.lotClaim(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tod8w4JREeGsv772wTim0Q" name="lotUnclaim" specification="_tb-Y4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tod8xIJREeGsv772wTim0Q" name="lot" type="_s_AwEIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the Lots table to assign the owner&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Lots SET ID_Player = NULL, DateClaimed = NULL WHERE ID_Lot = &quot; + lot.id_Lot);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.LotUnclaim(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tod8xYJREeGsv772wTim0Q" name="allow" specification="_tCmPkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tod8xoJREeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tod8x4JREeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO LotPermissions (ID_Player_Owner, ID_Player_Builder) VALUES (&quot; + id_Player_Owner + &quot;, &quot; + id_Player_Builder + &quot;)&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.allow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tod8yIJREeGsv772wTim0Q" name="disallow" specification="_tCm2oIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tod8yYJREeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tod8yoJREeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			// An ID of 0 indicates all players&#xD;
			if( id_Player_Builder == 0 )&#xD;
 		{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM LotPermissions WHERE ID_Player_Owner = &quot; + id_Player_Owner);&#xD;
 		}&#xD;
			else&#xD;
			{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM LotPermissions WHERE ID_Player_Owner = &quot; + id_Player_Owner + &quot; AND ID_Player_Builder = &quot; + id_Player_Builder);&#xD;
			}&#xD;
			&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.disallow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tCilMIJREeGsv772wTim0Q" name="getLots" method="_todVtIJREeGsv772wTim0Q">
                <ownedComment xmi:id="_tpJ5QoJREeGsv772wTim0Q">
                  <body> Make a separate query to get all lots owned by the player</body>
                </ownedComment>
                <ownedParameter xmi:id="_tCilMYJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thvCoIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCjzUYJREeGsv772wTim0Q" name="getLotPermissions" method="_todVt4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCjzUoJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thvCoYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tClBcYJREeGsv772wTim0Q" name="loadLots" method="_todVuoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thvCooJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCmPkIJREeGsv772wTim0Q" name="allow" method="_tod8xYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCmPkYJREeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCmPkoJREeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tCm2oIJREeGsv772wTim0Q" name="disallow" method="_tod8yIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCm2oYJREeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCm2ooJREeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tb9x0IJREeGsv772wTim0Q" name="LotQueries" method="_todVsIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tb9x04JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tb9x1IJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tb9x0YJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tb9x0oJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tb9x1YJREeGsv772wTim0Q" type="_tChXEIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tb-Y4IJREeGsv772wTim0Q" name="lotUnclaim" method="_tod8w4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tb-Y4YJREeGsv772wTim0Q" name="lot" type="_s_AwEIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thvpsIJREeGsv772wTim0Q" name="lotClaim" method="_tod8wIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thvpsYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thvpsoJREeGsv772wTim0Q" name="lot" type="_s_AwEIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tCpS4IJREeGsv772wTim0Q" name="NPCTownQueries">
              <ownedAttribute xmi:id="_tkvTUIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_tqmDtIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkv6YYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqmqwYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toej0IJREeGsv772wTim0Q" name="NPCTownQueries" specification="_tcBcMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toej0YJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toej0oJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toej04JREeGsv772wTim0Q" type="_tCpS4IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toej1IJREeGsv772wTim0Q" name="create" specification="_thwQwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toej1YJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toej1oJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej14JREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej2IJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej2YJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej2oJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej24JREeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej3IJREeGsv772wTim0Q" name="id_Race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toej3YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCTowns (Name, XCoordA, ZCoordA, XCoordB, ZCoordB, ID_NPCRace, TownLevel) &quot; +&#xD;
 				&quot;VALUES ('&quot; + name + &quot;', &quot; + x1 + &quot;, &quot; + z1 + &quot;, &quot; + x2 + &quot;, &quot; + z2 + &quot;, &quot; + id_Race + &quot;, &quot; + level + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int townID = rs.getInt(1);&#xD;
 		&#xD;
    		return townID;&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.create(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toej3oJREeGsv772wTim0Q" name="loadAll" specification="_tCrIEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toej34JREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;String, NPCTown> towns = new HashMap&lt;String, NPCTown>();&#xD;
	    &#xD;
		NPCTown currentTown = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT n.ID_NPCTown, IFNULL(p.Name, '') as Steward, n.Name, n.XCoordA, n.ZCoordA, n.XCoordB, n.ZCoordB, n.ID_NPCRace, n.TownLevel &quot; +&#xD;
				&quot;FROM NPCTowns n &quot; +&#xD;
				&quot;LEFT JOIN Players p ON p.ID_Player = n.ID_Player_Steward&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		currentTown = new NPCTown(plugin, rs.getInt(&quot;ID_NPCTown&quot;), rs.getString(&quot;Name&quot;), plugin.getServer().getWorld(&quot;world&quot;), &#xD;
     									rs.getString(&quot;Steward&quot;));&#xD;
     		currentTown.id_NPCRace = rs.getInt(&quot;ID_NPCRace&quot;);&#xD;
     		currentTown.townLevel = plugin.config.townLevels.get(rs.getInt(&quot;TownLevel&quot;));&#xD;
     		&#xD;
     		currentTown.createRegion((double)rs.getInt(&quot;XCoordA&quot;), (double)rs.getInt(&quot;ZCoordA&quot;),&#xD;
     				(double)rs.getInt(&quot;XCoordB&quot;),(double)rs.getInt(&quot;ZCoordB&quot;));&#xD;
     		&#xD;
     		currentTown.buildPermissions = this.loadBuildPermissions(currentTown.getID());&#xD;
     		&#xD;
     		towns.put(currentTown.getName().toLowerCase(), currentTown);&#xD;
     	}			&#xD;
     	&#xD;
     	return towns;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.loadAll(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofK4IJREeGsv772wTim0Q" name="loadBuildPermissions" specification="_tCsWMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofK4YJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tofK4oJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		ArrayList&lt;String> buildPermissions = new ArrayList&lt;String>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT p.Name as Name FROM NPCTownPermissions np &quot; +&#xD;
     		&quot;INNER JOIN Players p ON p.ID_Player = np.ID_Player &quot; +&#xD;
     		&quot;WHERE np.ID_NPCTown = &quot; + id_NPCTown;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
         while( rs.next() )&#xD;
     	{&#xD;
         	buildPermissions.add(rs.getString(&quot;Name&quot;));	&#xD;
     	}&#xD;
         return buildPermissions;&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.loadBuildPermissions(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofK44JREeGsv772wTim0Q" name="update" specification="_tcCDQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofK5IJREeGsv772wTim0Q" name="npcTown" type="_tAxqoIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update all town info&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE NPCTowns SET &quot; +&#xD;
 				&quot;ID_Player_Steward = &quot; + plugin.players.get(npcTown.steward).id_Player + &quot;, &quot; + &#xD;
 				&quot;ID_NPCRace = &quot; + npcTown.id_NPCRace + &quot;, &quot; + &#xD;
 				&quot;TownLevel = &quot; + (npcTown.townLevel.level) + &quot; &quot; + &#xD;
 				&quot;WHERE ID_NPCTown = &quot; + npcTown.getID());&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.update(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofK5YJREeGsv772wTim0Q" name="allow" specification="_tCtkUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofK5oJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tofK54JREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCTownPermissions (ID_NPCTown, ID_Player) VALUES (&quot; + id_NPCTown + &quot;, &quot; + id_Player + &quot;)&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.allow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofK6IJREeGsv772wTim0Q" name="disallow" specification="_tCuLYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofK6YJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tofK6oJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			// An ID of 0 indicates all players&#xD;
			if( id_Player == 0 )&#xD;
 		{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM NPCTownPermissions WHERE ID_NPCTown = &quot; + id_NPCTown);&#xD;
 		}&#xD;
			else&#xD;
			{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM NPCTownPermissions WHERE ID_NPCTown = &quot; + id_NPCTown + &quot; AND ID_Player = &quot; + id_Player);&#xD;
			}&#xD;
			&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.disallow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tCrIEIJREeGsv772wTim0Q" name="loadAll" method="_toej3oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thxe4IJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCsWMIJREeGsv772wTim0Q" name="loadBuildPermissions" visibility="private" method="_tofK4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCsWMYJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thxe4YJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCtkUIJREeGsv772wTim0Q" name="allow" method="_tofK5YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCtkUYJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCtkUoJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tCuLYIJREeGsv772wTim0Q" name="disallow" method="_tofK6IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCuLYYJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCuLYoJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tcBcMIJREeGsv772wTim0Q" name="NPCTownQueries" method="_toej0IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tcBcM4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tcBcNIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tcBcMYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcBcMoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcBcNYJREeGsv772wTim0Q" type="_tCpS4IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcCDQIJREeGsv772wTim0Q" name="update" method="_tofK44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcCDQYJREeGsv772wTim0Q" name="npcTown" type="_tAxqoIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thwQwIJREeGsv772wTim0Q" name="create" method="_toej1IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thwQwYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thwQwoJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thwQw4JREeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thwQxIJREeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thw30IJREeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thw30YJREeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thw30oJREeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thw304JREeGsv772wTim0Q" name="id_Race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thw31IJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tCwnoIJREeGsv772wTim0Q" name="PlayerQueries">
              <ownedAttribute xmi:id="_tkyWoIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_tqmqxIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tky9sYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqnR0IJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tkzkwYJREeGsv772wTim0Q" name="playerQuery" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tkzkwoJREeGsv772wTim0Q" value="&quot;SELECT p.ID_Player, p.Name, IFNULL(p.ID_Faction, 0) as ID_Faction, p.IsMember, p.MemberExpiration, p.Bounty, p.ExtraBounty, &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;   (p.Home_XCoord IS NOT NULL) AS Home_IsSet, p.Home_XCoord, p.Home_YCoord, p.Home_ZCoord, p.Home_LastUsed, &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;&#x9;(p.Spawn_XCoord IS NOT NULL) AS Spawn_IsSet, p.Spawn_XCoord, p.Spawn_YCoord, p.Spawn_ZCoord, p.Spawn_LastUsed, &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;&#x9;IFNULL(pt.TownName, '') as TownName, p.IsMayor, IFNULL(p.LogonMessageQueue, '') as LogonMessageQueue, p.TreasuryBlocks,&quot; +&#xD;&#xA;    &#x9;&#x9;&quot;&#x9;p.LanguageSkill1, p.LanguageSkill2, p.LanguageSkill3, p.LanguageSkill4, IFNULL(nt.Name, '') as NPCTown &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;FROM Players p &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;LEFT JOIN PlayerTowns pt ON p.ID_PlayerTown = pt.ID_PlayerTown &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;LEFT JOIN NPCTowns nt ON p.ID_Player = nt.ID_Player_Steward &quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofx8IJREeGsv772wTim0Q" name="PlayerQueries" specification="_tcEfgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofx8YJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tofx8oJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tofx84JREeGsv772wTim0Q" type="_tCwnoIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofx9IJREeGsv772wTim0Q" name="playerLogin" specification="_tCx1wIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofx9YJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tofx9oJREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		PlayerData playerData = null;  		&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = playerQuery +&#xD;
     		&quot;WHERE p.Name = '&quot; + playerName + &quot;'&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	// Test to see if result set was empty&#xD;
     	if( rs.next() )&#xD;
     	{&#xD;
     		playerData = fillPlayerData(rs);&#xD;
     		&#xD;
     		// Set LastLogin time  TODO: Does the playerLog table deprecate this?  I'm thinking yes...&#xD;
     		preparedStatement = conn.prepareStatement(&quot;UPDATE Players SET LastLogin = NOW() WHERE Name = '&quot; + playerName + &quot;'&quot;);&#xD;
     		preparedStatement.executeUpdate();&#xD;
     	}&#xD;
     	else&#xD;
     	{&#xD;
     		// Insert new data into DB - default DB values will take care of the data&#xD;
     		preparedStatement = conn.prepareStatement(&quot;INSERT INTO Players (Name, LastLogin) VALUES ('&quot; + playerName + &quot;', NOW())&quot;);&#xD;
     		preparedStatement.executeUpdate();&#xD;
     		&#xD;
     		// Pull the DB-created defaults into memory&#xD;
     		preparedStatement = conn.prepareStatement(selectQuery);		&#xD;
     		rs = preparedStatement.executeQuery();&#xD;
     		&#xD;
     		rs.next();&#xD;
     		playerData = fillPlayerData(rs);&#xD;
     	}	        	&#xD;
     	&#xD;
     	// Log the player's logon time&#xD;
     	preparedStatement = conn.prepareStatement(&quot;INSERT INTO PlayerLog (ID_Player, LogonTime) VALUES ('&quot; + playerData.id_Player + &quot;', NOW())&quot;);&#xD;
 		preparedStatement.executeUpdate();&#xD;
     	&#xD;
     	return playerData;				&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.PlayerLogin(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofx94JREeGsv772wTim0Q" name="fillPlayerData" specification="_thyF8YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofx-IJREeGsv772wTim0Q" name="rs" type="_tb6HcYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tofx-YJREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = new PlayerData(plugin);&#xD;
		&#xD;
		// Load basic values&#xD;
		playerData.id_Player = rs.getInt(&quot;ID_Player&quot;);&#xD;
		playerData.name = rs.getString(&quot;Name&quot;);&#xD;
		playerData.id_Faction = rs.getInt(&quot;ID_Faction&quot;);&#xD;
		playerData.memberExpiration = rs.getDate(&quot;MemberExpiration&quot;);&#xD;
		playerData.bounty = rs.getFloat(&quot;Bounty&quot;);&#xD;
		playerData.extraBounty = rs.getFloat(&quot;ExtraBounty&quot;);&#xD;
		playerData.townName = rs.getString(&quot;TownName&quot;);&#xD;
		playerData.isMayor = rs.getBoolean(&quot;IsMayor&quot;);&#xD;
		playerData.treasuryBlocks = rs.getInt(&quot;TreasuryBlocks&quot;);&#xD;
		playerData.home_LastUsed = rs.getTimestamp(&quot;Home_LastUsed&quot;);&#xD;
		playerData.spawn_LastUsed = rs.getTimestamp(&quot;Spawn_LastUsed&quot;);&#xD;
		playerData.logonMessageQueue = rs.getString(&quot;LogonMessageQueue&quot;);&#xD;
		&#xD;
		// Set the player's isMember boolean based on the expiration date&#xD;
		if( playerData.memberExpiration == null )&#xD;
			playerData.isMember = false;&#xD;
		else&#xD;
			playerData.isMember = playerData.memberExpiration.getTime() > Util.now().getTime();&#xD;
		&#xD;
		if( rs.getBoolean(&quot;Home_IsSet&quot;) )&#xD;
		{&#xD;
			playerData.setHome(new Location(plugin.getServer().getWorld(&quot;world&quot;), rs.getInt(&quot;Home_XCoord&quot;) + .5, rs.getInt(&quot;Home_YCoord&quot;), rs.getInt(&quot;Home_ZCoord&quot;) + .5));&#xD;
		}&#xD;
		if( rs.getBoolean(&quot;Spawn_IsSet&quot;) )&#xD;
		{&#xD;
			playerData.setSpawn(new Location(plugin.getServer().getWorld(&quot;world&quot;), rs.getInt(&quot;Spawn_XCoord&quot;) + .5, rs.getInt(&quot;Spawn_YCoord&quot;), rs.getInt(&quot;Spawn_ZCoord&quot;) + .5));&#xD;
		}&#xD;
		&#xD;
		// Load NPCTown, if any&#xD;
		if( !rs.getString(&quot;NPCTown&quot;).equals(&quot;&quot;) )&#xD;
		{&#xD;
			playerData.isSteward = true;&#xD;
			playerData.npcTownName = rs.getString(&quot;NPCTown&quot;);&#xD;
		}&#xD;
		&#xD;
		// Load arrays of data&#xD;
		playerData.lots = rageDB.lotQueries.getLots(playerData.id_Player);&#xD;
     playerData.lotPermissions = rageDB.lotQueries.getLotPermissions(playerData.id_Player);&#xD;
     playerData.permits = getPermits(playerData.id_Player);&#xD;
     playerData.setInteractions(getInteractions(playerData.id_Player));&#xD;
     playerData.setAffinities(getAffinities(playerData.id_Player));&#xD;
     &#xD;
     // Load language skill&#xD;
     playerData.setLanguageSkill(1, rs.getInt(&quot;LanguageSkill1&quot;));&#xD;
     playerData.setLanguageSkill(2, rs.getInt(&quot;LanguageSkill2&quot;));&#xD;
     playerData.setLanguageSkill(3, rs.getInt(&quot;LanguageSkill3&quot;));&#xD;
     playerData.setLanguageSkill(4, rs.getInt(&quot;LanguageSkill4&quot;));&#xD;
     playerData.setLanguageSkill(5, 100);		// Because everyone can speak English! :D&#xD;
     &#xD;
		&#xD;
		if( playerData.townName.equals(&quot;&quot;) )&#xD;
			playerData.treasuryBalance = 0;&#xD;
		else&#xD;
		{&#xD;
			if(plugin.towns.get(playerData.townName) != null)&#xD;
				playerData.treasuryBalance = this.getPlayerTreasuryBalance(playerData.id_Player, plugin.towns.get(playerData.townName).getID());&#xD;
			else &#xD;
			{&#xD;
				playerData.townName = &quot;&quot;;&#xD;
				playerData.treasuryBalance = 0;&#xD;
			}	&#xD;
		}&#xD;
		&#xD;
 	return playerData;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tofx-oJREeGsv772wTim0Q" name="getPlayerTreasuryBalance" specification="_tCyc0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tofx-4JREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tofx_IJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tofx_YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;    &#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT SUM(Amount) as Amount FROM TreasuryTransactions WHERE ID_Player = &quot; + id_Player + &quot; AND ID_PlayerTown = &quot; + id_PlayerTown;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
         rs.next();&#xD;
     	return rs.getDouble(&quot;Amount&quot;);	&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getPlayerTreasuryBalance(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_togZAIJREeGsv772wTim0Q" name="getPermits" specification="_tCzD4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_togZAYJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_togZAoJREeGsv772wTim0Q" type="_tA-e8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
	    Permits permits = new Permits();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT Type FROM Permits WHERE ID_Player_Holder = &quot; + id_Player + &quot; AND Expiration > NOW()&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		if( rs.getString(&quot;Type&quot;).equals(&quot;CAPITOL&quot;) )&#xD;
     			permits.capitol = true;&#xD;
     	}	&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getPermits(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return permits;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_togZA4JREeGsv772wTim0Q" name="getInteractions" specification="_tCzq8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_togZBIJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_togZBYJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
	    HashSet&lt;Integer> interactions = new HashSet&lt;Integer>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT pni.ID_NPCInstance FROM Player_NPCInstance pni &quot; +&#xD;
     		&quot;INNER JOIN NPCInstances ni &quot; +&#xD;
     		&quot;WHERE pni.ID_Player = &quot; + id_Player + &#xD;
     		&quot; AND (ni.DespawnTime IS NULL OR ni.DespawnTime > NOW()) AND ni.IsDisabled = 0&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     		interactions.add(rs.getInt(&quot;ID_NPCInstance&quot;));&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getInteractions(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return interactions;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_togZBoJREeGsv772wTim0Q" name="getAffinities" specification="_tC05EIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_togZB4JREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_togZCIJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
	    HashMap&lt;Integer, Float> affinities = new HashMap&lt;Integer, Float>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT pn.ID_NPC, pn.Affinity FROM Player_NPC pn &quot; +&#xD;
     		&quot;INNER JOIN NPCs n ON n.ID_NPC = pn.ID_NPC &quot; +			// the inner join prevents deleted NPCs from being loaded&#xD;
     		&quot;WHERE pn.ID_Player = &quot; + id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     		affinities.put(rs.getInt(&quot;ID_NPC&quot;), rs.getFloat(&quot;Affinity&quot;));&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getAffinities(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return affinities;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_togZCYJREeGsv772wTim0Q" name="playerFetch" specification="_tC2HMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_togZCoJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_togZC4JREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = null;&#xD;
		Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;		&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		String selectQuery = playerQuery +&#xD;
         		&quot;WHERE p.Name = '&quot; + playerName + &quot;'&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	// Test to see if result set was empty - return null if not &#xD;
     	if( rs.next() )&#xD;
     	{&#xD;
     		playerData = fillPlayerData(rs);&#xD;
	        	return playerData;&#xD;
     	}&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.PlayerFetch(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohAEIJREeGsv772wTim0Q" name="updatePlayer" specification="_thzUEYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohAEYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    Location home = playerData.getHome();&#xD;
	    Location spawn = playerData.getSpawn();&#xD;
		&#xD;
		String updateString = &quot;&quot;;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the Players table to create the town association&#xD;
 		updateString = &#xD;
				&quot;UPDATE Players SET &quot; +&#xD;
				&quot;ID_Faction = &quot; + (playerData.id_Faction == 0 ? &quot;null&quot; : playerData.id_Faction) + &quot;, &quot; +&#xD;
				&quot;Bounty = &quot; + playerData.bounty + &quot;, &quot; +&#xD;
				&quot;ExtraBounty = &quot; + playerData.extraBounty + &quot;, &quot; +&#xD;
				&quot;LogonMessageQueue = '&quot; + playerData.logonMessageQueue + &quot;', &quot; +&#xD;
				&quot;TreasuryBlocks = &quot; + playerData.treasuryBlocks + &quot;, &quot; +&#xD;
				&quot;LanguageSkill1 = &quot; + playerData.getLanguageSkill(1) + &quot;, &quot; +&#xD;
				&quot;LanguageSkill2 = &quot; + playerData.getLanguageSkill(2) + &quot;, &quot; +&#xD;
				&quot;LanguageSkill3 = &quot; + playerData.getLanguageSkill(3) + &quot;, &quot; +&#xD;
				&quot;LanguageSkill4 = &quot; + playerData.getLanguageSkill(4) + &quot;, &quot; +&#xD;
				&#xD;
 			&quot;Home_LastUsed = &quot; + (playerData.home_LastUsed == null ? &quot;null&quot; : &quot;'&quot; + playerData.home_LastUsed + &quot;'&quot;) + &quot;, &quot; +&#xD;
 			&quot;Spawn_LastUsed = &quot; + (playerData.spawn_LastUsed == null ? &quot;null&quot; : &quot;'&quot; + playerData.spawn_LastUsed + &quot;'&quot;) + &quot;, &quot;;&#xD;
 		&#xD;
 		if( home != null )&#xD;
 		{&#xD;
 			updateString += &quot;Home_XCoord = &quot; + (int)(home.getX()-.1) + &quot;, &quot; +		// The -.1 is to keep .5 from rounding up over and over&#xD;
					&quot;Home_YCoord = &quot; + (int)(home.getY()-.1) + &quot;, &quot; +&#xD;
					&quot;Home_ZCoord = &quot; + (int)(home.getZ()-.1) + &quot;, &quot;;&#xD;
 		}&#xD;
 		else&#xD;
 		{&#xD;
 			updateString += &quot;Home_XCoord = NULL, &quot; +&#xD;
					&quot;Home_YCoord = NULL, &quot; +&#xD;
					&quot;Home_ZCoord = NULL, &quot;;&#xD;
 		}&#xD;
 		if( spawn != null )&#xD;
 		{&#xD;
 			updateString += &quot;Spawn_XCoord = &quot; + (int)(spawn.getX()-.1) + &quot;, &quot; +&#xD;
					&quot;Spawn_YCoord = &quot; + (int)(spawn.getY()-.1) + &quot;, &quot; +&#xD;
					&quot;Spawn_ZCoord = &quot; + (int)(spawn.getZ()-.1) + &quot; &quot;;&#xD;
 		}&#xD;
 		else&#xD;
 		{&#xD;
 			updateString += &quot;Spawn_XCoord = NULL, &quot; +&#xD;
					&quot;Spawn_YCoord = NULL, &quot; +&#xD;
					&quot;Spawn_ZCoord = NULL &quot;;&#xD;
 		}&#xD;
 		&#xD;
 		updateString += &quot;WHERE ID_Player = &quot; + playerData.id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(updateString);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.updatePlayer(): &quot; + e.getMessage());&#xD;
 		System.out.println(&quot;updateString: &quot; + updateString);&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohAEoJREeGsv772wTim0Q" name="getSpawnLocations" specification="_tC2uQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohAE4JREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tohAFIJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;   &#xD;
		HashMap&lt;String, Location> spawns = new HashMap&lt;String, Location>();&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT p.Name, p.Spawn_XCoord, p.Spawn_YCoord, p.Spawn_ZCoord &quot; +&#xD;
 				&quot;FROM Players p &quot; +&#xD;
 				&quot;WHERE p.Spawn_XCoord IS NOT NULL AND ID_PlayerTown = &quot; + id_PlayerTown);&#xD;
 		rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        	&#xD;
     		spawns.put(rs.getString(&quot;Name&quot;), &#xD;
     				new Location(plugin.getServer().getWorld(&quot;world&quot;), &#xD;
     						rs.getInt(&quot;Spawn_XCoord&quot;),&#xD;
     						rs.getInt(&quot;Spawn_YCoord&quot;),&#xD;
     						rs.getInt(&quot;Spawn_ZCoord&quot;)));	        		&#xD;
     	}&#xD;
     		&#xD;
     	return spawns;	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getSpawnLocations(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohAFYJREeGsv772wTim0Q" name="getRecentDonations" specification="_tC38YIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohAFoJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tohAF4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
     		&quot;SELECT SUM(Amount) as Amount FROM Donations WHERE ID_Player = &quot; + id_Player + &#xD;
     		&quot; AND DATE_SUB(CURDATE(),INTERVAL 30 DAY) &lt;= Date&quot;);&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	rs.next();&#xD;
     	&#xD;
     	return rs.getInt(&quot;Amount&quot;);  			        	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getRecentDonations(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohAGIJREeGsv772wTim0Q" name="playerLogoff" specification="_tC38Y4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohAGYJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			&#xD;
			// Get the ID of the latest entry&#xD;
			preparedStatement = conn.prepareStatement(&#xD;
	        		&quot;SELECT ID_PlayerLog FROM PlayerLog WHERE ID_Player = &quot; + id_Player + &quot; ORDER BY ID_PlayerLog DESC LIMIT 1&quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	rs.next();&#xD;
     	int id_PlayerLog = rs.getInt(&quot;ID_PlayerLog&quot;);&#xD;
			&#xD;
     	// Update the database&#xD;
     	preparedStatement = conn.prepareStatement(&quot;UPDATE PlayerLog SET LogoffTime = NOW() WHERE ID_PlayerLog = &quot; + id_PlayerLog);&#xD;
 		preparedStatement.executeUpdate();       	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.playerLogoff(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohnIIJREeGsv772wTim0Q" name="grantPermit" specification="_tC4jcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohnIYJREeGsv772wTim0Q" name="id_Player_Granter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tohnIoJREeGsv772wTim0Q" name="id_Player_Holder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tohnI4JREeGsv772wTim0Q" name="type">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tohnJIJREeGsv772wTim0Q" name="numberOfDays">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO Permits (ID_Player_Holder, ID_Player_Granter, Type, Expiration) VALUES (&quot; +&#xD;
 				id_Player_Holder + &quot;, &quot; + id_Player_Granter + &quot;, '&quot; + type + &quot;', ADDDATE(NOW(), &quot; + numberOfDays + &quot;))&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.grantPermit(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohnJYJREeGsv772wTim0Q" name="recordInstances" specification="_thz7IIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohnJoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    boolean firstEntry = true;&#xD;
	    String query = &quot;&quot;;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			// If there are no new interactions, no need for update&#xD;
			if( playerData.getNewInteractions().size() == 0 )&#xD;
				return;&#xD;
			&#xD;
			conn = rageDB.getConnection();&#xD;
			query = &quot;INSERT INTO Player_NPCInstance (ID_Player, ID_NPCInstance, Timestamp) VALUES &quot;;&#xD;
			&#xD;
			// Build a list of all new interactions&#xD;
			for( int instanceID : playerData.getNewInteractions() )&#xD;
			{&#xD;
				if( !firstEntry )&#xD;
					query += &quot;, &quot;;&#xD;
				else&#xD;
					firstEntry = false;&#xD;
				query += &quot;(&quot; + playerData.id_Player + &quot;, &quot; + instanceID + &quot;, NOW())&quot;;&#xD;
			}&#xD;
			&#xD;
 		preparedStatement = conn.prepareStatement(query);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.recordInstances(): &quot; + e.getMessage() + &quot; Query: &quot; + query);&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tohnJ4JREeGsv772wTim0Q" name="recordAffinity" specification="_thz7IoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tohnKIJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    boolean firstEntry = true;&#xD;
	    String query = &quot;&quot;;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			// If there is no affinity, no need for update&#xD;
			if( playerData.getAffinities().size() == 0 )&#xD;
				return;&#xD;
			&#xD;
			conn = rageDB.getConnection();&#xD;
			&#xD;
			// Clear the existing affinity data&#xD;
			preparedStatement = conn.prepareStatement(&quot;DELETE FROM Player_NPC WHERE ID_Player = &quot; + playerData.id_Player);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
			&#xD;
			query = &quot;INSERT INTO Player_NPC (ID_Player, ID_NPC, Affinity) VALUES &quot;;&#xD;
			&#xD;
			// Build a list of all new interactions&#xD;
			for( int npcID : playerData.getAffinities().keySet() )&#xD;
			{&#xD;
				if( !firstEntry )&#xD;
					query += &quot;, &quot;;&#xD;
				else&#xD;
					firstEntry = false;&#xD;
				query += &quot;(&quot; + playerData.id_Player + &quot;, &quot; + npcID + &quot;, &quot; + playerData.getAffinities().get(npcID) + &quot;)&quot;;&#xD;
			}&#xD;
			&#xD;
 		preparedStatement = conn.prepareStatement(query);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.recordAffinity(): &quot; + e.getMessage() + &quot; Query: &quot; + query);&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tCx1wIJREeGsv772wTim0Q" name="playerLogin" method="_tofx9IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCx1wYJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thyF8IJREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCyc0IJREeGsv772wTim0Q" name="getPlayerTreasuryBalance" method="_tofx-oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCyc0YJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCyc0oJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tCyc04JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tCzD4IJREeGsv772wTim0Q" name="getPermits" method="_togZAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCzD4YJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tcFGkIJREeGsv772wTim0Q" type="_tA-e8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tCzq8IJREeGsv772wTim0Q" name="getInteractions" method="_togZA4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tCzq8YJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thytAoJREeGsv772wTim0Q" type="_tbM80IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tC05EIJREeGsv772wTim0Q" name="getAffinities" method="_togZBoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC05EYJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thytA4JREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tC2HMIJREeGsv772wTim0Q" name="playerFetch" method="_togZCYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC2HMYJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thzUEIJREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tC2uQIJREeGsv772wTim0Q" name="getSpawnLocations" method="_tohAEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC2uQYJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_thzUE4JREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tC38YIJREeGsv772wTim0Q" name="getRecentDonations" method="_tohAFYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC38YYJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tC38YoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tC38Y4JREeGsv772wTim0Q" name="playerLogoff" method="_tohAGIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC4jcIJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tC4jcYJREeGsv772wTim0Q" name="grantPermit" method="_tohnIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC4jcoJREeGsv772wTim0Q" name="id_Player_Granter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tC5KgIJREeGsv772wTim0Q" name="id_Player_Holder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tC5KgYJREeGsv772wTim0Q" name="type">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tC5KgoJREeGsv772wTim0Q" name="numberOfDays">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tcEfgIJREeGsv772wTim0Q" name="PlayerQueries" method="_tofx8IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tcEfg4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tcEfhIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tcEfgYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcEfgoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcEfhYJREeGsv772wTim0Q" type="_tCwnoIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thyF8YJREeGsv772wTim0Q" name="fillPlayerData" visibility="private" method="_tofx94JREeGsv772wTim0Q" raisedException="_tb8jsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thytAIJREeGsv772wTim0Q" name="rs" type="_tb6HcYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_thytAYJREeGsv772wTim0Q" type="_tZiI4YJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thzUEYJREeGsv772wTim0Q" name="updatePlayer" method="_tohAEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thzUEoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thz7IIJREeGsv772wTim0Q" name="recordInstances" method="_tohnJYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thz7IYJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_thz7IoJREeGsv772wTim0Q" name="recordAffinity" method="_tohnJ4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_thz7I4JREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tC9b8IJREeGsv772wTim0Q" name="QuestQueries">
              <ownedAttribute xmi:id="_tk32MIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_tqnR04JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tk4dQIJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqnR1oJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toiOMIJREeGsv772wTim0Q" name="QuestQueries" specification="_tcKmIYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toiOMYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toiOMoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toiOM4JREeGsv772wTim0Q" type="_tC9b8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toiONIJREeGsv772wTim0Q" name="loadAllQuests" specification="_tC-qEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toiONYJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;Integer, Quest> quests = new HashMap&lt;Integer, Quest>();&#xD;
	    Quest quest;&#xD;
	    QuestData questData;&#xD;
	    QuestRequirements questReq;&#xD;
	    RewardData rewardData;&#xD;
	    Flags flags;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&quot;&quot; +&#xD;
     			&quot;SELECT q.ID_Quest, q.Name, q.Type, IFNULL(q.ID_QuestSource, 0) as ID_QuestSource, q.ID_NPCInstance_Source, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Target, 0) as ID_NPCInstance_Target, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Aux1, 0) as ID_NPCInstance_Aux1, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Aux2, 0) as ID_NPCInstance_Aux2, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Aux3, 0) as ID_NPCInstance_Aux3, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_Player_Target, 0) as ID_Player_Target, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_Quest_Prereq, 0) as ID_Quest_Prereq, &quot; +&#xD;
     			&quot;		IFNULL(q.Required_Affinity, -10) as Required_Affinity, &quot; +&#xD;
     			&quot;		IFNULL(q.Required_Reputation, 0) as Required_Reputation, &quot; +&#xD;
     			&quot;		IFNULL(q.Required_Rank, 0) as Required_Rank, &quot; +&#xD;
     			&quot;		q.Reward_Money, &quot; +&#xD;
     			&quot;		IFNULL(q.Reward_ItemID, 0) as Reward_ItemID, &quot; +&#xD;
     			&quot;		IFNULL(q.Reward_ItemAmount, 0) as Reward_ItemAmount, &quot; +&#xD;
     			&quot;		q.Reward_Exp, q.Reward_Affinity, q.Reward_Reputation, &quot; +&#xD;
     			&quot;		q.Phrase_Start, q.Phrase_Finish, q.Phrase_Unfinished, &quot; +&#xD;
     			&quot;		q.IsNonExclusive, q.IsReserved, q.IsTimed, q.TimeLimit_Seconds &quot; +&#xD;
     			&quot;FROM Quests q &quot; +&#xD;
     			&quot;INNER JOIN NPCInstances ni ON ni.ID_NPCInstance = q.ID_NPCInstance_Source &quot; +&#xD;
     			&quot;WHERE (ni.DespawnTime > NOW() OR ni.DespawnTime IS NULL) &quot;);&#xD;
     			&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		questData = new QuestData(rs.getString(&quot;Name&quot;), rs.getInt(&quot;ID_Quest&quot;), rs.getString(&quot;Phrase_Start&quot;), &#xD;
     				rs.getString(&quot;Phrase_End&quot;), &#xD;
     				new QuestRequirements(rs.getInt(&quot;ID_Quest_Prereq&quot;), rs.getInt(&quot;Required_Rank&quot;), &#xD;
     									  rs.getInt(&quot;Required_Affinity&quot;), rs.getInt(&quot;Required_Reputation&quot;)), &#xD;
     				0);&#xD;
     		rewardData = new RewardData(new ItemStack(34), rs.getInt(&quot;Reward_ItemAmount&quot;), (double)rs.getInt(&quot;Reward_Money&quot;));&#xD;
     		flags = new Flags(rs.getBoolean(&quot;IsNonExclusive&quot;), rs.getBoolean(&quot;IsReserved&quot;));&#xD;
     		&#xD;
     		switch( rs.getInt(&quot;Type&quot;) )&#xD;
     		{&#xD;
     			case Quest.TYPE_REWARD:&#xD;
     				quest = new RewardQuest(questData, rewardData, flags, rs.getInt(&quot;ID_NPCInstance_Source&quot;));&#xD;
     				break;&#xD;
     			default:&#xD;
     				quest = null;&#xD;
     				System.out.println(&quot;Error: Quest ID &quot; + rs.getInt(&quot;ID_Quest&quot;) + &quot; is of invalid type.&quot;);&#xD;
     		}&#xD;
     		&#xD;
     		quests.put(rs.getInt(&quot;ID_Quest&quot;), quest);&#xD;
     	}&#xD;
     	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in QuestQueries.loadAllQuests(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return quests;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toiONoJREeGsv772wTim0Q" name="setComplete" specification="_tC_4MYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toiON4JREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO Tasks (Name, Timestamp) VALUES ('&quot; + taskName + &quot;',NOW())&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.setComplete(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tC-qEIJREeGsv772wTim0Q" name="loadAllQuests" method="_toiONIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_th0iMIJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tC_4MYJREeGsv772wTim0Q" name="setComplete" method="_toiONoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tC_4MoJREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tcKmIYJREeGsv772wTim0Q" name="QuestQueries" method="_toiOMIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tcLNMoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tcLNM4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tcLNMIJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcLNMYJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcLNNIJREeGsv772wTim0Q" type="_tC9b8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tDCUcIJREeGsv772wTim0Q" name="TownQueries">
              <ownedAttribute xmi:id="_tk5rYIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_tqn44oJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tk6ScYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_tqn45YJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toiOOIJREeGsv772wTim0Q" name="TownQueries" specification="_tcNCYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toiOOYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toiOOoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toiOO4JREeGsv772wTim0Q" type="_tDCUcIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toi1QIJREeGsv772wTim0Q" name="loadPlayerTowns" specification="_tDDikIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toi1QYJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;String, PlayerTown> towns = new HashMap&lt;String, PlayerTown>();&#xD;
	    &#xD;
		PlayerTown currentTown = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT pt.ID_PlayerTown, pt.TownName, pt.XCoord, pt.YCoord, pt.ZCoord, &quot; +&#xD;
				&quot;	pt.TownLevel, &quot; +&#xD;
				&quot;	IFNULL(f.ID_Faction, 0) as ID_Faction, pt.TreasuryBalance, pt.MinimumBalance, pt.BankruptDate, p.Name AS Mayor &quot; +&#xD;
				&quot;FROM PlayerTowns pt &quot; +&#xD;
				&quot;LEFT JOIN Factions f ON pt.ID_Faction = f.ID_Faction &quot; +&#xD;
				&quot;INNER JOIN Players p ON pt.ID_PlayerTown = p.ID_PlayerTown &quot; +&#xD;
				&quot;WHERE p.IsMayor = 1 AND pt.IsDeleted = 0&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		currentTown = new PlayerTown(plugin, rs.getInt(&quot;ID_PlayerTown&quot;), rs.getString(&quot;TownName&quot;), plugin.getServer().getWorld(&quot;world&quot;));&#xD;
     		currentTown.centerPoint = new Location(plugin.getServer().getWorld(&quot;world&quot;), rs.getInt(&quot;XCoord&quot;), rs.getInt(&quot;YCoord&quot;), rs.getInt(&quot;ZCoord&quot;));&#xD;
     		currentTown.id_Faction = rs.getInt(&quot;ID_Faction&quot;);&#xD;
     		currentTown.treasuryBalance = rs.getFloat(&quot;TreasuryBalance&quot;);&#xD;
     		currentTown.minimumBalance = rs.getFloat(&quot;MinimumBalance&quot;);&#xD;
     		currentTown.bankruptDate = rs.getTimestamp(&quot;BankruptDate&quot;);&#xD;
     		currentTown.townLevel = plugin.config.townLevels.get(rs.getInt(&quot;TownLevel&quot;));&#xD;
     		currentTown.mayor = rs.getString(&quot;Mayor&quot;);&#xD;
     		currentTown.residents = getTownResidents(currentTown.getID());&#xD;
     		&#xD;
     		currentTown.createRegions();	 &#xD;
     		&#xD;
     		if(currentTown.getName() != null)&#xD;
     			towns.put(currentTown.getName().toLowerCase(), currentTown);	 &#xD;
     		else&#xD;
     			System.out.println(&quot;Town name was null for &quot; + rs.getInt(&quot;ID_PlayerTown&quot;) + &quot; in loadPlayerTowns()&quot;);&#xD;
     	}			&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.LoadPlayerTowns: &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return towns;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toi1QoJREeGsv772wTim0Q" name="townAdd" specification="_tDEwsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toi1Q4JREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toi1RIJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		PlayerData playerData = plugin.players.get(targetPlayerName);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Update the Players table to create the town association&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Players SET ID_PlayerTown = &quot; +&#xD;
 				&quot;	(SELECT ID_PlayerTown FROM PlayerTowns WHERE TownName = '&quot; + townName + &quot;') &quot; +&#xD;
 				&quot;, IsMayor = 0 WHERE ID_Player = &quot; + playerData.id_Player);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownAdd(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toi1RYJREeGsv772wTim0Q" name="townCreate" specification="_th1JQYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toi1RoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toi1R4JREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toi1SIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO PlayerTowns (TownName, XCoord, YCoord, ZCoord, ID_Faction, TreasuryBalance, MinimumBalance, TownLevel, DateCreated) &quot; +&#xD;
 				&quot;VALUES ('&quot; + townName + &quot;', &quot; + (int)player.getLocation().getX() + &quot;, &quot; + (int)player.getLocation().getY() + &quot;, &quot; + &#xD;
 						(int)player.getLocation().getZ() + &quot;, &quot; +  &#xD;
 				&quot;(SELECT ID_Faction FROM Players WHERE ID_Player = &quot; + playerData.id_Player + &quot;), &quot; + &#xD;
 				plugin.config.townLevels.get(1).minimumBalance + &quot;, &quot; + plugin.config.townLevels.get(1).minimumBalance + &quot;, 1, NOW())&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int townID = rs.getInt(1);&#xD;
 		&#xD;
 		// Update the Players table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Players SET ID_PlayerTown = &quot; + townID + &quot;, IsMayor = 1 &quot; +&#xD;
 				&quot;WHERE ID_Player = &quot; + playerData.id_Player);        		&#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		return townID;&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownCreate(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: RageDB.TownCreate() returned -1&quot;);&#xD;
 	return -1;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toi1SYJREeGsv772wTim0Q" name="townLeave" specification="_tDFXwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toi1SoJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		PlayerData playerData = plugin.players.get(playerName);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Update the Players table to remove the town association&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Players SET ID_PlayerTown = NULL, IsMayor = 0, Spawn_XCoord = NULL WHERE ID_Player = &quot; + playerData.id_Player);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownLeave(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tojcUIJREeGsv772wTim0Q" name="townUpgrade" specification="_tDF-0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tojcUYJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tojcUoJREeGsv772wTim0Q" name="cost">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Update the Players table to remove the town association&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET TownLevel = (TownLevel + 1), TreasuryBalance = (TreasuryBalance - &quot; + cost + &quot;) &quot; +&#xD;
 				&quot;WHERE TownName = '&quot; + townName + &quot;'&quot; +&#xD;
 				&quot;&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownUpgrade(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tojcU4JREeGsv772wTim0Q" name="countResidents" specification="_tDGl4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tojcVIJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tojcVYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(townName);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT COUNT(*) FROM Players WHERE ID_PlayerTown = &quot; + playerTown.getID());&#xD;
 		rs = preparedStatement.executeQuery();&#xD;
 		rs.next();&#xD;
 		return rs.getInt(1);&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.CountResidents(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: RageDB.CountResidents() returned -1&quot;);&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tojcVoJREeGsv772wTim0Q" name="getTownResidents" specification="_tDGl44JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tojcV4JREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tojcWIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		ArrayList&lt;String> residents = new ArrayList&lt;String>();&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT Name FROM Players p &quot; +&#xD;
 				&quot;WHERE ID_PlayerTown = &quot; + id_PlayerTown + &quot; &quot; +&#xD;
 				&quot;ORDER BY IsMayor DESC &quot;);&#xD;
 		rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        	&#xD;
     		residents.add(rs.getString(&quot;Name&quot;));	        		&#xD;
     	}&#xD;
     		&#xD;
     		&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.ListTownResidents(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		    return residents;&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
			&#xD;
		}    &#xD;
		return residents;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tojcWYJREeGsv772wTim0Q" name="townDeposit" specification="_tDH0AIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tojcWoJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tojcW4JREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tojcXIJREeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the treasury balance&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET TreasuryBalance = (TreasuryBalance + &quot; + amount + &quot;) WHERE ID_PlayerTown = &quot; + id_PlayerTown);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 		&#xD;
 		// Record the player's deposit&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO TreasuryTransactions (ID_PlayerTown, ID_Player, Amount, Timestamp) VALUES (&quot; +&#xD;
 				id_PlayerTown + &quot;, &quot; + id_Player + &quot;, &quot; + amount + &quot;, NOW() )&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.townDeposit(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tojcXYJREeGsv772wTim0Q" name="townSetMinimumBalance" specification="_tDIbEYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tojcXoJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tokDYIJREeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the treasury balance&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET MinimumBalance = &quot; + amount + &quot; WHERE ID_PlayerTown = &quot; + id_PlayerTown);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.townSetMinimumBalance(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tokDYYJREeGsv772wTim0Q" name="update" specification="_tcOQgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tokDYoJREeGsv772wTim0Q" name="playerTown" type="_tA_GAIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update all town info&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET &quot; +&#xD;
 				&quot;TreasuryBalance = &quot; + playerTown.treasuryBalance + &quot;, &quot; + &#xD;
 				&quot;MinimumBalance = &quot; + playerTown.minimumBalance + &quot;, &quot; + &#xD;
 				&quot;BankruptDate = &quot; + (playerTown.bankruptDate == null ? &quot;null&quot; : &quot;'&quot; + playerTown.bankruptDate + &quot;'&quot;) + &quot;, &quot; +&#xD;
 				&quot;IsDeleted = &quot; + playerTown.isDeleted + &quot; &quot; + &#xD;
 				&quot;WHERE ID_PlayerTown = &quot; + playerTown.getID());&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.update(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tDDikIJREeGsv772wTim0Q" name="loadPlayerTowns" method="_toi1QIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_th1JQIJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDEwsIJREeGsv772wTim0Q" name="townAdd" method="_toi1QoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDEwsYJREeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDEwsoJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDFXwIJREeGsv772wTim0Q" name="townLeave" method="_toi1SYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDFXwYJREeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDF-0IJREeGsv772wTim0Q" name="townUpgrade" method="_tojcUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDF-0YJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDF-0oJREeGsv772wTim0Q" name="cost">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDGl4IJREeGsv772wTim0Q" name="countResidents" method="_tojcU4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDGl4YJREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDGl4oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDGl44JREeGsv772wTim0Q" name="getTownResidents" method="_tojcVoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDGl5IJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_th1wUYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tDH0AIJREeGsv772wTim0Q" name="townDeposit" method="_tojcWYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDH0AYJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDH0AoJREeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDIbEIJREeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tDIbEYJREeGsv772wTim0Q" name="townSetMinimumBalance" method="_tojcXYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tDIbEoJREeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tDIbE4JREeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tcNCYIJREeGsv772wTim0Q" name="TownQueries" method="_toiOOIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tcNpcIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tcNpcYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tcNCYYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcNCYoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tcNpcoJREeGsv772wTim0Q" type="_tDCUcIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tcOQgIJREeGsv772wTim0Q" name="update" method="_tokDYYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tcOQgYJREeGsv772wTim0Q" name="playerTown" type="_tA_GAIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_th1JQYJREeGsv772wTim0Q" name="townCreate" method="_toi1RYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_th1JQoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_th1JQ4JREeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_th1wUIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tb0A0IJREeGsv772wTim0Q" name="NPCQueries">
              <ownedAttribute xmi:id="_v3CGEIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_v4dpdIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3CGEoJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4eQgIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3CtIYJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_v4eQg4JREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3k4oIJREeGsv772wTim0Q" name="NPCQueries" specification="_v00fkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3k4oYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3k4ooJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3k4o4JREeGsv772wTim0Q" type="_tb0A0IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
		this.random = new Random();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3k4pIJREeGsv772wTim0Q" name="loadDictionaries" specification="_vttK8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3k4pYJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;Integer, Language> languages = new HashMap&lt;Integer, Language>();&#xD;
	    Language currentLanguage = null;&#xD;
	    int id_Language = 0;&#xD;
	    &#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT ID_Language, Word, Length FROM Words ORDER BY ID_Language, Length, Word&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	&#xD;
     		if( id_Language != rs.getInt(&quot;ID_Language&quot;) )&#xD;
     		{&#xD;
     			// New language&#xD;
     			if( currentLanguage != null )&#xD;
     				languages.put(id_Language, currentLanguage);&#xD;
     			&#xD;
     			currentLanguage = new Language();&#xD;
     			id_Language = rs.getInt(&quot;ID_Language&quot;);&#xD;
     		}&#xD;
     		&#xD;
     		currentLanguage.addWord(rs.getString(&quot;Word&quot;), rs.getInt(&quot;Length&quot;));&#xD;
     	}			&#xD;
     	&#xD;
     	// Add the last language&#xD;
     	languages.put(id_Language, currentLanguage);&#xD;
     	&#xD;
     	return languages;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadDictionaries: &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3k4poJREeGsv772wTim0Q" name="loadNPCLocations" specification="_vtuZEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3k4p4JREeGsv772wTim0Q" type="_tAZQIIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    NPCLocationPool locationPool = new NPCLocationPool();&#xD;
		NPCLocation location = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT ID_NPCLocation, ID_NPCTown, ID_NPCRace, XCoord, YCoord, ZCoord, Yaw, Pitch &quot; +&#xD;
				&quot;FROM NPCLocations&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		location = new NPCLocation(plugin.zones.world, &#xD;
     				rs.getDouble(&quot;XCoord&quot;),&#xD;
     				rs.getDouble(&quot;YCoord&quot;),&#xD;
     				rs.getDouble(&quot;ZCoord&quot;),&#xD;
     				rs.getFloat(&quot;Yaw&quot;),&#xD;
     				rs.getFloat(&quot;Pitch&quot;), plugin);&#xD;
     		&#xD;
     		location.setIDs(rs.getInt(&quot;ID_NPCLocation&quot;), rs.getInt(&quot;ID_NPCTown&quot;), rs.getInt(&quot;ID_NPCRace&quot;));&#xD;
     		locationPool.add(location);&#xD;
     	}			&#xD;
     	&#xD;
     	return locationPool;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadNPCLocations: &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3k4qIJREeGsv772wTim0Q" name="createNPCLocation" specification="_v01GoYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3k4qYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3k4qoJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3k4q4JREeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3k4rIJREeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3k4rYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCLocations (ID_NPCTown, ID_NPCRace, XCoord, YCoord, ZCoord, Yaw, Pitch, CreateDate, ID_Player_Creator) &quot; +&#xD;
 				&quot;VALUES (&quot; + id_NPCTown + &quot;, &quot; + id_NPCRace + &quot;, &quot; + location.getX() + &quot;, &quot; + location.getY() + &quot;, &quot; +&#xD;
 						location.getZ() + &quot;, &quot; +  location.getYaw() + &quot;, &quot; + location.getPitch() + &quot;, NOW(), &quot; + &#xD;
 				id_Player_Creator + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int locationID = rs.getInt(1);&#xD;
 		&#xD;
 		return locationID;&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.createNPCLocation(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: NPCQueries.createNPCLocation() returned -1&quot;);&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3k4roJREeGsv772wTim0Q" name="loadNPCs" specification="_vtvAIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3k4r4JREeGsv772wTim0Q" type="_tApHwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    NPCPool npcs = new NPCPool();&#xD;
		NPCData npc = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT n.ID_NPC, n.ID_NPCRace, n.Name, n.IsBilingual, n.ID_NPCTown, n.Gender, s.Filename, n.DefaultAffinity &quot; +&#xD;
				&quot;FROM NPCs n &quot; +&#xD;
				&quot;LEFT JOIN Skins s ON n.ID_Skin = s.ID_Skin&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		npc = new NPCData();&#xD;
     		npc.id_NPC = rs.getInt(&quot;ID_NPC&quot;);&#xD;
     		npc.id_NPCRace = rs.getInt(&quot;ID_NPCRace&quot;);&#xD;
     		npc.name = rs.getString(&quot;Name&quot;);&#xD;
     		npc.isBilingual = rs.getBoolean(&quot;IsBilingual&quot;);&#xD;
     		npc.id_NPCTown = rs.getInt(&quot;ID_NPCTown&quot;);&#xD;
     		npc.isMale = rs.getString(&quot;Gender&quot;).equalsIgnoreCase(&quot;M&quot;);&#xD;
     		npc.skinPath = rs.getString(&quot;Filename&quot;);&#xD;
     		npc.defaultAffinityCode = rs.getInt(&quot;DefaultAffinity&quot;);&#xD;
     		&#xD;
     		npcs.add(npc);&#xD;
     	}			&#xD;
     	&#xD;
     	return npcs;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadNPCs(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3k4sIJREeGsv772wTim0Q" name="createNPC" specification="_v01tsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3k4sYJREeGsv772wTim0Q" name="npc" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3k4soJREeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3k4s4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    int skinID;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCs (ID_NPCRace, Name, IsBilingual, ID_NPCTown, CreateDate, ID_Player_Creator, Gender, DefaultAffinity) &quot; +&#xD;
 				&quot;VALUES (&quot; + npc.id_NPCRace + &quot;, '&quot; + npc.name + &quot;', &quot; + npc.isBilingual + &quot;, &quot; +&#xD;
 					npc.id_NPCTown + &quot;, NOW(), &quot; + id_Player_Creator + &quot;, &quot; +&#xD;
 					(npc.isMale ? &quot;'M'&quot; : &quot;'F'&quot;) + &quot;, &quot; + npc.defaultAffinityCode + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int npcID = rs.getInt(1);&#xD;
 		&#xD;
 		// Find a new skin for the NPC&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT s.ID_Skin, s.Filename FROM Skins s &quot; +&#xD;
 				&quot;LEFT JOIN NPCs n ON n.ID_Skin = s.ID_Skin &quot; +&#xD;
 				&quot;WHERE s.ID_NPCRace = &quot; + npc.id_NPCRace + &quot; AND s.Gender = &quot; + (npc.isMale ? &quot;'M'&quot; : &quot;'F'&quot;) + &quot;&quot; +&#xD;
 				&quot;GROUP BY s.ID_Skin &quot; +&#xD;
 				&quot;ORDER BY COUNT(n.ID_NPC) LIMIT 1&quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	if( rs.next() ) &#xD;
     	{	        		&#xD;
     		npc.skinPath = rs.getString(&quot;Filename&quot;);&#xD;
     		skinID = rs.getInt(&quot;ID_Skin&quot;);&#xD;
     		&#xD;
     		// Update the skin in the DB&#xD;
     		preparedStatement = conn.prepareStatement(&#xD;
     				&quot;UPDATE NPCs SET ID_Skin = &quot; + skinID + &quot; WHERE ID_NPC = &quot; + npcID);   &#xD;
     		preparedStatement.executeUpdate();&#xD;
     	}		&#xD;
     	else&#xD;
     		throw new Exception(&quot;Could not locate a suitable skin for &quot; + npc.name);&#xD;
 		&#xD;
 		return npcID;&#xD;
     		        		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.createNPC(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: NPCQueries.createNPC() returned -1&quot;);&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3lfsIJREeGsv772wTim0Q" name="createInstance" specification="_v01ttIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3lfsYJREeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3lfsoJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3lfs4JREeGsv772wTim0Q" name="ttlMinutes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3lftIJREeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3lftYJREeGsv772wTim0Q" name="type" type="_taiOcIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3lftoJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    NPCInstance instance = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		if( id_NPC == 0 )&#xD;
 			throw new Exception(&quot;Attempted to create instance with NPC ID 0&quot;);&#xD;
 		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCInstances (ID_NPC, ID_NPCLocation, SpawnTime, DespawnTime, ID_Player_Creator, Type) &quot; +&#xD;
 				&quot;VALUES (&quot; + id_NPC + &quot;, '&quot; + id_NPCLocation + &quot;', NOW(), NOW() + INTERVAL &quot; + ttlMinutes + &quot; MINUTE, &quot; +&#xD;
 						id_Player_Creator + &quot;, &quot; + type.getValue() + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int instanceID = rs.getInt(1);&#xD;
 		&#xD;
 		instance = new NPCInstance(plugin, instanceID, type, Util.minutesFromNow(ttlMinutes));&#xD;
 		&#xD;
 		return instance;&#xD;
     		        		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.createInstance(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3lft4JREeGsv772wTim0Q" name="loadInstances" specification="_vtw1UIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3lfuIJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    ArrayList&lt;NPCInstance> instances = new ArrayList&lt;NPCInstance>();&#xD;
		NPCInstance instance = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT ID_NPCInstance, ID_NPC, ID_NPCLocation, DespawnTime, Type &quot; +&#xD;
				&quot;FROM NPCInstances &quot; +&#xD;
				&quot;WHERE (DespawnTime IS NULL OR DespawnTime > NOW()) AND IsDisabled = 0&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		instance = new NPCInstance(plugin, rs.getInt(&quot;ID_NPCInstance&quot;), NPCType.getType(rs.getInt(&quot;Type&quot;)), rs.getTimestamp(&quot;DespawnTime&quot;));&#xD;
&#xD;
     		if( instance.activate(rs.getInt(&quot;ID_NPC&quot;), rs.getInt(&quot;ID_NPCLocation&quot;)) )&#xD;
     			instances.add(instance);&#xD;
     		else&#xD;
     			System.out.println(&quot;ERROR: Could not activate NPC instance #&quot; + instance.getID());&#xD;
     	}			&#xD;
     	&#xD;
     	return instances;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadInstances(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3lfuYJREeGsv772wTim0Q" name="getPhrases" specification="_v02UwoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3lfuoJREeGsv772wTim0Q" name="npcData" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3lfu4JREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3lfvIJREeGsv772wTim0Q" type="_tD-voIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    ArrayList&lt;NPCPhrase> phrases = new ArrayList&lt;NPCPhrase>();&#xD;
	    ArrayList&lt;NPCPhrase> phrasePool = new ArrayList&lt;NPCPhrase>();&#xD;
	    NPCPhrase greeting;&#xD;
	    HashMap&lt;Integer, NPCPhrase> followups = new HashMap&lt;Integer, NPCPhrase>();&#xD;
	    String updateQuery = &quot;&quot;;&#xD;
	    SpeechData speechData;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		String whereClause = &quot;(np.ID_NPCRace = 0 OR np.ID_NPCRace = &quot; + npcData.id_NPCRace + &quot;) AND &quot; +&#xD;
						&quot;(np.ID_NPCTown = 0 OR np.ID_NPCTown = &quot; + id_NPCTown + &quot;) AND &quot; +&#xD;
						&quot;(np.ID_NPC = 0 OR np.ID_NPC = &quot; + npcData.id_NPC + &quot;) AND &quot; +&#xD;
						&quot;(np.IsApproved = 1) &quot;;&#xD;
 		&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT np.ID_NPCPhrase, np.Text, np.IsDynamic &quot; +&#xD;
				&quot;FROM NPCPhrases np &quot; +&#xD;
				&quot;WHERE &quot; + whereClause + &quot; AND &quot; +&#xD;
						&quot;np.GreetingType = 0 AND np.Affinity = 0 &quot; +	// TODO: Figure out how affinity will work with normal messages, if at all&#xD;
				&quot;ORDER BY np.Uses &quot; +&#xD;
				&quot;LIMIT &quot; + plugin.config.NPC_PHRASE_POOL);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	// Load all possible phrases into the pool for random selection&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		phrasePool.add(new NPCPhrase(rs.getString(&quot;Text&quot;), rs.getInt(&quot;ID_NPCPhrase&quot;), &#xD;
     				plugin, rs.getBoolean(&quot;IsDynamic&quot;), npcData));&#xD;
     	}&#xD;
     	&#xD;
     	// Choose a specified number of phrases from the pool to use in game&#xD;
     	for( int i = 0; i &lt; plugin.config.NPC_PHRASES; i++ )&#xD;
     	{&#xD;
     		if( phrasePool.size() > 0 )&#xD;
     		{&#xD;
     			NPCPhrase phrase = phrasePool.remove(random.nextInt(phrasePool.size()));&#xD;
     			phrases.add(phrase);&#xD;
     			if( i == 0 )&#xD;
     				updateQuery = &quot;ID_NPCPhrase = &quot; + String.valueOf(phrase.getID());&#xD;
     			else&#xD;
     				updateQuery += &quot; OR ID_NPCPhrase = &quot; + String.valueOf(phrase.getID());&#xD;
     		}&#xD;
     	}&#xD;
     	&#xD;
     	// Get the initial greeting&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT np.ID_NPCPhrase, np.Text, np.IsDynamic &quot; +&#xD;
 				&quot;FROM NPCPhrases np &quot; +&#xD;
 				&quot;WHERE &quot; + whereClause + &quot; AND &quot; +&#xD;
 						&quot;np.GreetingType = 1 AND np.Affinity = (SELECT DefaultAffinity FROM NPCs WHERE ID_NPC = &quot; + npcData.id_NPC + &quot;) &quot; +&#xD;
 				&quot;ORDER BY Uses &quot; +&#xD;
 				&quot;LIMIT 1&quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	rs.next();&#xD;
     	greeting = new NPCPhrase(rs.getString(&quot;Text&quot;), rs.getInt(&quot;ID_NPCPhrase&quot;), &#xD;
     			plugin, rs.getBoolean(&quot;IsDynamic&quot;), npcData);&#xD;
     	updateQuery += &quot; OR ID_NPCPhrase = &quot; + rs.getInt(&quot;ID_NPCPhrase&quot;);&#xD;
     	&#xD;
     	// Get the followup greetings&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT np.ID_NPCPhrase, np.Text, np.Affinity, np.IsDynamic &quot; +&#xD;
 				&quot;FROM ( &quot; +&#xD;
 				&quot;	SELECT Affinity, MIN(Uses) as MinUses &quot; +&#xD;
				    &quot;	FROM NPCPhrases np WHERE &quot; + whereClause + &quot; AND GreetingType = 2 GROUP BY Affinity &quot; +&#xD;
     			&quot;	) AS x INNER JOIN NPCPhrases np ON np.Affinity = x.Affinity AND np.Uses = x.MinUses &quot; +&#xD;
 				&quot;WHERE &quot; + whereClause + &quot; AND &quot; +&#xD;
 						&quot;np.GreetingType = 2 &quot; +&#xD;
 				&quot;GROUP BY np.Affinity &quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		followups.put(rs.getInt(&quot;Affinity&quot;), new NPCPhrase(rs.getString(&quot;Text&quot;), rs.getInt(&quot;ID_NPCPhrase&quot;), &#xD;
     				plugin, rs.getBoolean(&quot;IsDynamic&quot;), npcData));&#xD;
     		updateQuery += &quot; OR ID_NPCPhrase = &quot; + rs.getInt(&quot;ID_NPCPhrase&quot;);&#xD;
     		//System.out.println(&quot;Loaded followup greeting (Aff. &quot; + rs.getInt(&quot;Affinity&quot;) + &quot;): &quot; + rs.getString(&quot;Text&quot;));&#xD;
     	}&#xD;
&#xD;
 		// Update the database to show that the phrases have been used&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE NPCPhrases SET Uses = Uses + 1 WHERE &quot; + updateQuery);&#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Build the SpeechData object&#xD;
 		speechData = new SpeechData(phrases, greeting, followups, npcData, plugin);&#xD;
 		&#xD;
 		return speechData;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.getPhrases(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3lfvYJREeGsv772wTim0Q" name="disableInstance" specification="_vtyDcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3lfvoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE NPCInstances SET IsDisabled = 1 WHERE ID_NPCInstance = &quot; + id);;   &#xD;
 		preparedStatement.executeUpdate();&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.disableInstance(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mGwIJREeGsv772wTim0Q" name="submitPhrase" specification="_v02UxoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mGwYJREeGsv772wTim0Q" name="town" type="_tAxqoIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mGwoJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mGw4JREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3mGxIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    int id_NPCTown;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		// Make sure there is proper capitalization and punctuation&#xD;
			message = message.trim();&#xD;
			message = message.substring(0, 1).toUpperCase() + message.substring(1);&#xD;
			if( !message.substring(message.length()-1).equals(&quot;.&quot;) &amp;&amp; &#xD;
				!message.substring(message.length()-1).equals(&quot;?&quot;) &amp;&amp;&#xD;
				!message.substring(message.length()-1).equals(&quot;!&quot;))&#xD;
				message += &quot;.&quot;;&#xD;
 					&#xD;
 		if( town == null )&#xD;
 			id_NPCTown = 0;&#xD;
 		else&#xD;
 			id_NPCTown = town.getID();&#xD;
 		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCPhrases (Text, ID_NPCTown, IsApproved, ID_Player_Writer, Timestamp) &quot; +&#xD;
 				&quot;VALUES ('&quot; + message.replace(&quot;'&quot;, &quot;''&quot;) + &quot;', &quot; + id_NPCTown + &quot;, 0, &quot; + playerData.id_Player + &quot;, NOW())&quot;);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		return true;&#xD;
     		        		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.submitPhrase(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return false;&#xD;
 	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vttK8IJREeGsv772wTim0Q" name="loadDictionaries" method="_v3k4pIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v00floJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtuZEIJREeGsv772wTim0Q" name="loadNPCLocations" method="_v3k4poJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v01GoIJREeGsv772wTim0Q" type="_tAZQIIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtvAIIJREeGsv772wTim0Q" name="loadNPCs" method="_v3k4roJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v01Gp4JREeGsv772wTim0Q" type="_tApHwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtw1UIJREeGsv772wTim0Q" name="loadInstances" method="_v3lft4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v02UwYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vtyDcIJREeGsv772wTim0Q" name="disableInstance" method="_v3lfvYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vtyDcYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v00fkIJREeGsv772wTim0Q" name="NPCQueries" method="_v3k4oIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v00fk4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v00flIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v00fkYJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v00fkoJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v00flYJREeGsv772wTim0Q" type="_tb0A0IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v01GoYJREeGsv772wTim0Q" name="createNPCLocation" method="_v3k4qIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v01GooJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v01Go4JREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01GpIJREeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01GpYJREeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01GpoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v01tsIJREeGsv772wTim0Q" name="createNPC" method="_v3k4sIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v01tsYJREeGsv772wTim0Q" name="npc" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v01tsoJREeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01ts4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v01ttIJREeGsv772wTim0Q" name="createInstance" method="_v3lfsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v01ttYJREeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01ttoJREeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01tt4JREeGsv772wTim0Q" name="ttlMinutes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01tuIJREeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v01tuYJREeGsv772wTim0Q" name="type" type="_taiOcIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v02UwIJREeGsv772wTim0Q" type="_s_hGYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v02UwoJREeGsv772wTim0Q" name="getPhrases" method="_v3lfuYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v02Uw4JREeGsv772wTim0Q" name="npcData" type="_s_USEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v02UxIJREeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v02UxYJREeGsv772wTim0Q" type="_tD-voIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v02UxoJREeGsv772wTim0Q" name="submitPhrase" method="_v3mGwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v02Ux4JREeGsv772wTim0Q" name="town" type="_tAxqoIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0270IJREeGsv772wTim0Q" name="playerData" type="_tZiI4YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v0270YJREeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v0270oJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tb0n4YJREeGsv772wTim0Q" name="TaskQueries">
              <ownedAttribute xmi:id="_v3DUMIJREeGsv772wTim0Q" name="rageDB" visibility="private" type="_tCW_AIJREeGsv772wTim0Q" association="_v4eQhoJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3DUMYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_s5og0IJREeGsv772wTim0Q" association="_v4e3kYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mGxYJREeGsv772wTim0Q" name="TaskQueries" specification="_v03i4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mGxoJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mGx4JREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3mGyIJREeGsv772wTim0Q" type="_tb0n4YJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mGyYJREeGsv772wTim0Q" name="loadTaskTimes" specification="_vt-3wIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mGyoJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashMap&lt;String, Timestamp> tasks = new HashMap&lt;String, Timestamp>();&#xD;
		&#xD;
		Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&quot;SELECT Name, MAX(Timestamp) as Timestamp FROM Tasks GROUP BY Name&quot;);&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		tasks.put(rs.getString(&quot;Name&quot;), rs.getTimestamp(&quot;Timestamp&quot;));       		&#xD;
     	}&#xD;
     	return tasks;&#xD;
     	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in RageDB.loadTaskTimes(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3mGy4JREeGsv772wTim0Q" name="setComplete" specification="_vuAF4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3mGzIJREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO Tasks (Name, Timestamp) VALUES ('&quot; + taskName + &quot;',NOW())&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.setComplete(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vt-3wIJREeGsv772wTim0Q" name="loadTaskTimes" method="_v3mGyYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v04J8YJREeGsv772wTim0Q" type="_tZxZcYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vuAF4IJREeGsv772wTim0Q" name="setComplete" method="_v3mGy4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vuAF4YJREeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v03i4IJREeGsv772wTim0Q" name="TaskQueries" method="_v3mGxYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v03i44JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v03i5IJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v03i4YJREeGsv772wTim0Q" name="rageDB" type="_tCW_AIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v03i4oJREeGsv772wTim0Q" name="plugin" type="_s5og0IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v03i5YJREeGsv772wTim0Q" type="_tb0n4YJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqlcoIJREeGsv772wTim0Q" name="" memberEnd="_tqlcoYJREeGsv772wTim0Q _tkqa0IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqlcoYJREeGsv772wTim0Q" name="" type="_tCdssIJREeGsv772wTim0Q" association="_tqlcoIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqlco4JREeGsv772wTim0Q" name="" memberEnd="_tqlcpIJREeGsv772wTim0Q _tkrB4IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqlcpIJREeGsv772wTim0Q" name="" type="_tCdssIJREeGsv772wTim0Q" association="_tqlco4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqlcpoJREeGsv772wTim0Q" name="" memberEnd="_tqlcp4JREeGsv772wTim0Q _tksQAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqlcp4JREeGsv772wTim0Q" name="" type="_tChXEIJREeGsv772wTim0Q" association="_tqlcpoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqmDsYJREeGsv772wTim0Q" name="" memberEnd="_tqmDsoJREeGsv772wTim0Q _tks3EIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqmDsoJREeGsv772wTim0Q" name="" type="_tChXEIJREeGsv772wTim0Q" association="_tqmDsYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqmDtIJREeGsv772wTim0Q" name="" memberEnd="_tqmDtYJREeGsv772wTim0Q _tkvTUIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqmDtYJREeGsv772wTim0Q" name="" type="_tCpS4IJREeGsv772wTim0Q" association="_tqmDtIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqmqwYJREeGsv772wTim0Q" name="" memberEnd="_tqmqwoJREeGsv772wTim0Q _tkv6YYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqmqwoJREeGsv772wTim0Q" name="" type="_tCpS4IJREeGsv772wTim0Q" association="_tqmqwYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqmqxIJREeGsv772wTim0Q" name="" memberEnd="_tqmqxYJREeGsv772wTim0Q _tkyWoIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqmqxYJREeGsv772wTim0Q" name="" type="_tCwnoIJREeGsv772wTim0Q" association="_tqmqxIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqnR0IJREeGsv772wTim0Q" name="" memberEnd="_tqnR0YJREeGsv772wTim0Q _tky9sYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqnR0YJREeGsv772wTim0Q" name="" type="_tCwnoIJREeGsv772wTim0Q" association="_tqnR0IJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqnR04JREeGsv772wTim0Q" name="" memberEnd="_tqnR1IJREeGsv772wTim0Q _tk32MIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqnR1IJREeGsv772wTim0Q" name="" type="_tC9b8IJREeGsv772wTim0Q" association="_tqnR04JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqnR1oJREeGsv772wTim0Q" name="" memberEnd="_tqn44IJREeGsv772wTim0Q _tk4dQIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqn44IJREeGsv772wTim0Q" name="" type="_tC9b8IJREeGsv772wTim0Q" association="_tqnR1oJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqn44oJREeGsv772wTim0Q" name="" memberEnd="_tqn444JREeGsv772wTim0Q _tk5rYIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqn444JREeGsv772wTim0Q" name="" type="_tDCUcIJREeGsv772wTim0Q" association="_tqn44oJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqn45YJREeGsv772wTim0Q" name="" memberEnd="_tqn45oJREeGsv772wTim0Q _tk6ScYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqn45oJREeGsv772wTim0Q" name="" type="_tDCUcIJREeGsv772wTim0Q" association="_tqn45YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4dpdIJREeGsv772wTim0Q" name="" memberEnd="_v4dpdYJREeGsv772wTim0Q _v3CGEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4dpdYJREeGsv772wTim0Q" name="" type="_tb0A0IJREeGsv772wTim0Q" association="_v4dpdIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4eQgIJREeGsv772wTim0Q" name="" memberEnd="_v4eQgYJREeGsv772wTim0Q _v3CGEoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4eQgYJREeGsv772wTim0Q" name="" type="_tb0A0IJREeGsv772wTim0Q" association="_v4eQgIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4eQg4JREeGsv772wTim0Q" name="" memberEnd="_v4eQhIJREeGsv772wTim0Q _v3CtIYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4eQhIJREeGsv772wTim0Q" name="" type="_tb0A0IJREeGsv772wTim0Q" association="_v4eQg4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4eQhoJREeGsv772wTim0Q" name="" memberEnd="_v4eQh4JREeGsv772wTim0Q _v3DUMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4eQh4JREeGsv772wTim0Q" name="" type="_tb0n4YJREeGsv772wTim0Q" association="_v4eQhoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4e3kYJREeGsv772wTim0Q" name="" memberEnd="_v4e3koJREeGsv772wTim0Q _v3DUMYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4e3koJREeGsv772wTim0Q" name="" type="_tb0n4YJREeGsv772wTim0Q" association="_v4e3kYJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s4n0MIJREeGsv772wTim0Q" name="Build">
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnV7YIJREeGsv772wTim0Q" name="sanctumFloor" specification="_teYMoIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnWicIJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnWicYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnWicoJREeGsv772wTim0Q" name="cornerX">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnWic4JREeGsv772wTim0Q" name="cornerY">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnWidIJREeGsv772wTim0Q" name="cornerZ">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnWidYJREeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnWidoJREeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>Block currentBlock;&#xD;
		&#xD;
		// Store a list of blocks to light with fire to activate portals (this needs to be done last)&#xD;
		ArrayList&lt;Block> portalBlocks = new ArrayList&lt;Block>();&#xD;
		&#xD;
		ArrayList&lt;String> layout = RageConfig.buildSanctumFloor(level);&#xD;
		&#xD;
		//		c: Cobblestone&#xD;
	    //		d: Dirt&#xD;
	    //		p: Wood Planks&#xD;
	    //		s: Stone&#xD;
	    //		t: Tile (slab)&#xD;
	    //		o: Obsidian&#xD;
		//		O: Obsidian stack 2-high w/ glowstone on top&#xD;
	    //		g: Glowstone&#xD;
		//		G: Glowstone stack 2-high&#xD;
	    //		w: Wool (of appropriate color)&#xD;
	    //		-: Portal (inside)&#xD;
	    //		|: Portal (outside)&#xD;
	    //		b: Bedrock&#xD;
	    //		L: Liquid (water/lava)&#xD;
	    //		n: Snow&#xD;
	    //		i: Iron Block&#xD;
	    //		S: Special faction block (lapis/netherrack)&#xD;
		for( int x = 0; x &lt; 20; x++ )&#xD;
		{&#xD;
			for( int z = 0; z &lt; 20; z++ )&#xD;
			{&#xD;
				currentBlock = world.getBlockAt(cornerX + x, cornerY, cornerZ + z);&#xD;
				&#xD;
				// Clear the air above the floor&#xD;
				if( level == 1 )&#xD;
				{&#xD;
					world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 4, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 5, cornerZ + z).setType(Material.AIR);&#xD;
				}&#xD;
				&#xD;
				// Create bedrock below the floor, to hold liquids&#xD;
				world.getBlockAt(cornerX + x, cornerY - 1, cornerZ + z).setType(Material.BEDROCK);&#xD;
				world.getBlockAt(cornerX + x, cornerY - 2, cornerZ + z).setType(Material.BEDROCK);&#xD;
				&#xD;
				// Set the floor block(s)&#xD;
				switch( layout.get(x).charAt(z) )&#xD;
				{&#xD;
					case 'c':&#xD;
						currentBlock.setType(Material.COBBLESTONE); break;&#xD;
					case 'd':&#xD;
						currentBlock.setType(Material.DIRT); break;&#xD;
					case 'p':&#xD;
						currentBlock.setType(Material.WOOD); break;&#xD;
					case 's':&#xD;
						currentBlock.setType(Material.STONE); break;&#xD;
					case 't':&#xD;
						currentBlock.setType(Material.DOUBLE_STEP); break;&#xD;
					case 'o':&#xD;
						currentBlock.setType(Material.OBSIDIAN); break;&#xD;
					case 'O':&#xD;
						currentBlock.setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						break;&#xD;
					case 'g':&#xD;
						currentBlock.setType(Material.GLOWSTONE); break;&#xD;
					case 'G':&#xD;
						currentBlock.setType(Material.GLOWSTONE); &#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.GLOWSTONE);&#xD;
						break;&#xD;
					case 'w':&#xD;
						currentBlock.setType(Material.WOOL); &#xD;
						currentBlock.setData((byte) Byte.valueOf(String.valueOf(Factions.getWoolColor(id_Faction))));&#xD;
						break;&#xD;
					case '-':&#xD;
						currentBlock.setType(Material.OBSIDIAN); &#xD;
						portalBlocks.add(world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z));&#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.AIR);	// Any existing portal blocks must be removed&#xD;
						world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.AIR);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.AIR);		&#xD;
						world.getBlockAt(cornerX + x, cornerY + 4, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						break;&#xD;
					case '|':&#xD;
						currentBlock.setType(Material.OBSIDIAN); &#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 4, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						break;&#xD;
					case 'b':&#xD;
						currentBlock.setType(Material.BEDROCK); break;&#xD;
					case 'L':&#xD;
						currentBlock.setType(Material.GLASS);&#xD;
						world.getBlockAt(cornerX + x, cornerY - 1, cornerZ + z).setType(plugin.factions.getLiquidBlock(id_Faction));&#xD;
						break;&#xD;
					case 'n':&#xD;
						currentBlock.setType(Material.SNOW_BLOCK); break;&#xD;
					case 'i':&#xD;
						currentBlock.setType(Material.IRON_BLOCK); break;&#xD;
					case 'S':&#xD;
						currentBlock.setType(plugin.factions.getSpecialBlock(id_Faction)); break;&#xD;
						&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Light the portal blocks, now that all the obsidian is in place&#xD;
		for( Block portalBlock : portalBlocks )&#xD;
		{&#xD;
			portalBlock.setType(Material.FIRE);&#xD;
			break;		// only one block is needed, trying to light more of them causes the portal to break&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnXwkIJREeGsv772wTim0Q" name="clearNearbyBeds" specification="_teYzsIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnXwkYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Block currentBlock;&#xD;
		int locX = (int)(location.getX());&#xD;
		int locY = (int)(location.getY());&#xD;
		int locZ = (int)(location.getZ());&#xD;
		&#xD;
		&#xD;
		for( int x = locX - 2; x &lt; locX + 2; x++ )&#xD;
		{&#xD;
			for( int y = locY - 2; y &lt; locY + 2; y++ )&#xD;
			{&#xD;
				for( int z = locZ - 2; z &lt; locZ + 2; z++ )&#xD;
				{&#xD;
					currentBlock = location.getWorld().getBlockAt(x, y, z);&#xD;
					if( currentBlock.getType() == Material.BED_BLOCK )&#xD;
						currentBlock.setType(Material.AIR);	&#xD;
				}&#xD;
			}&#xD;
		}	&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnXwkoJREeGsv772wTim0Q" name="travelNode" specification="_teZawYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnXwk4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnXwlIJREeGsv772wTim0Q" name="size">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnXwlYJREeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>Block currentBlock;&#xD;
		int locX = (int)(location.getX());&#xD;
		int locY = (int)(location.getY());&#xD;
		int locZ = (int)(location.getZ());&#xD;
		int offset = (int)(size / 16);			// 1/8 scale for nether, divided by 2 for distance from center&#xD;
		&#xD;
		&#xD;
		for( int x = locX - offset; x &lt; locX + offset; x++ )&#xD;
		{&#xD;
			for( int z = locZ - offset; z &lt; locZ + offset; z++ )&#xD;
			{&#xD;
				currentBlock = location.getWorld().getBlockAt(x, locY, z);&#xD;
				currentBlock.setType(Material.WOOL); &#xD;
				currentBlock.setData((byte) Byte.valueOf(String.valueOf(Factions.getWoolColor(id_Faction))));	&#xD;
			}&#xD;
		}	&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_teYMoIJREeGsv772wTim0Q" name="sanctumFloor" isStatic="true" method="_tnV7YIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teYMoYJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teYMooJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teYMo4JREeGsv772wTim0Q" name="cornerX">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teYMpIJREeGsv772wTim0Q" name="cornerY">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teYMpYJREeGsv772wTim0Q" name="cornerZ">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teYMpoJREeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teYMp4JREeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_teYzsIJREeGsv772wTim0Q" name="clearNearbyBeds" isStatic="true" method="_tnXwkIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teZawIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_teZawYJREeGsv772wTim0Q" name="travelNode" isStatic="true" method="_tnXwkoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teZawoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teZaw4JREeGsv772wTim0Q" name="size">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teaB0IJREeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s41PkIJREeGsv772wTim0Q" name="InventoryUtilities">
            <ownedAttribute xmi:id="_tjKmAIJREeGsv772wTim0Q" name="notEnoughSpaceMessage" isStatic="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjLNEIJREeGsv772wTim0Q" value="&quot;$dERROR: $6Not enough free space in your inventory. Clear out some space and try again.&quot;"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnYXoIJREeGsv772wTim0Q" name="checkFreeSpace" specification="_teao4IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnYXoYJREeGsv772wTim0Q" name="contents" type="_tZcCQYJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnYXooJREeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnYXo4JREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnYXpIJREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnYXpYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Material itemType = item.getType();&#xD;
		short durability = item.getDurability();&#xD;
		int maxStack = item.getType().getMaxStackSize();&#xD;
		int spaceAvailable = 0;&#xD;
&#xD;
		ItemStack[] arrayOfItemStack = contents;&#xD;
		int j = contents.length;&#xD;
		for (int i = 0; i &lt; j; i++) {&#xD;
			ItemStack curItem = arrayOfItemStack[i];&#xD;
			if (spaceAvailable >= spaceNeeded) {&#xD;
				return true;&#xD;
			}&#xD;
			if (curItem == null) {&#xD;
				spaceAvailable += maxStack;&#xD;
			} else {&#xD;
				if ((curItem.getType() != itemType)&#xD;
						|| ((curItem.getDurability() != durability) &amp;&amp; (curItem&#xD;
								.getDurability() != -1))) {&#xD;
					continue;&#xD;
				}&#xD;
				int amount = curItem.getAmount();&#xD;
				if (amount &lt; maxStack) {&#xD;
					spaceAvailable += maxStack - amount;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return spaceAvailable >= spaceNeeded;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnY-sIJREeGsv772wTim0Q" name="checkFreeSpace" specification="_teb3AIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnY-sYJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnY-soJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnY-s4JREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnY-tIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return checkFreeSpace(inv.getContents(), item, spaceNeeded);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnY-tYJREeGsv772wTim0Q" name="addItemToInventory" specification="_teceEIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnY-toJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnY-t4JREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnY-uIJREeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int maxStackSize = item.getType().getMaxStackSize();&#xD;
		int iterations = amount / maxStackSize;&#xD;
		int amountLeft = amount;&#xD;
&#xD;
		for (int i = 0; i &lt;= iterations; i++) {&#xD;
			if (amountLeft &lt; maxStackSize) {&#xD;
				item.setAmount(amountLeft);&#xD;
			} else {&#xD;
				item.setAmount(maxStackSize);&#xD;
				amountLeft -= maxStackSize;&#xD;
			}&#xD;
			inv.addItem(new ItemStack[] { item });&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnZlwIJREeGsv772wTim0Q" name="checkHasEnoughOfItem" specification="_tedsMIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnZlwYJREeGsv772wTim0Q" name="contents" type="_tZcCQYJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnZlwoJREeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnZlw4JREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnZlxIJREeGsv772wTim0Q" name="amountNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnZlxYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Material itemType = item.getType();&#xD;
		int countedAmount = 0;&#xD;
		double durability = item.getDurability();&#xD;
		&#xD;
		int j = contents.length;&#xD;
		ItemStack[] arrayOfItemStack = contents;&#xD;
		&#xD;
		for(int i = 0; i &lt; j; i++) {&#xD;
			ItemStack curItem = arrayOfItemStack[i];&#xD;
			if(countedAmount >= amountNeeded) {&#xD;
				return true;&#xD;
			}&#xD;
			if(curItem == null) {&#xD;
				continue;&#xD;
			} else {&#xD;
				if((curItem.getType() != itemType)&#xD;
						|| ((curItem.getDurability() != durability) &amp;&amp; (curItem&#xD;
								.getDurability() != -1))) {&#xD;
					continue;&#xD;
				} else {&#xD;
					countedAmount += curItem.getAmount();&#xD;
				}	&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		return false;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnZlxoJREeGsv772wTim0Q" name="removeItemFromInventory" specification="_teeTQYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnZlx4JREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnZlyIJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnZlyYJREeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int removedAmount = 0;&#xD;
		Material itemType = item.getType();&#xD;
		&#xD;
		while(removedAmount &lt; amount) {&#xD;
			int indexToRemove = inv.first(itemType);&#xD;
			removedAmount += inv.getItem(indexToRemove).getAmount();&#xD;
			inv.clear(indexToRemove);&#xD;
		}		&#xD;
		addItemToInventory(inv, item, removedAmount - amount);		&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_teao4IJREeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_tnYXoIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teao4YJREeGsv772wTim0Q" name="contents" type="_tZcCQYJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tebP8oJREeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teao4oJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tebP8IJREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tebP8YJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_teb3AIJREeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_tnY-sIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teb3AYJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teb3AoJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teb3A4JREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_teb3BIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_teceEIJREeGsv772wTim0Q" name="addItemToInventory" isStatic="true" method="_tnY-tYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tedFIIJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tedFIYJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tedFIoJREeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_tedsMIJREeGsv772wTim0Q" name="checkHasEnoughOfItem" isStatic="true" method="_tnZlwIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tedsMYJREeGsv772wTim0Q" name="contents" type="_tZcCQYJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_teeTQIJREeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tedsMoJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tedsM4JREeGsv772wTim0Q" name="amountNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tedsNIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_teeTQYJREeGsv772wTim0Q" name="removeItemFromInventory" isStatic="true" method="_tnZlxoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tee6UIJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tee6UYJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tee6UoJREeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s5A1wIJREeGsv772wTim0Q" name="NPCUtilities">
            <ownedAttribute xmi:id="_tjL0IYJREeGsv772wTim0Q" name="notEnoughSpaceMessage" isStatic="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjL0IoJREeGsv772wTim0Q" value="&quot;$dERROR: $6Not enough free space in your inventory. Clear out some space and try again.&quot;"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnaz4IJREeGsv772wTim0Q" name="checkFreeSpace" specification="_tegIcIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnaz4YJREeGsv772wTim0Q" name="contents" type="_tZcCQYJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tnaz4oJREeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnaz44JREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnaz5IJREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnaz5YJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Material itemType = item.getType();&#xD;
		short durability = item.getDurability();&#xD;
		int maxStack = item.getType().getMaxStackSize();&#xD;
		int spaceAvailable = 0;&#xD;
		System.out.println(&quot;ItemType: &quot; + itemType.getId() + &quot; Dur: &quot;&#xD;
				+ durability + &quot; spaceNeeded: &quot; + spaceNeeded + &quot; MaxStack: &quot;&#xD;
				+ maxStack);&#xD;
&#xD;
		ItemStack[] arrayOfItemStack = contents;&#xD;
		int j = contents.length;&#xD;
		for (int i = 0; i &lt; j; i++) {&#xD;
			ItemStack curItem = arrayOfItemStack[i];&#xD;
			System.out.println(&quot;Space Avail: &quot; + spaceAvailable);&#xD;
			if (spaceAvailable >= spaceNeeded) {&#xD;
				return true;&#xD;
			}&#xD;
			if (curItem == null) {&#xD;
				spaceAvailable += maxStack;&#xD;
			} else {&#xD;
				if ((curItem.getType() != itemType)&#xD;
						|| ((curItem.getDurability() != durability) &amp;&amp; (curItem&#xD;
								.getDurability() != -1))) {&#xD;
					continue;&#xD;
				}&#xD;
				int amount = curItem.getAmount();&#xD;
				if (amount &lt; maxStack) {&#xD;
					spaceAvailable += maxStack - amount;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return spaceAvailable >= spaceNeeded;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnaz5oJREeGsv772wTim0Q" name="checkFreeSpace" specification="_tehWkIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnaz54JREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnaz6IJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnaz6YJREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnaz6oJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return checkFreeSpace(inv.getContents(), item, spaceNeeded);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnba8IJREeGsv772wTim0Q" name="addItemToInventory" specification="_teh9oIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnba8YJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnba8oJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnba84JREeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int maxStackSize = item.getType().getMaxStackSize();&#xD;
		int iterations = amount / maxStackSize;&#xD;
		int amountLeft = amount;&#xD;
&#xD;
		for (int i = 0; i &lt;= iterations; i++) {&#xD;
			if (amountLeft &lt; maxStackSize) {&#xD;
				item.setAmount(amountLeft);&#xD;
			} else {&#xD;
				item.setAmount(maxStackSize);&#xD;
				amountLeft -= maxStackSize;&#xD;
			}&#xD;
			inv.addItem(new ItemStack[] { item });&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnba9IJREeGsv772wTim0Q" name="findValidRandomNPCSpawnInLocation" specification="_teiksIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnba9YJREeGsv772wTim0Q" name="min" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnba9oJREeGsv772wTim0Q" name="max" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnba94JREeGsv772wTim0Q" name="standardHeight">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnba-IJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>int maxRetries = 20;&#xD;
		Random rand = new Random();&#xD;
		if(min.getWorld() == max.getWorld()) &#xD;
		{&#xD;
			World world = min.getWorld();&#xD;
			int randomX = rand.nextInt(max.getBlockX() - min.getBlockX()) + min.getBlockX();&#xD;
			int randomZ = rand.nextInt(max.getBlockZ() - min.getBlockZ()) + min.getBlockZ();&#xD;
			&#xD;
			@SuppressWarnings(&quot;unused&quot;)&#xD;
			Location possibleLocation;&#xD;
			&#xD;
			for(int i = 0; i &lt; maxRetries; i++) {&#xD;
				possibleLocation = new Location(world, randomX, standardHeight, randomZ);&#xD;
				&#xD;
				&#xD;
				for(int x = -1; x &lt; 2; i++)&#xD;
				{					&#xD;
					for(int y = -1; y &lt; 2; y++) &#xD;
					{&#xD;
						for(int z = -1; z &lt; 2; z++)&#xD;
						{&#xD;
//							if(possibleLocation.getBlock().getRelative(x, y, z).isEmpty())  // TODO: Commented out by Icarus, preventing compilation&#xD;
							{&#xD;
								&#xD;
							}&#xD;
						}&#xD;
					}					&#xD;
				}&#xD;
				&#xD;
				&#xD;
			}	&#xD;
			&#xD;
			return new Location(min.getWorld(), 2, 2, 2);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Cannot find position between different worlds&#xD;
			return null;&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_tegIcIJREeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_tnaz4IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tegIcYJREeGsv772wTim0Q" name="contents" type="_tZcCQYJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tegvgYJREeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tegIcoJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tegIc4JREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tegvgIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_tehWkIJREeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_tnaz5oJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tehWkYJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tehWkoJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tehWk4JREeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tehWlIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_teh9oIJREeGsv772wTim0Q" name="addItemToInventory" isStatic="true" method="_tnba8IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teh9oYJREeGsv772wTim0Q" name="inv" type="_tZbbMIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teh9ooJREeGsv772wTim0Q" name="item" type="_tZcCQYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_teh9o4JREeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_teiksIJREeGsv772wTim0Q" name="findValidRandomNPCSpawnInLocation" isStatic="true" method="_tnba9IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_teiksYJREeGsv772wTim0Q" name="min" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tejLwIJREeGsv772wTim0Q" name="max" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tejLwYJREeGsv772wTim0Q" name="standardHeight">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tejLwoJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s5ORIIJREeGsv772wTim0Q" name="RMEntityListener" clientDependency="_te6YIIJREeGsv772wTim0Q">
            <ownedComment xmi:id="_tpDLkIJREeGsv772wTim0Q">
              <body>RageMod entity listener&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <ownedAttribute xmi:id="_tjMbMYJREeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_teW-hYJREeGsv772wTim0Q" isReadOnly="true" association="_tp8jcIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjMbMoJREeGsv772wTim0Q" name="random" visibility="private" type="_tZeegIJREeGsv772wTim0Q" association="_tp9KgYJREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tncpEIJREeGsv772wTim0Q" name="RMEntityListener" specification="_te8NUIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tncpEYJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tncpEoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tncpE4JREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_tncpFIJREeGsv772wTim0Q" type="_s5ORIIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
     this.random = new Random();&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tncpFYJREeGsv772wTim0Q" name="onEntityDamage" specification="_te80YoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tncpFoJREeGsv772wTim0Q" name="rawEvent" type="_tZrS0YJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Entity defenderEntity = rawEvent.getEntity();&#xD;
 	&#xD;
 	// Makes NPC invulnerable&#xD;
     if (defenderEntity instanceof HumanEntity) &#xD;
     {			&#xD;
			if (RageNPCManager.isNPC(defenderEntity)) &#xD;
			{				&#xD;
				rawEvent.setCancelled(true);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
 	&#xD;
 	if(rawEvent instanceof EntityDamageByEntityEvent)&#xD;
 	{&#xD;
 		EntityDamageByEntityEvent edbeEvent = (EntityDamageByEntityEvent)rawEvent;&#xD;
     	&#xD;
     	Entity attackerEntity = edbeEvent.getDamager();  &#xD;
     	&#xD;
     	// If defender is NPC, the event is already cancelled, must check if it is a leftClickAction from player.&#xD;
     	if (RageNPCManager.isNPC(defenderEntity)) &#xD;
			{				&#xD;
     		if (attackerEntity instanceof Player) &#xD;
 			{						&#xD;
 				RageEntity npcEntity = RageNPCManager.getNPCFromEntity(defenderEntity);&#xD;
 				npcEntity.leftClickAction((Player) attackerEntity);&#xD;
 			}&#xD;
				return;&#xD;
			}&#xD;
     	&#xD;
         // Handle PvP&#xD;
         if( attackerEntity instanceof Player &amp;&amp; defenderEntity instanceof Player &amp;&amp; !plugin.config.PRE_RELEASE_MODE ) &#xD;
         {&#xD;
         	Player attacker = (Player)attackerEntity;&#xD;
         	Player defender = (Player)defenderEntity;&#xD;
         	PlayerData attackerData = plugin.players.get(attacker.getName());&#xD;
         	PlayerData defenderData = plugin.players.get(defender.getName());&#xD;
         	&#xD;
         	// Always prevent allies from harming each other&#xD;
 			if( attackerData.id_Faction == defenderData.id_Faction )&#xD;
 			{&#xD;
 				edbeEvent.setCancelled(true);&#xD;
     			plugin.message.parseNo(attacker, plugin.players.get(defenderData.name).getCodedName() + &quot; is your ally!&quot;);&#xD;
     			return;&#xD;
 			}&#xD;
         	&#xD;
         	// Use the defender's position to determine behavior&#xD;
         	// *** ZONE A (Neutral Zone) ***&#xD;
         	if( plugin.zones.isInZoneA(defender.getLocation()) )&#xD;
         	{&#xD;
         		// No PvP in capitol&#xD;
         		if( plugin.zones.isInCapitol(defender.getLocation()) )&#xD;
         		{&#xD;
         			edbeEvent.setCancelled(true);&#xD;
         			plugin.message.parseNo(attacker, &quot;PvP is not allowed inside &quot; + plugin.config.Capitol_CodedName + &quot;.&quot;);&#xD;
         			return;&#xD;
         		}&#xD;
         		else&#xD;
         		{&#xD;
         			// Only faction-faction PvP is allowed in neutral zone&#xD;
         			if( defenderData.id_Faction == 0 )&#xD;
         			{&#xD;
         				edbeEvent.setCancelled(true);&#xD;
             			plugin.message.sendNo(attacker, &quot;You cannot attack neutral players in &quot; + plugin.config.Zone_NAME_A + &quot;.&quot;);&#xD;
             			return;&#xD;
         			}&#xD;
         			else if( attackerData.id_Faction == 0 )&#xD;
         			{&#xD;
         				edbeEvent.setCancelled(true);&#xD;
             			plugin.message.sendNo(attacker, &quot;Neutral players cannot attack in &quot; + plugin.config.Zone_NAME_A + &quot;.&quot;);&#xD;
             			return;&#xD;
         			}&#xD;
         		}&#xD;
         	}&#xD;
         	// *** ZONE B (War Zone) ***&#xD;
         	else if( plugin.zones.isInZoneB(defender.getLocation()) )&#xD;
         	{&#xD;
         		PlayerTown playerTown = (PlayerTown)plugin.towns.getCurrentTown(defender.getLocation());&#xD;
         		&#xD;
         		// Keep referees from participating in combat&#xD;
         		if(RageMod.perms.has(attacker, &quot;ragemod.referee.blockpvp&quot;) )&#xD;
         		{&#xD;
         			edbeEvent.setCancelled(true);&#xD;
         			plugin.message.sendNo(attacker, &quot;Referees may not participate in combat.&quot;);&#xD;
         			return;&#xD;
         		}&#xD;
         		// Protect referees &#xD;
         		else if( RageMod.perms.has(defender, &quot;ragemod.referee.blockpvp&quot;) )&#xD;
         		{&#xD;
         			edbeEvent.setCancelled(true);&#xD;
         			plugin.message.sendNo(attacker, &quot;You cannot harm a referee.&quot;);&#xD;
         			return;&#xD;
         		}&#xD;
         		// Handle combat inside of towns&#xD;
         		else if( playerTown != null )&#xD;
         		{&#xD;
 	        		// Protect neutral players inside all towns&#xD;
 	        		if( defenderData.id_Faction == 0 )&#xD;
 	        		{&#xD;
 	        			edbeEvent.setCancelled(true);&#xD;
 	        			plugin.message.sendNo(attacker, &quot;You cannot harm neutral players inside of towns.&quot;);&#xD;
 	        			return;&#xD;
 	        		}&#xD;
 	        		// Keep neutral players from harming any players&#xD;
 	        		if( attackerData.id_Faction == 0 )&#xD;
 	        		{&#xD;
 	        			edbeEvent.setCancelled(true);&#xD;
 	        			plugin.message.sendNo(attacker, &quot;Neutral players cannot attack inside of towns.&quot;);&#xD;
 	        			return;&#xD;
 	        		}&#xD;
 	        		// Protect faction players inside of their own and allied towns&#xD;
 	        		if( defenderData.id_Faction == playerTown.id_Faction )&#xD;
 	        		{&#xD;
 	        			edbeEvent.setCancelled(true);&#xD;
 	        			plugin.message.parseNo(attacker, &quot;You cannot harm &quot; + plugin.factions.getCodedName(defenderData.id_Faction) + &quot; inside of their own towns.&quot;);&#xD;
 	        			return;&#xD;
 	        		}&#xD;
         		}&#xD;
         	}&#xD;
         }&#xD;
         else if( defenderEntity instanceof Player &amp;&amp; attackerEntity instanceof Creature)&#xD;
         {&#xD;
         	Player defenderPlayer = (Player) defenderEntity;&#xD;
         	if( RageMod.perms.has(defenderPlayer, &quot;ragemod.admin.smitemobs&quot;) )&#xD;
         	{&#xD;
         		// Automatically kill monsters who attack admins&#xD;
             	Creature creature = (Creature)attackerEntity;&#xD;
             	creature.setFireTicks(1);&#xD;
             	creature.damage(100);&#xD;
         	}&#xD;
         } &#xD;
         // Defender is Creature, Attacker is Player&#xD;
         else if(defenderEntity instanceof Creature &amp;&amp; attackerEntity instanceof Player &amp;&amp; !plugin.config.PRE_RELEASE_MODE)&#xD;
         {&#xD;
         	Creature defenderCreature = (Creature)defenderEntity;&#xD;
         	Player attackerPlayer = (Player) attackerEntity;&#xD;
         	PlayerData playerData = plugin.players.get(attackerPlayer.getName());&#xD;
         	&#xD;
         	// Creature dies from attack&#xD;
         	if(defenderCreature.getHealth() &lt;= edbeEvent.getDamage())&#xD;
         	{&#xD;
         		// Player is on a quest, quest is of KillCreatureQuest type&#xD;
         		if(playerData.isOnKillQuest())&#xD;
         		{&#xD;
         			KillCreatureQuest kcQuest = (KillCreatureQuest) playerData.activeQuestData.getQuest();&#xD;
         			CreatureType entityCreatureType = Util.getCreatureTypeFromEntity(defenderCreature);&#xD;
         			&#xD;
         			if(entityCreatureType == kcQuest.getCreatureToBeKilled())&#xD;
         			{&#xD;
         				playerData.activeQuestData.incrementObjectiveCounter();&#xD;
         				playerData.activeQuestData.getQuest().statusUpdate(attackerPlayer, playerData);&#xD;
         			}&#xD;
         		}&#xD;
         	}&#xD;
         }&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tndQIIJREeGsv772wTim0Q" name="onCreatureSpawn" specification="_te9bcIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tndQIYJREeGsv772wTim0Q" name="event" type="_tZqEsIJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>// Don't process code if event was cancelled by another plugin&#xD;
 	if (event.isCancelled()) &#xD;
         return;&#xD;
 	&#xD;
 	// Don't let monsters spawn inside player towns or the capitol&#xD;
 	if( (event.getCreatureType() == CreatureType.CREEPER || event.getCreatureType() == CreatureType.SKELETON ||&#xD;
 			event.getCreatureType() == CreatureType.ZOMBIE || event.getCreatureType() == CreatureType.SPIDER ||&#xD;
 			event.getCreatureType() == CreatureType.SQUID || event.getCreatureType() == CreatureType.ENDERMAN) &amp;&amp; &#xD;
 			(plugin.zones.isInCapitol(event.getLocation()) || plugin.towns.getCurrentTown(event.getLocation()) != null) )&#xD;
 		event.setCancelled(true);&#xD;
 	&#xD;
 	// Don't let monsters spawn inside the travel zone&#xD;
 	else if( plugin.zones.isInTravelZone(event.getLocation()) )&#xD;
 		event.setCancelled(true);&#xD;
 	&#xD;
 	// Change colors of sheep spawned inside faction towns&#xD;
 	else if( event.getCreatureType() == CreatureType.SHEEP )&#xD;
 	{&#xD;
 		Town town = plugin.towns.getCurrentTown(event.getLocation());&#xD;
 		if( town != null &amp;&amp; town instanceof PlayerTown )&#xD;
 		{&#xD;
 			PlayerTown playerTown = (PlayerTown)town;&#xD;
 			if( playerTown.id_Faction != 0 &amp;&amp; random.nextInt(100) &lt; plugin.config.Town_COLORED_SHEEP_CHANCE )&#xD;
 			{&#xD;
 				Sheep s = (Sheep) event.getEntity();&#xD;
 				s.setColor(plugin.factions.getDyeColor(playerTown.id_Faction, random.nextBoolean()));&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tndQIoJREeGsv772wTim0Q" name="onEntityTarget" specification="_te-CgIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tndQI4JREeGsv772wTim0Q" name="event" type="_tZr54YJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>if ((event instanceof NPCTargetEvent)) &#xD;
		{			&#xD;
			NPCTargetEvent netEvent = (NPCTargetEvent) event;&#xD;
			if (((netEvent.getTarget() instanceof Player))) &#xD;
			{				&#xD;
				RageEntity npcEntity = RageNPCManager.getNPCFromEntity(netEvent.getEntity());&#xD;
				npcEntity.rightClickAction((Player) event.getTarget());&#xD;
			}&#xD;
		}		&#xD;
	</body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_te6YIIJREeGsv772wTim0Q" supplier="_tZo2kIJREeGsv772wTim0Q" client="_s5ORIIJREeGsv772wTim0Q" contract="_tZo2kIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_te8NUIJREeGsv772wTim0Q" name="RMEntityListener" method="_tncpEIJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_te8NUoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_te8NU4JREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_te8NUYJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_te80YIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_te80YYJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_te8NVIJREeGsv772wTim0Q" type="_s5ORIIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_te80YoJREeGsv772wTim0Q" name="onEntityDamage" method="_tncpFYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_te80Y4JREeGsv772wTim0Q" name="rawEvent" type="_tZrS0YJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_te9bcIJREeGsv772wTim0Q" name="onCreatureSpawn" method="_tndQIIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_te9bcYJREeGsv772wTim0Q" name="event" type="_tZqEsIJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_te-CgIJREeGsv772wTim0Q" name="onEntityTarget" method="_tndQIoJREeGsv772wTim0Q">
              <ownedComment xmi:id="_tpDLkoJREeGsv772wTim0Q">
                <body> Called on entityTarget. Used for detecting right clicks on the NPC</body>
              </ownedComment>
              <ownedParameter xmi:id="_te-CgYJREeGsv772wTim0Q" name="event" type="_tZr54YJREeGsv772wTim0Q"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s5hMEIJREeGsv772wTim0Q" name="RMServerListener" clientDependency="_te_QoIJREeGsv772wTim0Q">
            <ownedAttribute xmi:id="_tjNCQIJREeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_teW-hYJREeGsv772wTim0Q" isReadOnly="true" association="_tp9xkIJREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnd3MIJREeGsv772wTim0Q" name="RMServerListener" specification="_te_QoYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnd3MYJREeGsv772wTim0Q" name="instance" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnd3MoJREeGsv772wTim0Q" type="_s5hMEIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = instance;&#xD;
	</body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_te_QoIJREeGsv772wTim0Q" supplier="_tZo2kIJREeGsv772wTim0Q" client="_s5hMEIJREeGsv772wTim0Q" contract="_tZo2kIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_te_QoYJREeGsv772wTim0Q" name="RMServerListener" method="_tnd3MIJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_te_3sYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_te_3soJREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_te_3sIJREeGsv772wTim0Q" name="instance" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_te_3s4JREeGsv772wTim0Q" type="_s5hMEIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s5og0IJREeGsv772wTim0Q" name="RageMod">
            <ownedComment xmi:id="_tpDyoYJREeGsv772wTim0Q">
              <body>RageMod for Bukkit&#xD;
 *&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <generalization xmi:id="_tfK20IJREeGsv772wTim0Q" general="_tZ25AYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjNCQYJREeGsv772wTim0Q" name="playerListener" visibility="private" type="_tfBF0IJREeGsv772wTim0Q" association="_tp9xk4JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjNpUYJREeGsv772wTim0Q" name="blockListener" visibility="private" type="_tfBs4IJREeGsv772wTim0Q" association="_tp-YoYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjOQYIJREeGsv772wTim0Q" name="serverListener" visibility="private" type="_tfC7AIJREeGsv772wTim0Q" association="_tp-YpIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjOQYoJREeGsv772wTim0Q" name="entityListener" visibility="private" type="_tfDiEIJREeGsv772wTim0Q" association="_tp-_sYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjO3cIJREeGsv772wTim0Q" name="plugin" visibility="private" isStatic="true" type="_teW-hYJREeGsv772wTim0Q" association="_tp-_tIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjO3coJREeGsv772wTim0Q" name="debugees" visibility="private" isLeaf="true" type="_tZxZcYJREeGsv772wTim0Q" isReadOnly="true" association="_tp_mwYJREeGsv772wTim0Q">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjPegYJREeGsv772wTim0Q" value="new HashMap&lt;Player, Boolean>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_tjU-EYJREeGsv772wTim0Q" name="server" visibility="private" type="_tZ1D0YJREeGsv772wTim0Q" association="_tqAN0IJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjVlIYJREeGsv772wTim0Q" name="pluginManager" visibility="private" type="_tZ1q4YJREeGsv772wTim0Q" association="_tqAN04JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjVlI4JREeGsv772wTim0Q" name="perms" isStatic="true" type="_tZynkYJREeGsv772wTim0Q" association="_tqA04YJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjWMMYJREeGsv772wTim0Q" name="econ" isStatic="true" type="_tZyAgYJREeGsv772wTim0Q" association="_tqBb8IJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjWMM4JREeGsv772wTim0Q" name="economy" type="_tZyAgYJREeGsv772wTim0Q" association="_tqBb84JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjWzQYJREeGsv772wTim0Q" name="text" type="_tZ0cwYJREeGsv772wTim0Q" association="_tqCDAYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjWzQ4JREeGsv772wTim0Q" name="mainDirectory" isStatic="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjXaUIJREeGsv772wTim0Q" value="&quot;plugins/RageMod&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_tjXaUoJREeGsv772wTim0Q" name="file" type="_tZwyYIJREeGsv772wTim0Q" association="_tqCDBIJREeGsv772wTim0Q">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_tjXaU4JREeGsv772wTim0Q" value="new File(mainDirectory + File.separator + &quot;config.yml&quot;)"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_tjYBYIJREeGsv772wTim0Q" name="lots" type="_tZzOoYJREeGsv772wTim0Q" association="_tqCqEYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjYBYoJREeGsv772wTim0Q" name="players" type="_tBKsMIJREeGsv772wTim0Q" association="_tqDRIYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjYBZIJREeGsv772wTim0Q" name="towns" type="_tB2osIJREeGsv772wTim0Q" association="_tqD4MYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjYocYJREeGsv772wTim0Q" name="tasks" type="_tZz1sYJREeGsv772wTim0Q" association="_tqEfQYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjYoc4JREeGsv772wTim0Q" name="factions" type="_s-oVkIJREeGsv772wTim0Q" association="_tqFGUYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjZPgYJREeGsv772wTim0Q" name="languages" type="_tEgUEIJREeGsv772wTim0Q" association="_tqFtYYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjZPg4JREeGsv772wTim0Q" name="Bounties" type="_tA4_YIJREeGsv772wTim0Q" association="_tqG7gIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjZ2kYJREeGsv772wTim0Q" name="config" type="_tfF-UIJREeGsv772wTim0Q" association="_tqHikIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjZ2k4JREeGsv772wTim0Q" name="database" type="_tCW_AIJREeGsv772wTim0Q" association="_tqIJoIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjadoIJREeGsv772wTim0Q" name="zones" type="_tfHMcIJREeGsv772wTim0Q" association="_tqIwsIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjadooJREeGsv772wTim0Q" name="message" type="_tZ0cwYJREeGsv772wTim0Q" association="_tqJXwYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjbEsYJREeGsv772wTim0Q" name="npcManager" type="_tDhcoIJREeGsv772wTim0Q" association="_tqJ-0IJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_tjbEs4JREeGsv772wTim0Q" name="questManager" type="_tEV8AIJREeGsv772wTim0Q" association="_tqJ-04JREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnfsYIJREeGsv772wTim0Q" name="getInstance" specification="_s50HAYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnfsYYJREeGsv772wTim0Q" type="_teW-hYJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>if(plugin == null)&#xD;
 		plugin = new RageMod(); &#xD;
 	&#xD;
 	return plugin;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tngTcIJREeGsv772wTim0Q" name="onEnable" specification="_s518MIJREeGsv772wTim0Q">
              <language>java</language>
              <body>plugin = this;&#xD;
     initializeVariables();&#xD;
     registerEvents();        &#xD;
     setupPermissions();   &#xD;
     loadDatabaseData();        &#xD;
     startScheduledTasks();        &#xD;
     runDebugTests();      &#xD;
     &#xD;
     System.out.println( &quot;RageMod is enabled!!!&quot; );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tngTcYJREeGsv772wTim0Q" name="creatingNPCTemp" specification="_s52jQIJREeGsv772wTim0Q">
              <language>java</language>
              <body>/*&#xD;
 	this.npcManager.spawnNPC(&quot;TraderNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 96.0D), &quot;1&quot;, NPCManager.TRADERNPC);&#xD;
		this.npcManager.spawnNPC(&quot;QuestStartNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 94.0D), &quot;2&quot;, NPCManager.QUESTSTARTNPC);&#xD;
		this.npcManager.spawnNPC(&quot;QuestEndNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 92.0D), &quot;3&quot;, NPCManager.QUESTENDNPC);&#xD;
		this.npcManager.spawnNPC(&quot;QuestNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D,90.0D), &quot;4&quot;, 3);&#xD;
		this.npcManager.spawnNPC(&quot;RewardNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 88.0D), &quot;5&quot;, 5);&#xD;
		NPCManager.npcs.get(&quot;5&quot;).setQuest((Quest) QuestManager.quests.get(Integer.valueOf(1)));&#xD;
		*/&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tngTcoJREeGsv772wTim0Q" name="onDisable" specification="_s52jQYJREeGsv772wTim0Q">
              <language>java</language>
              <body>// this.npcManager.despawnAll();&#xD;
     System.out.println(&quot;Goodbye world!&quot;);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tngTc4JREeGsv772wTim0Q" name="load" specification="_s53KUIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tngTdIJREeGsv772wTim0Q" type="_tfIakIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>try {&#xD;
         Configuration config = new Configuration(plugin, &quot;config.yml&quot;);&#xD;
         config.load();&#xD;
         return config;&#xD;
&#xD;
     } catch (Exception e) {&#xD;
         e.printStackTrace();&#xD;
     }&#xD;
     return null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tng6gIJREeGsv772wTim0Q" name="isDebugging" specification="_tfJBooJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tng6gYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tng6goJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tng6g4JREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_tng6hIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>if (debugees.containsKey(player)) {&#xD;
         return debugees.get(player);&#xD;
     } else {&#xD;
         return false;&#xD;
     }&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tng6hYJREeGsv772wTim0Q" name="setDebugging" specification="_tfKPwIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tng6hoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tng6h4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tng6iIJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_tng6iYJREeGsv772wTim0Q" name="value">
                <eAnnotations xmi:id="_tng6ioJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tng6i4JREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>debugees.put(player, value);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tng6jIJREeGsv772wTim0Q" name="setupPermissions" specification="_s54_gIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tng6jYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>RegisteredServiceProvider&lt;Permission> rsp = getServer().getServicesManager().getRegistration(Permission.class);&#xD;
     perms = rsp.getProvider();&#xD;
     return perms != null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnhhkIJREeGsv772wTim0Q" name="runDebugTests" specification="_s56NoIJREeGsv772wTim0Q">
              <language>java</language>
              <body>System.out.println(&quot;Number of lots:&quot; + lots.getAll().size());    	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnhhkYJREeGsv772wTim0Q" name="registerEvents" specification="_s56NoYJREeGsv772wTim0Q">
              <language>java</language>
              <body>pluginManager.registerEvents(serverListener, this);&#xD;
     &#xD;
     pluginManager.registerEvents(playerListener, this);&#xD;
     &#xD;
     pluginManager.registerEvents(blockListener, this);&#xD;
     &#xD;
     pluginManager.registerEvents(entityListener, this);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnhhkoJREeGsv772wTim0Q" name="initializeVariables" specification="_s560sIJREeGsv772wTim0Q">
              <language>java</language>
              <body>serverListener = new RMServerListener(this);&#xD;
 	playerListener = new RMPlayerListener(this);&#xD;
 	blockListener = new RMBlockListener(this);  &#xD;
 	entityListener = new RMEntityListener(this);&#xD;
 	config = new RageConfig(this);&#xD;
     database = new RageDB(this, config);&#xD;
     &#xD;
     lots = new Lots(this);&#xD;
     players = new Players(this);&#xD;
     towns = new Towns(this);&#xD;
     tasks = new Tasks(this);&#xD;
     factions = new Factions();&#xD;
     languages = new Languages(this);&#xD;
     &#xD;
 	server = this.getServer();&#xD;
 	zones = new RageZones(this, config);&#xD;
     pluginManager = server.getPluginManager();&#xD;
     npcManager = new RageNPCManager(this);&#xD;
     questManager = new QuestManager();&#xD;
     message = new Message(this);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnhhk4JREeGsv772wTim0Q" name="loadDatabaseData" specification="_s57bwIJREeGsv772wTim0Q">
              <language>java</language>
              <body>towns.loadTowns();&#xD;
     lots.loadLots();&#xD;
     tasks.loadTaskTimes();&#xD;
     languages.loadDictionaries();&#xD;
     npcManager.associateLocations();&#xD;
     npcManager.spawnAllInstances();&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tniIoIJREeGsv772wTim0Q" name="startScheduledTasks" specification="_s57bwYJREeGsv772wTim0Q">
              <language>java</language>
              <body>this.getServer().getScheduler().scheduleSyncRepeatingTask(this, new RageTimer(this), 20, 20);&#xD;
 </body>
            </ownedBehavior>
            <ownedOperation xmi:id="_s5xqwIJREeGsv772wTim0Q" name="RageMod">
              <eAnnotations xmi:id="_s5yR0IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_s5yR0YJREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_s50HAIJREeGsv772wTim0Q" type="_s5og0IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_s50HAYJREeGsv772wTim0Q" name="getInstance" isStatic="true" method="_tnfsYIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfHzgIJREeGsv772wTim0Q" type="_teW-hYJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_s518MIJREeGsv772wTim0Q" name="onEnable" method="_tngTcIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s52jQIJREeGsv772wTim0Q" name="creatingNPCTemp" method="_tngTcYJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s52jQYJREeGsv772wTim0Q" name="onDisable" method="_tngTcoJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s53KUIJREeGsv772wTim0Q" name="load" method="_tngTc4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfJBoYJREeGsv772wTim0Q" type="_tfIakIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_s54_gIJREeGsv772wTim0Q" name="setupPermissions" visibility="private" method="_tng6jIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_s55mkIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_s56NoIJREeGsv772wTim0Q" name="runDebugTests" visibility="private" method="_tnhhkIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s56NoYJREeGsv772wTim0Q" name="registerEvents" visibility="private" method="_tnhhkYJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s560sIJREeGsv772wTim0Q" name="initializeVariables" visibility="private" method="_tnhhkoJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s57bwIJREeGsv772wTim0Q" name="loadDatabaseData" visibility="private" method="_tnhhk4JREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_s57bwYJREeGsv772wTim0Q" name="startScheduledTasks" visibility="private" method="_tniIoIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_tfJBooJREeGsv772wTim0Q" name="isDebugging" method="_tng6gIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfJosIJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tfJosoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tfJos4JREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_tfJosYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_tfKPwIJREeGsv772wTim0Q" name="setDebugging" method="_tng6hYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfKPwYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tfKPw4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tfKPxIJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_tfKPwoJREeGsv772wTim0Q" name="value">
                <eAnnotations xmi:id="_tfKPxYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tfKPxoJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_s6pNcIJREeGsv772wTim0Q" name="Util">
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnlL8IJREeGsv772wTim0Q" name="formatCooldown" specification="_s6rpsIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnlL8YJREeGsv772wTim0Q" name="totalSeconds">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnlL8oJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>int minutes, seconds;&#xD;
		&#xD;
		minutes = totalSeconds / 60;&#xD;
		seconds = totalSeconds % 60;&#xD;
		&#xD;
		java.text.DecimalFormat nft = new java.text.DecimalFormat(&quot;#00.###&quot;);&#xD;
		nft.setDecimalSeparatorAlwaysShown(false);&#xD;
		&#xD;
		return minutes + &quot;:&quot; + nft.format(seconds);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnlL84JREeGsv772wTim0Q" name="now" specification="_s6s30IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnlL9IJREeGsv772wTim0Q" type="_tZ-NwIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>Date today = new java.util.Date();&#xD;
		Timestamp now = new java.sql.Timestamp(today.getTime());&#xD;
		return now;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnlL9YJREeGsv772wTim0Q" name="daysBetween" specification="_tfTZsYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnlL9oJREeGsv772wTim0Q" name="time1" type="_tZ-NwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnlL94JREeGsv772wTim0Q" name="time2" type="_tZ-NwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnlL-IJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return (int)((time1.getTime() - time2.getTime()) / 86400000);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnlzAIJREeGsv772wTim0Q" name="secondsSince" specification="_tfUn0IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnlzAYJREeGsv772wTim0Q" name="timestamp" type="_tZ-NwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnlzAoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return (int)((now().getTime() - timestamp.getTime()) / 1000);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnlzA4JREeGsv772wTim0Q" name="minutesFromNow" specification="_s6wiMIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnlzBIJREeGsv772wTim0Q" name="minutes">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnlzBYJREeGsv772wTim0Q" type="_tZ-NwIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>return new Timestamp(now().getTime() + (minutes * 60000));&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnmaEIJREeGsv772wTim0Q" name="getCreatureTypeFromEntity" specification="_tfVO4YJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnmaEYJREeGsv772wTim0Q" name="creature" type="_tZiv8YJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnmaEoJREeGsv772wTim0Q" type="_tZj-EIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>if(creature instanceof Spider)&#xD;
		{&#xD;
			return CreatureType.SPIDER;&#xD;
		}&#xD;
		else if(creature instanceof Wolf)&#xD;
		{&#xD;
			return CreatureType.WOLF;&#xD;
		}&#xD;
		else if(creature instanceof Creeper)&#xD;
		{&#xD;
			return CreatureType.CREEPER;&#xD;
		}&#xD;
		else if(creature instanceof Slime)&#xD;
		{&#xD;
			return CreatureType.SLIME;&#xD;
		}&#xD;
		else if(creature instanceof Skeleton)&#xD;
		{&#xD;
			return CreatureType.SKELETON;&#xD;
		}&#xD;
		else if(creature instanceof Zombie)&#xD;
		{&#xD;
			return CreatureType.ZOMBIE;&#xD;
		}&#xD;
		else if(creature instanceof PigZombie)&#xD;
		{&#xD;
			return CreatureType.PIG_ZOMBIE;&#xD;
		}&#xD;
		else if(creature instanceof Squid)&#xD;
		{&#xD;
			return CreatureType.SQUID;&#xD;
		}&#xD;
		else if(creature instanceof Chicken)&#xD;
		{&#xD;
			return CreatureType.CHICKEN;&#xD;
		}&#xD;
		else if(creature instanceof Cow)&#xD;
		{&#xD;
			return CreatureType.COW;&#xD;
		}&#xD;
		else if(creature instanceof Ghast)&#xD;
		{&#xD;
			return CreatureType.GHAST;&#xD;
		}&#xD;
		else if(creature instanceof Pig)&#xD;
		{&#xD;
			return CreatureType.PIG;&#xD;
		}&#xD;
		else if(creature instanceof Sheep)&#xD;
		{&#xD;
			return CreatureType.SHEEP;&#xD;
		}&#xD;
&#xD;
		else if(creature instanceof Giant)&#xD;
		{&#xD;
			return CreatureType.GIANT;&#xD;
		}&#xD;
		else if (creature instanceof EnderDragon)&#xD;
		{&#xD;
			return CreatureType.ENDER_DRAGON;&#xD;
		} else if (creature instanceof Enderman) {&#xD;
			return CreatureType.ENDERMAN;&#xD;
		} else {&#xD;
			return CreatureType.valueOf(&quot;Unknown&quot;);&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnmaE4JREeGsv772wTim0Q" name="getLocationFromCoords" specification="_tfWdAIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnmaFIJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnmaFYJREeGsv772wTim0Q" name="coords">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnmaFoJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			return new Location(world, Double.parseDouble(split[0]), Double.parseDouble(split[1]), Double.parseDouble(split[2]));&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;ERROR: Invalid coordinate string passed to Util.getLocationFromCoords(): &quot; + coords);&#xD;
			return null;&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnmaF4JREeGsv772wTim0Q" name="between" specification="_s6zlgIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnmaGIJREeGsv772wTim0Q" name="x1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnmaGYJREeGsv772wTim0Q" name="x2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnmaGoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <language>java</language>
              <body>return x1 - ((x1 - x2) / 2) ;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnnBIIJREeGsv772wTim0Q" name="isBetween" specification="_s62BwIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnnBIYJREeGsv772wTim0Q" name="test">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnnBIoJREeGsv772wTim0Q" name="a1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnnBI4JREeGsv772wTim0Q" name="a2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnnBJIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return (test >= a1 &amp;&amp; test &lt;= a2) || (test &lt;= a1 &amp;&amp; test >= a2);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnnBJYJREeGsv772wTim0Q" name="findTeleportLocation" specification="_tfXEEYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnnBJoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tnnBJ4JREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>Block blockA, blockB;&#xD;
		&#xD;
		for( int i = (int)location.getY(); i &lt; 127; i++ )&#xD;
		{&#xD;
			blockA = location.getWorld().getBlockAt(new Location(location.getWorld(), location.getX(), i, location.getZ()));&#xD;
			blockB = location.getWorld().getBlockAt(new Location(location.getWorld(), location.getX(), i-1, location.getZ()));&#xD;
			&#xD;
			if( blockA.getType() == Material.AIR &amp;&amp; blockB.getType() == Material.AIR )&#xD;
				return new Location(location.getWorld(), location.getX(), i-1, location.getZ());&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tnnoMIJREeGsv772wTim0Q" name="getAffinityCode" specification="_s6328IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tnnoMYJREeGsv772wTim0Q" name="affinity">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tnnoMoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int affinityCode = Math.round(affinity / 4);&#xD;
		if( affinityCode > 2 )&#xD;
			affinityCode = 2;&#xD;
		else if( affinityCode &lt; -2 )&#xD;
			affinityCode = -2;&#xD;
		&#xD;
		return affinityCode;&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_s6rpsIJREeGsv772wTim0Q" name="formatCooldown" isStatic="true" method="_tnlL8IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_s6rpsYJREeGsv772wTim0Q" name="totalSeconds">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s6sQwIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_s6s30IJREeGsv772wTim0Q" name="now" isStatic="true" method="_tnlL84JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfTZsIJREeGsv772wTim0Q" type="_tZ-NwIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_s6wiMIJREeGsv772wTim0Q" name="minutesFromNow" isStatic="true" method="_tnlzA4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_s6wiMYJREeGsv772wTim0Q" name="minutes">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tfVO4IJREeGsv772wTim0Q" type="_tZ-NwIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_s6zlgIJREeGsv772wTim0Q" name="between" isStatic="true" method="_tnmaF4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_s60MkIJREeGsv772wTim0Q" name="x1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s60MkYJREeGsv772wTim0Q" name="x2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s60MkoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_s62BwIJREeGsv772wTim0Q" name="isBetween" isStatic="true" method="_tnnBIIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_s62BwYJREeGsv772wTim0Q" name="test">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s62BwoJREeGsv772wTim0Q" name="a1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s62Bw4JREeGsv772wTim0Q" name="a2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s62o0IJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_s6328IJREeGsv772wTim0Q" name="getAffinityCode" isStatic="true" method="_tnnoMIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_s64eAIJREeGsv772wTim0Q" name="affinity">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedParameter>
              <ownedParameter xmi:id="_s64eAYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_tfTZsYJREeGsv772wTim0Q" name="daysBetween" isStatic="true" method="_tnlL9YJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfTZsoJREeGsv772wTim0Q" name="time1" type="_tZ-NwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tfUAwIJREeGsv772wTim0Q" name="time2" type="_tZ-NwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tfUAwYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_tfUn0IJREeGsv772wTim0Q" name="secondsSince" isStatic="true" method="_tnlzAIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfUn0YJREeGsv772wTim0Q" name="timestamp" type="_tZ-NwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tfUn0oJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_tfVO4YJREeGsv772wTim0Q" name="getCreatureTypeFromEntity" isStatic="true" method="_tnmaEIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfVO4oJREeGsv772wTim0Q" name="creature" type="_tZiv8YJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tfV18IJREeGsv772wTim0Q" type="_tZj-EIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_tfWdAIJREeGsv772wTim0Q" name="getLocationFromCoords" isStatic="true" method="_tnmaE4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfWdAYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tfWdAoJREeGsv772wTim0Q" name="coords">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_tfWdA4JREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_tfXEEYJREeGsv772wTim0Q" name="findTeleportLocation" isStatic="true" method="_tnnBJYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_tfXEEoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_tfXrIIJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_taP6kIJREeGsv772wTim0Q" name="RageConfig">
            <ownedAttribute xmi:id="_v2Zz8IJREeGsv772wTim0Q" name="pluginConfig" visibility="private" type="_tfIakIJREeGsv772wTim0Q" association="_v4SDRIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2abAYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_teW-hYJREeGsv772wTim0Q" association="_v4SqUIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2abA4JREeGsv772wTim0Q" name="SERVER_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2abBIJREeGsv772wTim0Q" value="&quot;Rageland&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2bCEIJREeGsv772wTim0Q" name="PRE_RELEASE_MODE">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2bCEoJREeGsv772wTim0Q" name="OWNER_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2bCE4JREeGsv772wTim0Q" value="&quot;TheIcarusKid&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2bpIIJREeGsv772wTim0Q" name="DB_URL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2bpIoJREeGsv772wTim0Q" name="DB_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2bpJIJREeGsv772wTim0Q" name="DB_DRIVER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2cQMIJREeGsv772wTim0Q" name="DB_USER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2cQMoJREeGsv772wTim0Q" name="DB_PASSWORD">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2cQNIJREeGsv772wTim0Q" name="DB_TIMEOUT">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2c3QYJREeGsv772wTim0Q" name="Town_MIN_DISTANCE_BETWEEN">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2c3QoJREeGsv772wTim0Q" value="400"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2c3RIJREeGsv772wTim0Q" name="Town_MIN_DISTANCE_ENEMY_CAPITOL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2c3RYJREeGsv772wTim0Q" value="2000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2deUIJREeGsv772wTim0Q" name="Town_MIN_DISTANCE_SPAWN">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2deUYJREeGsv772wTim0Q" value="1000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2deU4JREeGsv772wTim0Q" name="Town_MAX_LEVEL_NEUTRAL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2deVIJREeGsv772wTim0Q" value="4"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2eFYIJREeGsv772wTim0Q" name="Town_MAX_LEVEL_FACTION">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2eFYYJREeGsv772wTim0Q" value="5"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2eFY4JREeGsv772wTim0Q" name="Town_DISTANCE_BETWEEN_BEDS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2eFZIJREeGsv772wTim0Q" value="6"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2escIJREeGsv772wTim0Q" name="Town_UPKEEP_PER_PLAYER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2escYJREeGsv772wTim0Q" value="1.00"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2esc4JREeGsv772wTim0Q" name="Town_MAX_BANKRUPT_DAYS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2esdIJREeGsv772wTim0Q" value="7"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2esdoJREeGsv772wTim0Q" name="Town_COLORED_SHEEP_CHANCE">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2fTgIJREeGsv772wTim0Q" value="20"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2fTgoJREeGsv772wTim0Q" name="CURRENCY_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2fTg4JREeGsv772wTim0Q" value="&quot;Silver&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2fThYJREeGsv772wTim0Q" name="CURRENCY_MINOR">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2fThoJREeGsv772wTim0Q" value="&quot;Copper&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2f6kYJREeGsv772wTim0Q" name="PRICE_GOLD">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2f6koJREeGsv772wTim0Q" value="2"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2f6lIJREeGsv772wTim0Q" name="INCOME_PER_BLOCK">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2f6lYJREeGsv772wTim0Q" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2ghoYJREeGsv772wTim0Q" name="DEFAULT_PORTAL_COST">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2ghooJREeGsv772wTim0Q" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2ghpIJREeGsv772wTim0Q" name="townLevels" type="_tZxZcYJREeGsv772wTim0Q" association="_v4SqU4JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2hIsYJREeGsv772wTim0Q" name="Zone_NAME_A">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2hIsoJREeGsv772wTim0Q" value="&quot;the Neutral Zone&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2hItIJREeGsv772wTim0Q" name="Zone_BORDER_A">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2hItYJREeGsv772wTim0Q" value="1000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2hvwYJREeGsv772wTim0Q" name="Zone_NAME_B">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2hvwoJREeGsv772wTim0Q" value="&quot;the War Zone&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2hvxIJREeGsv772wTim0Q" name="Zone_BORDER_B">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2hvxYJREeGsv772wTim0Q" value="2000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2iW0YJREeGsv772wTim0Q" name="Zone_NAME_C">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2iW0oJREeGsv772wTim0Q" value="&quot;The Wilds&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2iW1IJREeGsv772wTim0Q" name="Zone_BORDER_C">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2iW1YJREeGsv772wTim0Q" value="2500"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2i94IJREeGsv772wTim0Q" name="Zone_TZ_CENTER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2i94YJREeGsv772wTim0Q" value="&quot;-489,10,702&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2i944JREeGsv772wTim0Q" name="Zone_TZ_REGION">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2i95IJREeGsv772wTim0Q" value="&quot;-229,127,1042,-749,1,522&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2i95oJREeGsv772wTim0Q" name="Lot_X_OFFSET">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2jk8YJREeGsv772wTim0Q" name="Lot_Z_OFFSET">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2jk84JREeGsv772wTim0Q" name="Lot_MULTIPLIER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2jk9IJREeGsv772wTim0Q" value="16"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2kMAIJREeGsv772wTim0Q" name="Lot_PRICE_COAL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2kMAYJREeGsv772wTim0Q" value="10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2kMA4JREeGsv772wTim0Q" name="Lot_PRICE_IRON">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2kMBIJREeGsv772wTim0Q" value="20"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2kzEIJREeGsv772wTim0Q" name="Lot_PRICE_GOLD">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2kzEYJREeGsv772wTim0Q" value="30"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2kzE4JREeGsv772wTim0Q" name="Lot_PRICE_DIAMOND">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2kzFIJREeGsv772wTim0Q" value="40"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2kzFoJREeGsv772wTim0Q" name="Capitol_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2laIYJREeGsv772wTim0Q" name="Capitol_CodedName">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2laIoJREeGsv772wTim0Q" value="&quot;&lt;tc>Rage City&lt;/tc>&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2mBMYJREeGsv772wTim0Q" name="Capitol_X1a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2mBM4JREeGsv772wTim0Q" name="Capitol_Z1a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2mBNYJREeGsv772wTim0Q" name="Capitol_X2a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2moQYJREeGsv772wTim0Q" name="Capitol_Z2a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2moQ4JREeGsv772wTim0Q" name="Capitol_X1b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2nPUIJREeGsv772wTim0Q" name="Capitol_Z1b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2nPUoJREeGsv772wTim0Q" name="Capitol_X2b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2nPVIJREeGsv772wTim0Q" name="Capitol_Z2b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2n2YYJREeGsv772wTim0Q" name="Capitol_SANDLOT">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2n2Y4JREeGsv772wTim0Q" name="Capitol_SANDLOT_GOLD_ODDS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2n2ZIJREeGsv772wTim0Q" value="50000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2odcIJREeGsv772wTim0Q" name="Capitol_SANDLOT_DIAMOND_ODDS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2odcYJREeGsv772wTim0Q" value="500000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2odc4JREeGsv772wTim0Q" name="Capitol_PORTAL_LOCATION">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2oddIJREeGsv772wTim0Q" value="&quot;-73,68,-56&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2oddoJREeGsv772wTim0Q" name="Cooldown_Spawn">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2odd4JREeGsv772wTim0Q" value="30"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2pEgYJREeGsv772wTim0Q" name="Cooldown_Home">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2pEgoJREeGsv772wTim0Q" value="30"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2pEhIJREeGsv772wTim0Q" name="Faction_BaseJoinCost">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2pEhYJREeGsv772wTim0Q" value="100"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2prkYJREeGsv772wTim0Q" name="Faction_JoinCostIncrease">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2prkoJREeGsv772wTim0Q" value="10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2prlIJREeGsv772wTim0Q" name="Task_TOWN_UPKEEP">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2prlYJREeGsv772wTim0Q" value="86400"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2qSoIJREeGsv772wTim0Q" name="Task_FILL_SANDLOT">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2qSoYJREeGsv772wTim0Q" value="86400"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2qSo4JREeGsv772wTim0Q" name="NPC_TOTAL_FLOATING">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2qSpYJREeGsv772wTim0Q" name="NPC_TTL_MIN">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2q5sIJREeGsv772wTim0Q" value="360"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2q5soJREeGsv772wTim0Q" name="NPC_TTL_MAX">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2q5s4JREeGsv772wTim0Q" value="4320"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2q5tYJREeGsv772wTim0Q" name="NPC_PHRASES">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2q5toJREeGsv772wTim0Q" value="2"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2rgwYJREeGsv772wTim0Q" name="NPC_PHRASE_POOL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2rgwoJREeGsv772wTim0Q" value="8"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2rgxIJREeGsv772wTim0Q" name="NPCTOWN_GUEST_CHANCE">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2rgxYJREeGsv772wTim0Q" value="33"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2sH0IJREeGsv772wTim0Q" name="CUSTOM_SKIN_PATH">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2sH0YJREeGsv772wTim0Q" value="&quot;http://www.rageland.net/skins/&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2sH04JREeGsv772wTim0Q" name="NPC_HUMAN_ID">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2sH1IJREeGsv772wTim0Q" value="5"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2sH1oJREeGsv772wTim0Q" name="NPC_AFFINITY_MAX">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2su4IJREeGsv772wTim0Q" value="10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2su4oJREeGsv772wTim0Q" name="NPC_MIN_AFFINITY">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2su44JREeGsv772wTim0Q" value="-10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2su5YJREeGsv772wTim0Q" name="NPC_AFFINITY_GAIN_TALK">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2su5oJREeGsv772wTim0Q" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2tV8YJREeGsv772wTim0Q" name="NPC_LANGUAGE_NAMES" type="_tZxZcYJREeGsv772wTim0Q" association="_v4SqVoJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2t9AIJREeGsv772wTim0Q" name="NPC_RACE_NAMES" type="_tZxZcYJREeGsv772wTim0Q" association="_v4TRYYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2t9A4JREeGsv772wTim0Q" name="NPC_AFFINITY_NAMES" type="_tZxZcYJREeGsv772wTim0Q" association="_v4TRZIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2ukEoJREeGsv772wTim0Q" name="NPC_AFFINITY_CODED_NAMES" type="_tZxZcYJREeGsv772wTim0Q" association="_v4T4cYJREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3WPIIJREeGsv772wTim0Q" name="RageConfig" specification="_vyMCUIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3WPIYJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3WPIoJREeGsv772wTim0Q" type="_taP6kIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
 	&#xD;
 	loadConfigValues();	&#xD;
 	loadDefaultTownLevels();&#xD;
 	&#xD;
 	NPC_LANGUAGE_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_LANGUAGE_NAMES.put(1, &quot;Creeptongue&quot;);&#xD;
 	NPC_LANGUAGE_NAMES.put(2, &quot;Gronuk&quot;);&#xD;
 	NPC_LANGUAGE_NAMES.put(3, &quot;Benali&quot;);&#xD;
 	NPC_LANGUAGE_NAMES.put(4, &quot;Avialese&quot;);&#xD;
 	&#xD;
 	NPC_RACE_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_RACE_NAMES.put(0, &quot;None&quot;);&#xD;
 	NPC_RACE_NAMES.put(1, &quot;Creep&quot;);&#xD;
 	NPC_RACE_NAMES.put(2, &quot;Pigman&quot;);&#xD;
 	NPC_RACE_NAMES.put(3, &quot;Benali&quot;);&#xD;
 	NPC_RACE_NAMES.put(4, &quot;Avian&quot;);&#xD;
 	NPC_RACE_NAMES.put(5, &quot;Human&quot;);&#xD;
 	&#xD;
 	NPC_AFFINITY_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_AFFINITY_NAMES.put(-2, &quot;Dislike&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(-1, &quot;Aversion&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(0, &quot;Neutral&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(1, &quot;Friendship&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(2, &quot;Trust&quot;);&#xD;
 	&#xD;
 	NPC_AFFINITY_CODED_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(-2, ChatColor.DARK_RED + &quot;Dislike&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(-1, ChatColor.RED + &quot;Aversion&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(0, ChatColor.GRAY + &quot;Neutral&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(1, ChatColor.GREEN + &quot;Friendship&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(2, ChatColor.DARK_GREEN + &quot;Trust&quot;);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3WPI4JREeGsv772wTim0Q" name="loadConfigValues" specification="_vrIYEIJREeGsv772wTim0Q">
              <language>java</language>
              <body>pluginConfig = plugin.getConfig();&#xD;
 	&#xD;
 	PRE_RELEASE_MODE = pluginConfig.getBoolean(&quot;general.pre_release_mode&quot;, true);&#xD;
		if( PRE_RELEASE_MODE )&#xD;
			System.out.println(&quot;Activating Pre-release mode.&quot;);&#xD;
 	&#xD;
 	DB_URL = pluginConfig.getString(&quot;database.url&quot;);&#xD;
		DB_NAME = pluginConfig.getString(&quot;database.name&quot;);&#xD;
		DB_DRIVER = pluginConfig.getString(&quot;database.driver&quot;);&#xD;
		DB_USER = pluginConfig.getString(&quot;database.user&quot;);&#xD;
		DB_PASSWORD = pluginConfig.getString(&quot;database.password&quot;); &#xD;
		DB_TIMEOUT = pluginConfig.getInt(&quot;database.timeout&quot;, 20000000);&#xD;
		&#xD;
		this.Lot_X_OFFSET = pluginConfig.getInt(&quot;lots.x_offset&quot;, -384); &#xD;
		this.Lot_Z_OFFSET = pluginConfig.getInt(&quot;lots.z_offset&quot;, 416); &#xD;
		&#xD;
		Capitol_Name = pluginConfig.getString(&quot;capitol.name&quot;, &quot;Rage City&quot;);&#xD;
	    Capitol_X1a = pluginConfig.getInt(&quot;capitol.x1a&quot;, -386);			// The NW corner of region A for capitol&#xD;
	    Capitol_Z1a = pluginConfig.getInt(&quot;capitol.z1a&quot;, 146);&#xD;
	    Capitol_X2a = pluginConfig.getInt(&quot;capitol.x2a&quot;, -82);			// The SE corner of region A for capitol&#xD;
	    Capitol_Z2a = pluginConfig.getInt(&quot;capitol.z2a&quot;, -261);&#xD;
	    Capitol_X1b = pluginConfig.getInt(&quot;capitol.x1b&quot;, -83);			// The NW corner of region B for capitol&#xD;
	    Capitol_Z1b = pluginConfig.getInt(&quot;capitol.z1b&quot;, 418);&#xD;
	    Capitol_X2b = pluginConfig.getInt(&quot;capitol.x2b&quot;, 513);			// The SE corner of region B for capitol&#xD;
	    Capitol_Z2b = pluginConfig.getInt(&quot;capitol.z2b&quot;, -261);&#xD;
	    Capitol_SANDLOT = pluginConfig.getString(&quot;capitol.sandlot&quot;, &quot;114,60,-19,141,68,-46&quot;);&#xD;
	    &#xD;
	    NPC_TOTAL_FLOATING = pluginConfig.getInt(&quot;npc.total_floating&quot;, 5);&#xD;
		&#xD;
		System.out.println(&quot;Connecting to &quot; + DB_URL + &quot;...&quot;);		// Debug&#xD;
		&#xD;
		&#xD;
		&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3WPJIJREeGsv772wTim0Q" name="loadDefaultTownLevels" specification="_vrI_IIJREeGsv772wTim0Q">
              <language>java</language>
              <body>townLevels = new HashMap&lt;Integer, TownLevel>();&#xD;
 	&#xD;
 	TownLevel townLevel = new TownLevel();&#xD;
 	townLevel.level = 1;&#xD;
 	townLevel.name = &quot;Settlement&quot;;&#xD;
 	townLevel.size = 80;&#xD;
 	townLevel.initialCost = 1000;&#xD;
 	townLevel.upkeepCost = 5;&#xD;
 	townLevel.minimumBalance = 100;&#xD;
 	townLevel.maxResidents = 5;&#xD;
 	townLevel.maxNPCs = 1;&#xD;
 	townLevel.treasuryLevel = 0;&#xD;
 	townLevel.sanctumFloor = buildSanctumFloor(townLevel.level);&#xD;
 	townLevels.put(1, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 2;&#xD;
 	townLevel.name = &quot;Village&quot;;&#xD;
 	townLevel.size = 120;&#xD;
 	townLevel.initialCost = 2000;&#xD;
 	townLevel.upkeepCost = 10;&#xD;
 	townLevel.minimumBalance = 200;&#xD;
 	townLevel.maxResidents = 10;&#xD;
 	townLevel.maxNPCs = 2;&#xD;
 	townLevel.treasuryLevel = 1;&#xD;
 	townLevels.put(2, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 3;&#xD;
 	townLevel.name = &quot;Town&quot;;&#xD;
 	townLevel.size = 180;&#xD;
 	townLevel.initialCost = 3000;&#xD;
 	townLevel.upkeepCost = 15;&#xD;
 	townLevel.minimumBalance = 300;&#xD;
 	townLevel.maxResidents = 15;&#xD;
 	townLevel.maxNPCs = 3;&#xD;
 	townLevel.treasuryLevel = 2;&#xD;
 	townLevels.put(3, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 4;&#xD;
 	townLevel.name = &quot;City&quot;;&#xD;
 	townLevel.size = 270;&#xD;
 	townLevel.initialCost = 5000;&#xD;
 	townLevel.upkeepCost = 25;&#xD;
 	townLevel.minimumBalance = 500;&#xD;
 	townLevel.maxResidents = 25;&#xD;
 	townLevel.maxNPCs = 4;&#xD;
 	townLevel.treasuryLevel = 2;&#xD;
 	townLevels.put(4, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 5;&#xD;
 	townLevel.name = &quot;Capitol&quot;;&#xD;
 	townLevel.size = 400;&#xD;
 	townLevel.initialCost = 10000;&#xD;
 	townLevel.upkeepCost = 50;&#xD;
 	townLevel.minimumBalance = 1000;&#xD;
 	townLevel.maxResidents = 50;&#xD;
 	townLevel.maxNPCs = 6;&#xD;
 	townLevel.treasuryLevel = 3;&#xD;
 	townLevel.isCapitol = true;&#xD;
 	townLevels.put(5, townLevel);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3WPJYJREeGsv772wTim0Q" name="buildSanctumFloor" specification="_vrI_IYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3WPJoJREeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_v3WPJ4JREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>ArrayList&lt;String> floor = new ArrayList&lt;String>();&#xD;
 	&#xD;
 	if( level == 1 )&#xD;
 	{&#xD;
 		floor.add(&quot;cccccccccccccccccccc&quot;); &#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); // 5&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); &#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cdddddccccccccdddddc&quot;);&#xD;
 		floor.add(&quot;cdddddcwwwwwwcdddddc&quot;);&#xD;
 		floor.add(&quot;cccccccwoggowccccccc&quot;); // 10&#xD;
 		floor.add(&quot;cccccccwoggowccccccc&quot;); &#xD;
 		floor.add(&quot;cdddddcwwwwwwcdddddc&quot;);&#xD;
 		floor.add(&quot;cdddddccccccccdddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); // 15&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); &#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cccccccccccccccccccc&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 2 )&#xD;
 	{&#xD;
 		floor.add(&quot;ssssssssssssssssssss&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;); // 5&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;spppppssssssssppppps&quot;);&#xD;
 		floor.add(&quot;sppppsswwwwwwsspppps&quot;);&#xD;
 		floor.add(&quot;sppppswwwwwwwwspppps&quot;);&#xD;
 		floor.add(&quot;sssssswgOggOgwssssss&quot;); // 10&#xD;
 		floor.add(&quot;sssssswgOggOgwssssss&quot;);&#xD;
 		floor.add(&quot;sppppswwwwwwwwspppps&quot;);&#xD;
 		floor.add(&quot;sppppsswwwwwwsspppps&quot;);&#xD;
 		floor.add(&quot;spppppssssssssppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;); // 15&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;ssssssssssssssssssss&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 3 )&#xD;
 	{&#xD;
 		floor.add(&quot;bbbbbbbbbbbbbbbbbbbb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;); // 5&#xD;
 		floor.add(&quot;bsssssbbbbbbbbsssssb&quot;);&#xD;
 		floor.add(&quot;bssssbbwwwwwwbbssssb&quot;);&#xD;
 		floor.add(&quot;bsssbbwwwwwwwwbbsssb&quot;);&#xD;
 		floor.add(&quot;bsssbwwwggggwwwbsssb&quot;);&#xD;
 		floor.add(&quot;bbbbbwwg|--|gwwbbbbb&quot;); // 10&#xD;
 		floor.add(&quot;bbbbbwwg|--|gwwbbbbb&quot;);&#xD;
 		floor.add(&quot;bsssbwwwggggwwwbsssb&quot;);&#xD;
 		floor.add(&quot;bsssbbwwwwwwwwbbsssb&quot;);&#xD;
 		floor.add(&quot;bssssbbwwwwwwbbssssb&quot;);&#xD;
 		floor.add(&quot;bsssssbbbbbbbbsssssb&quot;); // 15&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bbbbbbbbbbbbbbbbbbbb&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 4 )&#xD;
 	{&#xD;
 		floor.add(&quot;tttttttttttttttttttt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnntttwwtttnnnnnt&quot;); // 5&#xD;
 		floor.add(&quot;tnnnnttwwwwwwttnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnttwwwwwwwwttnnnt&quot;);&#xD;
 		floor.add(&quot;tnnttwwwwwwwwwtttnnt&quot;);&#xD;
 		floor.add(&quot;ttttwwwggggggwwwtttt&quot;);&#xD;
 		floor.add(&quot;twwwwwwg|--|gwwwwwwt&quot;); // 10&#xD;
 		floor.add(&quot;twwwwwwg|--|gwwwwwwt&quot;);&#xD;
 		floor.add(&quot;ttttwwwggggggwwwtttt&quot;);&#xD;
 		floor.add(&quot;tnnttwwwwwwwwwwttnnt&quot;);&#xD;
 		floor.add(&quot;tnnnttwwwwwwwwttnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnttwwwwwwttnnnnt&quot;); // 15&#xD;
 		floor.add(&quot;tnnnnntttwwtttnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tttttttttttttttttttt&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 5 )&#xD;
 	{&#xD;
 		floor.add(&quot;iiiiiiiiiiiiiiiiiiii&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLiiiwwiiiLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLiiwwwwwwiiLLLLi&quot;); // 5&#xD;
 		floor.add(&quot;iLLLiiwwwwwwwwiiLLLi&quot;);&#xD;
 		floor.add(&quot;iLLiiwwwwwwwwwwiiLLi&quot;);&#xD;
 		floor.add(&quot;iLiiwwggggggggwwiiLi&quot;);&#xD;
 		floor.add(&quot;iiiwwwgSSSSSSgwwwiii&quot;);&#xD;
 		floor.add(&quot;iwwwwwgS|--|Sgwwwwwi&quot;); // 10&#xD;
 		floor.add(&quot;iwwwwwgS|--|Sgwwwwwi&quot;);&#xD;
 		floor.add(&quot;iiiwwwgSSSSSSgwwwiii&quot;);&#xD;
 		floor.add(&quot;iLiiwwggggggggwwiiLi&quot;);&#xD;
 		floor.add(&quot;iLLiiwwwwwwwwwwiiLLi&quot;);&#xD;
 		floor.add(&quot;iLLLiiwwwwwwwwiiLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLiiwwwwwwiiLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLiiiwwiiiLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iiiiiiiiiiiiiiiiiiii&quot;);&#xD;
 		&#xD;
 	}&#xD;
 	&#xD;
 	return floor;&#xD;
 </body>
            </ownedBehavior>
            <ownedOperation xmi:id="_vrIYEIJREeGsv772wTim0Q" name="loadConfigValues" visibility="private" method="_v3WPI4JREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vrI_IIJREeGsv772wTim0Q" name="loadDefaultTownLevels" visibility="private" method="_v3WPJIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vrI_IYJREeGsv772wTim0Q" name="buildSanctumFloor" isStatic="true" method="_v3WPJYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vrJmMIJREeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_vyMCVYJREeGsv772wTim0Q" type="_tZXJwIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vyMCUIJREeGsv772wTim0Q" name="RageConfig" method="_v3WPIIJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_vyMCUoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_vyMCU4JREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_vyMCUYJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyMCVIJREeGsv772wTim0Q" type="_taP6kIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_taRIsIJREeGsv772wTim0Q" name="RageZones">
            <ownedAttribute xmi:id="_v2wZQIJREeGsv772wTim0Q" name="ZoneA_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2wZQoJREeGsv772wTim0Q" name="ZoneA_Border">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2wZRIJREeGsv772wTim0Q" name="ZoneB_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2xAUYJREeGsv772wTim0Q" name="ZoneB_Border">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2xAU4JREeGsv772wTim0Q" name="ZoneC_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2xAVYJREeGsv772wTim0Q" name="ZoneC_Border">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_v2xnYYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q" association="_v4UfgIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2xnY4JREeGsv772wTim0Q" name="nether" type="_tZZmAIJREeGsv772wTim0Q" association="_v4Ufg4JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2yOcIJREeGsv772wTim0Q" name="worldSpawn" type="_s-3mIIJREeGsv772wTim0Q" association="_v4UfhoJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2yOcoJREeGsv772wTim0Q" name="Capitol_RegionA" visibility="private" type="_tBQLwIJREeGsv772wTim0Q" association="_v4VGkYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2yOdIJREeGsv772wTim0Q" name="Capitol_RegionB" visibility="private" type="_tBQLwIJREeGsv772wTim0Q" association="_v4VGlIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2y1gYJREeGsv772wTim0Q" name="Capitol_SandLot" isStatic="true" type="_tBnYIIJREeGsv772wTim0Q" association="_v4VtoYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2y1g4JREeGsv772wTim0Q" name="Capitol_Portal" type="_tZYX4IJREeGsv772wTim0Q" association="_v4VtpIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2y1hYJREeGsv772wTim0Q" name="TZ_Center" type="_tZYX4IJREeGsv772wTim0Q" association="_v4WUsIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2zckYJREeGsv772wTim0Q" name="TZ_Region" type="_tBnYIIJREeGsv772wTim0Q" association="_v4WUs4JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2zck4JREeGsv772wTim0Q" name="plugin" visibility="private" type="_teW-hYJREeGsv772wTim0Q" association="_v4WUtoJREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3W2NoJREeGsv772wTim0Q" name="RageZones" specification="_vySI8IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3W2N4JREeGsv772wTim0Q" name="ragemod" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3W2OIJREeGsv772wTim0Q" name="config" type="_tfF-UIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3W2OYJREeGsv772wTim0Q" type="_taRIsIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>plugin = ragemod;&#xD;
 	world = plugin.getServer().getWorld(&quot;world&quot;);&#xD;
 	nether = plugin.getServer().getWorld(&quot;world_nether&quot;);&#xD;
 	&#xD;
 	ZoneA_Name = config.Zone_NAME_A;&#xD;
 	ZoneA_Border = config.Zone_BORDER_A;&#xD;
 	ZoneB_Name = config.Zone_NAME_B;&#xD;
 	ZoneB_Border = config.Zone_BORDER_B;&#xD;
 	ZoneC_Name = config.Zone_NAME_C;&#xD;
 	ZoneC_Border = config.Zone_BORDER_C;&#xD;
 	&#xD;
 	// Load the capitol regions&#xD;
 	Capitol_RegionA = new Region2D(world, config.Capitol_X1a, config.Capitol_Z1a, config.Capitol_X2a, config.Capitol_Z2a);&#xD;
 	Capitol_RegionB = new Region2D(world, config.Capitol_X1b, config.Capitol_Z1b, config.Capitol_X2b, config.Capitol_Z2b);&#xD;
 	Capitol_SandLot = new Region3D(world, config.Capitol_SANDLOT);&#xD;
 	Capitol_Portal = Util.getLocationFromCoords(world, config.Capitol_PORTAL_LOCATION);&#xD;
 	&#xD;
 	// Load the Travel Zone&#xD;
 	TZ_Center = Util.getLocationFromCoords(nether, config.Zone_TZ_CENTER);&#xD;
 	TZ_Region = new Region3D(nether, config.Zone_TZ_REGION);&#xD;
 	&#xD;
 	worldSpawn = new Location2D(world.getSpawnLocation());&#xD;
 	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3XdQIJREeGsv772wTim0Q" name="getName" specification="_vySwBIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3XdQYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3XdQoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>if( location.getWorld().getName().equals(&quot;world&quot;) )&#xD;
 	{&#xD;
 		double distanceFromSpawn = worldSpawn.distance(location);&#xD;
     	&#xD;
     	if( distanceFromSpawn >= 0 &amp;&amp; distanceFromSpawn &lt;= ZoneA_Border )&#xD;
     		return ZoneA_Name;&#xD;
     	else if( distanceFromSpawn &lt;= ZoneB_Border )&#xD;
     		return ZoneB_Name;&#xD;
     	else if( distanceFromSpawn &lt;= ZoneC_Border )&#xD;
     		return ZoneC_Name;&#xD;
     	else if( distanceFromSpawn > ZoneC_Border )&#xD;
     		return &quot;Outside All Zones&quot;;&#xD;
     	else&#xD;
     		return &quot;Error: Distance from spawn returned negative&quot;;&#xD;
 	}&#xD;
 	else&#xD;
 	{&#xD;
 		if( isInTravelZone(location) )&#xD;
 			return &quot;Travel Zone&quot;;&#xD;
 		else&#xD;
 			return location.getWorld().getName();&#xD;
 	}&#xD;
 	&#xD;
 	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3XdQ4JREeGsv772wTim0Q" name="getName" specification="_v1tQYoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3XdRIJREeGsv772wTim0Q" name="zone" type="_v1tQYIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3XdRYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>if( zone == Zone.A )&#xD;
 		return ZoneA_Name;&#xD;
 	else if( zone == Zone.CAPITOL )&#xD;
 		return plugin.config.Capitol_Name;&#xD;
 	else if( zone == Zone.B )&#xD;
     		return ZoneB_Name;&#xD;
 	else if( zone == Zone.C )&#xD;
 		return ZoneC_Name;&#xD;
 	else if( zone == Zone.OUTSIDE )&#xD;
 		return &quot;Outside All Zones&quot;;&#xD;
 	else if( zone == Zone.UNKNOWN)&#xD;
 		return &quot;Unknown&quot;;&#xD;
 	else&#xD;
 		return &quot;Error: Zone unrecognized&quot;;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3XdRoJREeGsv772wTim0Q" name="getZone" specification="_vyTXEIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3XdR4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3XdSIJREeGsv772wTim0Q" type="_v1tQYIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>if(!(location.getWorld().getName().equals(&quot;world&quot;)))&#xD;
 		return Zone.UNKNOWN;&#xD;
 	&#xD;
		double distanceFromSpawn = worldSpawn.distance(location);&#xD;
 	&#xD;
 	if( distanceFromSpawn >= 0 &amp;&amp; distanceFromSpawn &lt;= ZoneA_Border )&#xD;
 		return Zone.A;&#xD;
 	else if( distanceFromSpawn &lt;= ZoneB_Border )&#xD;
 		return Zone.B;&#xD;
 	else if( distanceFromSpawn &lt;= ZoneC_Border )&#xD;
 		return Zone.C;&#xD;
 	else if( distanceFromSpawn > ZoneC_Border )&#xD;
 		return Zone.OUTSIDE;&#xD;
 	else&#xD;
 		return null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3XdSYJREeGsv772wTim0Q" name="getQuadrant" specification="_vyTXEoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3XdSoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3XdS4JREeGsv772wTim0Q" type="_v1t3coJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>double x = location.getX() - worldSpawn.getX();&#xD;
 	double z = location.getZ() - worldSpawn.getZ();&#xD;
 	&#xD;
 	if( z >= 0 &amp;&amp; x &lt; 0 )&#xD;
 		return Quadrant.NW;&#xD;
 	else if( z &lt; 0 &amp;&amp; x &lt; 0 )&#xD;
 		return Quadrant.NE;&#xD;
 	else if( z >= 0 &amp;&amp; x >= 0 )&#xD;
 		return Quadrant.SW;&#xD;
 	else if( z &lt; 0 &amp;&amp; x >= 0 )&#xD;
 		return Quadrant.SE;&#xD;
 	else&#xD;
 		return null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3XdTIJREeGsv772wTim0Q" name="getDistanceFromSpawn" specification="_vyTXFIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3XdTYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3XdToJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <language>java</language>
              <body>return worldSpawn.distance(location);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YEUIJREeGsv772wTim0Q" name="isInZoneA" specification="_vyT-IYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YEUYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YEUoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return ( location.getWorld().getName().equals(&quot;world&quot;) &amp;&amp; &#xD;
				worldSpawn.distance(location) >= 0 &amp;&amp; &#xD;
				worldSpawn.distance(location) &lt;= ZoneA_Border );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YEU4JREeGsv772wTim0Q" name="isOutsideZoneA" specification="_vyT-JIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YEVIJREeGsv772wTim0Q" name="region" type="_tBQLwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YEVYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return (worldSpawn.distance(region.nwCorner) > 1000 || &#xD;
 			worldSpawn.distance(region.seCorner) > 1000 ||&#xD;
 			worldSpawn.distance(new Location2D(region.nwCorner.getX(), region.seCorner.getZ())) > 1000 ||&#xD;
 			worldSpawn.distance(new Location2D(region.nwCorner.getZ(), region.seCorner.getX())) > 1000 );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YEVoJREeGsv772wTim0Q" name="isInZoneB" specification="_vyUlMIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YEV4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YEWIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return ( location.getWorld().getName().equals(&quot;world&quot;) &amp;&amp; &#xD;
				worldSpawn.distance(location) > ZoneA_Border &amp;&amp; &#xD;
				worldSpawn.distance(location) &lt;= ZoneB_Border );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YEWYJREeGsv772wTim0Q" name="isInZoneC" specification="_vyUlM4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YEWoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YEW4JREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return ( location.getWorld().getName().equals(&quot;world&quot;) &amp;&amp; &#xD;
				worldSpawn.distance(location) > ZoneB_Border &amp;&amp; &#xD;
				worldSpawn.distance(location) &lt;= ZoneC_Border );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YEXIJREeGsv772wTim0Q" name="isInCapitol" specification="_vyVMQIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YEXYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YEXoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return Capitol_RegionA.isInside(location) || Capitol_RegionB.isInside(location);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YrYIJREeGsv772wTim0Q" name="checkPermission" specification="_v1vFkIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YrYYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YrYoJREeGsv772wTim0Q" name="action" type="_v1uegoJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YrY4JREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>// Put the most frequently called checks at the beginning.  On that note, would it be &#xD;
 	// better to split this method into multiple methods to prevent having to do so many comparisons?&#xD;
 	if(action == Action.TOWN_CREATE)&#xD;
 		return (isInZoneB(location));&#xD;
 	&#xD;
 	// If we haven't recognized the action, return false.  Should this throw an exception?&#xD;
 	return false;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YrZIJREeGsv772wTim0Q" name="isInSandlot" specification="_vyVMQ4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YrZYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YrZoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return Capitol_SandLot.isInside(location);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YrZ4JREeGsv772wTim0Q" name="isInTravelZone" specification="_vyVMRoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3YraIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YraYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.TZ_Region.isInside(location);    	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3YraoJREeGsv772wTim0Q" name="getTravelNode" specification="_vyVzUoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3Yra4JREeGsv772wTim0Q" name="centerPoint" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3YrbIJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>return new Location(this.nether, &#xD;
 			((centerPoint.getX() - worldSpawn.getX()) / 8) + TZ_Center.getX(),&#xD;
 			TZ_Center.getY(),&#xD;
 			((centerPoint.getZ() - worldSpawn.getZ()) / 8) + TZ_Center.getZ());&#xD;
 </body>
            </ownedBehavior>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_taw38YJREeGsv772wTim0Q" name="Action"/>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_tbIrYYJREeGsv772wTim0Q" name="Zone"/>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_tbIEUIJREeGsv772wTim0Q" name="Quadrant"/>
            <ownedOperation xmi:id="_vySI8IJREeGsv772wTim0Q" name="RageZones" method="_v3W2NoJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_vySwAYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_vySwAoJREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_vySI8YJREeGsv772wTim0Q" name="ragemod" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vySwAIJREeGsv772wTim0Q" name="config" type="_tfF-UIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vySwA4JREeGsv772wTim0Q" type="_taRIsIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vySwBIJREeGsv772wTim0Q" name="getName" method="_v3XdQIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vySwBYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vySwBoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyTXEIJREeGsv772wTim0Q" name="getZone" method="_v3XdRoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyTXEYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v1t3cYJREeGsv772wTim0Q" type="_v1tQYIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vyTXEoJREeGsv772wTim0Q" name="getQuadrant" method="_v3XdSYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyTXE4JREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v1uegYJREeGsv772wTim0Q" type="_v1t3coJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vyTXFIJREeGsv772wTim0Q" name="getDistanceFromSpawn" method="_v3XdTIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyTXFYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyT-IIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyT-IYJREeGsv772wTim0Q" name="isInZoneA" method="_v3YEUIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyT-IoJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyT-I4JREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyT-JIJREeGsv772wTim0Q" name="isOutsideZoneA" method="_v3YEU4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyT-JYJREeGsv772wTim0Q" name="region" type="_tBQLwIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyT-JoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyUlMIJREeGsv772wTim0Q" name="isInZoneB" method="_v3YEVoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyUlMYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyUlMoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyUlM4JREeGsv772wTim0Q" name="isInZoneC" method="_v3YEWYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyUlNIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyUlNYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyVMQIJREeGsv772wTim0Q" name="isInCapitol" method="_v3YEXIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyVMQYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyVMQoJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyVMQ4JREeGsv772wTim0Q" name="isInSandlot" method="_v3YrZIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyVMRIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyVMRYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyVMRoJREeGsv772wTim0Q" name="isInTravelZone" method="_v3YrZ4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyVzUIJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyVzUYJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyVzUoJREeGsv772wTim0Q" name="getTravelNode" method="_v3YraoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyVzU4JREeGsv772wTim0Q" name="centerPoint" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyVzVIJREeGsv772wTim0Q" type="_tZYX4IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1tQYoJREeGsv772wTim0Q" name="getName" method="_v3XdQ4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1tQY4JREeGsv772wTim0Q" name="zone" type="_v1tQYIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v1t3cIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_v1vFkIJREeGsv772wTim0Q" name="checkPermission" method="_v3YrYIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1vFkYJREeGsv772wTim0Q" name="location" type="_tZYX4IJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v1vFkoJREeGsv772wTim0Q" name="action" type="_v1uegoJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v1vFk4JREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp8jcIJREeGsv772wTim0Q" name="" memberEnd="_tp8jcYJREeGsv772wTim0Q _tjMbMYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp8jcYJREeGsv772wTim0Q" name="" type="_s5ORIIJREeGsv772wTim0Q" association="_tp8jcIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp9KgYJREeGsv772wTim0Q" name="" memberEnd="_tp9KgoJREeGsv772wTim0Q _tjMbMoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp9KgoJREeGsv772wTim0Q" name="" type="_s5ORIIJREeGsv772wTim0Q" association="_tp9KgYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp9xkIJREeGsv772wTim0Q" name="" memberEnd="_tp9xkYJREeGsv772wTim0Q _tjNCQIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp9xkYJREeGsv772wTim0Q" name="" type="_s5hMEIJREeGsv772wTim0Q" association="_tp9xkIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp9xk4JREeGsv772wTim0Q" name="" memberEnd="_tp9xlIJREeGsv772wTim0Q _tjNCQYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp9xlIJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tp9xk4JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp-YoYJREeGsv772wTim0Q" name="" memberEnd="_tp-YooJREeGsv772wTim0Q _tjNpUYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp-YooJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tp-YoYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp-YpIJREeGsv772wTim0Q" name="" memberEnd="_tp-YpYJREeGsv772wTim0Q _tjOQYIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp-YpYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tp-YpIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp-_sYJREeGsv772wTim0Q" name="" memberEnd="_tp-_soJREeGsv772wTim0Q _tjOQYoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp-_soJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tp-_sYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp-_tIJREeGsv772wTim0Q" name="" memberEnd="_tp-_tYJREeGsv772wTim0Q _tjO3cIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp-_tYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tp-_tIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tp_mwYJREeGsv772wTim0Q" name="" memberEnd="_tp_mwoJREeGsv772wTim0Q _tjO3coJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tp_mwoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tp_mwYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqAN0IJREeGsv772wTim0Q" name="" memberEnd="_tqAN0YJREeGsv772wTim0Q _tjU-EYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqAN0YJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqAN0IJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqAN04JREeGsv772wTim0Q" name="" memberEnd="_tqAN1IJREeGsv772wTim0Q _tjVlIYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqAN1IJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqAN04JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqA04YJREeGsv772wTim0Q" name="" memberEnd="_tqA04oJREeGsv772wTim0Q _tjVlI4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqA04oJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqA04YJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqBb8IJREeGsv772wTim0Q" name="" memberEnd="_tqBb8YJREeGsv772wTim0Q _tjWMMYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqBb8YJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqBb8IJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqBb84JREeGsv772wTim0Q" name="" memberEnd="_tqBb9IJREeGsv772wTim0Q _tjWMM4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqBb9IJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqBb84JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqCDAYJREeGsv772wTim0Q" name="" memberEnd="_tqCDAoJREeGsv772wTim0Q _tjWzQYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqCDAoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqCDAYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqCDBIJREeGsv772wTim0Q" name="" memberEnd="_tqCDBYJREeGsv772wTim0Q _tjXaUoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqCDBYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqCDBIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqCqEYJREeGsv772wTim0Q" name="" memberEnd="_tqCqEoJREeGsv772wTim0Q _tjYBYIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqCqEoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqCqEYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqDRIYJREeGsv772wTim0Q" name="" memberEnd="_tqDRIoJREeGsv772wTim0Q _tjYBYoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqDRIoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqDRIYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqD4MYJREeGsv772wTim0Q" name="" memberEnd="_tqD4MoJREeGsv772wTim0Q _tjYBZIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqD4MoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqD4MYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqEfQYJREeGsv772wTim0Q" name="" memberEnd="_tqEfQoJREeGsv772wTim0Q _tjYocYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqEfQoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqEfQYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqFGUYJREeGsv772wTim0Q" name="" memberEnd="_tqFGUoJREeGsv772wTim0Q _tjYoc4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqFGUoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqFGUYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqFtYYJREeGsv772wTim0Q" name="" memberEnd="_tqFtYoJREeGsv772wTim0Q _tjZPgYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqFtYoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqFtYYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqG7gIJREeGsv772wTim0Q" name="" memberEnd="_tqG7gYJREeGsv772wTim0Q _tjZPg4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqG7gYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqG7gIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqHikIJREeGsv772wTim0Q" name="" memberEnd="_tqHikYJREeGsv772wTim0Q _tjZ2kYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqHikYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqHikIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqIJoIJREeGsv772wTim0Q" name="" memberEnd="_tqIJoYJREeGsv772wTim0Q _tjZ2k4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqIJoYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqIJoIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqIwsIJREeGsv772wTim0Q" name="" memberEnd="_tqIwsYJREeGsv772wTim0Q _tjadoIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqIwsYJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqIwsIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqJXwYJREeGsv772wTim0Q" name="" memberEnd="_tqJXwoJREeGsv772wTim0Q _tjadooJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqJXwoJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqJXwYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqJ-0IJREeGsv772wTim0Q" name="" memberEnd="_tqJ-0YJREeGsv772wTim0Q _tjbEsYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqJ-0YJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqJ-0IJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_tqJ-04JREeGsv772wTim0Q" name="" memberEnd="_tqJ-1IJREeGsv772wTim0Q _tjbEs4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_tqJ-1IJREeGsv772wTim0Q" name="" type="_s5og0IJREeGsv772wTim0Q" association="_tqJ-04JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_vqzA4IJREeGsv772wTim0Q" name="Configuration">
            <ownedAttribute xmi:id="_v2WwoIJREeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_tZ25AYJREeGsv772wTim0Q" isReadOnly="true" association="_v4NKwIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2WwoYJREeGsv772wTim0Q" name="file" visibility="private" isLeaf="true" type="_tZwyYIJREeGsv772wTim0Q" isReadOnly="true" association="_v4Nx0YJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2WwooJREeGsv772wTim0Q" name="config" visibility="private" type="_vyBqQIJREeGsv772wTim0Q" association="_v4OY4IJREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Ty4IJREeGsv772wTim0Q" name="Configuration" specification="_vyBqQoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3Ty4YJREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v3Ty4oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v3Ty44JREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_v3Ty5IJREeGsv772wTim0Q" name="fileName">
                <eAnnotations xmi:id="_v3Ty5YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v3Ty5oJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_v3Ty54JREeGsv772wTim0Q" type="_vqzA4IJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
		file = new File(plugin.getDataFolder(), fileName);	&#xD;
		reload();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Ty6IJREeGsv772wTim0Q" name="reload" specification="_vq0PAIJREeGsv772wTim0Q">
              <language>java</language>
              <body>if (!checkMemberVariables())&#xD;
			throw new IllegalStateException(&quot;Neither plugin nor the file to be used must be null!&quot;);&#xD;
			&#xD;
		config = YamlConfiguration.loadConfiguration(file);&#xD;
		 &#xD;
		final InputStream defaultStream = plugin.getResource(file.getName());&#xD;
	    if (defaultStream != null) {&#xD;
	        final YamlConfiguration defConfig = YamlConfiguration.loadConfiguration(defaultStream);&#xD;
	 &#xD;
	        config.setDefaults(defConfig);&#xD;
	    }&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Ty6YJREeGsv772wTim0Q" name="save" specification="_vq0PAoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3Ty6oJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>if (!checkMemberVariables())&#xD;
			throw new IllegalStateException(&quot;Neither plugin nor the file to be used must be null.&quot;);&#xD;
		&#xD;
		try {&#xD;
	        config.save(file);&#xD;
	        return true;&#xD;
	    } catch (IOException ex) {&#xD;
	    	Bukkit.getLogger().log(Level.SEVERE, new StringBuilder(&quot;[&quot;).append(plugin.toString()).append(&quot;] Failed saving configuration to &quot;).append(file.toString()).toString(), ex);&#xD;
	        return false;&#xD;
	    }&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Ty64JREeGsv772wTim0Q" name="load" specification="_vq0PBYJREeGsv772wTim0Q">
              <language>java</language>
              <body>if (!checkMemberVariables())&#xD;
			throw new IllegalStateException(&quot;Neither plugin nor the file to be used must be null!&quot;);&#xD;
		&#xD;
		config = YamlConfiguration.loadConfiguration(file);&#xD;
		&#xD;
		final InputStream defaultStream = plugin.getResource(file.getName());&#xD;
		if (defaultStream != null) {&#xD;
			final YamlConfiguration defConfig = YamlConfiguration.loadConfiguration(defaultStream);		&#xD;
			config.setDefaults(defConfig);&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3Ty7IJREeGsv772wTim0Q" name="getYamlConfig" specification="_vq02EYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3Ty7YJREeGsv772wTim0Q" type="_vyBqQIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>return config;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3UZ8IJREeGsv772wTim0Q" name="checkMemberVariables" specification="_vq02E4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3UZ8YJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return (plugin != null &amp;&amp; file != null);&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_vq0PAIJREeGsv772wTim0Q" name="reload" method="_v3Ty6IJREeGsv772wTim0Q">
              <ownedComment xmi:id="_v30JMoJREeGsv772wTim0Q">
                <body>Reloads the configuration from disk.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_vq0PAoJREeGsv772wTim0Q" name="save" method="_v3Ty6YJREeGsv772wTim0Q">
              <ownedComment xmi:id="_v30JM4JREeGsv772wTim0Q">
                <body>Saves the configuration to the disk.&#xD;
	 * @return true if successful</body>
              </ownedComment>
              <ownedParameter xmi:id="_vq0PA4JREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vq0PBYJREeGsv772wTim0Q" name="load" method="_v3Ty64JREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vq02EYJREeGsv772wTim0Q" name="getYamlConfig" method="_v3Ty7IJREeGsv772wTim0Q">
              <ownedComment xmi:id="_v30JNIJREeGsv772wTim0Q">
                <body>Returns the YamlConfiguration.&#xD;
	 * @return the YamlConfiguration</body>
              </ownedComment>
              <ownedParameter xmi:id="_v1misIJREeGsv772wTim0Q" type="_vyBqQIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vq02E4JREeGsv772wTim0Q" name="checkMemberVariables" visibility="private" method="_v3UZ8IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vq02FIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_vyBqQoJREeGsv772wTim0Q" name="Configuration" method="_v3Ty4IJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_vyCRUYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_vyCRUoJREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_v30JMYJREeGsv772wTim0Q">
                <body>Creates a new configuration together with its own file.&#xD;
	 * @param plugin the plugin the configuration belongs to&#xD;
	 * @param fileName the name of the file, should end with .yml</body>
              </ownedComment>
              <ownedParameter xmi:id="_vyBqQ4JREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vyCRVYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyCRVoJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_vyCRUIJREeGsv772wTim0Q" name="fileName">
                <eAnnotations xmi:id="_vyCRV4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyCRWIJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_vyCRU4JREeGsv772wTim0Q" type="_vqzA4IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_vq2rQIJREeGsv772wTim0Q" name="RMBlockListener" clientDependency="_vyDfcIJREeGsv772wTim0Q">
            <ownedComment xmi:id="_v30JNYJREeGsv772wTim0Q">
              <body>RageMod block listener&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <ownedAttribute xmi:id="_v2XXsIJREeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_teW-hYJREeGsv772wTim0Q" isReadOnly="true" association="_v4OY44JREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3UZ8oJREeGsv772wTim0Q" name="RMBlockListener" specification="_vyDfcYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3UZ84JREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v3UZ9IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v3UZ9YJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_v3UZ9oJREeGsv772wTim0Q" type="_vq2rQIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3UZ94JREeGsv772wTim0Q" name="onBlockBreak" specification="_vyEGgYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3UZ-IJREeGsv772wTim0Q" name="event" type="_tbepoIJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Block block = event.getBlock();&#xD;
 	&#xD;
 	if (event.isCancelled()) &#xD;
     {&#xD;
         return;&#xD;
     }&#xD;
&#xD;
 	// Perform generic edit permission handling&#xD;
 	if( !canEditBlock(event, player) )&#xD;
 	{&#xD;
 		event.setCancelled(true);&#xD;
 		return;&#xD;
 	}&#xD;
 	&#xD;
 	// *** DISABLE ALL FURTHER CODE FOR LOT RELEASE ***&#xD;
 	if( plugin.config.PRE_RELEASE_MODE )&#xD;
 		return;&#xD;
 	&#xD;
 	&#xD;
 	// Bed breaking - clear spawn and home&#xD;
 	if( block.getType() == Material.BED_BLOCK )&#xD;
 	{&#xD;
 		// /home: bed inside capitol lot&#xD;
			if( plugin.zones.isInZoneA(block.getLocation()) )&#xD;
			{&#xD;
				for( Lot lot : playerData.lots )&#xD;
				{&#xD;
					if( lot.canSetHome() &amp;&amp; lot.isInside(block.getLocation()) )&#xD;
					{&#xD;
						playerData.clearHome();&#xD;
		    			plugin.message.send(player, &quot;You no longer have a home point.&quot;);&#xD;
		    			// Update both memory and database&#xD;
		    			plugin.database.playerQueries.updatePlayer(playerData);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			// /spawn: for beds in player towns&#xD;
			else if( plugin.zones.isInZoneB(block.getLocation()) )&#xD;
			{&#xD;
				PlayerTown playerTown = (PlayerTown)plugin.towns.getCurrentTown(block.getLocation());&#xD;
&#xD;
	    		if( playerTown != null )&#xD;
	    		{&#xD;
	    			if( playerData.getSpawn() != null &amp;&amp; playerData.getSpawn().distance(block.getLocation()) &lt; plugin.config.Town_DISTANCE_BETWEEN_BEDS )&#xD;
	    			{&#xD;
		    			plugin.message.send(player, &quot;You no longer have a spawn point.&quot;);&#xD;
	    				playerData.clearSpawn();&#xD;
		    			playerData.update();&#xD;
	    			}&#xD;
	    			else&#xD;
	    			{&#xD;
	    				plugin.message.sendNo(player, &quot;You can only move your own bed.&quot;);&#xD;
	    				event.setCancelled(true);&#xD;
	    			}&#xD;
	    		}&#xD;
			}&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3UZ-YJREeGsv772wTim0Q" name="onBlockPlace" specification="_vyEGg4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3UZ-oJREeGsv772wTim0Q" name="event" type="_tbfQsoJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Block block = event.getBlock();&#xD;
 	Location location = block.getLocation();&#xD;
 	&#xD;
 	if (event.isCancelled()) &#xD;
     {&#xD;
         return;&#xD;
     }&#xD;
 	&#xD;
 	// Perform generic edit permission handling&#xD;
 	if( !canEditBlock(event, player) )&#xD;
 	{&#xD;
 		event.setCancelled(true);&#xD;
 		return;&#xD;
 	}&#xD;
 	&#xD;
 	// *** DISABLE ALL FURTHER CODE FOR LOT RELEASE ***&#xD;
 	if( plugin.config.PRE_RELEASE_MODE )&#xD;
 		return;&#xD;
 	&#xD;
 	// *** ZONE A (Neutral Zone) ***&#xD;
 	if( plugin.zones.isInZoneA(location) )&#xD;
 	{&#xD;
 		// Bed placement - set spawn and home&#xD;
     	if( block.getType() == Material.BED_BLOCK )&#xD;
     	{&#xD;
     		// /home: bed inside capitol lot&#xD;
 			if( playerData.isMember )&#xD;
 			{&#xD;
 				for( Lot lot : playerData.lots )&#xD;
 				{&#xD;
 					if( lot.canSetHome() &amp;&amp; lot.isInside(block.getLocation()) )&#xD;
 					{&#xD;
 						if( playerData.getHome() != null )&#xD;
 						{&#xD;
 							plugin.message.sendNo(player, &quot;You already have a bed inside your lot (use /home clear to fix errors).&quot;);&#xD;
 							event.setCancelled(true);&#xD;
 							return;&#xD;
 						}&#xD;
 						&#xD;
 						Location loc = block.getLocation();&#xD;
 						playerData.setHome(new Location(loc.getWorld(), loc.getX(), loc.getY() + 2, loc.getZ()));&#xD;
 		    			plugin.message.send(player, &quot;Your home location has now been set.&quot;);&#xD;
 		    			// Update both memory and database&#xD;
 		    			playerData.update();&#xD;
 					}&#xD;
 				}&#xD;
 			}&#xD;
     	}	&#xD;
 	}&#xD;
 	// *** ZONE B (War Zone) ***&#xD;
 	else if( plugin.zones.isInZoneB(location) )&#xD;
 	{&#xD;
 		// /spawn: for beds in player towns&#xD;
			if( block.getType() == Material.BED_BLOCK )&#xD;
			{&#xD;
				PlayerTown playerTown = (PlayerTown)plugin.towns.getCurrentTown(block.getLocation());&#xD;
&#xD;
	    		if( playerTown != null &amp;&amp; playerTown.getName().equals(playerData.townName) )&#xD;
	    		{&#xD;
	    			if( playerData.getSpawn() != null )&#xD;
					{&#xD;
						plugin.message.sendNo(player, &quot;You already have a bed inside your town (use /spawn clear to fix errors).&quot;);&#xD;
						event.setCancelled(true);&#xD;
						return;&#xD;
					}&#xD;
	    			&#xD;
	    			// Make sure the location is not too close to another player's spawn&#xD;
	    			HashMap&lt;String, Location> spawns = plugin.database.playerQueries.getSpawnLocations(playerTown.getID());&#xD;
	    			for( String resident : spawns.keySet() )&#xD;
	    			{&#xD;
	    				if( block.getLocation().distance(spawns.get(resident)) &lt; plugin.config.Town_DISTANCE_BETWEEN_BEDS &amp;&amp; !resident.equals(playerData.name) )&#xD;
	    				{&#xD;
	    					plugin.message.parseNo(player, &quot;This bed is too close to &quot; + plugin.players.get(resident).getCodedName() + &quot;'s bed - spawn not set.&quot;);&#xD;
	    					event.setCancelled(true);&#xD;
	    					return;&#xD;
	    				}&#xD;
	    			}&#xD;
	    			&#xD;
	    			Location loc = block.getLocation();&#xD;
	    			playerData.setSpawn(new Location(loc.getWorld(), loc.getX(), loc.getY() + 2, loc.getZ()));&#xD;
	    			plugin.message.send(player, &quot;Your spawn location has now been set.&quot;);&#xD;
	    			// Update both memory and database&#xD;
	    			plugin.database.playerQueries.updatePlayer(playerData);&#xD;
	    		}&#xD;
			}&#xD;
 	}&#xD;
     	&#xD;
 	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VBAIJREeGsv772wTim0Q" name="canEditBlock" specification="_vyEGhYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VBAYJREeGsv772wTim0Q" name="event" type="_tbfQsIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3VBAoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3VBA4JREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Block block = event.getBlock();&#xD;
 	Location location = block.getLocation();&#xD;
 	&#xD;
 	// Check for NPCTowns (zone code handled inside)&#xD;
 	Town town = plugin.towns.getCurrentTown(location);&#xD;
 	if( town instanceof NPCTown )&#xD;
 	{&#xD;
 		NPCTown npcTown = (NPCTown)town;&#xD;
 		if(!RageMod.perms.has(player, &quot;ragemod.build.npctown&quot;) &amp;&amp; !playerData.npcTownName.equalsIgnoreCase(town.getName()) &#xD;
 				&amp;&amp; !npcTown.hasPermission(playerData.name) )&#xD;
 		{&#xD;
 			plugin.message.sendNo(player, &quot;You don't have permission to build here.&quot;);&#xD;
 			return false;&#xD;
 		}&#xD;
 	}&#xD;
 	&#xD;
 	// *** ZONE A (Neutral Zone) ***&#xD;
 	else if( plugin.zones.isInZoneA(location) )&#xD;
 	{&#xD;
 		// See if player is in capitol&#xD;
 		if( plugin.zones.isInCapitol(location) )&#xD;
 		{&#xD;
 			// If the player is below y=22, make sure they have permission to mine below city (don't check lots)&#xD;
     		if( location.getY() &lt; 22 &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.mine.capitol&quot;))&#xD;
     		{&#xD;
     			plugin.message.sendNo(player, &quot;You don't have permission to mine under the city.&quot;);&#xD;
     			return false;&#xD;
     		}&#xD;
     		// See if the player is inside a lot, and if they own it&#xD;
     		else if( !playerData.isInsideOwnLot(location) &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.build.anylot&quot;) )&#xD;
     		{&#xD;
     			Lot lot = plugin.lots.findCurrentLot(location);&#xD;
     			&#xD;
     			if( lot == null )&#xD;
     			{&#xD;
     				if( RageMod.perms.has(player, &quot;ragemod.build.capitol&quot;) || playerData.permits.capitol == true )&#xD;
     					return true;&#xD;
     				&#xD;
     				plugin.message.sendNo(player, &quot;You don't have permission to edit city infrastructure.&quot;);&#xD;
     			}&#xD;
     			else&#xD;
     			{&#xD;
     				if( lot.owner.equals(&quot;&quot;) )&#xD;
     					plugin.message.sendNo(player, &quot;You cannot edit unclaimed lots.&quot;);&#xD;
     				else&#xD;
     				{&#xD;
     					// Check to see if the player has permission to build in this lot&#xD;
     					PlayerData ownerData = plugin.players.get(lot.owner);&#xD;
     					if( !ownerData.lotPermissions.contains(playerData.name) )&#xD;
     						plugin.message.parseNo(player, &quot;This lot is owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
     					else&#xD;
     						return true;&#xD;
     				}&#xD;
     			}&#xD;
     			&#xD;
     			return false;&#xD;
     		}&#xD;
     	}&#xD;
 	}&#xD;
 	// *** ZONE B (War Zone) ***&#xD;
 	else if( plugin.zones.isInZoneB(location) )&#xD;
 	{&#xD;
 		if( town != null &amp;&amp; town instanceof PlayerTown )&#xD;
 		{&#xD;
 			PlayerTown playerTown = (PlayerTown)town;&#xD;
 					&#xD;
 			// Players can only build inside their own towns&#xD;
 			if( !playerTown.getName().equals(playerData.townName) &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.build.anytown&quot;) ) &#xD;
 			{		&#xD;
 				plugin.message.sendNo(player, &quot;You can only build inside of your own town.&quot;);&#xD;
 				return false;&#xD;
 			}&#xD;
 			else if( playerTown.isInsideSanctumFloor(location) )&#xD;
 			{&#xD;
 				plugin.message.sendNo(player, &quot;You cannot modify the inner sanctum floor.&quot;);&#xD;
 				return false;&#xD;
 			}&#xD;
 			else if( playerTown.isInsideSanctum(location) )&#xD;
 			{&#xD;
 				if( block.getType() != Material.TORCH &amp;&amp; block.getType() != Material.GOLD_BLOCK ) &#xD;
 				{&#xD;
 					plugin.message.sendNo(player, &quot;Only torches and gold blocks can be placed inside the inner sanctum.&quot;);&#xD;
     				return false;&#xD;
 				}&#xD;
 				else if( block.getType() == Material.GOLD_BLOCK )&#xD;
 				{&#xD;
 					return playerTown.processGoldBlock(event);&#xD;
 				}	&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 	// *** TRAVEL ZONE ***&#xD;
 	else if( plugin.zones.isInTravelZone(location) &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.build.travelzone&quot;) )&#xD;
 	{&#xD;
 		plugin.message.sendNo(player, &quot;You cannot build inside the Travel Zone.&quot;);&#xD;
 		return false;&#xD;
 	}&#xD;
 	&#xD;
 	return true;&#xD;
 </body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_vyDfcIJREeGsv772wTim0Q" supplier="_tZo2kIJREeGsv772wTim0Q" client="_vq2rQIJREeGsv772wTim0Q" contract="_tZo2kIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vyDfcYJREeGsv772wTim0Q" name="RMBlockListener" method="_v3UZ8oJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_vyDfc4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_vyDfdIJREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_vyDfcoJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vyDfdoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyEGgIJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_vyDfdYJREeGsv772wTim0Q" type="_vq2rQIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vyEGgYJREeGsv772wTim0Q" name="onBlockBreak" method="_v3UZ94JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyEGgoJREeGsv772wTim0Q" name="event" type="_tbepoIJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vyEGg4JREeGsv772wTim0Q" name="onBlockPlace" method="_v3UZ-YJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyEGhIJREeGsv772wTim0Q" name="event" type="_tbfQsoJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_vyEGhYJREeGsv772wTim0Q" name="canEditBlock" visibility="private" method="_v3VBAIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_vyEGhoJREeGsv772wTim0Q" name="event" type="_tbfQsIJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyEGh4JREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyEtkIJREeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_vq4gcIJREeGsv772wTim0Q" name="RMPlayerListener" clientDependency="_vyHJ0YJREeGsv772wTim0Q">
            <ownedComment xmi:id="_v30JNoJREeGsv772wTim0Q">
              <body>Handle events for all Player related events&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <ownedAttribute xmi:id="_v2XXsoJREeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_teW-hYJREeGsv772wTim0Q" isReadOnly="true" association="_v4O_8IJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2X-wIJREeGsv772wTim0Q" name="questCommands" visibility="private" type="_s9580IJREeGsv772wTim0Q" association="_v4O_84JREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2X-wYJREeGsv772wTim0Q" name="compassCommands" visibility="private" type="_s7zrEIJREeGsv772wTim0Q" association="_v4O_9oJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2X-woJREeGsv772wTim0Q" name="lotCommands" visibility="private" type="_s8m8UIJREeGsv772wTim0Q" association="_v4PnAYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2Yl0IJREeGsv772wTim0Q" name="townCommands" visibility="private" type="_s-ADcIJREeGsv772wTim0Q" association="_v4PnBIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2Yl0YJREeGsv772wTim0Q" name="factionCommands" visibility="private" type="_s8b9MIJREeGsv772wTim0Q" association="_v4QOEYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2Yl0oJREeGsv772wTim0Q" name="debugCommands" visibility="private" type="_s8BtgIJREeGsv772wTim0Q" association="_v4QOFIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2Yl04JREeGsv772wTim0Q" name="commands" visibility="private" type="_s7jMYIJREeGsv772wTim0Q" association="_v4Q1IYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2Yl1IJREeGsv772wTim0Q" name="npcCommands" visibility="private" type="_s86eUIJREeGsv772wTim0Q" association="_v4Q1JIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2ZM4IJREeGsv772wTim0Q" name="npcTownCommands" visibility="private" type="_s9cCwIJREeGsv772wTim0Q" association="_v4RcMYJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2ZM4YJREeGsv772wTim0Q" name="permitCommands" visibility="private" type="_s9wy4IJREeGsv772wTim0Q" association="_v4RcNIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2ZM4oJREeGsv772wTim0Q" name="rageCommands" visibility="private" type="_vriAsIJREeGsv772wTim0Q" association="_v4SDQYJREeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VBBIJREeGsv772wTim0Q" name="RMPlayerListener" specification="_vyHw4IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VBBYJREeGsv772wTim0Q" name="instance" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_v3VBBoJREeGsv772wTim0Q" type="_vq4gcIJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>plugin = instance;&#xD;
     questCommands = new QuestCommands(plugin);&#xD;
     compassCommands = new CompassCommands(plugin);&#xD;
     lotCommands = new LotCommands(plugin);&#xD;
     townCommands = new TownCommands(plugin);&#xD;
     factionCommands = new FactionCommands(plugin);&#xD;
     debugCommands = new DebugCommands(plugin);&#xD;
     commands = new Commands(plugin);&#xD;
     npcCommands = new NPCCommands(plugin);&#xD;
     npcTownCommands = new NPCTownCommands(plugin);&#xD;
     permitCommands = new PermitCommands(plugin);&#xD;
     rageCommands = new RageCommands(plugin);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VBB4JREeGsv772wTim0Q" name="onPlayerJoin" specification="_v1nJwIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VBCIJREeGsv772wTim0Q" name="event" type="_vyF7soJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();    	&#xD;
 	PlayerData playerData = plugin.players.playerLogin(player.getName());    &#xD;
 	playerData.attachPlayer(player);&#xD;
 	&#xD;
		// Set the state info&#xD;
 	playerData.currentZone = plugin.zones.getZone(player.getLocation());&#xD;
 	playerData.currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
 	playerData.isInCapitol = plugin.zones.isInCapitol(player.getLocation()); &#xD;
 	&#xD;
 	// Display any messages they have from actions that happened while they were offline&#xD;
 	if( !playerData.logonMessageQueue.equals(&quot;&quot;) )&#xD;
 	{&#xD;
 		String[] split = playerData.logonMessageQueue.split(&quot;&lt;br>&quot;);&#xD;
 		&#xD;
 		for( String message : split )&#xD;
 		{&#xD;
 			if( !message.equals(&quot;&quot;) )&#xD;
 			{&#xD;
 				plugin.message.parse(player, message, ChatColor.DARK_GREEN);&#xD;
 			}&#xD;
 		}&#xD;
 		&#xD;
 		// Clear the message queue&#xD;
 		playerData.logonMessageQueue = &quot;&quot;;&#xD;
 		plugin.database.playerQueries.updatePlayer(playerData);&#xD;
 	}&#xD;
 	&#xD;
 	// Check for expired or new memberships&#xD;
 	if( RageMod.perms.playerInGroup(&quot;world&quot;, playerData.name, &quot;Member&quot;) &amp;&amp; !playerData.isMember &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.ismoderator&quot;) ) &#xD;
 	{&#xD;
 		// TODO: Find out a way to do this programatically&#xD;
 		// Message all mods/admins to demote the member&#xD;
 		for( Player onlinePlayer : plugin.getServer().getOnlinePlayers() )&#xD;
 		{&#xD;
 			if( RageMod.perms.has(onlinePlayer, &quot;ragemod.ismoderator&quot;) )&#xD;
 			{&#xD;
 				plugin.message.parse(onlinePlayer, playerData.getCodedName() + &quot;'s membership has expired - please /demote him/her.&quot;);&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 	else if( !RageMod.perms.playerInGroup(&quot;world&quot;, playerData.name, &quot;Member&quot;) &amp;&amp; playerData.isMember &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.ismoderator&quot;) ) &#xD;
 	{&#xD;
 		// Message all mods/admins to promote the member&#xD;
 		for( Player onlinePlayer : plugin.getServer().getOnlinePlayers() )&#xD;
 		{&#xD;
 			if( RageMod.perms.has(onlinePlayer, &quot;ragemod.ismoderator&quot;) )&#xD;
 			{&#xD;
 				plugin.message.parse(onlinePlayer, playerData.getCodedName() + &quot; has donated $&quot; + plugin.database.playerQueries.getRecentDonations(playerData.id_Player) + &quot; to the server!  Please /promote him/her.&quot;);&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VBCYJREeGsv772wTim0Q" name="onPlayerQuit" specification="_v1nw0YJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VBCoJREeGsv772wTim0Q" name="event" type="_vyGiw4JREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();    	&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());    	  &#xD;
 	&#xD;
 	// Make one final update to get values not important enough for instant update&#xD;
 	playerData.update();&#xD;
 	&#xD;
 	plugin.database.playerQueries.playerLogoff(playerData.id_Player);&#xD;
 	plugin.database.playerQueries.recordInstances(playerData);&#xD;
 	plugin.database.playerQueries.recordAffinity(playerData);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VBC4JREeGsv772wTim0Q" name="onPlayerCommandPreprocess" specification="_v1nw1IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VBDIJREeGsv772wTim0Q" name="event" type="_vyFUooJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	&#xD;
 	String[] split = event.getMessage().split(&quot; &quot;);&#xD;
 	&#xD;
 	// *** Reduce the command tree for the lot-only release ***&#xD;
 	&#xD;
 	// ********* BASIC COMMANDS *********&#xD;
 	if(split[0].equalsIgnoreCase(&quot;/zone&quot;))&#xD;
 	{&#xD;
 		commands.zone(player);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/language&quot;) || split[0].equalsIgnoreCase(&quot;/lang&quot;) )&#xD;
 	{&#xD;
 		commands.language(player);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/affinity&quot;) || split[0].equalsIgnoreCase(&quot;/aff&quot;) )&#xD;
 	{&#xD;
 		commands.affinity(player);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/rage&quot;) )&#xD;
 	{&#xD;
 		rageCommands.onCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* COMPASS COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/compass&quot;) )&#xD;
 	{&#xD;
 		compassCommands.onCompassCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* LOT COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/lot&quot;) )&#xD;
 	{&#xD;
 		lotCommands.onLotCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* DEBUG COMMANDS **********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/debug&quot;) ) &#xD;
 	{&#xD;
 		if( RageMod.perms.has(player, &quot;ragemod.debug&quot;) )&#xD;
 			debugCommands.onRmdebugCommand(player, playerData, split);  &#xD;
 		else&#xD;
 			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* PERMIT COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/permit&quot;) )&#xD;
 	{&#xD;
 		permitCommands.onCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* NPC COMMANDS ************&#xD;
 	else if(split[0].equalsIgnoreCase(&quot;/npc&quot;))&#xD;
 	{&#xD;
 		if(RageMod.perms.has(player, &quot;ragemod.npc&quot;))&#xD;
			{&#xD;
 			npcCommands.onNPCCommand(player, playerData, split);&#xD;
			}&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* NPCTOWN COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/npctown&quot;) )&#xD;
 	{&#xD;
 		npcTownCommands.onNPCTownCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	&#xD;
 	&#xD;
 	if( !plugin.config.PRE_RELEASE_MODE )&#xD;
 	{&#xD;
     	// ********* BASIC COMMANDS *********&#xD;
     	if( split[0].equalsIgnoreCase(&quot;/spawn&quot;) )&#xD;
     	{&#xD;
     		if( split.length == 1 )&#xD;
     			commands.spawn(player, playerData.name);&#xD;
     		else if( split.length == 2 )&#xD;
     			commands.spawn(player, split[1]);&#xD;
     		else&#xD;
     			plugin.message.parse(player, &quot;Usage: /spawn [player_name]&quot;);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	else if( split[0].equalsIgnoreCase(&quot;/home&quot;) )&#xD;
     	{&#xD;
     		if( split.length == 1 )&#xD;
     			commands.home(player, playerData.name);&#xD;
     		else if( split.length == 2 )&#xD;
     			commands.home(player, split[1]);&#xD;
     		else&#xD;
     			plugin.message.parse(player, &quot;Usage: /home [player_name]&quot;);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	// ********* TOWN COMMANDS *********&#xD;
     	else if( split[0].equalsIgnoreCase(&quot;/town&quot;) )&#xD;
     	{&#xD;
     		townCommands.onTownCommand(player, playerData, split);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	// ********* FACTION COMMANDS **********&#xD;
     	else if(split[0].equalsIgnoreCase(&quot;/faction&quot;) )&#xD;
     	{&#xD;
     		factionCommands.onFactionCommand(player, playerData, split);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	// ********* QUEST COMMANDS **********&#xD;
     	else if(split[0].equalsIgnoreCase(&quot;/quest&quot;)) &#xD;
     	{&#xD;
     		questCommands.onQuestCommand(player, playerData, split);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
 	}&#xD;
 		&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VBDYJREeGsv772wTim0Q" name="onPlayerMove" specification="_v1oX4YJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VBDoJREeGsv772wTim0Q" name="event" type="_vyF7tIJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
     PlayerData playerData = plugin.players.get(player.getName());&#xD;
     World world = player.getWorld();&#xD;
&#xD;
     if( event.getFrom().getBlockX() != event.getTo().getBlockX() ||&#xD;
     	event.getFrom().getBlockZ() != event.getTo().getBlockZ() )&#xD;
     {&#xD;
     	// Check to see if the player has changed zones&#xD;
     	if( playerData.currentZone != plugin.zones.getZone(player.getLocation()))&#xD;
     	{&#xD;
     		playerData.currentZone = plugin.zones.getZone(player.getLocation());&#xD;
     		plugin.message.parse(player, &quot;Your current zone is now &quot; + plugin.zones.getName(playerData.currentZone));        		&#xD;
     	}&#xD;
     	&#xD;
     	// *** ZONE A (Neutral Zone) ***&#xD;
     	if( playerData.currentZone == RageZones.Zone.A )&#xD;
     	{&#xD;
     		// Check to see if the player has entered or left the capitol&#xD;
     		if( playerData.isInCapitol )&#xD;
     		{&#xD;
     			if( !plugin.zones.isInCapitol(player.getLocation()) )&#xD;
     			{&#xD;
     				playerData.isInCapitol = false;&#xD;
     				&#xD;
     				&#xD;
     				// TODO: Is this necessary?  It might end up doing more harm than good...&#xD;
     				&#xD;
     				if( playerData.enterLeaveMessageTime == null || Util.secondsSince(playerData.enterLeaveMessageTime) > 10 )&#xD;
     				{&#xD;
     					plugin.message.parse(player, &quot;Now leaving the capitol of &quot; + plugin.config.Capitol_CodedName);&#xD;
     					playerData.enterLeaveMessageTime = Util.now();&#xD;
     				}&#xD;
     			}&#xD;
     		}&#xD;
     		else&#xD;
     		{&#xD;
     			if( plugin.zones.isInCapitol(player.getLocation()) )&#xD;
     			{&#xD;
     				playerData.isInCapitol = true;&#xD;
     				&#xD;
     				if( playerData.enterLeaveMessageTime == null || Util.secondsSince(playerData.enterLeaveMessageTime) > 10 )&#xD;
     				{&#xD;
     					plugin.message.parse(player, &quot;Now entering the capitol of &quot; + plugin.config.Capitol_CodedName);&#xD;
     					playerData.enterLeaveMessageTime = Util.now();&#xD;
     				}&#xD;
     			}&#xD;
     			else&#xD;
     			{&#xD;
     				// See if the player has entered or left a Town&#xD;
     	        	if( playerData.currentTown == null )&#xD;
     	        	{&#xD;
     	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
     	        		if( currentTown != null )&#xD;
     	        		{&#xD;
     	        			plugin.message.parse(player, &quot;Now entering the &quot; + currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + currentTown.getCodedName());&#xD;
     	        			playerData.currentTown = currentTown;&#xD;
     	        			&#xD;
     	        		}&#xD;
     	        	}&#xD;
     	        	else&#xD;
     	        	{&#xD;
     	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
     	        		if( currentTown == null )&#xD;
     	        		{&#xD;
     	        			plugin.message.parse(player, &quot;Now leaving the &quot; + playerData.currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + playerData.currentTown.getCodedName());&#xD;
     	        			playerData.currentTown = null;&#xD;
     	        			&#xD;
     	        		}&#xD;
     	        	}&#xD;
     			}&#xD;
     		}&#xD;
     	}&#xD;
     	// *** ZONE B (War Zone) ***&#xD;
     	else if( playerData.currentZone == RageZones.Zone.B )&#xD;
     	{&#xD;
	        	// See if the player has entered or left a Town&#xD;
	        	if( playerData.currentTown == null )&#xD;
	        	{&#xD;
	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
	        		if( currentTown != null )&#xD;
	        		{&#xD;
	        			plugin.message.parse(player, &quot;Now entering the &quot; + currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + currentTown.getCodedName());&#xD;
	        			playerData.currentTown = currentTown;&#xD;
	        			&#xD;
	        		}&#xD;
	        	}&#xD;
	        	else&#xD;
	        	{&#xD;
	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
	        		if( currentTown == null )&#xD;
	        		{&#xD;
	        			plugin.message.parse(player, &quot;Now leaving the &quot; + playerData.currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + playerData.currentTown.getCodedName());&#xD;
	        			playerData.currentTown = null;&#xD;
	        			&#xD;
	        		}&#xD;
	        	}&#xD;
     	}&#xD;
     }&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VoEIJREeGsv772wTim0Q" name="onPlayerInteract" specification="_v1oX5IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VoEYJREeGsv772wTim0Q" name="event" type="_vyF7sIJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Action action = event.getAction();&#xD;
 	Block block = event.getClickedBlock();&#xD;
&#xD;
 	if(action == Action.RIGHT_CLICK_BLOCK)&#xD;
 	{&#xD;
 		&#xD;
 	}	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VoEoJREeGsv772wTim0Q" name="onPlayerRespawn" specification="_v1o-8YJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VoE4JREeGsv772wTim0Q" name="event" type="_vyGixYJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	&#xD;
 	if( playerData.getSpawn() != null &amp;&amp; !plugin.config.PRE_RELEASE_MODE )&#xD;
 	{&#xD;
 		event.setRespawnLocation(playerData.getSpawn());&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3VoFIJREeGsv772wTim0Q" name="onPlayerPortal" specification="_v1o-9IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3VoFYJREeGsv772wTim0Q" name="event" type="_vyGiwYJREeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
	    PlayerData playerData = plugin.players.get(player.getName());&#xD;
	    World world = player.getWorld();&#xD;
	    &#xD;
	    if( plugin.config.PRE_RELEASE_MODE )&#xD;
	    	return;&#xD;
	    &#xD;
	    // Portals in normal world&#xD;
	    if( world.getName().equalsIgnoreCase(&quot;world&quot;) )&#xD;
	    {&#xD;
	    	// *** ZONE A (Neutral Zone) ***&#xD;
	    	if( playerData.currentZone == RageZones.Zone.A )&#xD;
	    	{&#xD;
	    		// All portals from the capitol will go to the center of the Travel Zone&#xD;
	    		if( plugin.zones.isInCapitol(player.getLocation()) )&#xD;
	    			event.setTo(plugin.zones.TZ_Center);&#xD;
	    	}&#xD;
	    	else if( playerData.currentZone == RageZones.Zone.B )&#xD;
	    	{&#xD;
	    		if( playerData.currentTown != null &amp;&amp; playerData.currentTown instanceof PlayerTown )&#xD;
	    		{&#xD;
	    			PlayerTown currentTown = (PlayerTown)playerData.currentTown;&#xD;
	    			event.setTo(currentTown.travelNode);&#xD;
	    		}&#xD;
	    		else&#xD;
	    			event.setTo(plugin.zones.TZ_Center);&#xD;
	    	}&#xD;
	    }&#xD;
	    else if( world.getName().equalsIgnoreCase(&quot;world_nether&quot;) )&#xD;
	    {&#xD;
	    	// Temp: Make all portals go back to capitol&#xD;
	    	event.setTo(plugin.zones.Capitol_Portal);&#xD;
	    }&#xD;
	    &#xD;
 </body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_vyHJ0YJREeGsv772wTim0Q" supplier="_tZo2kIJREeGsv772wTim0Q" client="_vq4gcIJREeGsv772wTim0Q" contract="_tZo2kIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vyHw4IJREeGsv772wTim0Q" name="RMPlayerListener" method="_v3VBBIJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_vyHw4oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_vyHw44JREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_vyHw4YJREeGsv772wTim0Q" name="instance" type="_teW-hYJREeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_vyHw5IJREeGsv772wTim0Q" type="_vq4gcIJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1nJwIJREeGsv772wTim0Q" name="onPlayerJoin" method="_v3VBB4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1nJwYJREeGsv772wTim0Q" name="event" type="_vyF7soJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1nw0YJREeGsv772wTim0Q" name="onPlayerQuit" method="_v3VBCYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1nw0oJREeGsv772wTim0Q" name="event" type="_vyGiw4JREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1nw1IJREeGsv772wTim0Q" name="onPlayerCommandPreprocess" method="_v3VBC4JREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1nw1YJREeGsv772wTim0Q" name="event" type="_vyFUooJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1oX4YJREeGsv772wTim0Q" name="onPlayerMove" method="_v3VBDYJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1oX4oJREeGsv772wTim0Q" name="event" type="_vyF7tIJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1oX5IJREeGsv772wTim0Q" name="onPlayerInteract" method="_v3VoEIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1oX5YJREeGsv772wTim0Q" name="event" type="_vyF7sIJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1o-8YJREeGsv772wTim0Q" name="onPlayerRespawn" method="_v3VoEoJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1o-8oJREeGsv772wTim0Q" name="event" type="_vyGixYJREeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_v1o-9IJREeGsv772wTim0Q" name="onPlayerPortal" method="_v3VoFIJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v1o-9YJREeGsv772wTim0Q" name="event" type="_vyGiwYJREeGsv772wTim0Q"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_vrQT4IJREeGsv772wTim0Q" name="RageTimer" clientDependency="_v1sCQYJREeGsv772wTim0Q">
            <ownedAttribute xmi:id="_v2vyMIJREeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_teW-hYJREeGsv772wTim0Q" isReadOnly="true" association="_v4T4dIJREeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_v2vyMoJREeGsv772wTim0Q" name="secondHand" visibility="package">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_v2vyM4JREeGsv772wTim0Q" value="0"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3W2MIJREeGsv772wTim0Q" name="RageTimer" specification="_vyQ60IJREeGsv772wTim0Q">
              <ownedParameter xmi:id="_v3W2MYJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v3W2MoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v3W2M4JREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_v3W2NIJREeGsv772wTim0Q" type="_vrQT4IJREeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3W2NYJREeGsv772wTim0Q" name="run" specification="_vrQ68IJREeGsv772wTim0Q">
              <language>java</language>
              <body>// Process per-minute tasks (separated out for efficiency)&#xD;
		//if( secondHand == 0 )&#xD;
		//{&#xD;
			// Process town upkeep/taxes&#xD;
			if( plugin.tasks.getSeconds(&quot;TOWN_UPKEEP&quot;) > plugin.config.Task_TOWN_UPKEEP )&#xD;
			{&#xD;
				plugin.tasks.processTownUpkeeps();&#xD;
				plugin.tasks.setComplete(&quot;TOWN_UPKEEP&quot;);&#xD;
			}&#xD;
			// Fill sandlot&#xD;
			if( plugin.tasks.getSeconds(&quot;FILL_SANDLOT&quot;) > plugin.config.Task_FILL_SANDLOT )&#xD;
			{&#xD;
				System.out.println(&quot;It has been &quot; + plugin.tasks.getSeconds(&quot;FILL_SANDLOT&quot;) + &quot; seconds since the last sandlot fill.&quot;);&#xD;
				plugin.tasks.processFillSandlot(plugin);&#xD;
				plugin.tasks.setComplete(&quot;FILL_SANDLOT&quot;);&#xD;
			}&#xD;
			&#xD;
				&#xD;
			&#xD;
		//}&#xD;
		&#xD;
		&#xD;
		&#xD;
		&#xD;
		// Increment/reset the second hand&#xD;
		secondHand++;&#xD;
		if( secondHand == 60 )&#xD;
			secondHand = 0;&#xD;
	</body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_v1sCQYJREeGsv772wTim0Q" supplier="_v1rbMIJREeGsv772wTim0Q" client="_vrQT4IJREeGsv772wTim0Q" contract="_v1rbMIJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vrQ68IJREeGsv772wTim0Q" name="run" method="_v3W2NYJREeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_vyQ60IJREeGsv772wTim0Q" name="RageTimer" method="_v3W2MIJREeGsv772wTim0Q">
              <eAnnotations xmi:id="_vyQ60oJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_vyQ604JREeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_vyQ60YJREeGsv772wTim0Q" name="plugin" type="_teW-hYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_vyRh4YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vyRh4oJREeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_vyRh4IJREeGsv772wTim0Q" type="_vrQT4IJREeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_v1rbMIJREeGsv772wTim0Q" name="Runnable"/>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4NKwIJREeGsv772wTim0Q" name="" memberEnd="_v4NKwYJREeGsv772wTim0Q _v2WwoIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4NKwYJREeGsv772wTim0Q" name="" type="_vqzA4IJREeGsv772wTim0Q" association="_v4NKwIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4Nx0YJREeGsv772wTim0Q" name="" memberEnd="_v4Nx0oJREeGsv772wTim0Q _v2WwoYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4Nx0oJREeGsv772wTim0Q" name="" type="_vqzA4IJREeGsv772wTim0Q" association="_v4Nx0YJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4OY4IJREeGsv772wTim0Q" name="" memberEnd="_v4OY4YJREeGsv772wTim0Q _v2WwooJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4OY4YJREeGsv772wTim0Q" name="" type="_vqzA4IJREeGsv772wTim0Q" association="_v4OY4IJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4OY44JREeGsv772wTim0Q" name="" memberEnd="_v4OY5IJREeGsv772wTim0Q _v2XXsIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4OY5IJREeGsv772wTim0Q" name="" type="_vq2rQIJREeGsv772wTim0Q" association="_v4OY44JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4O_8IJREeGsv772wTim0Q" name="" memberEnd="_v4O_8YJREeGsv772wTim0Q _v2XXsoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4O_8YJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4O_8IJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4O_84JREeGsv772wTim0Q" name="" memberEnd="_v4O_9IJREeGsv772wTim0Q _v2X-wIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4O_9IJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4O_84JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4O_9oJREeGsv772wTim0Q" name="" memberEnd="_v4O_94JREeGsv772wTim0Q _v2X-wYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4O_94JREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4O_9oJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4PnAYJREeGsv772wTim0Q" name="" memberEnd="_v4PnAoJREeGsv772wTim0Q _v2X-woJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4PnAoJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4PnAYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4PnBIJREeGsv772wTim0Q" name="" memberEnd="_v4PnBYJREeGsv772wTim0Q _v2Yl0IJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4PnBYJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4PnBIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4QOEYJREeGsv772wTim0Q" name="" memberEnd="_v4QOEoJREeGsv772wTim0Q _v2Yl0YJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4QOEoJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4QOEYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4QOFIJREeGsv772wTim0Q" name="" memberEnd="_v4QOFYJREeGsv772wTim0Q _v2Yl0oJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4QOFYJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4QOFIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4Q1IYJREeGsv772wTim0Q" name="" memberEnd="_v4Q1IoJREeGsv772wTim0Q _v2Yl04JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4Q1IoJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4Q1IYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4Q1JIJREeGsv772wTim0Q" name="" memberEnd="_v4Q1JYJREeGsv772wTim0Q _v2Yl1IJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4Q1JYJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4Q1JIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4RcMYJREeGsv772wTim0Q" name="" memberEnd="_v4RcMoJREeGsv772wTim0Q _v2ZM4IJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4RcMoJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4RcMYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4RcNIJREeGsv772wTim0Q" name="" memberEnd="_v4RcNYJREeGsv772wTim0Q _v2ZM4YJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4RcNYJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4RcNIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4SDQYJREeGsv772wTim0Q" name="" memberEnd="_v4SDQoJREeGsv772wTim0Q _v2ZM4oJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4SDQoJREeGsv772wTim0Q" name="" type="_vq4gcIJREeGsv772wTim0Q" association="_v4SDQYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4SDRIJREeGsv772wTim0Q" name="" memberEnd="_v4SDRYJREeGsv772wTim0Q _v2Zz8IJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4SDRYJREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4SDRIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4SqUIJREeGsv772wTim0Q" name="" memberEnd="_v4SqUYJREeGsv772wTim0Q _v2abAYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4SqUYJREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4SqUIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4SqU4JREeGsv772wTim0Q" name="" memberEnd="_v4SqVIJREeGsv772wTim0Q _v2ghpIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4SqVIJREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4SqU4JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4SqVoJREeGsv772wTim0Q" name="" memberEnd="_v4SqV4JREeGsv772wTim0Q _v2tV8YJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4SqV4JREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4SqVoJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4TRYYJREeGsv772wTim0Q" name="" memberEnd="_v4TRYoJREeGsv772wTim0Q _v2t9AIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4TRYoJREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4TRYYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4TRZIJREeGsv772wTim0Q" name="" memberEnd="_v4TRZYJREeGsv772wTim0Q _v2t9A4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4TRZYJREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4TRZIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4T4cYJREeGsv772wTim0Q" name="" memberEnd="_v4T4coJREeGsv772wTim0Q _v2ukEoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4T4coJREeGsv772wTim0Q" name="" type="_taP6kIJREeGsv772wTim0Q" association="_v4T4cYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4T4dIJREeGsv772wTim0Q" name="" memberEnd="_v4T4dYJREeGsv772wTim0Q _v2vyMIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4T4dYJREeGsv772wTim0Q" name="" type="_vrQT4IJREeGsv772wTim0Q" association="_v4T4dIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4UfgIJREeGsv772wTim0Q" name="" memberEnd="_v4UfgYJREeGsv772wTim0Q _v2xnYYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4UfgYJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4UfgIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4Ufg4JREeGsv772wTim0Q" name="" memberEnd="_v4UfhIJREeGsv772wTim0Q _v2xnY4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4UfhIJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4Ufg4JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4UfhoJREeGsv772wTim0Q" name="" memberEnd="_v4Ufh4JREeGsv772wTim0Q _v2yOcIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4Ufh4JREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4UfhoJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4VGkYJREeGsv772wTim0Q" name="" memberEnd="_v4VGkoJREeGsv772wTim0Q _v2yOcoJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4VGkoJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4VGkYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4VGlIJREeGsv772wTim0Q" name="" memberEnd="_v4VGlYJREeGsv772wTim0Q _v2yOdIJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4VGlYJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4VGlIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4VtoYJREeGsv772wTim0Q" name="" memberEnd="_v4VtooJREeGsv772wTim0Q _v2y1gYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4VtooJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4VtoYJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4VtpIJREeGsv772wTim0Q" name="" memberEnd="_v4VtpYJREeGsv772wTim0Q _v2y1g4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4VtpYJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4VtpIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4WUsIJREeGsv772wTim0Q" name="" memberEnd="_v4WUsYJREeGsv772wTim0Q _v2y1hYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4WUsYJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4WUsIJREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4WUs4JREeGsv772wTim0Q" name="" memberEnd="_v4WUtIJREeGsv772wTim0Q _v2zckYJREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4WUtIJREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4WUs4JREeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_v4WUtoJREeGsv772wTim0Q" name="" memberEnd="_v4WUt4JREeGsv772wTim0Q _v2zck4JREeGsv772wTim0Q">
            <ownedEnd xmi:id="_v4WUt4JREeGsv772wTim0Q" name="" type="_taRIsIJREeGsv772wTim0Q" association="_v4WUtoJREeGsv772wTim0Q"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_snckoIJREeGsv772wTim0Q" name="citizensnpcs">
        <packagedElement xmi:type="uml:Package" xmi:id="_snckoYJREeGsv772wTim0Q" name="api">
          <packagedElement xmi:type="uml:Package" xmi:id="_snckooJREeGsv772wTim0Q" name="event">
            <packagedElement xmi:type="uml:Class" xmi:id="_tZhh0IJREeGsv772wTim0Q" name="NPCTargetEvent"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_s1zwwIJREeGsv772wTim0Q" name="lib">
          <packagedElement xmi:type="uml:Package" xmi:id="_s1zwwYJREeGsv772wTim0Q" name="creatures">
            <packagedElement xmi:type="uml:Class" xmi:id="_tcWzYIJREeGsv772wTim0Q" name="CreatureNPC"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcVlQIJREeGsv772wTim0Q" name="NPC"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcWMUIJREeGsv772wTim0Q" name="NPCNetHandler"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_snx70IJREeGsv772wTim0Q" name="milkbowl">
        <packagedElement xmi:type="uml:Package" xmi:id="_snx70YJREeGsv772wTim0Q" name="vault">
          <packagedElement xmi:type="uml:Package" xmi:id="_snx70oJREeGsv772wTim0Q" name="economy">
            <packagedElement xmi:type="uml:Class" xmi:id="_tZyAgYJREeGsv772wTim0Q" name="Economy"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_taKbAYJREeGsv772wTim0Q" name="EconomyResponse"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_snyi4IJREeGsv772wTim0Q" name="permission">
            <packagedElement xmi:type="uml:Class" xmi:id="_tZynkYJREeGsv772wTim0Q" name="Permission"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_tbcNYYJREeGsv772wTim0Q" name="Vault"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_s1zwwoJREeGsv772wTim0Q" name="minecraft">
        <packagedElement xmi:type="uml:Package" xmi:id="_s1zww4JREeGsv772wTim0Q" name="server">
          <packagedElement xmi:type="uml:Class" xmi:id="_tcXacIJREeGsv772wTim0Q" name="EntityHuman"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcYBgIJREeGsv772wTim0Q" name="EntityPlayer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcYBgoJREeGsv772wTim0Q" name="ItemInWorldManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcYokYJREeGsv772wTim0Q" name="NetHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcZPoYJREeGsv772wTim0Q" name="NetServerHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcZ2sYJREeGsv772wTim0Q" name="NetworkManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcadwYJREeGsv772wTim0Q" name="Packet18ArmAnimation"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcbE0YJREeGsv772wTim0Q" name="WorldServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tccS8YJREeGsv772wTim0Q" name="Entity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdAToIJREeGsv772wTim0Q" name="IInventory"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdATooJREeGsv772wTim0Q" name="TileEntityChest"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdD-AYJREeGsv772wTim0Q" name="AxisAlignedBB"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdElEYJREeGsv772wTim0Q" name="EnumSkyBlock"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdFMIYJREeGsv772wTim0Q" name="PlayerManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdFzMYJREeGsv772wTim0Q" name="WorldProvider"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdHoYIJREeGsv772wTim0Q" name="World"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdL50IJREeGsv772wTim0Q" name="MinecraftServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdSAcIJREeGsv772wTim0Q" name="Packet"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdTOkIJREeGsv772wTim0Q" name="Packet101CloseWindow"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdT1oIJREeGsv772wTim0Q" name="Packet102WindowClick"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdUcsIJREeGsv772wTim0Q" name="Packet106Transaction"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdVDwIJREeGsv772wTim0Q" name="Packet10Flying"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdVDwoJREeGsv772wTim0Q" name="Packet130UpdateSign"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdVq0YJREeGsv772wTim0Q" name="Packet14BlockDig"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdWR4YJREeGsv772wTim0Q" name="Packet15Place"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdW48YJREeGsv772wTim0Q" name="Packet16BlockItemSwitch"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdXgAYJREeGsv772wTim0Q" name="Packet19EntityAction"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdYHEYJREeGsv772wTim0Q" name="Packet255KickDisconnect"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdZVMIJREeGsv772wTim0Q" name="Packet3Chat"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdZ8QIJREeGsv772wTim0Q" name="Packet7UseEntity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdajUYJREeGsv772wTim0Q" name="Packet9Respawn"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_v1OvQoJREeGsv772wTim0Q" name="NetworkListenThread"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_v1PWUYJREeGsv772wTim0Q" name="PropertyManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_v1PWU4JREeGsv772wTim0Q" name="ServerConfigurationManager"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_snH0gIJREeGsv772wTim0Q" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_snH0gYJREeGsv772wTim0Q" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_srA2AIJREeGsv772wTim0Q" name="logging">
          <packagedElement xmi:type="uml:Class" xmi:id="_tahAUIJREeGsv772wTim0Q" name="Level"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tc_FgIJREeGsv772wTim0Q" name="Logger"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_s2VVMIJREeGsv772wTim0Q" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="_tdDW8IJREeGsv772wTim0Q" name="Callable"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZXJwIJREeGsv772wTim0Q" name="ArrayList"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZeegIJREeGsv772wTim0Q" name="Random"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZxZcYJREeGsv772wTim0Q" name="HashMap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZ-00YJREeGsv772wTim0Q" name="Date"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tawQ4IJREeGsv772wTim0Q" name="Collections"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tbM80IJREeGsv772wTim0Q" name="HashSet"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tba_QIJREeGsv772wTim0Q" name="List"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tbbmUYJREeGsv772wTim0Q" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tcUXIYJREeGsv772wTim0Q" name="Timer"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tcU-MIJREeGsv772wTim0Q" name="TimerTask"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tdjGMIJREeGsv772wTim0Q" name="Arrays"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_tdjtQYJREeGsv772wTim0Q" name="Comparator"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_vp5B8IJREeGsv772wTim0Q" name="regex">
          <packagedElement xmi:type="uml:Class" xmi:id="_v1B68YJREeGsv772wTim0Q" name="Matcher"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_v1B684JREeGsv772wTim0Q" name="Pattern"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_v1BT44JREeGsv772wTim0Q" name="Iterator"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_v1TAsoJREeGsv772wTim0Q" name="Collection"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_snxUwIJREeGsv772wTim0Q" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_tZwyYIJREeGsv772wTim0Q" name="File"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tdrCAIJREeGsv772wTim0Q" name="ByteArrayInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tdsQIIJREeGsv772wTim0Q" name="ByteArrayOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tds3MIJREeGsv772wTim0Q" name="InputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tdteQIJREeGsv772wTim0Q" name="OutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_vyAcIIJREeGsv772wTim0Q" name="IOException"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_sou-EIJREeGsv772wTim0Q" name="sql">
        <packagedElement xmi:type="uml:Class" xmi:id="_tZ-NwIJREeGsv772wTim0Q" name="Timestamp"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tb45UIJREeGsv772wTim0Q" name="Connection"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tb5gYYJREeGsv772wTim0Q" name="PreparedStatement"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tb6HcYJREeGsv772wTim0Q" name="ResultSet"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tb8jsIJREeGsv772wTim0Q" name="SQLException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tcAOEIJREeGsv772wTim0Q" name="Statement"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_s1zJsIJREeGsv772wTim0Q" name="net">
        <packagedElement xmi:type="uml:Class" xmi:id="_tcTwEIJREeGsv772wTim0Q" name="Socket"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_vqEoIIJREeGsv772wTim0Q" name="lang">
        <packagedElement xmi:type="uml:Package" xmi:id="_vqEoIYJREeGsv772wTim0Q" name="reflect">
          <packagedElement xmi:type="uml:Class" xmi:id="_v1TAsIJREeGsv772wTim0Q" name="Method"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_v1aVcIJREeGsv772wTim0Q" name="Field"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_snIbkoJREeGsv772wTim0Q" name="org">
      <packagedElement xmi:type="uml:Package" xmi:id="_snIbk4JREeGsv772wTim0Q" name="bukkit">
        <packagedElement xmi:type="uml:Package" xmi:id="_snJCoIJREeGsv772wTim0Q" name="block">
          <packagedElement xmi:type="uml:Class" xmi:id="_tZZmAoJREeGsv772wTim0Q" name="Block"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_ta1wcIJREeGsv772wTim0Q" name="Sign"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_snOiMIJREeGsv772wTim0Q" name="inventory">
          <packagedElement xmi:type="uml:Class" xmi:id="_tZbbMIJREeGsv772wTim0Q" name="Inventory"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZcCQYJREeGsv772wTim0Q" name="ItemStack"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcc6AYJREeGsv772wTim0Q" name="PlayerInventory"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_sndywIJREeGsv772wTim0Q" name="entity">
          <packagedElement xmi:type="uml:Class" xmi:id="_tZiv8YJREeGsv772wTim0Q" name="Creature"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZj-EIJREeGsv772wTim0Q" name="CreatureType"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZklIIJREeGsv772wTim0Q" name="Entity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZklIoJREeGsv772wTim0Q" name="HumanEntity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZlMMYJREeGsv772wTim0Q" name="Player"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZlzQYJREeGsv772wTim0Q" name="Sheep"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZ_b4YJREeGsv772wTim0Q" name="Chicken"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taAC8YJREeGsv772wTim0Q" name="Cow"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taAqAIJREeGsv772wTim0Q" name="Creeper"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taBREIJREeGsv772wTim0Q" name="EnderDragon"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taBREoJREeGsv772wTim0Q" name="Enderman"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taB4IYJREeGsv772wTim0Q" name="Ghast"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taCfMYJREeGsv772wTim0Q" name="Giant"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taDGQYJREeGsv772wTim0Q" name="Pig"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taDtUYJREeGsv772wTim0Q" name="PigZombie"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taEUYYJREeGsv772wTim0Q" name="Skeleton"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taE7cYJREeGsv772wTim0Q" name="Slime"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taFigIJREeGsv772wTim0Q" name="Spider"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taGJkIJREeGsv772wTim0Q" name="Squid"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taGJkoJREeGsv772wTim0Q" name="Wolf"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_taGwoYJREeGsv772wTim0Q" name="Zombie"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_sneZ0IJREeGsv772wTim0Q" name="event">
          <packagedElement xmi:type="uml:Package" xmi:id="_sneZ0YJREeGsv772wTim0Q" name="entity">
            <packagedElement xmi:type="uml:Class" xmi:id="_tZqEsIJREeGsv772wTim0Q" name="CreatureSpawnEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZqrwYJREeGsv772wTim0Q" name="EntityDamageByEntityEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZrS0YJREeGsv772wTim0Q" name="EntityDamageEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZr54YJREeGsv772wTim0Q" name="EntityTargetEvent"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_snrOIIJREeGsv772wTim0Q" name="server">
            <packagedElement xmi:type="uml:Class" xmi:id="_tZuWIIJREeGsv772wTim0Q" name="PluginDisableEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tZu9MYJREeGsv772wTim0Q" name="PluginEnableEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v1UO0YJREeGsv772wTim0Q" name="ServerListener"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_sw40gIJREeGsv772wTim0Q" name="block">
            <packagedElement xmi:type="uml:Class" xmi:id="_tbepoIJREeGsv772wTim0Q" name="BlockBreakEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tbfQsIJREeGsv772wTim0Q" name="BlockEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tbfQsoJREeGsv772wTim0Q" name="BlockPlaceEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyFUoIJREeGsv772wTim0Q" name="Action"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_s186sIJREeGsv772wTim0Q" name="world">
            <packagedElement xmi:type="uml:Class" xmi:id="_tck10IJREeGsv772wTim0Q" name="ChunkLoadEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_v1UO04JREeGsv772wTim0Q" name="WorldListener"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_tZo2kIJREeGsv772wTim0Q" name="Listener"/>
          <packagedElement xmi:type="uml:Package" xmi:id="_vjTRwIJREeGsv772wTim0Q" name="player">
            <packagedElement xmi:type="uml:Class" xmi:id="_vyFUooJREeGsv772wTim0Q" name="PlayerCommandPreprocessEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyF7sIJREeGsv772wTim0Q" name="PlayerInteractEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyF7soJREeGsv772wTim0Q" name="PlayerJoinEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyF7tIJREeGsv772wTim0Q" name="PlayerMoveEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyGiwYJREeGsv772wTim0Q" name="PlayerPortalEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyGiw4JREeGsv772wTim0Q" name="PlayerQuitEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_vyGixYJREeGsv772wTim0Q" name="PlayerRespawnEvent"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_vqFPMIJREeGsv772wTim0Q" name="Event">
            <packagedElement xmi:type="uml:Class" xmi:id="_v1Tnw4JREeGsv772wTim0Q" name="Priority"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_v1TnwYJREeGsv772wTim0Q" name="Event"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_snr1MIJREeGsv772wTim0Q" name="plugin">
          <packagedElement xmi:type="uml:Package" xmi:id="_sn0_IIJREeGsv772wTim0Q" name="java">
            <packagedElement xmi:type="uml:Class" xmi:id="_tZ25AYJREeGsv772wTim0Q" name="JavaPlugin"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZvkQYJREeGsv772wTim0Q" name="Plugin"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZ1q4YJREeGsv772wTim0Q" name="PluginManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tZ2R8YJREeGsv772wTim0Q" name="RegisteredServiceProvider"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_s10-4IJREeGsv772wTim0Q" name="craftbukkit">
          <packagedElement xmi:type="uml:Package" xmi:id="_s18ToIJREeGsv772wTim0Q" name="entity">
            <packagedElement xmi:type="uml:Class" xmi:id="_tcjnsIJREeGsv772wTim0Q" name="CraftEntity"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tdA6sYJREeGsv772wTim0Q" name="CraftPlayer"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_tcbr4IJREeGsv772wTim0Q" name="CraftServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tdGaQYJREeGsv772wTim0Q" name="CraftWorld"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZYX4IJREeGsv772wTim0Q" name="Location"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZY-8IJREeGsv772wTim0Q" name="Material"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZZmAIJREeGsv772wTim0Q" name="World"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tZ1D0YJREeGsv772wTim0Q" name="Server"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_taJz8IJREeGsv772wTim0Q" name="ChatColor"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_ta6o8IJREeGsv772wTim0Q" name="DyeColor"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_vjNLIIJREeGsv772wTim0Q" name="configuration">
          <packagedElement xmi:type="uml:Package" xmi:id="_vjNLIYJREeGsv772wTim0Q" name="file">
            <packagedElement xmi:type="uml:Class" xmi:id="_vyBqQIJREeGsv772wTim0Q" name="YamlConfiguration"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_vyJmEIJREeGsv772wTim0Q" name="Configuration"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_vqCL4IJREeGsv772wTim0Q" name="command">
          <packagedElement xmi:type="uml:Class" xmi:id="_v1P9YYJREeGsv772wTim0Q" name="CommandSender"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_vyBDMYJREeGsv772wTim0Q" name="Bukkit"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_suK3sIJREeGsv772wTim0Q" name="getspout">
        <packagedElement xmi:type="uml:Package" xmi:id="_suLewIJREeGsv772wTim0Q" name="spoutapi">
          <packagedElement xmi:type="uml:Class" xmi:id="_tbBWoIJREeGsv772wTim0Q" name="SpoutManager"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_s2TgAIJREeGsv772wTim0Q" name="martin">
        <packagedElement xmi:type="uml:Package" xmi:id="_s2TgAYJREeGsv772wTim0Q" name="bukkit">
          <packagedElement xmi:type="uml:Package" xmi:id="_s2UHEIJREeGsv772wTim0Q" name="npclib">
            <packagedElement xmi:type="uml:Package" xmi:id="_s2ZmoIJREeGsv772wTim0Q" name="NPCPath">
              <packagedElement xmi:type="uml:Class" xmi:id="_tdNH8IJREeGsv772wTim0Q" name="Node"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tEpeAIJREeGsv772wTim0Q" name="BPlayer">
              <ownedComment xmi:id="_tpMVgYJREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <ownedAttribute xmi:id="_tl5J4IJREeGsv772wTim0Q" name="cPlayer" visibility="private" type="_tdA6sYJREeGsv772wTim0Q" association="_tqzfEYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tl5w8IJREeGsv772wTim0Q" name="ePlayer" visibility="private" type="_tcYBgIJREeGsv772wTim0Q" association="_tq0GIYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tow3uIJREeGsv772wTim0Q" name="BPlayer" specification="_tibmMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tow3uYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tow3uoJREeGsv772wTim0Q" type="_tEpeAIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>try {&#xD;
         //this.palyer = player;&#xD;
         cPlayer = (CraftPlayer) player;&#xD;
         ePlayer = cPlayer.getHandle();&#xD;
         //hPlayer = (EntityHuman) ePlayer;&#xD;
         //pManager = BServer.getInstance(player.getServer()).getWorld(player.getWorld().getName()).getPlayerManager();&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tow3u4JREeGsv772wTim0Q" name="openVirtualChest" specification="_ticNQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tow3vIJREeGsv772wTim0Q" name="chest" type="_tdATooJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>ePlayer.openContainer(chest);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toxewIJREeGsv772wTim0Q" name="openVirtualChest" specification="_ticNQoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toxewYJREeGsv772wTim0Q" name="lChest" type="_tcXacIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>ePlayer.openContainer((IInventory) lChest);&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tibmMIJREeGsv772wTim0Q" name="BPlayer" method="_tow3uIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tibmMoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tibmM4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tibmMYJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tibmNIJREeGsv772wTim0Q" type="_tEpeAIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ticNQIJREeGsv772wTim0Q" name="openVirtualChest" method="_tow3u4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ticNQYJREeGsv772wTim0Q" name="chest" type="_tdATooJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ticNQoJREeGsv772wTim0Q" name="openVirtualChest" method="_toxewIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ticNQ4JREeGsv772wTim0Q" name="lChest" type="_tcXacIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tEr6QIJREeGsv772wTim0Q" name="BWorld">
              <ownedComment xmi:id="_tpMVgoJREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <ownedAttribute xmi:id="_tl6_EIJREeGsv772wTim0Q" name="server" visibility="private" type="_tic0UoJREeGsv772wTim0Q" association="_tq0GJIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tl7mIYJREeGsv772wTim0Q" name="world" visibility="private" type="_tZZmAIJREeGsv772wTim0Q" association="_tq0tMYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tl8NMYJREeGsv772wTim0Q" name="cWorld" visibility="private" type="_tdGaQYJREeGsv772wTim0Q" association="_tq0tNIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tl80QYJREeGsv772wTim0Q" name="mcWorld" visibility="private" type="_tdHoYIJREeGsv772wTim0Q" association="_tq1UQYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tl9bUYJREeGsv772wTim0Q" name="wServer" visibility="private" type="_tcbE0YJREeGsv772wTim0Q" association="_tq1URIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tl-CYYJREeGsv772wTim0Q" name="wProvider" visibility="private" type="_tdFzMYJREeGsv772wTim0Q" association="_tq17UYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toxewoJREeGsv772wTim0Q" name="BWorld" specification="_tieCcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toxew4JREeGsv772wTim0Q" name="server" type="_tic0UoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toxexIJREeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toxexYJREeGsv772wTim0Q" type="_tEr6QIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.server = server;&#xD;
     world = server.getServer().getWorld(worldName);&#xD;
     try {&#xD;
         cWorld = (CraftWorld) world;&#xD;
         wServer = cWorld.getHandle();&#xD;
         wProvider = wServer.worldProvider;&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toxexoJREeGsv772wTim0Q" name="BWorld" specification="_tiepgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toxex4JREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toxeyIJREeGsv772wTim0Q" type="_tEr6QIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
     try {&#xD;
         cWorld = (CraftWorld) world;&#xD;
         wServer = cWorld.getHandle();&#xD;
         wProvider = wServer.worldProvider;&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toxeyYJREeGsv772wTim0Q" name="getPlayerManager" specification="_tEtvcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toxeyoJREeGsv772wTim0Q" type="_tdFMIYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return wServer.manager;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toyF0IJREeGsv772wTim0Q" name="getCraftWorld" specification="_tEtvcYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toyF0YJREeGsv772wTim0Q" type="_tdGaQYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cWorld;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toyF0oJREeGsv772wTim0Q" name="getWorldServer" specification="_tEuWgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toyF04JREeGsv772wTim0Q" type="_tcbE0YJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return wServer;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toyF1IJREeGsv772wTim0Q" name="getMCWorld" specification="_tEuWgYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toyF1YJREeGsv772wTim0Q" type="_tdHoYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcWorld;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toyF1oJREeGsv772wTim0Q" name="getWorldProvider" specification="_tEu9kIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toyF14JREeGsv772wTim0Q" type="_tdFzMYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return wProvider;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toys4IJREeGsv772wTim0Q" name="createExplosion" specification="_tEu9kYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toys4YJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toys4oJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toys44JREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toys5IJREeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toys5YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return wServer.a(null, x, y, z, power, z, z);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toys5oJREeGsv772wTim0Q" name="createExplosion" specification="_tif3oIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toys54JREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toys6IJREeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toys6YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return wServer.a(null, l.getX(), l.getY(), l.getZ(), power).wasCanceled ? false : true;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toys6oJREeGsv772wTim0Q" name="removeEntity" specification="_tigesIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toys64JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_toys7IJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_toys7YJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_toys7oJREeGsv772wTim0Q" key="final"/>
                  </eAnnotations>
                </ownedParameter>
                <ownedParameter xmi:id="_toys74JREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>server.getServer().getScheduler().callSyncMethod(plugin, new Callable&lt;Object>() {&#xD;
&#xD;
         @SuppressWarnings(&quot;unused&quot;)&#xD;
			public Object call() throws Exception {&#xD;
&#xD;
             Location loc = player.getLocation();&#xD;
             CraftWorld craftWorld = (CraftWorld) player.getWorld();&#xD;
             CraftPlayer craftPlayer = (CraftPlayer) player;&#xD;
&#xD;
             double x = loc.getX() + 0.5;&#xD;
             double y = loc.getY() + 0.5;&#xD;
             double z = loc.getZ() + 0.5;&#xD;
             double radius = 10;&#xD;
&#xD;
             List&lt;Entity> entities = new ArrayList&lt;Entity>();&#xD;
             AxisAlignedBB bb = AxisAlignedBB.a(x - radius, y - radius, z - radius, x + radius, y + radius, z + radius);&#xD;
             entities = craftWorld.getHandle().entityList;&#xD;
             for (Entity o : entities) {&#xD;
                 if (!(o instanceof EntityPlayer)) {&#xD;
                     o.getBukkitEntity().remove();&#xD;
                 }&#xD;
             }&#xD;
             return null;&#xD;
         }&#xD;
     });&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tEtvcIJREeGsv772wTim0Q" name="getPlayerManager" method="_toxeyYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tiephYJREeGsv772wTim0Q" type="_tdFMIYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEtvcYJREeGsv772wTim0Q" name="getCraftWorld" method="_toyF0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tifQkIJREeGsv772wTim0Q" type="_tdGaQYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEuWgIJREeGsv772wTim0Q" name="getWorldServer" method="_toyF0oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tifQkYJREeGsv772wTim0Q" type="_tcbE0YJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEuWgYJREeGsv772wTim0Q" name="getMCWorld" method="_toyF1IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tdI2gIJREeGsv772wTim0Q" type="_tdHoYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEu9kIJREeGsv772wTim0Q" name="getWorldProvider" method="_toyF1oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tifQkoJREeGsv772wTim0Q" type="_tdFzMYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tEu9kYJREeGsv772wTim0Q" name="createExplosion" method="_toys4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tEu9koJREeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEvkoIJREeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEvkoYJREeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEvkooJREeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tEvko4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tieCcIJREeGsv772wTim0Q" name="BWorld" method="_toxewoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tieCc4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tieCdIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tieCcYJREeGsv772wTim0Q" name="server" type="_tic0UoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tieCcoJREeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tieCdYJREeGsv772wTim0Q" type="_tEr6QIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiepgIJREeGsv772wTim0Q" name="BWorld" method="_toxexoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tiepgoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tiepg4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tiepgYJREeGsv772wTim0Q" name="world" type="_tZZmAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tiephIJREeGsv772wTim0Q" type="_tEr6QIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tif3oIJREeGsv772wTim0Q" name="createExplosion" method="_toys5oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tif3oYJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tif3ooJREeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tif3o4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tigesIJREeGsv772wTim0Q" name="removeEntity" method="_toys6oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tigesYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tigesoJREeGsv772wTim0Q" name="player" type="_tZlMMYJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_tihFwIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_tihFwYJREeGsv772wTim0Q" key="final"/>
                  </eAnnotations>
                </ownedParameter>
                <ownedParameter xmi:id="_tiges4JREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tE1EMIJREeGsv772wTim0Q" name="NPCEntity">
              <ownedComment xmi:id="_tpMVhIJREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_tinMYYJREeGsv772wTim0Q" general="_tcYBgIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tmCT0IJREeGsv772wTim0Q" name="lastTargetId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmC64YJREeGsv772wTim0Q" name="lastBounceTick" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmDh8YJREeGsv772wTim0Q" name="lastBounceId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmEJAIJREeGsv772wTim0Q" name="path" visibility="private" type="_tihs0IJREeGsv772wTim0Q" association="_tq17VIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tmEwEIJREeGsv772wTim0Q" name="last" visibility="private" type="_tFOFwIJREeGsv772wTim0Q" association="_tq2iYYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tmFXIIJREeGsv772wTim0Q" name="timer" visibility="private" type="_tcUXIYJREeGsv772wTim0Q" association="_tq2iZIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmFXIYJREeGsv772wTim0Q" value="new Timer()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmF-MYJREeGsv772wTim0Q" name="end" visibility="private" type="_tZYX4IJREeGsv772wTim0Q" association="_tq3JcIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tmGlQYJREeGsv772wTim0Q" name="maxIter" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tozT8IJREeGsv772wTim0Q" name="pathFindTo" specification="_tii68IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tozT8YJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tozT8oJREeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>path = new NPCPath(getBukkitEntity().getLocation(), l, maxIterations);&#xD;
     end = l;&#xD;
     maxIter = maxIterations;&#xD;
     timer.schedule(new movePath(), 300);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tozT9IJREeGsv772wTim0Q" name="NPCEntity" specification="_tijiAIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tozT9YJREeGsv772wTim0Q" name="minecraftserver" type="_tdL50IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tozT9oJREeGsv772wTim0Q" name="world" type="_tdHoYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tozT94JREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tozT-IJREeGsv772wTim0Q" name="iteminworldmanager" type="_tcYBgoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tozT-YJREeGsv772wTim0Q" type="_tE1EMIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(minecraftserver, world, s, iteminworldmanager);&#xD;
     NetworkManager netMgr = new NPCNetworkManager(new NullSocket(), &quot;NPC Manager&quot;, new NetHandler() {&#xD;
&#xD;
         @Override&#xD;
         public boolean c() {&#xD;
             return true;&#xD;
         }&#xD;
     });&#xD;
     this.netServerHandler = new NPCNetHandler(minecraftserver, netMgr, this);&#xD;
     this.lastTargetId = -1;&#xD;
     this.lastBounceId = -1;&#xD;
     this.lastBounceTick = 0;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tozT-oJREeGsv772wTim0Q" name="animateArmSwing" specification="_tE4ukIJREeGsv772wTim0Q">
                <language>java</language>
                <body>((WorldServer)this.world).tracker.a(this, new Packet18ArmAnimation(this, 1));&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toz7AIJREeGsv772wTim0Q" name="actAsHurt" specification="_tE5VoIJREeGsv772wTim0Q">
                <language>java</language>
                <body>((WorldServer)this.world).tracker.a(this, new Packet18ArmAnimation(this, 2));&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toz7AYJREeGsv772wTim0Q" name="b" specification="_tikJE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toz7AoJREeGsv772wTim0Q" name="entity" type="_tcXacIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_toz7A4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>EntityTargetEvent event = new NpcEntityTargetEvent(getBukkitEntity(), entity.getBukkitEntity(), NpcEntityTargetEvent.NpcTargetReason.NPC_RIGHTCLICKED);&#xD;
     CraftServer server = ((WorldServer) this.world).getServer();&#xD;
     server.getPluginManager().callEvent(event);&#xD;
&#xD;
     return super.b(entity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toz7BIJREeGsv772wTim0Q" name="a_" specification="_tilXMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toz7BYJREeGsv772wTim0Q" name="entity" type="_tcXacIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (lastTargetId == -1 || lastTargetId != entity.id) {&#xD;
         EntityTargetEvent event = new NpcEntityTargetEvent(getBukkitEntity(), entity.getBukkitEntity(), NpcEntityTargetEvent.NpcTargetReason.CLOSEST_PLAYER);&#xD;
         CraftServer server = ((WorldServer) this.world).getServer();&#xD;
         server.getPluginManager().callEvent(event);&#xD;
     }&#xD;
     lastTargetId = entity.id;&#xD;
&#xD;
     super.a_(entity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toz7BoJREeGsv772wTim0Q" name="c" specification="_til-QYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toz7B4JREeGsv772wTim0Q" name="entity" type="_tccS8YJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (lastBounceId != entity.id || System.currentTimeMillis() - lastBounceTick > 1000) {&#xD;
         EntityTargetEvent event = new NpcEntityTargetEvent(getBukkitEntity(), entity.getBukkitEntity(), NpcEntityTargetEvent.NpcTargetReason.NPC_BOUNCED);&#xD;
         CraftServer server = ((WorldServer) this.world).getServer();&#xD;
         server.getPluginManager().callEvent(event);&#xD;
&#xD;
         lastBounceTick = System.currentTimeMillis();&#xD;
     }&#xD;
&#xD;
     lastBounceId = entity.id;&#xD;
&#xD;
     super.c(entity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_toz7CIJREeGsv772wTim0Q" name="getInventory" specification="_tE5VoYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_toz7CYJREeGsv772wTim0Q" type="_tcc6AYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return ((HumanEntity) getBukkitEntity()).getInventory();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to0iEIJREeGsv772wTim0Q" name="setItemInHand" specification="_timlU4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to0iEYJREeGsv772wTim0Q" name="m" type="_tZY-8IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>((HumanEntity) getBukkitEntity()).setItemInHand(new ItemStack(m, 1));&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to0iEoJREeGsv772wTim0Q" name="setName" specification="_tE58sIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to0iE4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>this.name = name;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to0iFIJREeGsv772wTim0Q" name="getName" specification="_tE58soJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to0iFYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return name;&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tE25YIJREeGsv772wTim0Q" name="movePath">
                <generalization xmi:id="_tii684JREeGsv772wTim0Q" general="_tcU-MIJREeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tozT84JREeGsv772wTim0Q" name="run" specification="_tE25YYJREeGsv772wTim0Q">
                  <language>java</language>
                  <body>if (path != null) {&#xD;
             Node n = path.getNextNode();&#xD;
             Block b = null;&#xD;
             float angle = yaw;&#xD;
             float look = pitch;&#xD;
             if (n != null) {&#xD;
                 if (last == null || path.checkPath(n, last, true)) {&#xD;
                     b = n.b;&#xD;
                     if (last != null) {&#xD;
                         angle = ((float) Math.toDegrees(Math.atan2(last.b.getX() - b.getX(), last.b.getZ() - b.getZ())));&#xD;
                         look = (float) (Math.toDegrees(Math.asin(last.b.getY() - b.getY())) / 2);&#xD;
                     }&#xD;
                     setPositionRotation(b.getX() + 0.5, b.getY(), b.getZ() + 0.5, angle, look);&#xD;
                     timer.schedule(new movePath(), 300);&#xD;
                 } else {&#xD;
                     pathFindTo(end, maxIter);&#xD;
                 }&#xD;
             } else if (last != null) {&#xD;
                 setPositionRotation(end.getX(), end.getY(), end.getZ(), end.getYaw(), end.getPitch());&#xD;
             }&#xD;
             last = n;&#xD;
         }&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_tE25YYJREeGsv772wTim0Q" name="run" method="_tozT84JREeGsv772wTim0Q"/>
              </nestedClassifier>
              <ownedOperation xmi:id="_tE4ukIJREeGsv772wTim0Q" name="animateArmSwing" method="_tozT-oJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tE5VoIJREeGsv772wTim0Q" name="actAsHurt" method="_toz7AIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_tE5VoYJREeGsv772wTim0Q" name="getInventory" method="_toz7CIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_timlUoJREeGsv772wTim0Q" type="_tcc6AYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tE58sIJREeGsv772wTim0Q" name="setName" method="_to0iEoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tE58sYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tE58soJREeGsv772wTim0Q" name="getName" method="_to0iFIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tE6jwIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tii68IJREeGsv772wTim0Q" name="pathFindTo" method="_tozT8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tii68YJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tii68oJREeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tijiAIJREeGsv772wTim0Q" name="NPCEntity" method="_tozT9IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tikJEIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tikJEYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tijiAYJREeGsv772wTim0Q" name="minecraftserver" type="_tdL50IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tijiAoJREeGsv772wTim0Q" name="world" type="_tdHoYIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tijiA4JREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tijiBIJREeGsv772wTim0Q" name="iteminworldmanager" type="_tcYBgoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tikJEoJREeGsv772wTim0Q" type="_tE1EMIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tikJE4JREeGsv772wTim0Q" name="b" method="_toz7AYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tikJFIJREeGsv772wTim0Q" name="entity" type="_tcXacIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tikwIIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tilXMIJREeGsv772wTim0Q" name="a_" method="_toz7BIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tilXMYJREeGsv772wTim0Q" name="entity" type="_tcXacIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_til-QYJREeGsv772wTim0Q" name="c" method="_toz7BoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_til-QoJREeGsv772wTim0Q" name="entity" type="_tccS8YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_timlU4JREeGsv772wTim0Q" name="setItemInHand" method="_to0iEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tinMYIJREeGsv772wTim0Q" name="m" type="_tZY-8IJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tE-1MIJREeGsv772wTim0Q" name="NPCNetHandler">
              <ownedComment xmi:id="_tpMVhYJREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_ti2c8IJREeGsv772wTim0Q" general="_tcZPoYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to0iFoJREeGsv772wTim0Q" name="NPCNetHandler" specification="_tioagIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to0iF4JREeGsv772wTim0Q" name="minecraftserver" type="_tdL50IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to0iGIJREeGsv772wTim0Q" name="networkmanager" type="_tcZ2sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to0iGYJREeGsv772wTim0Q" name="entityplayer" type="_tcYBgIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to0iGoJREeGsv772wTim0Q" type="_tE-1MIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(minecraftserver, networkmanager, entityplayer);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to1JIIJREeGsv772wTim0Q" name="getPlayer" specification="_tFADUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to1JIYJREeGsv772wTim0Q" type="_tdA6sYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to1JIoJREeGsv772wTim0Q" name="b" specification="_tFFi4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to1JI4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return super.b();&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tFADUIJREeGsv772wTim0Q" name="getPlayer" method="_to1JIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tipBkIJREeGsv772wTim0Q" type="_tdA6sYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tFBRcYJREeGsv772wTim0Q" name="a"/>
              <ownedOperation xmi:id="_tFB4gYJREeGsv772wTim0Q" name="sendMessage">
                <ownedParameter xmi:id="_tFB4goJREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tFCfkoJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tFDGoIJREeGsv772wTim0Q" name="d0">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tFDGoYJREeGsv772wTim0Q" name="d1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tFDGooJREeGsv772wTim0Q" name="d2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tFDGo4JREeGsv772wTim0Q" name="f">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tFDGpIJREeGsv772wTim0Q" name="f1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tFFi4IJREeGsv772wTim0Q" name="b" method="_to1JIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tFFi4YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tioagIJREeGsv772wTim0Q" name="NPCNetHandler" method="_to0iFoJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_tioahIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_tioahYJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_tioagYJREeGsv772wTim0Q" name="minecraftserver" type="_tdL50IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tioagoJREeGsv772wTim0Q" name="networkmanager" type="_tcZ2sYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tioag4JREeGsv772wTim0Q" name="entityplayer" type="_tcYBgIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_tioahoJREeGsv772wTim0Q" type="_tE-1MIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tipBkYJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tipBkoJREeGsv772wTim0Q" name="packet10flying" type="_tdVDwIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tipoo4JREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tipopIJREeGsv772wTim0Q" name="packet14blockdig" type="_tdVq0YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiq2wIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tiq2wYJREeGsv772wTim0Q" name="packet15place" type="_tdWR4YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tird0oJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tisE4IJREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_tisE4YJREeGsv772wTim0Q" name="aobject" type="_tird0IJREeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tisE44JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_tisr8oJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tisr84JREeGsv772wTim0Q" name="packet" type="_tdSAcIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_titTA4JREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_titTBIJREeGsv772wTim0Q" name="packet16blockitemswitch" type="_tdW48YJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiuhIIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tiuhIYJREeGsv772wTim0Q" name="packet3chat" type="_tdZVMIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tivIMIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tivIMYJREeGsv772wTim0Q" name="packet18armanimation" type="_tcadwYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tivvQIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tivvQYJREeGsv772wTim0Q" name="packet19entityaction" type="_tdXgAYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiwWUoJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tiwWU4JREeGsv772wTim0Q" name="packet255kickdisconnect" type="_tdYHEYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiw9Y4JREeGsv772wTim0Q" name="sendPacket">
                <ownedParameter xmi:id="_tiw9ZIJREeGsv772wTim0Q" name="packet" type="_tdSAcIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tixkc4JREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tixkdIJREeGsv772wTim0Q" name="packet7useentity" type="_tdZ8QIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tiyykIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tiyykYJREeGsv772wTim0Q" name="packet9respawn" type="_tdajUYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tizZooJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_tizZo4JREeGsv772wTim0Q" name="packet101closewindow" type="_tdTOkIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ti0AsoJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_ti0As4JREeGsv772wTim0Q" name="packet102windowclick" type="_tdT1oIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ti0nw4JREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_ti0nxIJREeGsv772wTim0Q" name="packet106transaction" type="_tdUcsIJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ti1O04JREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_ti114IJREeGsv772wTim0Q" name="packet130updatesign" type="_tdVDwoJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tFM3oIJREeGsv772wTim0Q" name="NPCPath">
              <ownedComment xmi:id="_tpM8kIJREeGsv772wTim0Q">
                <body>*&#xD;
@author Top_Cat</body>
              </ownedComment>
              <ownedAttribute xmi:id="_tmTZkIJREeGsv772wTim0Q" name="nodes" visibility="package" type="_tZxZcYJREeGsv772wTim0Q" association="_tq3whIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmUAoYJREeGsv772wTim0Q" value="new HashMap&lt;Block, Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmUnsYJREeGsv772wTim0Q" name="path" visibility="package" type="_tZXJwIJREeGsv772wTim0Q" association="_tq4XkYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmVOwYJREeGsv772wTim0Q" value="new ArrayList&lt;Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmV10IJREeGsv772wTim0Q" name="open" visibility="package" type="_tZXJwIJREeGsv772wTim0Q" association="_tq4XlIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmWc4YJREeGsv772wTim0Q" value="new ArrayList&lt;Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmXD8IJREeGsv772wTim0Q" name="closed" visibility="package" type="_tZXJwIJREeGsv772wTim0Q" association="_tq4-oYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmXrAIJREeGsv772wTim0Q" value="new ArrayList&lt;Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmYSEIJREeGsv772wTim0Q" name="nodeComp" visibility="package" type="_tdjtQYJREeGsv772wTim0Q" association="_tq4-pIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmYSEoJREeGsv772wTim0Q" value="new NodeComparator()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmY5IYJREeGsv772wTim0Q" name="startNode" visibility="package" type="_ti3EAIJREeGsv772wTim0Q" association="_tq5lsYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_tmaHQIJREeGsv772wTim0Q" name="nonSolid" visibility="package" type="_tZY-8IJREeGsv772wTim0Q" association="_tq5ltIJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tmaHQYJREeGsv772wTim0Q" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmaHQ4JREeGsv772wTim0Q" value="{Material.AIR, Material.SAPLING, Material.POWERED_RAIL, Material.DETECTOR_RAIL, Material.RAILS, Material.YELLOW_FLOWER, Material.RED_ROSE, Material.RED_MUSHROOM, Material.BROWN_MUSHROOM, Material.TORCH, Material.FIRE, Material.REDSTONE_WIRE, Material.CROPS, Material.SIGN_POST, Material.WALL_SIGN, Material.LEVER, Material.STONE_BUTTON, Material.STONE_PLATE, Material.WOOD_PLATE, Material.REDSTONE_TORCH_OFF, Material.REDSTONE_TORCH_ON, Material.SUGAR_CANE_BLOCK, Material.DIODE_BLOCK_OFF, Material.DIODE_BLOCK_ON}"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmauUYJREeGsv772wTim0Q" name="standon" visibility="package" type="_tZY-8IJREeGsv772wTim0Q" isOrdered="true" association="_tq6MwIJREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tmauUoJREeGsv772wTim0Q" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmauU4JREeGsv772wTim0Q" value="new ArrayList&lt;Material>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tmbVYYJREeGsv772wTim0Q" name="liquids" visibility="package" type="_tZY-8IJREeGsv772wTim0Q" isOrdered="true" association="_tq6Mw4JREeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tmb8cIJREeGsv772wTim0Q" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_tmb8cYJREeGsv772wTim0Q" value="new ArrayList&lt;Material>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_tpPY0IJREeGsv772wTim0Q" name="endNode" visibility="package" type="_ti3EAIJREeGsv772wTim0Q" association="_tq6z0YJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to2XQYJREeGsv772wTim0Q" name="NPCPath" specification="_ti45MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to2XQoJREeGsv772wTim0Q" name="start" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to2XQ4JREeGsv772wTim0Q" name="end" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to2XRIJREeGsv772wTim0Q" name="maxIteractions">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_to2XRYJREeGsv772wTim0Q" type="_tFM3oIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>init(start, end, maxIteractions);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to2-UIJREeGsv772wTim0Q" name="init" specification="_ti6HUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to2-UYJREeGsv772wTim0Q" name="s" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to2-UoJREeGsv772wTim0Q" name="e" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to2-U4JREeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>liquids.add(Material.WATER);&#xD;
     liquids.add(Material.STATIONARY_WATER);&#xD;
     liquids.add(Material.LAVA);&#xD;
     liquids.add(Material.STATIONARY_LAVA);&#xD;
     liquids.add(Material.LADDER); // Trust me it makes sense&#xD;
     standon.addAll(Arrays.asList(nonSolid));&#xD;
     standon.addAll(liquids);&#xD;
&#xD;
     startNode = getNode(s.getBlock());&#xD;
     endNode = getNode(e.getBlock());&#xD;
     look(startNode, max);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to2-VIJREeGsv772wTim0Q" name="getNextNode" specification="_tFjc8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to2-VYJREeGsv772wTim0Q" type="_ti3EAIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (path.size() > 0) {&#xD;
         Node r = path.get(0);&#xD;
         path.remove(0);&#xD;
         return r;&#xD;
     }&#xD;
     return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to2-VoJREeGsv772wTim0Q" name="getNode" specification="_ti6uYYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to2-V4JREeGsv772wTim0Q" name="b" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to2-WIJREeGsv772wTim0Q" type="_ti3EAIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (!nodes.containsKey(b)) {&#xD;
         nodes.put(b, new Node(b));&#xD;
     }&#xD;
     return nodes.get(b);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to2-WYJREeGsv772wTim0Q" name="look" specification="_ti7VcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to2-WoJREeGsv772wTim0Q" name="c" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to2-W4JREeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Node adjacentBlock;&#xD;
     int rep = 0;&#xD;
     while (c != endNode &amp;&amp; rep &lt; max) { // Repetition variable prevents infinite loop when destination is unreachable&#xD;
         rep++;&#xD;
         closed.add(c);&#xD;
         open.remove(c);&#xD;
&#xD;
         for (int i = -1; i &lt;= 1; i++) {&#xD;
             for (int j = -1; j &lt;= 1; j++) {&#xD;
                 for (int k = -1; k &lt;= 1; k++) {&#xD;
                     adjacentBlock = getNode(c.b.getRelative(i, j, k));&#xD;
                     if (adjacentBlock != c &amp;&amp; !(j == 1 &amp;&amp; adjacentBlock.b.getRelative(0, -1, 0).getType() == Material.FENCE)) {&#xD;
                         scoreBlock(adjacentBlock, c);&#xD;
                     }&#xD;
                 }&#xD;
             }&#xD;
         }&#xD;
         Node[] n = open.toArray(new Node[open.size()]);&#xD;
         Arrays.sort(n, nodeComp);&#xD;
         if (n.length == 0) {&#xD;
             break;&#xD;
         }&#xD;
         c = n[0];&#xD;
         if (c == endNode) {&#xD;
             adjacentBlock = c;&#xD;
             while (adjacentBlock != null &amp;&amp; adjacentBlock != startNode) {&#xD;
                 path.add(adjacentBlock);&#xD;
                 adjacentBlock = adjacentBlock.parent;&#xD;
             }&#xD;
             Collections.reverse(path);&#xD;
         }&#xD;
     }&#xD;
     if (path.size() == 0) {&#xD;
         path.add(endNode);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to3lZIJREeGsv772wTim0Q" name="checkPath" specification="_ti9KooJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to3lZYJREeGsv772wTim0Q" name="node" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to3lZoJREeGsv772wTim0Q" name="parent" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to3lZ4JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return checkPath(node, parent, false);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to3laIJREeGsv772wTim0Q" name="checkPath" specification="_ti9xsYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to3laYJREeGsv772wTim0Q" name="node" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to3laoJREeGsv772wTim0Q" name="parent" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to3la4JREeGsv772wTim0Q" name="update">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_to3lbIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>boolean corner = false;&#xD;
     if ((node.xPos != parent.xPos &amp;&amp; node.zPos != parent.zPos) || (node.xPos != parent.xPos &amp;&amp; node.yPos != parent.yPos) || (node.yPos != parent.yPos &amp;&amp; node.zPos != parent.zPos)) {&#xD;
         int xDir = (node.xPos - parent.xPos);&#xD;
         int zDir = (node.zPos - parent.zPos);&#xD;
&#xD;
         boolean xZCor1 = !getNode(parent.b.getRelative(0, 0, zDir)).notsolid;&#xD;
         boolean xZCor2 = !getNode(parent.b.getRelative(xDir, 0, 0)).notsolid;&#xD;
&#xD;
         corner = (xZCor1 || xZCor2);&#xD;
     }&#xD;
&#xD;
     Node nodeBelow = getNode(node.b.getRelative(0, -1, 0));&#xD;
     Node nodeAbove = getNode(node.b.getRelative(0, 1, 0));&#xD;
&#xD;
     if (update) {&#xD;
         nodeBelow.update();&#xD;
         nodeAbove.update();&#xD;
         node.update();&#xD;
     }&#xD;
&#xD;
     return !corner &amp;&amp; ((node.notsolid &amp;&amp; (!nodeBelow.notsolid || (nodeBelow.liquid &amp;&amp; node.liquid)) &amp;&amp; nodeAbove.notsolid) || node == endNode);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to3lbYJREeGsv772wTim0Q" name="scoreBlock" specification="_ti-YwYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to3lboJREeGsv772wTim0Q" name="node" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_to3lb4JREeGsv772wTim0Q" name="parent" type="_ti3EAIJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>int diagonal = ((node.xPos != parent.xPos &amp;&amp; node.zPos != parent.zPos) || (node.xPos != parent.xPos &amp;&amp; node.yPos != parent.yPos) || (node.yPos != parent.yPos &amp;&amp; node.zPos != parent.zPos)) ? 14 : 10;&#xD;
&#xD;
     if (checkPath(node, parent)) {&#xD;
         if (!open.contains(node) &amp;&amp; !closed.contains(node)) {&#xD;
             node.parent = parent;&#xD;
             node.g = parent.g + diagonal;&#xD;
&#xD;
             int difX = Math.abs(endNode.xPos - node.xPos);&#xD;
             int difY = Math.abs(endNode.yPos - node.yPos);&#xD;
             int difZ = Math.abs(endNode.zPos - node.zPos);&#xD;
&#xD;
             node.h = (difX + difY + difZ) * 10;&#xD;
             node.f = node.g + node.h;&#xD;
&#xD;
             open.add(node);&#xD;
         } else if (!closed.contains(node)) {&#xD;
             int g = parent.g + diagonal;&#xD;
             if (g &lt; node.g) {&#xD;
                 node.g = g;&#xD;
                 node.parent = parent;&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tFOFwIJREeGsv772wTim0Q" name="Node">
                <ownedAttribute xmi:id="_tmN6AIJREeGsv772wTim0Q" name="f" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tmPIIIJREeGsv772wTim0Q" name="xPos" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tmPvMIJREeGsv772wTim0Q" name="parent" visibility="package" type="_ti3EAIJREeGsv772wTim0Q" association="_tq3Jc4JREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tmQWQYJREeGsv772wTim0Q" name="b" visibility="package" type="_tZZmAoJREeGsv772wTim0Q" association="_tq3wgYJREeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_tmQ9UYJREeGsv772wTim0Q" name="notsolid" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpM8kYJREeGsv772wTim0Q" name="g" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_tpNjoIJREeGsv772wTim0Q" value="0"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpNjoYJREeGsv772wTim0Q" name="h" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpOKsIJREeGsv772wTim0Q" name="yPos" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpOKs4JREeGsv772wTim0Q" name="zPos" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_tpOxwYJREeGsv772wTim0Q" name="liquid" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to1wMIJREeGsv772wTim0Q" name="Node" specification="_ti3rEIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_to1wMYJREeGsv772wTim0Q" name="b" type="_tZZmAoJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_to1wMoJREeGsv772wTim0Q" type="_tFOFwIJREeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.b = b;&#xD;
         xPos = b.getX();&#xD;
         yPos = b.getY();&#xD;
         zPos = b.getZ();&#xD;
         update();&#xD;
     </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to2XQIJREeGsv772wTim0Q" name="update" specification="_tFhAsIJREeGsv772wTim0Q">
                  <language>java</language>
                  <body>notsolid = standon.contains(b.getType());&#xD;
         liquid = liquids.contains(b.getType());&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_tFhAsIJREeGsv772wTim0Q" name="update" method="_to2XQIJREeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_ti3rEIJREeGsv772wTim0Q" name="Node" method="_to1wMIJREeGsv772wTim0Q">
                  <eAnnotations xmi:id="_ti3rEoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_ti3rE4JREeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_ti3rEYJREeGsv772wTim0Q" name="b" type="_tZZmAoJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_ti3rFIJREeGsv772wTim0Q" type="_tFOFwIJREeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_tFkEAIJREeGsv772wTim0Q" name="NodeComparator" clientDependency="_ti7Vc4JREeGsv772wTim0Q">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to3lYIJREeGsv772wTim0Q" name="compare" specification="_ti8jkIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_to3lYYJREeGsv772wTim0Q" name="o1" type="_ti3EAIJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_to3lYoJREeGsv772wTim0Q" name="o2" type="_ti3EAIJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_to3lY4JREeGsv772wTim0Q" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>if (o1.f > o2.f) {&#xD;
             return 1;&#xD;
         } else if (o1.f &lt; o2.f) {&#xD;
             return -1;&#xD;
         }&#xD;
         return 0;&#xD;
     </body>
                </ownedBehavior>
                <interfaceRealization xmi:id="_ti7Vc4JREeGsv772wTim0Q" supplier="_tdjtQYJREeGsv772wTim0Q" client="_tFkEAIJREeGsv772wTim0Q" contract="_tdjtQYJREeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_ti8jkIJREeGsv772wTim0Q" name="compare" method="_to3lYIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_ti8jkYJREeGsv772wTim0Q" name="o1" type="_ti3EAIJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_ti8jkoJREeGsv772wTim0Q" name="o2" type="_ti3EAIJREeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_ti8jk4JREeGsv772wTim0Q" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_tFjc8IJREeGsv772wTim0Q" name="getNextNode" method="_to2-VIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti6uYIJREeGsv772wTim0Q" type="_ti3EAIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ti45MIJREeGsv772wTim0Q" name="NPCPath" method="_to2XQYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_ti5gQoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ti5gQ4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ti45MYJREeGsv772wTim0Q" name="start" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti5gQIJREeGsv772wTim0Q" name="end" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti5gQYJREeGsv772wTim0Q" name="maxIteractions">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ti5gRIJREeGsv772wTim0Q" type="_tFM3oIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ti6HUIJREeGsv772wTim0Q" name="init" visibility="private" method="_to2-UIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti6HUYJREeGsv772wTim0Q" name="s" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti6HUoJREeGsv772wTim0Q" name="e" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti6HU4JREeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ti6uYYJREeGsv772wTim0Q" name="getNode" visibility="private" method="_to2-VoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti6uYoJREeGsv772wTim0Q" name="b" type="_tZZmAoJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti6uY4JREeGsv772wTim0Q" type="_ti3EAIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ti7VcIJREeGsv772wTim0Q" name="look" visibility="private" method="_to2-WYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti7VcYJREeGsv772wTim0Q" name="c" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti7VcoJREeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ti9KooJREeGsv772wTim0Q" name="checkPath" method="_to3lZIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti9Ko4JREeGsv772wTim0Q" name="node" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti9KpIJREeGsv772wTim0Q" name="parent" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti9xsIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ti9xsYJREeGsv772wTim0Q" name="checkPath" method="_to3laIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti9xsoJREeGsv772wTim0Q" name="node" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti9xs4JREeGsv772wTim0Q" name="parent" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti9xtIJREeGsv772wTim0Q" name="update">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ti-YwIJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ti-YwYJREeGsv772wTim0Q" name="scoreBlock" visibility="private" method="_to3lbYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_ti-YwoJREeGsv772wTim0Q" name="node" type="_ti3EAIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ti-_0IJREeGsv772wTim0Q" name="parent" type="_ti3EAIJREeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tFt1AIJREeGsv772wTim0Q" name="NullSocket">
              <ownedComment xmi:id="_tpPY04JREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_tjA1AYJREeGsv772wTim0Q" general="_tcTwEIJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to4McIJREeGsv772wTim0Q" name="getInputStream" specification="_tFucEIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to4McYJREeGsv772wTim0Q" type="_tds3MIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>byte[] buf = new byte[1];&#xD;
     return new ByteArrayInputStream(buf);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_to4zgIJREeGsv772wTim0Q" name="getOutputStream" specification="_tFvqMIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_to4zgYJREeGsv772wTim0Q" type="_tdteQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ByteArrayOutputStream();&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_tFucEIJREeGsv772wTim0Q" name="getInputStream" method="_to4McIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tjAN8IJREeGsv772wTim0Q" type="_tds3MIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_tFvqMIJREeGsv772wTim0Q" name="getOutputStream" method="_to4zgIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_tjA1AIJREeGsv772wTim0Q" type="_tdteQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_tird0IJREeGsv772wTim0Q" name="Object"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_tqzfEYJREeGsv772wTim0Q" name="" memberEnd="_tqzfEoJREeGsv772wTim0Q _tl5J4IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tqzfEoJREeGsv772wTim0Q" name="" type="_tEpeAIJREeGsv772wTim0Q" association="_tqzfEYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq0GIYJREeGsv772wTim0Q" name="" memberEnd="_tq0GIoJREeGsv772wTim0Q _tl5w8IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq0GIoJREeGsv772wTim0Q" name="" type="_tEpeAIJREeGsv772wTim0Q" association="_tq0GIYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq0GJIJREeGsv772wTim0Q" name="" memberEnd="_tq0GJYJREeGsv772wTim0Q _tl6_EIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq0GJYJREeGsv772wTim0Q" name="" type="_tEr6QIJREeGsv772wTim0Q" association="_tq0GJIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq0tMYJREeGsv772wTim0Q" name="" memberEnd="_tq0tMoJREeGsv772wTim0Q _tl7mIYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq0tMoJREeGsv772wTim0Q" name="" type="_tEr6QIJREeGsv772wTim0Q" association="_tq0tMYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq0tNIJREeGsv772wTim0Q" name="" memberEnd="_tq0tNYJREeGsv772wTim0Q _tl8NMYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq0tNYJREeGsv772wTim0Q" name="" type="_tEr6QIJREeGsv772wTim0Q" association="_tq0tNIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq1UQYJREeGsv772wTim0Q" name="" memberEnd="_tq1UQoJREeGsv772wTim0Q _tl80QYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq1UQoJREeGsv772wTim0Q" name="" type="_tEr6QIJREeGsv772wTim0Q" association="_tq1UQYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq1URIJREeGsv772wTim0Q" name="" memberEnd="_tq1URYJREeGsv772wTim0Q _tl9bUYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq1URYJREeGsv772wTim0Q" name="" type="_tEr6QIJREeGsv772wTim0Q" association="_tq1URIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq17UYJREeGsv772wTim0Q" name="" memberEnd="_tq17UoJREeGsv772wTim0Q _tl-CYYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq17UoJREeGsv772wTim0Q" name="" type="_tEr6QIJREeGsv772wTim0Q" association="_tq17UYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq17VIJREeGsv772wTim0Q" name="" memberEnd="_tq17VYJREeGsv772wTim0Q _tmEJAIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq17VYJREeGsv772wTim0Q" name="" type="_tE1EMIJREeGsv772wTim0Q" association="_tq17VIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq2iYYJREeGsv772wTim0Q" name="" memberEnd="_tq2iYoJREeGsv772wTim0Q _tmEwEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq2iYoJREeGsv772wTim0Q" name="" type="_tE1EMIJREeGsv772wTim0Q" association="_tq2iYYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq2iZIJREeGsv772wTim0Q" name="" memberEnd="_tq2iZYJREeGsv772wTim0Q _tmFXIIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq2iZYJREeGsv772wTim0Q" name="" type="_tE1EMIJREeGsv772wTim0Q" association="_tq2iZIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq3JcIJREeGsv772wTim0Q" name="" memberEnd="_tq3JcYJREeGsv772wTim0Q _tmF-MYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq3JcYJREeGsv772wTim0Q" name="" type="_tE1EMIJREeGsv772wTim0Q" association="_tq3JcIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq3Jc4JREeGsv772wTim0Q" name="" memberEnd="_tq3JdIJREeGsv772wTim0Q _tmPvMIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq3JdIJREeGsv772wTim0Q" name="" type="_tFOFwIJREeGsv772wTim0Q" association="_tq3Jc4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq3wgYJREeGsv772wTim0Q" name="" memberEnd="_tq3wgoJREeGsv772wTim0Q _tmQWQYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq3wgoJREeGsv772wTim0Q" name="" type="_tFOFwIJREeGsv772wTim0Q" association="_tq3wgYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq3whIJREeGsv772wTim0Q" name="" memberEnd="_tq3whYJREeGsv772wTim0Q _tmTZkIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq3whYJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq3whIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq4XkYJREeGsv772wTim0Q" name="" memberEnd="_tq4XkoJREeGsv772wTim0Q _tmUnsYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq4XkoJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq4XkYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq4XlIJREeGsv772wTim0Q" name="" memberEnd="_tq4XlYJREeGsv772wTim0Q _tmV10IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq4XlYJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq4XlIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq4-oYJREeGsv772wTim0Q" name="" memberEnd="_tq4-ooJREeGsv772wTim0Q _tmXD8IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq4-ooJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq4-oYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq4-pIJREeGsv772wTim0Q" name="" memberEnd="_tq4-pYJREeGsv772wTim0Q _tmYSEIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq4-pYJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq4-pIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq5lsYJREeGsv772wTim0Q" name="" memberEnd="_tq5lsoJREeGsv772wTim0Q _tmY5IYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq5lsoJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq5lsYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq5ltIJREeGsv772wTim0Q" name="" memberEnd="_tq5ltYJREeGsv772wTim0Q _tmaHQIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq5ltYJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq5ltIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq6MwIJREeGsv772wTim0Q" name="" memberEnd="_tq6MwYJREeGsv772wTim0Q _tmauUYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq6MwYJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq6MwIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq6Mw4JREeGsv772wTim0Q" name="" memberEnd="_tq6MxIJREeGsv772wTim0Q _tmbVYYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq6MxIJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq6Mw4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_tq6z0YJREeGsv772wTim0Q" name="" memberEnd="_tq6z0oJREeGsv772wTim0Q _tpPY0IJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_tq6z0oJREeGsv772wTim0Q" name="" type="_tFM3oIJREeGsv772wTim0Q" association="_tq6z0YJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vu_kYIJREeGsv772wTim0Q" name="BServer">
              <ownedComment xmi:id="_v33Mg4JREeGsv772wTim0Q">
                <body>Server hacks for Bukkit&#xD;
@author Kekec852</body>
              </ownedComment>
              <ownedAttribute xmi:id="_v3NsQIJREeGsv772wTim0Q" name="ins" visibility="private" isStatic="true" type="_tic0UoJREeGsv772wTim0Q" association="_v4uvMIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3NsQoJREeGsv772wTim0Q" name="mcServer" visibility="private" type="_tdL50IJREeGsv772wTim0Q" association="_v4uvM4JREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3OTUIJREeGsv772wTim0Q" name="cServer" visibility="private" type="_tcbr4IJREeGsv772wTim0Q" association="_v4uvNoJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3OTUoJREeGsv772wTim0Q" name="server" type="_tZ1D0YJREeGsv772wTim0Q" isReadOnly="true" association="_v4vWQYJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3OTU4JREeGsv772wTim0Q" name="worlds" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_v4vWRIJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3O6YYJREeGsv772wTim0Q" value="new HashMap&lt;String, BWorld>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3s0c4JREeGsv772wTim0Q" name="BServer" specification="_v1QkcIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3s0dIJREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3s0dYJREeGsv772wTim0Q" type="_vu_kYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>//Getting neede structures&#xD;
     server = plugin.getServer();&#xD;
     try {&#xD;
         cServer = (CraftServer) server;&#xD;
         mcServer = cServer.getServer();&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
     //end&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbgIJREeGsv772wTim0Q" name="BServer" specification="_v1QkdYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3tbgYJREeGsv772wTim0Q" name="server" type="_tZ1D0YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3tbgoJREeGsv772wTim0Q" type="_vu_kYIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>//Getting neede structures&#xD;
     this.server = server;&#xD;
     try {&#xD;
         cServer = (CraftServer) server;&#xD;
         mcServer = cServer.getServer();&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
     //end&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbg4JREeGsv772wTim0Q" name="disablePlugins" specification="_vvAygIJREeGsv772wTim0Q">
                <language>java</language>
                <body>cServer.disablePlugins();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbhIJREeGsv772wTim0Q" name="dispatchCommand" specification="_v2KjYIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3tbhYJREeGsv772wTim0Q" name="sender" type="_v1P9YYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3tbhoJREeGsv772wTim0Q" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>cServer.dispatchCommand(sender, msg);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbh4JREeGsv772wTim0Q" name="getHandle" specification="_vvAygYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3tbiIJREeGsv772wTim0Q" type="_v1PWU4JREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cServer.getHandle();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbiYJREeGsv772wTim0Q" name="getReader" specification="_vvAygoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3tbioJREeGsv772wTim0Q" type="_v1OvQIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cServer.getReader();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbi4JREeGsv772wTim0Q" name="loadPlugins" specification="_vvBZkIJREeGsv772wTim0Q">
                <language>java</language>
                <body>cServer.loadPlugins();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbjIJREeGsv772wTim0Q" name="stop" specification="_vvBZkYJREeGsv772wTim0Q">
                <language>java</language>
                <body>mcServer.a(&quot;Stopping server!&quot;, server);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3tbjYJREeGsv772wTim0Q" name="sendConsoleCommand" specification="_vvBZkoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3tbjoJREeGsv772wTim0Q" name="cmd">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (!mcServer.isStopped &amp;&amp; MinecraftServer.isRunning(mcServer)) {&#xD;
         mcServer.issueCommand(cmd, mcServer);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uCkIJREeGsv772wTim0Q" name="getLogger" specification="_vvCAoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uCkYJREeGsv772wTim0Q" type="_tc_FgIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cServer.getLogger();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uCkoJREeGsv772wTim0Q" name="getWorldServers" specification="_vvCAoYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uCk4JREeGsv772wTim0Q" type="_tcbE0YJREeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3uClIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return mcServer.worlds;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uClYJREeGsv772wTim0Q" name="getPropertyManager" specification="_vvCnsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uCloJREeGsv772wTim0Q" type="_v1PWUYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcServer.propertyManager;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uCl4JREeGsv772wTim0Q" name="getNetworkThread" specification="_vvCnsYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uCmIJREeGsv772wTim0Q" type="_v1OvQoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcServer.networkListenThread;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uCmYJREeGsv772wTim0Q" name="getWorld" specification="_vvCnsoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uCmoJREeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3uCm4JREeGsv772wTim0Q" type="_v2LKcoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (worlds.containsKey(worldName)) {&#xD;
         return worlds.get(worldName);&#xD;
     }&#xD;
     BWorld w = new BWorld(this, worldName);&#xD;
     worlds.put(worldName, w);&#xD;
     return w;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uCnIJREeGsv772wTim0Q" name="getInstance" specification="_v1RLgYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uCnYJREeGsv772wTim0Q" name="pl" type="_tZ25AYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3uCnoJREeGsv772wTim0Q" type="_tic0UoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (ins == null) {&#xD;
         ins = new BServer(pl);&#xD;
     }&#xD;
     return ins;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3upoIJREeGsv772wTim0Q" name="getInstance" specification="_v1RykIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3upoYJREeGsv772wTim0Q" name="pl" type="_tZ1D0YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3upooJREeGsv772wTim0Q" type="_tic0UoJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (ins == null) {&#xD;
         ins = new BServer(pl);&#xD;
     }&#xD;
     return ins;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3upo4JREeGsv772wTim0Q" name="getMCServer" specification="_vvDOwIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uppIJREeGsv772wTim0Q" type="_tdL50IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcServer;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vvAygIJREeGsv772wTim0Q" name="disablePlugins" method="_v3tbg4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vvAygYJREeGsv772wTim0Q" name="getHandle" method="_v3tbh4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v2KjY4JREeGsv772wTim0Q" type="_v1PWU4JREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvAygoJREeGsv772wTim0Q" name="getReader" method="_v3tbiYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v2KjZIJREeGsv772wTim0Q" type="_v1OvQIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvBZkIJREeGsv772wTim0Q" name="loadPlugins" method="_v3tbi4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vvBZkYJREeGsv772wTim0Q" name="stop" method="_v3tbjIJREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vvBZkoJREeGsv772wTim0Q" name="sendConsoleCommand" method="_v3tbjYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvBZk4JREeGsv772wTim0Q" name="cmd">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvCAoIJREeGsv772wTim0Q" name="getLogger" method="_v3uCkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1RLgIJREeGsv772wTim0Q" type="_tc_FgIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvCAoYJREeGsv772wTim0Q" name="getWorldServers" method="_v3uCkoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvCAooJREeGsv772wTim0Q" type="_tcbE0YJREeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vvCAo4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvCnsIJREeGsv772wTim0Q" name="getPropertyManager" method="_v3uClYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v2LKcIJREeGsv772wTim0Q" type="_v1PWUYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvCnsYJREeGsv772wTim0Q" name="getNetworkThread" method="_v3uCl4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v2LKcYJREeGsv772wTim0Q" type="_v1OvQoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvCnsoJREeGsv772wTim0Q" name="getWorld" method="_v3uCmYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvCns4JREeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v2LxgYJREeGsv772wTim0Q" type="_v2LKcoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvDOwIJREeGsv772wTim0Q" name="getMCServer" method="_v3upo4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1Ryk4JREeGsv772wTim0Q" type="_tdL50IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1QkcIJREeGsv772wTim0Q" name="BServer" visibility="private" method="_v3s0c4JREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1QkcoJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1Qkc4JREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v1QkcYJREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1QkdIJREeGsv772wTim0Q" type="_vu_kYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1QkdYJREeGsv772wTim0Q" name="BServer" visibility="private" method="_v3tbgIJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1Qkd4JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1QkeIJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v1QkdoJREeGsv772wTim0Q" name="server" type="_tZ1D0YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1QkeYJREeGsv772wTim0Q" type="_vu_kYIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1RLgYJREeGsv772wTim0Q" name="getInstance" isStatic="true" method="_v3uCnIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1RLgoJREeGsv772wTim0Q" name="pl" type="_tZ25AYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1RLg4JREeGsv772wTim0Q" type="_tic0UoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1RykIJREeGsv772wTim0Q" name="getInstance" isStatic="true" method="_v3upoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1RykYJREeGsv772wTim0Q" name="pl" type="_tZ1D0YJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1RykoJREeGsv772wTim0Q" type="_tic0UoJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v2KjYIJREeGsv772wTim0Q" name="dispatchCommand" method="_v3tbhIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v2KjYYJREeGsv772wTim0Q" name="sender" type="_v1P9YYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v2KjYoJREeGsv772wTim0Q" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vvHgMIJREeGsv772wTim0Q" name="NPCManager">
              <ownedComment xmi:id="_v33zkIJREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <ownedAttribute xmi:id="_v3O6Y4JREeGsv772wTim0Q" name="npcs" visibility="private" type="_tZxZcYJREeGsv772wTim0Q" association="_v4v9UYJREeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3PhcYJREeGsv772wTim0Q" value="new HashMap&lt;String, NPCEntity>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3Phc4JREeGsv772wTim0Q" name="server" visibility="private" type="_tic0UoJREeGsv772wTim0Q" association="_v4v9VIJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3PhdYJREeGsv772wTim0Q" name="taskid" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3QIgYJREeGsv772wTim0Q" name="plugin" visibility="private" type="_tZ25AYJREeGsv772wTim0Q" association="_v4wkYYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3uppYJREeGsv772wTim0Q" name="NPCManager" specification="_v1U14YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3uppoJREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3upp4JREeGsv772wTim0Q" type="_vvHgMIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>server = BServer.getInstance(plugin);&#xD;
     this.plugin = plugin;&#xD;
     taskid = plugin.getServer().getScheduler().scheduleAsyncRepeatingTask(plugin, new Runnable() {&#xD;
         public void run() {&#xD;
             HashSet&lt;String> toRemove = new HashSet&lt;String>();&#xD;
             for (String i : npcs.keySet()) {&#xD;
                 Entity j = npcs.get(i);&#xD;
                 j.aa();//j.R(); was renamed&#xD;
                 if (j.dead) {&#xD;
                     toRemove.add(i);&#xD;
                 }&#xD;
             }&#xD;
             for (String n : toRemove) {&#xD;
                 npcs.remove(n);&#xD;
             }&#xD;
         }&#xD;
     }, 1L, 1L);&#xD;
     plugin.getServer().getPluginManager().registerEvent(Event.Type.PLUGIN_DISABLE, new SL(), Priority.Normal, plugin);&#xD;
     plugin.getServer().getPluginManager().registerEvent(Event.Type.CHUNK_LOAD, new WL(), Priority.Normal, plugin);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3vQsoJREeGsv772wTim0Q" name="spawnNPC" specification="_v1WrE4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3vQs4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3vQtIJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3vQtYJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>int i = 0;&#xD;
     String id = name;&#xD;
     while (npcs.containsKey(id)) {&#xD;
         id = name + i;&#xD;
         i++;&#xD;
     }&#xD;
     return spawnNPC(name, l, id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3vQtoJREeGsv772wTim0Q" name="spawnNPC" specification="_v1XSIoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3vQt4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3vQuIJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3vQuYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3vQuoJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (npcs.containsKey(id)) {&#xD;
         server.getLogger().log(Level.WARNING, &quot;NPC with that id already exists, existing NPC returned&quot;);&#xD;
         return npcs.get(id);&#xD;
     } else {&#xD;
         if (name.length() > 16) { // Check and nag if name is too long, spawn NPC anyway with shortened name.&#xD;
             String tmp = name.substring(0, 16);&#xD;
             server.getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 16 characters,&quot;);&#xD;
             server.getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
             name = tmp;&#xD;
         }&#xD;
         BWorld world = new BWorld(l.getWorld());&#xD;
         NPCEntity npcEntity = new NPCEntity(server.getMCServer(), world.getWorldServer(), name, new ItemInWorldManager(world.getWorldServer()));&#xD;
         npcEntity.setPositionRotation(l.getX(), l.getY(), l.getZ(), l.getYaw(), l.getPitch());&#xD;
         world.getWorldServer().addEntity(npcEntity); //the right way&#xD;
         npcs.put(id, npcEntity);&#xD;
         return npcEntity;&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3vQu4JREeGsv772wTim0Q" name="despawnById" specification="_vvJ8cIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3vQvIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npcs.remove(id);&#xD;
         try {&#xD;
             npc.world.removeEntity(npc);&#xD;
         } catch (Exception e) {&#xD;
             e.printStackTrace();&#xD;
         }&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3vQvYJREeGsv772wTim0Q" name="despawn" specification="_vvJ8coJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3vQvoJREeGsv772wTim0Q" name="npcName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (npcName.length() > 16) {&#xD;
         npcName = npcName.substring(0, 16); //Ensure you can still despawn&#xD;
     }&#xD;
     HashSet&lt;String> toRemove = new HashSet&lt;String>();&#xD;
     for (String n : npcs.keySet()) {&#xD;
         NPCEntity npc = npcs.get(n);&#xD;
         if (npc != null &amp;&amp; npc.name.equals(npcName)) {&#xD;
             toRemove.add(n);&#xD;
             try {&#xD;
                 npc.world.removeEntity(npc);&#xD;
             } catch (Exception e) {&#xD;
                 e.printStackTrace();&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     for (String n : toRemove) {&#xD;
         npcs.remove(n);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3vQv4JREeGsv772wTim0Q" name="despawnAll" specification="_vvJ8dIJREeGsv772wTim0Q">
                <language>java</language>
                <body>for (NPCEntity npc : npcs.values()) {&#xD;
         if (npc != null) {&#xD;
             try {&#xD;
                 npc.world.removeEntity(npc);&#xD;
             } catch (Exception e) {&#xD;
                 e.printStackTrace();&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     npcs.clear();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3v3wIJREeGsv772wTim0Q" name="pathFindNPC" specification="_v1X5MIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3v3wYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3v3woJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>pathFindNPC(id, l, 1500);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3v3w4JREeGsv772wTim0Q" name="pathFindNPC" specification="_v1X5M4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3v3xIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3v3xYJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3v3xoJREeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         if (l.getWorld() == npc.getBukkitEntity().getWorld()) {&#xD;
             npc.pathFindTo(l, maxIterations);&#xD;
         } else {&#xD;
             String n = npc.name;&#xD;
             despawnById(id);&#xD;
             spawnNPC(n, l, id);&#xD;
         }&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3v3x4JREeGsv772wTim0Q" name="moveNPC" specification="_v1YgQIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3v3yIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3v3yYJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npc.setPositionRotation(l.getX(), l.getY(), l.getZ(), l.getYaw(), l.getPitch());&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3v3yoJREeGsv772wTim0Q" name="moveNPCStatic" specification="_v1YgQ4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3v3y4JREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3v3zIJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npc.setPosition(l.getX(), l.getY(), l.getZ());&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3v3zYJREeGsv772wTim0Q" name="setSneaking" specification="_vvLKkIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3v3zoJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3v3z4JREeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npc.setSneak(flag);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3we0IJREeGsv772wTim0Q" name="getNPC" specification="_vvLKk4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3we0YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3we0oJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcs.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3we04JREeGsv772wTim0Q" name="isNPC" specification="_v1ZHUIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3we1IJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3we1YJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (((CraftEntity) e).getHandle() instanceof NPCEntity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3we1oJREeGsv772wTim0Q" name="getNPCsByName" specification="_vvLxoIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3we14JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3we2IJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3we2YJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>List&lt;NPCEntity> ret = new ArrayList&lt;NPCEntity>();&#xD;
     Collection&lt;NPCEntity> i = npcs.values();&#xD;
     for (NPCEntity e : i) {&#xD;
         if (e.getName().equalsIgnoreCase(name)) {&#xD;
             ret.add(e);&#xD;
         }&#xD;
     }&#xD;
     return ret;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3we2oJREeGsv772wTim0Q" name="getNPCs" specification="_vvMYsIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3we24JREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v3we3IJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return new ArrayList&lt;NPCEntity>(npcs.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3we3YJREeGsv772wTim0Q" name="getNPCIdFromEntity" specification="_v1ZHU4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3we3oJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3we34JREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (e instanceof HumanEntity) {&#xD;
         for (String i : npcs.keySet()) {&#xD;
             if (npcs.get(i).getBukkitEntity().getEntityId() == ((HumanEntity) e).getEntityId()) {&#xD;
                 return i;&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3we4IJREeGsv772wTim0Q" name="rename" specification="_vvMYs4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3we4YJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3we4oJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (name.length() > 16) { // Check and nag if name is too long, spawn NPC anyway with shortened name.&#xD;
         String tmp = name.substring(0, 16);&#xD;
         server.getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 16 characters,&quot;);&#xD;
         server.getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
         name = tmp;&#xD;
     }&#xD;
     NPCEntity npc = getNPC(id);&#xD;
     npc.setName(name);&#xD;
     BWorld b = new BWorld(npc.getBukkitEntity().getLocation().getWorld());&#xD;
     WorldServer s = b.getWorldServer();&#xD;
     try {&#xD;
         Method m = s.getClass().getDeclaredMethod(&quot;d&quot;, new Class[]{Entity.class});&#xD;
         m.setAccessible(true);&#xD;
         m.invoke(s, (Entity) npc);&#xD;
         m = s.getClass().getDeclaredMethod(&quot;c&quot;, new Class[]{Entity.class});&#xD;
         m.setAccessible(true);&#xD;
         m.invoke(s, (Entity) npc);&#xD;
     } catch (Exception ex) {&#xD;
         ex.printStackTrace();&#xD;
     }&#xD;
     s.everyoneSleeping();&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_vvIHQIJREeGsv772wTim0Q" name="SL" visibility="private">
                <generalization xmi:id="_v2MYkIJREeGsv772wTim0Q" general="_v1UO0YJREeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3upqIJREeGsv772wTim0Q" name="onPluginDisable" specification="_v1Vc84JREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_v3upqYJREeGsv772wTim0Q" name="event" type="_tZuWIIJREeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>if (event.getPlugin() == plugin) {&#xD;
             despawnAll();&#xD;
             plugin.getServer().getScheduler().cancelTask(taskid);&#xD;
         }&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_v1Vc84JREeGsv772wTim0Q" name="onPluginDisable" method="_v3upqIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_v1Vc9IJREeGsv772wTim0Q" name="event" type="_tZuWIIJREeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_vvIuUIJREeGsv772wTim0Q" name="WL" visibility="private">
                <generalization xmi:id="_v2MYkYJREeGsv772wTim0Q" general="_v1UO04JREeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3vQsIJREeGsv772wTim0Q" name="onChunkLoad" specification="_v1WEA4JREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_v3vQsYJREeGsv772wTim0Q" name="event" type="_tck10IJREeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>for (NPCEntity npc : npcs.values()) {&#xD;
             if (npc != null &amp;&amp; event.getChunk() == npc.getBukkitEntity().getLocation().getBlock().getChunk()) {&#xD;
                 BWorld world = new BWorld(event.getWorld());&#xD;
                 world.getWorldServer().addEntity(npc);&#xD;
             }&#xD;
         }&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_v1WEA4JREeGsv772wTim0Q" name="onChunkLoad" method="_v3vQsIJREeGsv772wTim0Q">
                  <ownedParameter xmi:id="_v1WEBIJREeGsv772wTim0Q" name="event" type="_tck10IJREeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_vvJ8cIJREeGsv772wTim0Q" name="despawnById" method="_v3vQu4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvJ8cYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvJ8coJREeGsv772wTim0Q" name="despawn" method="_v3vQvYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvJ8c4JREeGsv772wTim0Q" name="npcName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvJ8dIJREeGsv772wTim0Q" name="despawnAll" method="_v3vQv4JREeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_vvLKkIJREeGsv772wTim0Q" name="setSneaking" method="_v3v3zYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvLKkYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vvLKkoJREeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvLKk4JREeGsv772wTim0Q" name="getNPC" method="_v3we0IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvLKlIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v2NmsIJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_vvLxoIJREeGsv772wTim0Q" name="getNPCsByName" method="_v3we1oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvLxoYJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vvLxooJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vvLxo4JREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvMYsIJREeGsv772wTim0Q" name="getNPCs" method="_v3we2oJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvMYsYJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_vvMYsoJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_vvMYs4JREeGsv772wTim0Q" name="rename" method="_v3we4IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_vvMYtIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_vvM_wIJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1U14YJREeGsv772wTim0Q" name="NPCManager" method="_v3uppYJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1Vc8IJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1Vc8YJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v1U14oJREeGsv772wTim0Q" name="plugin" type="_tZ25AYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1Vc8oJREeGsv772wTim0Q" type="_vvHgMIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1WrE4JREeGsv772wTim0Q" name="spawnNPC" method="_v3vQsoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1XSIIJREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1XSIYJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v2M_ooJREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1XSIoJREeGsv772wTim0Q" name="spawnNPC" method="_v3vQtoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1XSI4JREeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1XSJIJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1XSJYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v2M_o4JREeGsv772wTim0Q" type="_v2M_oIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1X5MIJREeGsv772wTim0Q" name="pathFindNPC" method="_v3v3wIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1X5MYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1X5MoJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1X5M4JREeGsv772wTim0Q" name="pathFindNPC" method="_v3v3w4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1X5NIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1X5NYJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1X5NoJREeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1YgQIJREeGsv772wTim0Q" name="moveNPC" method="_v3v3x4JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1YgQYJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1YgQoJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1YgQ4JREeGsv772wTim0Q" name="moveNPCStatic" method="_v3v3yoJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1YgRIJREeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1YgRYJREeGsv772wTim0Q" name="l" type="_tZYX4IJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1ZHUIJREeGsv772wTim0Q" name="isNPC" method="_v3we04JREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1ZHUYJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1ZHUoJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_v1ZHU4JREeGsv772wTim0Q" name="getNPCIdFromEntity" method="_v3we3YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v1ZHVIJREeGsv772wTim0Q" name="e" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1ZHVYJREeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vvWJsIJREeGsv772wTim0Q" name="NPCNetworkManager">
              <ownedComment xmi:id="_v33zkYJREeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_v1cxsoJREeGsv772wTim0Q" general="_tcZ2sYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3xF4IJREeGsv772wTim0Q" name="NPCNetworkManager" specification="_v1a8gYJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3xF4YJREeGsv772wTim0Q" name="socket" type="_tcTwEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3xF4oJREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v3xF44JREeGsv772wTim0Q" name="nethandler" type="_tcYokYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3xF5IJREeGsv772wTim0Q" type="_vvWJsIJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(socket, s, nethandler);&#xD;
     try {&#xD;
         Field f = NetworkManager.class.getDeclaredField(&quot;j&quot;);&#xD;
         f.setAccessible(true);&#xD;
         f.set(this, false);&#xD;
     } catch (Exception e) {&#xD;
         System.out.println(e);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_vvWwwIJREeGsv772wTim0Q" name="a"/>
              <ownedOperation xmi:id="_v1a8gYJREeGsv772wTim0Q" name="NPCNetworkManager" method="_v3xF4IJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v1a8hYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v1a8hoJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v1a8goJREeGsv772wTim0Q" name="socket" type="_tcTwEIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1a8g4JREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1a8hIJREeGsv772wTim0Q" name="nethandler" type="_tcYokYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v1a8h4JREeGsv772wTim0Q" type="_vvWJsIJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1bjkIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_v1bjkYJREeGsv772wTim0Q" name="nethandler" type="_tcYokYJREeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v1cKoIJREeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_v1cKoYJREeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_v1cKooJREeGsv772wTim0Q" name="aobject" type="_tird0IJREeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_v1cKpIJREeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_vvYl8IJREeGsv772wTim0Q" name="NpcEntityTargetEvent">
              <generalization xmi:id="_v1dYwIJREeGsv772wTim0Q" general="_tZr54YJREeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_v3QvkIJREeGsv772wTim0Q" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_v3QvkYJREeGsv772wTim0Q" value="-8103432985035183865L"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_v3QvkoJREeGsv772wTim0Q" name="reason" visibility="private" type="_v2ONwYJREeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3xF5YJREeGsv772wTim0Q" name="NpcEntityTargetEvent" specification="_v2O00YJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3xF5oJREeGsv772wTim0Q" name="entity" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3xF54JREeGsv772wTim0Q" name="target" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3xF6IJREeGsv772wTim0Q" name="reason" type="_v2ONwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v3xF6YJREeGsv772wTim0Q" type="_vvYl8IJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(entity, target, TargetReason.CUSTOM);&#xD;
     this.reason = reason;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_v3xs8IJREeGsv772wTim0Q" name="getNpcReason" specification="_vvabIIJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v3xs8YJREeGsv772wTim0Q" type="_v2ONwYJREeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.reason;&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_vvZNAIJREeGsv772wTim0Q" name="NpcTargetReason">
                <eAnnotations xmi:id="_vvZNAYJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_vvZ0EIJREeGsv772wTim0Q" key="static"/>
                </eAnnotations>
                <ownedLiteral xmi:id="_vvZ0EoJREeGsv772wTim0Q" name="CLOSEST_PLAYER"/>
                <ownedLiteral xmi:id="_vvZ0E4JREeGsv772wTim0Q" name="NPC_RIGHTCLICKED"/>
                <ownedLiteral xmi:id="_vvZ0FIJREeGsv772wTim0Q" name="NPC_BOUNCED"/>
              </nestedClassifier>
              <ownedOperation xmi:id="_vvabIIJREeGsv772wTim0Q" name="getNpcReason" method="_v3xs8IJREeGsv772wTim0Q">
                <ownedParameter xmi:id="_v2Pb5oJREeGsv772wTim0Q" type="_v2ONwYJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_v2O00YJREeGsv772wTim0Q" name="NpcEntityTargetEvent" method="_v3xF5YJREeGsv772wTim0Q">
                <eAnnotations xmi:id="_v2Pb44JREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_v2Pb5IJREeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_v2Pb4IJREeGsv772wTim0Q" name="entity" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v2Pb4YJREeGsv772wTim0Q" name="target" type="_tZklIIJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v2Pb4oJREeGsv772wTim0Q" name="reason" type="_v2ONwYJREeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_v2Pb5YJREeGsv772wTim0Q" type="_vvYl8IJREeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4uvMIJREeGsv772wTim0Q" name="" memberEnd="_v4uvMYJREeGsv772wTim0Q _v3NsQIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4uvMYJREeGsv772wTim0Q" name="" type="_vu_kYIJREeGsv772wTim0Q" association="_v4uvMIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4uvM4JREeGsv772wTim0Q" name="" memberEnd="_v4uvNIJREeGsv772wTim0Q _v3NsQoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4uvNIJREeGsv772wTim0Q" name="" type="_vu_kYIJREeGsv772wTim0Q" association="_v4uvM4JREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4uvNoJREeGsv772wTim0Q" name="" memberEnd="_v4uvN4JREeGsv772wTim0Q _v3OTUIJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4uvN4JREeGsv772wTim0Q" name="" type="_vu_kYIJREeGsv772wTim0Q" association="_v4uvNoJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4vWQYJREeGsv772wTim0Q" name="" memberEnd="_v4vWQoJREeGsv772wTim0Q _v3OTUoJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4vWQoJREeGsv772wTim0Q" name="" type="_vu_kYIJREeGsv772wTim0Q" association="_v4vWQYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4vWRIJREeGsv772wTim0Q" name="" memberEnd="_v4vWRYJREeGsv772wTim0Q _v3OTU4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4vWRYJREeGsv772wTim0Q" name="" type="_vu_kYIJREeGsv772wTim0Q" association="_v4vWRIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4v9UYJREeGsv772wTim0Q" name="" memberEnd="_v4v9UoJREeGsv772wTim0Q _v3O6Y4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4v9UoJREeGsv772wTim0Q" name="" type="_vvHgMIJREeGsv772wTim0Q" association="_v4v9UYJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4v9VIJREeGsv772wTim0Q" name="" memberEnd="_v4v9VYJREeGsv772wTim0Q _v3Phc4JREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4v9VYJREeGsv772wTim0Q" name="" type="_vvHgMIJREeGsv772wTim0Q" association="_v4v9VIJREeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_v4wkYYJREeGsv772wTim0Q" name="" memberEnd="_v4wkYoJREeGsv772wTim0Q _v3QIgYJREeGsv772wTim0Q">
              <ownedEnd xmi:id="_v4wkYoJREeGsv772wTim0Q" name="" type="_vvHgMIJREeGsv772wTim0Q" association="_v4wkYYJREeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_teWXcIJREeGsv772wTim0Q" name="src">
      <packagedElement xmi:type="uml:Package" xmi:id="_teW-gIJREeGsv772wTim0Q" name="main">
        <packagedElement xmi:type="uml:Package" xmi:id="_teW-gYJREeGsv772wTim0Q" name="java">
          <packagedElement xmi:type="uml:Package" xmi:id="_teW-goJREeGsv772wTim0Q" name="net">
            <packagedElement xmi:type="uml:Package" xmi:id="_teW-g4JREeGsv772wTim0Q" name="rageland">
              <packagedElement xmi:type="uml:Package" xmi:id="_teW-hIJREeGsv772wTim0Q" name="ragemod">
                <packagedElement xmi:type="uml:Class" xmi:id="_teW-hYJREeGsv772wTim0Q" name="RageMod"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfBF0IJREeGsv772wTim0Q" name="RMPlayerListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfBs4IJREeGsv772wTim0Q" name="RMBlockListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfC7AIJREeGsv772wTim0Q" name="RMServerListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfDiEIJREeGsv772wTim0Q" name="RMEntityListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfF-UIJREeGsv772wTim0Q" name="RageConfig"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfHMcIJREeGsv772wTim0Q" name="RageZones">
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_v1tQYIJREeGsv772wTim0Q" name="Zone"/>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_v1t3coJREeGsv772wTim0Q" name="Quadrant"/>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_v1uegoJREeGsv772wTim0Q" name="Action"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_tfIakIJREeGsv772wTim0Q" name="Configuration"/>
                <packagedElement xmi:type="uml:Package" xmi:id="_tgdQQIJREeGsv772wTim0Q" name="data">
                  <packagedElement xmi:type="uml:Class" xmi:id="_tgdQQYJREeGsv772wTim0Q" name="Location2D"/>
                  <packagedElement xmi:type="uml:Package" xmi:id="_tgfsgIJREeGsv772wTim0Q" name="Lot">
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="_tgfsgYJREeGsv772wTim0Q" name="LotCategory"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tgg6oIJREeGsv772wTim0Q" name="Region2D"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tgj98IJREeGsv772wTim0Q" name="NPCData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tglMEIJREeGsv772wTim0Q" name="NPCLocation"/>
                  <packagedElement xmi:type="uml:Package" xmi:id="_tgmaMIJREeGsv772wTim0Q" name="NPCInstance">
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="_tgnBQIJREeGsv772wTim0Q" name="NPCType"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tgtu8IJREeGsv772wTim0Q" name="NPCInstance"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tgwyQIJREeGsv772wTim0Q" name="NPCTown"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tg2R0IJREeGsv772wTim0Q" name="PlayerData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tg6jQIJREeGsv772wTim0Q" name="Town"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tg9mkIJREeGsv772wTim0Q" name="BountyHandler"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thAp4IJREeGsv772wTim0Q" name="Region3D"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thCfEIJREeGsv772wTim0Q" name="PlayerTown"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thDtM4JREeGsv772wTim0Q" name="TownLevel"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thH-oIJREeGsv772wTim0Q" name="Region"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_v1wTsIJREeGsv772wTim0Q" name="Lot"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_v1yI4IJREeGsv772wTim0Q" name="Permits"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_thaSgYJREeGsv772wTim0Q" name="database">
                  <packagedElement xmi:type="uml:Class" xmi:id="_thaSgoJREeGsv772wTim0Q" name="JDCConnectionPool"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thkDgIJREeGsv772wTim0Q" name="ConnectionReaper"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thkqkIJREeGsv772wTim0Q" name="ConnectionKeepAlive"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thlRoYJREeGsv772wTim0Q" name="JDCConnection"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_thpjEIJREeGsv772wTim0Q" name="JDCConnectionDriver"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_th2XYIJREeGsv772wTim0Q" name="entity">
                  <packagedElement xmi:type="uml:Class" xmi:id="_th2XYYJREeGsv772wTim0Q" name="Bounty"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_th4MkIJREeGsv772wTim0Q" name="npcentities">
                  <packagedElement xmi:type="uml:Class" xmi:id="_th4MkYJREeGsv772wTim0Q" name="RageEntity"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_th6o0IJREeGsv772wTim0Q" name="SpeechData"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_tiLukIJREeGsv772wTim0Q" name="quest">
                  <packagedElement xmi:type="uml:Class" xmi:id="_tiLukYJREeGsv772wTim0Q" name="Quest"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tiMVoYJREeGsv772wTim0Q" name="QuestData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tiM8sYJREeGsv772wTim0Q" name="RewardData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tiNjwYJREeGsv772wTim0Q" name="Flags"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_tiTDUIJREeGsv772wTim0Q" name="QuestRequirements"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_v2HgEIJREeGsv772wTim0Q" name="text">
                  <packagedElement xmi:type="uml:Class" xmi:id="_v2HgEYJREeGsv772wTim0Q" name="NPCParsing"/>
                </packagedElement>
              </packagedElement>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_tic0UIJREeGsv772wTim0Q" name="test">
        <packagedElement xmi:type="uml:Package" xmi:id="_tic0UYJREeGsv772wTim0Q" name="npclib">
          <packagedElement xmi:type="uml:Class" xmi:id="_tic0UoJREeGsv772wTim0Q" name="BServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tihs0IJREeGsv772wTim0Q" name="NPCPath">
            <nestedClassifier xmi:type="uml:Class" xmi:id="_ti3EAIJREeGsv772wTim0Q" name="Node"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_v2LKcoJREeGsv772wTim0Q" name="BWorld"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_v2M_oIJREeGsv772wTim0Q" name="NPCEntity"/>
          <packagedElement xmi:type="uml:Package" xmi:id="_v2ONwIJREeGsv772wTim0Q" name="NpcEntityTargetEvent">
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_v2ONwYJREeGsv772wTim0Q" name="NpcTargetReason"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_vqBk0IJREeGsv772wTim0Q" name="jline">
      <packagedElement xmi:type="uml:Class" xmi:id="_v1OvQIJREeGsv772wTim0Q" name="ConsoleReader"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_uO4KkIJTEeGsv772wTim0Q" name="NewClass1"/>
    <profileApplication xmi:id="_goEokIJREeGsv772wTim0Q">
      <eAnnotations xmi:id="_goNygIJREeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_goWVYIJREeGsv772wTim0Q" base_Package="_gnKpoIJREeGsv772wTim0Q">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s5PfQIJREeGsv772wTim0Q" base_Element="_s5ORIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s5U-0IJREeGsv772wTim0Q" base_Element="_s5ORIIJREeGsv772wTim0Q">
    <annotations xmi:id="_s5W0AIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s5W0AYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpDLkYJREeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s5hzIIJREeGsv772wTim0Q" base_Element="_s5hMEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s5kPYIJREeGsv772wTim0Q" base_Element="_s5hMEIJREeGsv772wTim0Q">
    <annotations xmi:id="_s5kPYYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s5kPYoJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpDyoIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s5y44IJREeGsv772wTim0Q" base_Element="_s5xqwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s6qbkIJREeGsv772wTim0Q" base_Element="_s6pNcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s6sQwYJREeGsv772wTim0Q" base_Element="_s6rpsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s6te4IJREeGsv772wTim0Q" base_Element="_s6s30IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s6xJQIJREeGsv772wTim0Q" base_Element="_s6wiMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s60zoIJREeGsv772wTim0Q" base_Element="_s6zlgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s62o0YJREeGsv772wTim0Q" base_Element="_s62BwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s65FEIJREeGsv772wTim0Q" base_Element="_s6328IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s65sIIJREeGsv772wTim0Q" base_Element="_s6pNcIJREeGsv772wTim0Q">
    <annotations xmi:id="_s65sIYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s66TMIJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpDyooJREeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s7kagIJREeGsv772wTim0Q" base_Element="_s7jMYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s7or8IJREeGsv772wTim0Q" base_Element="_s7jMYIJREeGsv772wTim0Q">
    <annotations xmi:id="_s7pTAIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s7pTAYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpDyo4JREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s8CUkIJREeGsv772wTim0Q" base_Element="_s8BtgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s8LegIJREeGsv772wTim0Q" base_Element="_s8BtgIJREeGsv772wTim0Q">
    <annotations xmi:id="_s8LegYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s8MFkIJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpEZsIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s87FYIJREeGsv772wTim0Q" base_Element="_s86eUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s8_W0oJREeGsv772wTim0Q" base_Element="_s8-vwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_s8_94YJREeGsv772wTim0Q" dimensions="1" base_Element="_s8_W0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s9BMAYJREeGsv772wTim0Q" base_Element="_s9Ak8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_s9BzEIJREeGsv772wTim0Q" base_Element="_s9Ak8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s9CaIoJREeGsv772wTim0Q" base_Element="_s9BzEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_s9DBMIJREeGsv772wTim0Q" base_Element="_s9CaIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s9H5sIJREeGsv772wTim0Q" base_Element="_s86eUIJREeGsv772wTim0Q">
    <annotations xmi:id="_s9H5sYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s9IgwIJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpEZsoJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s_U5IIJREeGsv772wTim0Q" base_Element="_s_USEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s_YjgIJREeGsv772wTim0Q" base_Element="_s_X8cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s_ZKkIJREeGsv772wTim0Q" base_Element="_s_YjgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_s_ZxoYJREeGsv772wTim0Q" base_Element="_s_ZKkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s_aYsIJREeGsv772wTim0Q" base_Element="_s_USEIJREeGsv772wTim0Q">
    <annotations xmi:id="_s_aYsYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s_aYsoJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpFn0IJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_s_1PcIJREeGsv772wTim0Q" base_Element="_s_0oYoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_s_12gIJREeGsv772wTim0Q" base_Element="_s_0oYoJREeGsv772wTim0Q">
    <annotations xmi:id="_s_12gYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_s_12goJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpGO4YJREeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tAJYgIJREeGsv772wTim0Q" base_Element="_tAIxcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tAQGMIJREeGsv772wTim0Q" base_Element="_tAO4EIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tAQtQIJREeGsv772wTim0Q" base_Element="_tAQGMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tARUUIJREeGsv772wTim0Q" base_Element="_tAQtQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tAR7YYJREeGsv772wTim0Q" base_Element="_tARUUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tASicYJREeGsv772wTim0Q" base_Element="_tAR7YoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tATJgIJREeGsv772wTim0Q" base_Element="_tASicoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tATJgoJREeGsv772wTim0Q" base_Element="_tATJgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tATwkIJREeGsv772wTim0Q" base_Element="_tAIxcIJREeGsv772wTim0Q">
    <annotations xmi:id="_tAUXoIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tAUXoYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpGO4oJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_tAeIoIJREeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_tAdhkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tAf90IJREeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_tAevsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tAuAQIJREeGsv772wTim0Q" genericsValue="NPCData" base_Element="_tAtZMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tAyRsIJREeGsv772wTim0Q" base_Element="_tAxqoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA0G4YJREeGsv772wTim0Q" base_Element="_tAzf0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA0t8YJREeGsv772wTim0Q" base_Element="_tA0G4oJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA1VAIJREeGsv772wTim0Q" base_Element="_tA0t8oJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA1VAoJREeGsv772wTim0Q" base_Element="_tA1VAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA18EIJREeGsv772wTim0Q" base_Element="_tA1VA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA2jIIJREeGsv772wTim0Q" base_Element="_tA18EYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tA2jIYJREeGsv772wTim0Q" base_Element="_tAxqoIJREeGsv772wTim0Q">
    <annotations xmi:id="_tA2jIoJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tA2jI4JREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpHdAIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tA5mcIJREeGsv772wTim0Q" base_Element="_tA4_YIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA6NgIJREeGsv772wTim0Q" base_Element="_tA5mcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA60kIJREeGsv772wTim0Q" base_Element="_tA6NgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA60k4JREeGsv772wTim0Q" base_Element="_tA60kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA7boYJREeGsv772wTim0Q" base_Element="_tA7boIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tA8CsYJREeGsv772wTim0Q" base_Element="_tA7booJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tA8CsoJREeGsv772wTim0Q" base_Element="_tA4_YIJREeGsv772wTim0Q">
    <annotations xmi:id="_tA8Cs4JREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tA8CtIJREeGsv772wTim0Q" skipName="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpIEEIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpIEEYJREeGsv772wTim0Q" value="&quot;null&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_tBvT8IJREeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_tBus4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tB6TEIJREeGsv772wTim0Q" genericsValue="Town" base_Element="_tB5sAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tB7hMIJREeGsv772wTim0Q" genericsValue="PlayerTown" base_Element="_tB66IIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tB8vUIJREeGsv772wTim0Q" genericsValue="NPCTown" base_Element="_tB8IQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tCN1E4JREeGsv772wTim0Q" base_Element="_tCN1EIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tCPqQIJREeGsv772wTim0Q" base_Element="_tCPDMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tCPqRIJREeGsv772wTim0Q" base_Element="_tCPqQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tCQRUoJREeGsv772wTim0Q" base_Element="_tCPqRYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tCQ4YIJREeGsv772wTim0Q" base_Element="_tCQRU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tCQ4YYJREeGsv772wTim0Q" base_Element="_tCN1EIJREeGsv772wTim0Q">
    <annotations xmi:id="_tCRfcIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tCRfcYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpIrIYJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tCeTwIJREeGsv772wTim0Q" base_Element="_tCdssIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tCfh4IJREeGsv772wTim0Q" genericsValue="Integer, Integer" base_Element="_tCe60IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tCfh4YJREeGsv772wTim0Q" base_Element="_tCe60IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tCgI8IJREeGsv772wTim0Q" base_Element="_tCdssIJREeGsv772wTim0Q">
    <annotations xmi:id="_tCgI8YJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tCgI8oJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpJ5QIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_tCjzUIJREeGsv772wTim0Q" genericsValue="Lot" base_Element="_tCilMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tClBcIJREeGsv772wTim0Q" genericsValue="String" base_Element="_tCjzUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tClogIJREeGsv772wTim0Q" genericsValue="String, Lot" base_Element="_tClBcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tCrvIIJREeGsv772wTim0Q" genericsValue="String, NPCTown" base_Element="_tCrIEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tCs9QIJREeGsv772wTim0Q" genericsValue="String" base_Element="_tCsWMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tC0SAIJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_tCzq8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tC1gIIJREeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_tC05EIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tC3VUIJREeGsv772wTim0Q" genericsValue="String, Location" base_Element="_tC2uQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tC-DAIJREeGsv772wTim0Q" base_Element="_tC9b8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tC_RIIJREeGsv772wTim0Q" genericsValue="Integer, Quest" base_Element="_tC-qEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tC_4MIJREeGsv772wTim0Q" base_Element="_tC-qEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDAfQIJREeGsv772wTim0Q" base_Element="_tC_4MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tDAfQYJREeGsv772wTim0Q" base_Element="_tC9b8IJREeGsv772wTim0Q">
    <annotations xmi:id="_tDAfQoJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tDAfQ4JREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpKgUIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_tDEJoIJREeGsv772wTim0Q" genericsValue="String, PlayerTown" base_Element="_tDDikIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tDHM8IJREeGsv772wTim0Q" genericsValue="String" base_Element="_tDGl44JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tDMFc4JREeGsv772wTim0Q" base_Element="_tDMFcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tDTaMIJREeGsv772wTim0Q" base_Element="_tDSzIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDUoUYJREeGsv772wTim0Q" base_Element="_tDUoUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDVPYYJREeGsv772wTim0Q" base_Element="_tDVPYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDXro4JREeGsv772wTim0Q" base_Element="_tDXEkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDYSsYJREeGsv772wTim0Q" base_Element="_tDYSsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDY5wYJREeGsv772wTim0Q" base_Element="_tDYSsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDZg0IJREeGsv772wTim0Q" base_Element="_tDY5woJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tDZg0YJREeGsv772wTim0Q" base_Element="_tDSzIIJREeGsv772wTim0Q">
    <annotations xmi:id="_tDaH4IJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tDaH4YJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpKgVIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tDiDsIJREeGsv772wTim0Q" base_Element="_tDhcoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDjR0YJREeGsv772wTim0Q" base_Element="_tDjR0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDj44IJREeGsv772wTim0Q" base_Element="_tDjR0oJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDkf8IJREeGsv772wTim0Q" base_Element="_tDj44YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDkf84JREeGsv772wTim0Q" base_Element="_tDkf8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tDluEIJREeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_tDlHAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDluEYJREeGsv772wTim0Q" base_Element="_tDlHAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDmVIIJREeGsv772wTim0Q" base_Element="_tDluEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDm8MIJREeGsv772wTim0Q" base_Element="_tDmVIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDm8MoJREeGsv772wTim0Q" base_Element="_tDm8MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDnjQYJREeGsv772wTim0Q" base_Element="_tDm8M4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDnjRIJREeGsv772wTim0Q" base_Element="_tDnjQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDoKUoJREeGsv772wTim0Q" base_Element="_tDoKUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDoxYYJREeGsv772wTim0Q" base_Element="_tDoxYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tDpYcoJREeGsv772wTim0Q" base_Element="_tDoxYoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDp_gYJREeGsv772wTim0Q" base_Element="_tDp_gIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tDqmkoJREeGsv772wTim0Q" base_Element="_tDp_goJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tDr0sIJREeGsv772wTim0Q" genericsValue="NPCInstance" base_Element="_tDrNoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDr0sYJREeGsv772wTim0Q" base_Element="_tDrNoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDsbwYJREeGsv772wTim0Q" base_Element="_tDsbwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tDtC0IJREeGsv772wTim0Q" genericsValue="NPCInstance" base_Element="_tDsbwoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDtC0YJREeGsv772wTim0Q" base_Element="_tDsbwoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDtp4YJREeGsv772wTim0Q" base_Element="_tDtp4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDuQ8IJREeGsv772wTim0Q" base_Element="_tDtp4oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tDu4AIJREeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_tDuQ8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDu4AYJREeGsv772wTim0Q" base_Element="_tDuQ8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDvfEoJREeGsv772wTim0Q" base_Element="_tDvfEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDwGIYJREeGsv772wTim0Q" base_Element="_tDwGIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tDwtMIJREeGsv772wTim0Q" genericsValue="NPCData" base_Element="_tDwGIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tDwtMYJREeGsv772wTim0Q" base_Element="_tDwGIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tDxUQIJREeGsv772wTim0Q" base_Element="_tDhcoIJREeGsv772wTim0Q">
    <annotations xmi:id="_tDx7UIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tDx7UYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpLHYIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tD_WsIJREeGsv772wTim0Q" base_Element="_tD-voIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tEBy8IJREeGsv772wTim0Q" base_Element="_tD-voIJREeGsv772wTim0Q">
    <annotations xmi:id="_tEBy8YJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tECaAIJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpLHYYJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tEKV0IJREeGsv772wTim0Q" base_Element="_tEJuwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tEMLAIJREeGsv772wTim0Q" base_Element="_tEJuwIJREeGsv772wTim0Q">
    <annotations xmi:id="_tEMLAYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tEMLAoJREeGsv772wTim0Q" skipName="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpLucIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpLucYJREeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tEWjEIJREeGsv772wTim0Q" base_Element="_tEV8AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tEXKJIJREeGsv772wTim0Q" base_Element="_tEXKIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tEXxMIJREeGsv772wTim0Q" base_Element="_tEV8AIJREeGsv772wTim0Q">
    <annotations xmi:id="_tEXxMYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tEXxMoJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpLudYJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tEZmYIJREeGsv772wTim0Q" base_Element="_tEY_UIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tEaNdYJREeGsv772wTim0Q" base_Element="_tEaNcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tEbbk4JREeGsv772wTim0Q" base_Element="_tEa0gIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tEcCoIJREeGsv772wTim0Q" base_Element="_tEY_UIJREeGsv772wTim0Q">
    <annotations xmi:id="_tEcCoYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tEcCooJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpLudoJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_tEiwUIJREeGsv772wTim0Q" genericsValue="String" base_Element="_tEiJQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tEoP5IJREeGsv772wTim0Q" base_Element="_tEoP4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tE3gcIJREeGsv772wTim0Q" base_Element="_tE25YYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tE4HgIJREeGsv772wTim0Q" base_Element="_tE25YYJREeGsv772wTim0Q">
    <annotations xmi:id="_tE4HgYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFAqYIJREeGsv772wTim0Q" base_Element="_tFADUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFAqYYJREeGsv772wTim0Q" base_Element="_tFADUIJREeGsv772wTim0Q">
    <annotations xmi:id="_tFBRcIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFBRcoJREeGsv772wTim0Q" base_Element="_tFBRcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFBRc4JREeGsv772wTim0Q" base_Element="_tFBRcYJREeGsv772wTim0Q">
    <annotations xmi:id="_tFB4gIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFB4g4JREeGsv772wTim0Q" base_Element="_tFB4gYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFCfkIJREeGsv772wTim0Q" base_Element="_tFB4gYJREeGsv772wTim0Q">
    <annotations xmi:id="_tFCfkYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFDtsIJREeGsv772wTim0Q" base_Element="_tFCfkoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFDtsYJREeGsv772wTim0Q" base_Element="_tFCfkoJREeGsv772wTim0Q">
    <annotations xmi:id="_tFDtsoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFFi4oJREeGsv772wTim0Q" base_Element="_tFFi4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFGJ8IJREeGsv772wTim0Q" base_Element="_tFFi4IJREeGsv772wTim0Q">
    <annotations xmi:id="_tFGJ8YJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFvDIIJREeGsv772wTim0Q" base_Element="_tFucEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFvDIYJREeGsv772wTim0Q" base_Element="_tFucEIJREeGsv772wTim0Q">
    <annotations xmi:id="_tFvDIoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tFvqMYJREeGsv772wTim0Q" base_Element="_tFvqMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tFvqMoJREeGsv772wTim0Q" base_Element="_tFvqMIJREeGsv772wTim0Q">
    <annotations xmi:id="_tFvqM4JREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_tZXw0IJREeGsv772wTim0Q" base_Element="_tZXJwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZYX4YJREeGsv772wTim0Q" base_Element="_tZYX4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZY-8YJREeGsv772wTim0Q" base_Element="_tZY-8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZZmAYJREeGsv772wTim0Q" base_Element="_tZZmAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZaNEIJREeGsv772wTim0Q" base_Element="_tZZmAoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZcCQIJREeGsv772wTim0Q" base_Element="_tZbbMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZcpUIJREeGsv772wTim0Q" base_Element="_tZcCQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZfFkIJREeGsv772wTim0Q" base_Element="_tZeegIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZiI4IJREeGsv772wTim0Q" base_Element="_tZhh0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZjXAIJREeGsv772wTim0Q" base_Element="_tZiv8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZj-EYJREeGsv772wTim0Q" base_Element="_tZj-EIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZklIYJREeGsv772wTim0Q" base_Element="_tZklIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZlMMIJREeGsv772wTim0Q" base_Element="_tZklIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZlzQIJREeGsv772wTim0Q" base_Element="_tZlMMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZmaUIJREeGsv772wTim0Q" base_Element="_tZlzQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZpdoIJREeGsv772wTim0Q" base_Element="_tZo2kIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZqrwIJREeGsv772wTim0Q" base_Element="_tZqEsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZrS0IJREeGsv772wTim0Q" base_Element="_tZqrwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZr54IJREeGsv772wTim0Q" base_Element="_tZrS0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZsg8IJREeGsv772wTim0Q" base_Element="_tZr54YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZu9MIJREeGsv772wTim0Q" base_Element="_tZuWIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZvkQIJREeGsv772wTim0Q" base_Element="_tZu9MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZwLUIJREeGsv772wTim0Q" base_Element="_tZvkQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZxZcIJREeGsv772wTim0Q" base_Element="_tZwyYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZyAgIJREeGsv772wTim0Q" base_Element="_tZxZcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZynkIJREeGsv772wTim0Q" base_Element="_tZyAgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZzOoIJREeGsv772wTim0Q" base_Element="_tZynkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZ1q4IJREeGsv772wTim0Q" base_Element="_tZ1D0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZ2R8IJREeGsv772wTim0Q" base_Element="_tZ1q4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZ25AIJREeGsv772wTim0Q" base_Element="_tZ2R8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZ3gEIJREeGsv772wTim0Q" base_Element="_tZ25AYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZ-00IJREeGsv772wTim0Q" base_Element="_tZ-NwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tZ_b4IJREeGsv772wTim0Q" base_Element="_tZ-00YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taAC8IJREeGsv772wTim0Q" base_Element="_tZ_b4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taAC8oJREeGsv772wTim0Q" base_Element="_taAC8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taAqAYJREeGsv772wTim0Q" base_Element="_taAqAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taBREYJREeGsv772wTim0Q" base_Element="_taBREIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taB4IIJREeGsv772wTim0Q" base_Element="_taBREoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taCfMIJREeGsv772wTim0Q" base_Element="_taB4IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taDGQIJREeGsv772wTim0Q" base_Element="_taCfMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taDtUIJREeGsv772wTim0Q" base_Element="_taDGQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taEUYIJREeGsv772wTim0Q" base_Element="_taDtUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taE7cIJREeGsv772wTim0Q" base_Element="_taEUYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taE7coJREeGsv772wTim0Q" base_Element="_taE7cYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taFigYJREeGsv772wTim0Q" base_Element="_taFigIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taGJkYJREeGsv772wTim0Q" base_Element="_taGJkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taGwoIJREeGsv772wTim0Q" base_Element="_taGJkoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taHXsIJREeGsv772wTim0Q" base_Element="_taGwoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taKbAIJREeGsv772wTim0Q" base_Element="_taJz8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taLCEIJREeGsv772wTim0Q" base_Element="_taKbAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_taSW04JREeGsv772wTim0Q" base_Element="_taRvwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_taX2YIJREeGsv772wTim0Q" base_Element="_taXPUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tadV8IJREeGsv772wTim0Q" base_Element="_tacu4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tahnYIJREeGsv772wTim0Q" base_Element="_tahAUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tai1gIJREeGsv772wTim0Q" base_Element="_taiOcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_takqsIJREeGsv772wTim0Q" base_Element="_tajckIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taw38IJREeGsv772wTim0Q" base_Element="_tawQ4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_taxfAIJREeGsv772wTim0Q" base_Element="_taw38YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ta2XgIJREeGsv772wTim0Q" base_Element="_ta1wcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ta7QAIJREeGsv772wTim0Q" base_Element="_ta6o8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbB9sIJREeGsv772wTim0Q" base_Element="_tbBWoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbIrYIJREeGsv772wTim0Q" base_Element="_tbIEUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbJScIJREeGsv772wTim0Q" base_Element="_tbIrYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbNj4IJREeGsv772wTim0Q" base_Element="_tbM80IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbbmUIJREeGsv772wTim0Q" base_Element="_tba_QIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbcNYIJREeGsv772wTim0Q" base_Element="_tbbmUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbc0cIJREeGsv772wTim0Q" base_Element="_tbcNYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbepoYJREeGsv772wTim0Q" base_Element="_tbepoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbfQsYJREeGsv772wTim0Q" base_Element="_tbfQsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tbf3wIJREeGsv772wTim0Q" base_Element="_tbfQsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tb5gYIJREeGsv772wTim0Q" base_Element="_tb45UIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tb6HcIJREeGsv772wTim0Q" base_Element="_tb5gYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tb6ugIJREeGsv772wTim0Q" base_Element="_tb6HcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tb7VlYJREeGsv772wTim0Q" base_Element="_tb6ugYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tb9KwIJREeGsv772wTim0Q" base_Element="_tb8jsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcA1IIJREeGsv772wTim0Q" base_Element="_tcAOEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcLNNYJREeGsv772wTim0Q" base_Element="_tcKmIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcUXIIJREeGsv772wTim0Q" base_Element="_tcTwEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcUXIoJREeGsv772wTim0Q" base_Element="_tcUXIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcU-MYJREeGsv772wTim0Q" base_Element="_tcU-MIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcVlQYJREeGsv772wTim0Q" base_Element="_tcVlQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcWMUYJREeGsv772wTim0Q" base_Element="_tcWMUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcWzYYJREeGsv772wTim0Q" base_Element="_tcWzYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcXacYJREeGsv772wTim0Q" base_Element="_tcXacIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcYBgYJREeGsv772wTim0Q" base_Element="_tcYBgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcYokIJREeGsv772wTim0Q" base_Element="_tcYBgoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcZPoIJREeGsv772wTim0Q" base_Element="_tcYokYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcZ2sIJREeGsv772wTim0Q" base_Element="_tcZPoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcadwIJREeGsv772wTim0Q" base_Element="_tcZ2sYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcbE0IJREeGsv772wTim0Q" base_Element="_tcadwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcbE0oJREeGsv772wTim0Q" base_Element="_tcbE0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tccS8IJREeGsv772wTim0Q" base_Element="_tcbr4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcc6AIJREeGsv772wTim0Q" base_Element="_tccS8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tcdhEIJREeGsv772wTim0Q" base_Element="_tcc6AYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tceIJYJREeGsv772wTim0Q" base_Element="_tceIIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcevMoJREeGsv772wTim0Q" base_Element="_tcevMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tckOwIJREeGsv772wTim0Q" base_Element="_tcjnsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tclc4IJREeGsv772wTim0Q" base_Element="_tck10IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcmD9YJREeGsv772wTim0Q" base_Element="_tcmD8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcmrAoJREeGsv772wTim0Q" base_Element="_tcmrAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcnSEoJREeGsv772wTim0Q" base_Element="_tcnSEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcn5IoJREeGsv772wTim0Q" base_Element="_tcn5IIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcogM4JREeGsv772wTim0Q" base_Element="_tcogMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcpHQ4JREeGsv772wTim0Q" base_Element="_tcpHQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcpuUoJREeGsv772wTim0Q" base_Element="_tcpuUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcqVY4JREeGsv772wTim0Q" base_Element="_tcqVYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcrjgoJREeGsv772wTim0Q" base_Element="_tcq8coJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tcxDEoJREeGsv772wTim0Q" base_Element="_tcxDEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tc_skIJREeGsv772wTim0Q" base_Element="_tc_FgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdAToYJREeGsv772wTim0Q" base_Element="_tdAToIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdA6sIJREeGsv772wTim0Q" base_Element="_tdATooJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdBhwIJREeGsv772wTim0Q" base_Element="_tdA6sYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdD-AIJREeGsv772wTim0Q" base_Element="_tdDW8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdElEIJREeGsv772wTim0Q" base_Element="_tdD-AYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdFMIIJREeGsv772wTim0Q" base_Element="_tdElEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdFzMIJREeGsv772wTim0Q" base_Element="_tdFMIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdGaQIJREeGsv772wTim0Q" base_Element="_tdFzMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdHBUIJREeGsv772wTim0Q" base_Element="_tdGaQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdIPcIJREeGsv772wTim0Q" base_Element="_tdHoYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdMg4IJREeGsv772wTim0Q" base_Element="_tdL50IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdNvAIJREeGsv772wTim0Q" base_Element="_tdNH8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdSngIJREeGsv772wTim0Q" base_Element="_tdSAcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdTOkYJREeGsv772wTim0Q" base_Element="_tdTOkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdT1oYJREeGsv772wTim0Q" base_Element="_tdT1oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdUcsYJREeGsv772wTim0Q" base_Element="_tdUcsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdVDwYJREeGsv772wTim0Q" base_Element="_tdVDwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdVq0IJREeGsv772wTim0Q" base_Element="_tdVDwoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdWR4IJREeGsv772wTim0Q" base_Element="_tdVq0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdW48IJREeGsv772wTim0Q" base_Element="_tdWR4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdXgAIJREeGsv772wTim0Q" base_Element="_tdW48YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdYHEIJREeGsv772wTim0Q" base_Element="_tdXgAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdYuIIJREeGsv772wTim0Q" base_Element="_tdYHEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdZVMYJREeGsv772wTim0Q" base_Element="_tdZVMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdajUIJREeGsv772wTim0Q" base_Element="_tdZ8QIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdbKYIJREeGsv772wTim0Q" base_Element="_tdajUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdjtQIJREeGsv772wTim0Q" base_Element="_tdjGMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdkUUIJREeGsv772wTim0Q" base_Element="_tdjtQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdrpEIJREeGsv772wTim0Q" base_Element="_tdrCAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdsQIYJREeGsv772wTim0Q" base_Element="_tdsQIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tds3MYJREeGsv772wTim0Q" base_Element="_tds3MIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tdteQYJREeGsv772wTim0Q" base_Element="_tdteQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_teXlkIJREeGsv772wTim0Q" base_Element="_teW-hYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_te8NVYJREeGsv772wTim0Q" base_Element="_te8NUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_te80ZIJREeGsv772wTim0Q" base_Element="_te80YoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_te9bcoJREeGsv772wTim0Q" base_Element="_te9bcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_te-CgoJREeGsv772wTim0Q" base_Element="_te-CgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_te_3tIJREeGsv772wTim0Q" base_Element="_te_QoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfBF0YJREeGsv772wTim0Q" base_Element="_tfBF0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfCT8IJREeGsv772wTim0Q" base_Element="_tfBs4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfC7AYJREeGsv772wTim0Q" base_Element="_tfC7AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfEJIIJREeGsv772wTim0Q" base_Element="_tfDiEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfGlYIJREeGsv772wTim0Q" base_Element="_tfF-UIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfHMcYJREeGsv772wTim0Q" base_Element="_tfHMcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tfJBoIJREeGsv772wTim0Q" base_Element="_tfIakIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfUAwoJREeGsv772wTim0Q" base_Element="_tfTZsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfUn04JREeGsv772wTim0Q" base_Element="_tfUn0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfV18YJREeGsv772wTim0Q" base_Element="_tfVO4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfXEEIJREeGsv772wTim0Q" base_Element="_tfWdAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfXrIYJREeGsv772wTim0Q" base_Element="_tfXEEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfgOAIJREeGsv772wTim0Q" base_Element="_tfe_4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfg1EYJREeGsv772wTim0Q" base_Element="_tfgOAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfhcIYJREeGsv772wTim0Q" base_Element="_tfg1EoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfiDMIJREeGsv772wTim0Q" base_Element="_tfhcIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfiqQIJREeGsv772wTim0Q" base_Element="_tfiDMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tfj4YoJREeGsv772wTim0Q" base_Element="_tfj4YIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfm7s4JREeGsv772wTim0Q" base_Element="_tfmUoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfoJ0IJREeGsv772wTim0Q" base_Element="_tfniwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfoJ04JREeGsv772wTim0Q" base_Element="_tfoJ0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfow44JREeGsv772wTim0Q" base_Element="_tfow4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tfp_AYJREeGsv772wTim0Q" base_Element="_tfpX8IJREeGsv772wTim0Q">
    <annotations xmi:id="_tfqmEIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tfqmEYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpEZsYJREeGsv772wTim0Q" value="&quot;static-access&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_tfrNIYJREeGsv772wTim0Q" base_Element="_tfqmEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfr0MYJREeGsv772wTim0Q" base_Element="_tfrNIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tfsbQ4JREeGsv772wTim0Q" base_Element="_tfsbQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tfu3gIJREeGsv772wTim0Q" base_Element="_tfuQc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tfx60YJREeGsv772wTim0Q" base_Element="_tfxTw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf4ogYJREeGsv772wTim0Q" base_Element="_tf4BcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf52oYJREeGsv772wTim0Q" base_Element="_tf5PkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf6dsoJREeGsv772wTim0Q" base_Element="_tf6dsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf7r0IJREeGsv772wTim0Q" base_Element="_tf7EwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf8S44JREeGsv772wTim0Q" base_Element="_tf7r0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf9hAoJREeGsv772wTim0Q" base_Element="_tf858IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf-vIIJREeGsv772wTim0Q" base_Element="_tf-IEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf_WMIJREeGsv772wTim0Q" base_Element="_tf-vIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tf_9QIJREeGsv772wTim0Q" base_Element="_tf_WMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tgAkUIJREeGsv772wTim0Q" base_Element="_tf_9QYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tgBLYIJREeGsv772wTim0Q" base_Element="_tgAkUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tgH5EYJREeGsv772wTim0Q" base_Element="_tgHSAoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tgd3UIJREeGsv772wTim0Q" base_Element="_tgdQQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tggTkIJREeGsv772wTim0Q" base_Element="_tgfsgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tghhsIJREeGsv772wTim0Q" base_Element="_tgg6oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tgklAIJREeGsv772wTim0Q" base_Element="_tgj98IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tglMEYJREeGsv772wTim0Q" base_Element="_tglMEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tgnBQYJREeGsv772wTim0Q" base_Element="_tgnBQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tgqEkIJREeGsv772wTim0Q" base_Element="_tgpdgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tguWAIJREeGsv772wTim0Q" base_Element="_tgtu8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tgvkI4JREeGsv772wTim0Q" base_Element="_tguWAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tgwLNYJREeGsv772wTim0Q" base_Element="_tgvkJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tgwyQYJREeGsv772wTim0Q" base_Element="_tgwyQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tg2R0YJREeGsv772wTim0Q" base_Element="_tg2R0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tg7KUIJREeGsv772wTim0Q" base_Element="_tg6jQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tg8YdIJREeGsv772wTim0Q" base_Element="_tg7xYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tg9mkYJREeGsv772wTim0Q" base_Element="_tg9mkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tg_bwIJREeGsv772wTim0Q" base_Element="_tg-0sIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_thAC0IJREeGsv772wTim0Q" genericsValue="PlayerTown" base_Element="_tg_bwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thBQ8IJREeGsv772wTim0Q" base_Element="_thAp4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thDGIIJREeGsv772wTim0Q" base_Element="_thCfEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thEUQIJREeGsv772wTim0Q" base_Element="_thDtM4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thIlsIJREeGsv772wTim0Q" base_Element="_thH-oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_thXPMIJREeGsv772wTim0Q" genericsValue="String, Integer" base_Element="_thWoIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thZrcYJREeGsv772wTim0Q" base_Element="_thZrcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tha5kIJREeGsv772wTim0Q" base_Element="_thaSgoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thbgoIJREeGsv772wTim0Q" base_Element="_tha5kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thcHsIJREeGsv772wTim0Q" base_Element="_thbgoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thcuwIJREeGsv772wTim0Q" base_Element="_thcHsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thdV0YJREeGsv772wTim0Q" base_Element="_vyjOsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thd84YJREeGsv772wTim0Q" base_Element="_thd84IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thfLAYJREeGsv772wTim0Q" base_Element="_thfLAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_thgZIIJREeGsv772wTim0Q" base_Element="_thfyEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thhAMYJREeGsv772wTim0Q" base_Element="_thhAMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thiOUIJREeGsv772wTim0Q" base_Element="_thhnQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_thjccIJREeGsv772wTim0Q" genericsValue="JDCConnection" base_Element="_thiOUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thkDgYJREeGsv772wTim0Q" base_Element="_thkDgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thlRoIJREeGsv772wTim0Q" base_Element="_thkqkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thl4sIJREeGsv772wTim0Q" base_Element="_thlRoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_thmfwoJREeGsv772wTim0Q" base_Element="_thl4sYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_thnG1IJREeGsv772wTim0Q" base_Element="_thnG0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thpjEYJREeGsv772wTim0Q" base_Element="_thpjEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thr_UIJREeGsv772wTim0Q" base_Element="_thrYQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thsmYIJREeGsv772wTim0Q" base_Element="_thr_UYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_thtNcIJREeGsv772wTim0Q" base_Element="_thsmYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_th2-cIJREeGsv772wTim0Q" base_Element="_th2XYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_th4zoIJREeGsv772wTim0Q" base_Element="_th4MkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_th7P4IJREeGsv772wTim0Q" base_Element="_th6o0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_th9FEIJREeGsv772wTim0Q" base_Element="_th8eAoJREeGsv772wTim0Q">
    <annotations xmi:id="_th9FEYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_th9sIIJREeGsv772wTim0Q" base_Element="_th9FEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiCko4JREeGsv772wTim0Q" base_Element="_tiCkoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tiDywIJREeGsv772wTim0Q" base_Element="_tiDLs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiFA4IJREeGsv772wTim0Q" base_Element="_tiEZ0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiG2EoJREeGsv772wTim0Q" base_Element="_tiGPAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tiHdIIJREeGsv772wTim0Q" genericsValue="NPCPhrase" base_Element="_tiGPAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tiIEMIJREeGsv772wTim0Q" genericsValue="Integer, NPCPhrase" base_Element="_tiGPA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiIrQIJREeGsv772wTim0Q" base_Element="_tiIEMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiJSUIJREeGsv772wTim0Q" base_Element="_tiIrQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiJ5YIJREeGsv772wTim0Q" base_Element="_tiJSUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiLHgIJREeGsv772wTim0Q" base_Element="_tiKgcoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tiMVoIJREeGsv772wTim0Q" base_Element="_tiLukYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tiM8sIJREeGsv772wTim0Q" base_Element="_tiMVoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tiNjwIJREeGsv772wTim0Q" base_Element="_tiM8sYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tiOK0IJREeGsv772wTim0Q" base_Element="_tiNjwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiPY8YJREeGsv772wTim0Q" base_Element="_tiOx4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiQAAYJREeGsv772wTim0Q" base_Element="_tiPY8oJREeGsv772wTim0Q">
    <annotations xmi:id="_tiQAAoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_tiQnE4JREeGsv772wTim0Q" base_Element="_tiQnEIJREeGsv772wTim0Q">
    <annotations xmi:id="_tiQnFIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_tiROI4JREeGsv772wTim0Q" base_Element="_tiROIIJREeGsv772wTim0Q">
    <annotations xmi:id="_tiR1MIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_tiScQIJREeGsv772wTim0Q" base_Element="_tiR1MYJREeGsv772wTim0Q">
    <annotations xmi:id="_tiScQYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_tiTqYIJREeGsv772wTim0Q" base_Element="_tiTDUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tiWtsYJREeGsv772wTim0Q" base_Element="_tiWGoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiZJ8YJREeGsv772wTim0Q" base_Element="_tiYi4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiZJ8oJREeGsv772wTim0Q" base_Element="_tiYi4YJREeGsv772wTim0Q">
    <annotations xmi:id="_tiZJ84JREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiZxA4JREeGsv772wTim0Q" base_Element="_tiZxAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiaYEIJREeGsv772wTim0Q" base_Element="_tiZxAIJREeGsv772wTim0Q">
    <annotations xmi:id="_tiaYEYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_tidbYIJREeGsv772wTim0Q" base_Element="_tic0UoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tigetIJREeGsv772wTim0Q" base_Element="_tigesIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tihFwoJREeGsv772wTim0Q" base_Element="_tigesIJREeGsv772wTim0Q">
    <annotations xmi:id="_tihFw4JREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_tihFxIJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_tpMVg4JREeGsv772wTim0Q" value="&quot;unchecked&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_tiiT4IJREeGsv772wTim0Q" base_Element="_tihs0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tikwIYJREeGsv772wTim0Q" base_Element="_tikJE4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tikwIoJREeGsv772wTim0Q" base_Element="_tikJE4JREeGsv772wTim0Q">
    <annotations xmi:id="_tikwI4JREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tilXMoJREeGsv772wTim0Q" base_Element="_tilXMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tilXM4JREeGsv772wTim0Q" base_Element="_tilXMIJREeGsv772wTim0Q">
    <annotations xmi:id="_til-QIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_til-Q4JREeGsv772wTim0Q" base_Element="_til-QYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_timlUIJREeGsv772wTim0Q" base_Element="_til-QYJREeGsv772wTim0Q">
    <annotations xmi:id="_timlUYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tipooIJREeGsv772wTim0Q" base_Element="_tipBkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tipooYJREeGsv772wTim0Q" base_Element="_tipBkYJREeGsv772wTim0Q">
    <annotations xmi:id="_tipoooJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiqPsIJREeGsv772wTim0Q" base_Element="_tipoo4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiqPsYJREeGsv772wTim0Q" base_Element="_tipoo4JREeGsv772wTim0Q">
    <annotations xmi:id="_tiqPsoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiq2woJREeGsv772wTim0Q" base_Element="_tiq2wIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiq2w4JREeGsv772wTim0Q" base_Element="_tiq2wIJREeGsv772wTim0Q">
    <annotations xmi:id="_tiq2xIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_tird0YJREeGsv772wTim0Q" base_Element="_tird0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tisE4oJREeGsv772wTim0Q" base_Element="_tird0oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tisE5IJREeGsv772wTim0Q" base_Element="_tisE4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tisr8IJREeGsv772wTim0Q" base_Element="_tird0oJREeGsv772wTim0Q">
    <annotations xmi:id="_tisr8YJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_titTAIJREeGsv772wTim0Q" base_Element="_tisr8oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_titTAYJREeGsv772wTim0Q" base_Element="_tisr8oJREeGsv772wTim0Q">
    <annotations xmi:id="_titTAoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tit6EIJREeGsv772wTim0Q" base_Element="_titTA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tit6EYJREeGsv772wTim0Q" base_Element="_titTA4JREeGsv772wTim0Q">
    <annotations xmi:id="_tit6EoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiuhIoJREeGsv772wTim0Q" base_Element="_tiuhIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiuhI4JREeGsv772wTim0Q" base_Element="_tiuhIIJREeGsv772wTim0Q">
    <annotations xmi:id="_tiuhJIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tivIMoJREeGsv772wTim0Q" base_Element="_tivIMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tivIM4JREeGsv772wTim0Q" base_Element="_tivIMIJREeGsv772wTim0Q">
    <annotations xmi:id="_tivINIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tivvQoJREeGsv772wTim0Q" base_Element="_tivvQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiwWUIJREeGsv772wTim0Q" base_Element="_tivvQIJREeGsv772wTim0Q">
    <annotations xmi:id="_tiwWUYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiw9YIJREeGsv772wTim0Q" base_Element="_tiwWUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiw9YYJREeGsv772wTim0Q" base_Element="_tiwWUoJREeGsv772wTim0Q">
    <annotations xmi:id="_tiw9YoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tixkcIJREeGsv772wTim0Q" base_Element="_tiw9Y4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tixkcYJREeGsv772wTim0Q" base_Element="_tiw9Y4JREeGsv772wTim0Q">
    <annotations xmi:id="_tixkcoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiyLgIJREeGsv772wTim0Q" base_Element="_tixkc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tiyLgYJREeGsv772wTim0Q" base_Element="_tixkc4JREeGsv772wTim0Q">
    <annotations xmi:id="_tiyLgoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tiyykoJREeGsv772wTim0Q" base_Element="_tiyykIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_tizZoIJREeGsv772wTim0Q" base_Element="_tiyykIJREeGsv772wTim0Q">
    <annotations xmi:id="_tizZoYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tizZpIJREeGsv772wTim0Q" base_Element="_tizZooJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ti0AsIJREeGsv772wTim0Q" base_Element="_tizZooJREeGsv772wTim0Q">
    <annotations xmi:id="_ti0AsYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ti0nwIJREeGsv772wTim0Q" base_Element="_ti0AsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ti0nwYJREeGsv772wTim0Q" base_Element="_ti0AsoJREeGsv772wTim0Q">
    <annotations xmi:id="_ti0nwoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ti1O0IJREeGsv772wTim0Q" base_Element="_ti0nw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ti1O0YJREeGsv772wTim0Q" base_Element="_ti0nw4JREeGsv772wTim0Q">
    <annotations xmi:id="_ti1O0oJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ti114YJREeGsv772wTim0Q" base_Element="_ti1O04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ti114oJREeGsv772wTim0Q" base_Element="_ti1O04JREeGsv772wTim0Q">
    <annotations xmi:id="_ti1144JREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_ti3EAYJREeGsv772wTim0Q" base_Element="_ti3EAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_ti78gIJREeGsv772wTim0Q" genericsValue="Node" base_Element="_ti7Vc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ti8jlIJREeGsv772wTim0Q" base_Element="_ti8jkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ti9KoIJREeGsv772wTim0Q" base_Element="_ti8jkIJREeGsv772wTim0Q">
    <annotations xmi:id="_ti9KoYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjL0IIJREeGsv772wTim0Q" base_Element="_tjKmAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjMbMIJREeGsv772wTim0Q" base_Element="_tjL0IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjNpUIJREeGsv772wTim0Q" base_Element="_tjNCQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjNpUoJREeGsv772wTim0Q" base_Element="_tjNpUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjOQYYJREeGsv772wTim0Q" base_Element="_tjOQYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjOQY4JREeGsv772wTim0Q" base_Element="_tjOQYoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjO3cYJREeGsv772wTim0Q" base_Element="_tjO3cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tjPegIJREeGsv772wTim0Q" genericsValue="Player, Boolean" base_Element="_tjO3coJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjU-EIJREeGsv772wTim0Q" base_Element="_tjO3coJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjVlIIJREeGsv772wTim0Q" base_Element="_tjU-EYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjVlIoJREeGsv772wTim0Q" base_Element="_tjVlIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjWMMIJREeGsv772wTim0Q" base_Element="_tjVlI4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjWMMoJREeGsv772wTim0Q" base_Element="_tjWMMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjWzQIJREeGsv772wTim0Q" base_Element="_tjWMM4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjWzQoJREeGsv772wTim0Q" base_Element="_tjWzQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjXaUYJREeGsv772wTim0Q" base_Element="_tjWzQ4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjXaVIJREeGsv772wTim0Q" base_Element="_tjXaUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjYBYYJREeGsv772wTim0Q" base_Element="_tjYBYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjYBY4JREeGsv772wTim0Q" base_Element="_tjYBYoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjYocIJREeGsv772wTim0Q" base_Element="_tjYBZIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjYocoJREeGsv772wTim0Q" base_Element="_tjYocYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjZPgIJREeGsv772wTim0Q" base_Element="_tjYoc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjZPgoJREeGsv772wTim0Q" base_Element="_tjZPgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjZ2kIJREeGsv772wTim0Q" base_Element="_tjZPg4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjZ2koJREeGsv772wTim0Q" base_Element="_tjZ2kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjZ2lIJREeGsv772wTim0Q" base_Element="_tjZ2k4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjadoYJREeGsv772wTim0Q" base_Element="_tjadoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjbEsIJREeGsv772wTim0Q" base_Element="_tjadooJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjbEsoJREeGsv772wTim0Q" base_Element="_tjbEsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjbEtIJREeGsv772wTim0Q" base_Element="_tjbEs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjcS0IJREeGsv772wTim0Q" base_Element="_tjbrwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjcS0oJREeGsv772wTim0Q" base_Element="_tjcS0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjc54IJREeGsv772wTim0Q" base_Element="_tjcS04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tjc54oJREeGsv772wTim0Q" genericsValue="String,String[]" base_Element="_tjc54YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjdg8YJREeGsv772wTim0Q" base_Element="_tjc54YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjeIAYJREeGsv772wTim0Q" base_Element="_tjeIAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjfWIYJREeGsv772wTim0Q" base_Element="_tjfWIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjf9MIJREeGsv772wTim0Q" base_Element="_tjfWIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjgkQYJREeGsv772wTim0Q" base_Element="_tjgkQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjhLUYJREeGsv772wTim0Q" base_Element="_tjhLUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjhyYYJREeGsv772wTim0Q" base_Element="_tjhLUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjhyY4JREeGsv772wTim0Q" base_Element="_tjhyYoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjiZcYJREeGsv772wTim0Q" base_Element="_tjiZcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tjjAgYJREeGsv772wTim0Q" genericsValue="Bounty" base_Element="_tjjAgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjjnkIJREeGsv772wTim0Q" base_Element="_tjjAgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tjjnkoJREeGsv772wTim0Q" genericsValue="BountySign" base_Element="_tjjnkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjkOoYJREeGsv772wTim0Q" base_Element="_tjjnkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjk1sIJREeGsv772wTim0Q" base_Element="_tjkOo4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tjlcwYJREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_tjlcwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjmD0IJREeGsv772wTim0Q" base_Element="_tjlcwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjnR8IJREeGsv772wTim0Q" base_Element="_tjmq4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjnR8oJREeGsv772wTim0Q" base_Element="_tjnR8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjn5AIJREeGsv772wTim0Q" base_Element="_tjnR84JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjn5AoJREeGsv772wTim0Q" base_Element="_tjn5AYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjogEYJREeGsv772wTim0Q" base_Element="_tjogEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjogE4JREeGsv772wTim0Q" base_Element="_tjogEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjsKcIJREeGsv772wTim0Q" base_Element="_tjrjYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjsKcoJREeGsv772wTim0Q" base_Element="_tjsKcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjtYkYJREeGsv772wTim0Q" base_Element="_tjtYkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjtYk4JREeGsv772wTim0Q" base_Element="_tjtYkoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjt_oYJREeGsv772wTim0Q" base_Element="_tjt_oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjumsIJREeGsv772wTim0Q" base_Element="_tjt_ooJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjumsoJREeGsv772wTim0Q" base_Element="_tjumsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjv00YJREeGsv772wTim0Q" base_Element="_tjv00IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tjy4IIJREeGsv772wTim0Q" base_Element="_tjyRE4JREeGsv772wTim0Q">
    <associatedElement xmi:type="uml:Operation" xmi:id="_tjzfMIJREeGsv772wTim0Q" name="getZone" method="_toIllIJREeGsv772wTim0Q">
      <ownedParameter xmi:id="_tjzfMYJREeGsv772wTim0Q" type="_tbIrYYJREeGsv772wTim0Q" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj0GQIJREeGsv772wTim0Q" base_Element="_tjzfMoJREeGsv772wTim0Q">
    <associatedElement xmi:type="uml:Operation" xmi:id="_tj0GQYJREeGsv772wTim0Q" name="getQuadrant" method="_toJMoYJREeGsv772wTim0Q">
      <ownedParameter xmi:id="_tj0GQoJREeGsv772wTim0Q" type="_tbIEUIJREeGsv772wTim0Q" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:StyledElement xmi:id="_tj0tUYJREeGsv772wTim0Q" base_Element="_tj0tUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj2igIJREeGsv772wTim0Q" genericsValue="Integer, NPCLocation" base_Element="_tj17cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj2igYJREeGsv772wTim0Q" base_Element="_tj17cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj3JkIJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_tj2igoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj3JkYJREeGsv772wTim0Q" base_Element="_tj2igoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj3woYJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_tj3woIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj3wooJREeGsv772wTim0Q" base_Element="_tj3woIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj4XsYJREeGsv772wTim0Q" genericsValue="Integer, HashSet&lt;Integer>" base_Element="_tj4XsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj4-wIJREeGsv772wTim0Q" base_Element="_tj4XsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj4-woJREeGsv772wTim0Q" base_Element="_tj4-wYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj6M4IJREeGsv772wTim0Q" base_Element="_tj5l0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj6z8IJREeGsv772wTim0Q" genericsValue="String" base_Element="_tj6M4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj7bAIJREeGsv772wTim0Q" base_Element="_tj6M4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj7bAoJREeGsv772wTim0Q" base_Element="_tj7bAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj8CEIJREeGsv772wTim0Q" base_Element="_tj7bA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj8CEoJREeGsv772wTim0Q" base_Element="_tj8CEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj8pIIJREeGsv772wTim0Q" base_Element="_tj8CE4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj93QIJREeGsv772wTim0Q" genericsValue="Integer, NPCData" base_Element="_tj9QMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj93QYJREeGsv772wTim0Q" base_Element="_tj9QMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj-eUIJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_tj93QoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj-eUYJREeGsv772wTim0Q" base_Element="_tj93QoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj_FYYJREeGsv772wTim0Q" genericsValue="Integer, HashSet&lt;Integer>" base_Element="_tj_FYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj_FYoJREeGsv772wTim0Q" base_Element="_tj_FYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tj_scYJREeGsv772wTim0Q" genericsValue="Integer, HashSet&lt;Integer>" base_Element="_tj_scIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tj_scoJREeGsv772wTim0Q" base_Element="_tj_scIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkATgYJREeGsv772wTim0Q" base_Element="_tkATgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkCIsIJREeGsv772wTim0Q" genericsValue="String" base_Element="_tkBho4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkCvwIJREeGsv772wTim0Q" genericsValue="NPCData" base_Element="_tkCIsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkFzEYJREeGsv772wTim0Q" base_Element="_tkFMAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkGaIIJREeGsv772wTim0Q" base_Element="_tkFzEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkGaIoJREeGsv772wTim0Q" base_Element="_tkGaIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkHBMYJREeGsv772wTim0Q" base_Element="_tkHBMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkHBM4JREeGsv772wTim0Q" base_Element="_tkHBMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkHoQYJREeGsv772wTim0Q" base_Element="_tkHoQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkIPUIJREeGsv772wTim0Q" base_Element="_tkHoQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkI2YIJREeGsv772wTim0Q" genericsValue="String" base_Element="_tkIPUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkI2YYJREeGsv772wTim0Q" base_Element="_tkIPUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkI2Y4JREeGsv772wTim0Q" base_Element="_tkI2YoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkJdcYJREeGsv772wTim0Q" base_Element="_tkJdcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkJdc4JREeGsv772wTim0Q" base_Element="_tkJdcoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkL5sIJREeGsv772wTim0Q" genericsValue="String, PlayerData" base_Element="_tkLSoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkL5sYJREeGsv772wTim0Q" base_Element="_tkLSoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkL5s4JREeGsv772wTim0Q" base_Element="_tkL5soJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkNH0IJREeGsv772wTim0Q" base_Element="_tkMgwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkNH0oJREeGsv772wTim0Q" base_Element="_tkNH0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkNu4IJREeGsv772wTim0Q" base_Element="_tkNH04JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkO9AIJREeGsv772wTim0Q" base_Element="_tkOV8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkO9AoJREeGsv772wTim0Q" base_Element="_tkO9AYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkPkEYJREeGsv772wTim0Q" base_Element="_tkPkEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkQLIYJREeGsv772wTim0Q" base_Element="_tkQLIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkQLI4JREeGsv772wTim0Q" base_Element="_tkQLIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkQyMYJREeGsv772wTim0Q" base_Element="_tkQyMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkQyM4JREeGsv772wTim0Q" base_Element="_tkQyMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkRZQYJREeGsv772wTim0Q" base_Element="_tkRZQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkRZQ4JREeGsv772wTim0Q" base_Element="_tkRZQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkSAUIJREeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_tkRZRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkSAUYJREeGsv772wTim0Q" base_Element="_tkRZRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkSnYIJREeGsv772wTim0Q" base_Element="_tkSAUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkTOcYJREeGsv772wTim0Q" base_Element="_tkTOcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkT1gYJREeGsv772wTim0Q" base_Element="_tkT1gIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkT1g4JREeGsv772wTim0Q" base_Element="_tkT1goJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkUckYJREeGsv772wTim0Q" base_Element="_tkUckIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkUck4JREeGsv772wTim0Q" base_Element="_tkUckoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkVDoYJREeGsv772wTim0Q" base_Element="_tkVDoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkVDo4JREeGsv772wTim0Q" base_Element="_tkVDooJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkVqsYJREeGsv772wTim0Q" base_Element="_tkVqsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkVqtIJREeGsv772wTim0Q" base_Element="_tkVqsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkWRwYJREeGsv772wTim0Q" base_Element="_tkWRwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkW40IJREeGsv772wTim0Q" genericsValue="String" base_Element="_tkWRwoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkW40YJREeGsv772wTim0Q" base_Element="_tkWRwoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkXf4YJREeGsv772wTim0Q" genericsValue="String, PlayerTown" base_Element="_tkXf4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkYG8IJREeGsv772wTim0Q" base_Element="_tkXf4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkYG8oJREeGsv772wTim0Q" genericsValue="String, NPCTown" base_Element="_tkYG8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkYuAIJREeGsv772wTim0Q" base_Element="_tkYG8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkYuAoJREeGsv772wTim0Q" genericsValue="NPCTown" base_Element="_tkYuAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkZVEIJREeGsv772wTim0Q" base_Element="_tkYuAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkZVEoJREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_tkZVEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkZ8IIJREeGsv772wTim0Q" base_Element="_tkZVEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkZ8IoJREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_tkZ8IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkajMIJREeGsv772wTim0Q" base_Element="_tkZ8IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkajMoJREeGsv772wTim0Q" base_Element="_tkajMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkc_cYJREeGsv772wTim0Q" base_Element="_tkc_cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkeNkIJREeGsv772wTim0Q" genericsValue="JDCConnection" base_Element="_tkdmgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkeNkYJREeGsv772wTim0Q" base_Element="_tkdmgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tke0ooJREeGsv772wTim0Q" base_Element="_tke0oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tkfbsYJREeGsv772wTim0Q" genericsValue="JDCConnection" base_Element="_tkfbsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tkgCwIJREeGsv772wTim0Q" base_Property="_tkfbsoJREeGsv772wTim0Q" siblings="_tpIrIoJREeGsv772wTim0Q _tpJSMYJREeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkifAYJREeGsv772wTim0Q" base_Element="_tkifAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkjGEYJREeGsv772wTim0Q" base_Element="_tkifAoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkk7QIJREeGsv772wTim0Q" base_Element="_tkkUMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkk7QoJREeGsv772wTim0Q" base_Element="_tkk7QYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkliUYJREeGsv772wTim0Q" base_Element="_tkliUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkmJYIJREeGsv772wTim0Q" base_Element="_tkliUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkmJYoJREeGsv772wTim0Q" base_Element="_tkmJYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkmwcIJREeGsv772wTim0Q" base_Element="_tkmJY4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkmwcoJREeGsv772wTim0Q" base_Element="_tkmwcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tknXgIJREeGsv772wTim0Q" base_Element="_tkmwc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tknXgoJREeGsv772wTim0Q" base_Element="_tknXgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkn-kIJREeGsv772wTim0Q" base_Element="_tknXg4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkn-koJREeGsv772wTim0Q" base_Element="_tkn-kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkoloIJREeGsv772wTim0Q" base_Element="_tkn-k4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkolooJREeGsv772wTim0Q" base_Element="_tkoloYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkpMsIJREeGsv772wTim0Q" base_Element="_tkolo4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkpMsoJREeGsv772wTim0Q" base_Element="_tkpMsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tksQAYJREeGsv772wTim0Q" base_Element="_tksQAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkteIIJREeGsv772wTim0Q" base_Element="_tks3EIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkv6YIJREeGsv772wTim0Q" base_Element="_tkvTUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkwhcIJREeGsv772wTim0Q" base_Element="_tkv6YYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tky9sIJREeGsv772wTim0Q" base_Element="_tkyWoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tkzkwIJREeGsv772wTim0Q" base_Element="_tky9sYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tk0L0IJREeGsv772wTim0Q" base_Element="_tkzkwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tk6ScIJREeGsv772wTim0Q" base_Element="_tk5rYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tk65gIJREeGsv772wTim0Q" base_Element="_tk6ScYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlBAIIJREeGsv772wTim0Q" base_Element="_tlAZEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlBnMIJREeGsv772wTim0Q" base_Element="_tlBAIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlCOQIJREeGsv772wTim0Q" base_Element="_tlBnMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlC1UIJREeGsv772wTim0Q" base_Element="_tlCOQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlEDcYJREeGsv772wTim0Q" base_Element="_tlEDcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlFRkIJREeGsv772wTim0Q" base_Element="_tlEqgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlMmUIJREeGsv772wTim0Q" base_Element="_tlL_QIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlNNYIJREeGsv772wTim0Q" base_Element="_tlMmUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlNNYoJREeGsv772wTim0Q" base_Element="_tlNNYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tlVJMIJREeGsv772wTim0Q" genericsValue="Integer, NPCInstance" base_Element="_tlUiIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tldsEIJREeGsv772wTim0Q" genericsValue="NPCPhrase" base_Element="_tldFAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tle6MIJREeGsv772wTim0Q" genericsValue="Integer, NPCPhrase" base_Element="_tleTIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tlgIUoJREeGsv772wTim0Q" base_Element="_tlgIUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tlgvYoJREeGsv772wTim0Q" base_Element="_tlgvYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlkZwIJREeGsv772wTim0Q" base_Element="_tljysIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_tlm2AYJREeGsv772wTim0Q" base_Element="_tlm2AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlrugYJREeGsv772wTim0Q" base_Element="_tlrugIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tls8oYJREeGsv772wTim0Q" base_Element="_tls8oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tlv_8IJREeGsv772wTim0Q" genericsValue="Integer, Quest" base_Element="_tlvY4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tl04cIJREeGsv772wTim0Q" genericsValue="Integer, Language" base_Element="_tl0RYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl1fgIJREeGsv772wTim0Q" base_Element="_tl0RYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl2GkIJREeGsv772wTim0Q" base_Element="_tl1fgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tl3UsoJREeGsv772wTim0Q" base_Element="_tl3UsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl37wIJREeGsv772wTim0Q" base_Element="_tl3UsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl5J4YJREeGsv772wTim0Q" base_Element="_tl5J4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl5w8YJREeGsv772wTim0Q" base_Element="_tl5w8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl7mIIJREeGsv772wTim0Q" base_Element="_tl6_EIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl8NMIJREeGsv772wTim0Q" base_Element="_tl7mIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl80QIJREeGsv772wTim0Q" base_Element="_tl8NMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl9bUIJREeGsv772wTim0Q" base_Element="_tl80QYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl-CYIJREeGsv772wTim0Q" base_Element="_tl9bUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tl-CYoJREeGsv772wTim0Q" base_Element="_tl-CYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmC64IJREeGsv772wTim0Q" base_Element="_tmCT0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmDh8IJREeGsv772wTim0Q" base_Element="_tmC64YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmDh8oJREeGsv772wTim0Q" base_Element="_tmDh8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmEJAYJREeGsv772wTim0Q" base_Element="_tmEJAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmEwEYJREeGsv772wTim0Q" base_Element="_tmEwEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmF-MIJREeGsv772wTim0Q" base_Element="_tmFXIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmGlQIJREeGsv772wTim0Q" base_Element="_tmF-MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmHMUIJREeGsv772wTim0Q" base_Element="_tmGlQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tmN6AYJREeGsv772wTim0Q" base_Property="_tmN6AIJREeGsv772wTim0Q" siblings="_tpM8kYJREeGsv772wTim0Q _tpNjoYJREeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmN6AoJREeGsv772wTim0Q" base_Element="_tmN6AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tmPIIYJREeGsv772wTim0Q" base_Property="_tmPIIIJREeGsv772wTim0Q" siblings="_tpOKsIJREeGsv772wTim0Q _tpOKs4JREeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmPIIoJREeGsv772wTim0Q" base_Element="_tmPIIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmQWQIJREeGsv772wTim0Q" base_Element="_tmPvMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmQ9UIJREeGsv772wTim0Q" base_Element="_tmQWQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tmRkYIJREeGsv772wTim0Q" base_Property="_tmQ9UYJREeGsv772wTim0Q" siblings="_tpOxwYJREeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmRkYYJREeGsv772wTim0Q" base_Element="_tmQ9UYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tmUAoIJREeGsv772wTim0Q" genericsValue="Block, Node" base_Element="_tmTZkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmUnsIJREeGsv772wTim0Q" base_Element="_tmTZkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tmVOwIJREeGsv772wTim0Q" genericsValue="Node" base_Element="_tmUnsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmVOwoJREeGsv772wTim0Q" base_Element="_tmUnsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tmWc4IJREeGsv772wTim0Q" genericsValue="Node" base_Element="_tmV10IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmWc4oJREeGsv772wTim0Q" base_Element="_tmV10IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tmXD8YJREeGsv772wTim0Q" genericsValue="Node" base_Element="_tmXD8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmXrAYJREeGsv772wTim0Q" base_Element="_tmXD8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_tmYSEYJREeGsv772wTim0Q" genericsValue="Node" base_Element="_tmYSEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmY5IIJREeGsv772wTim0Q" base_Element="_tmYSEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tmZgMIJREeGsv772wTim0Q" base_Property="_tmY5IYJREeGsv772wTim0Q" siblings="_tpPY0IJREeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmZgMYJREeGsv772wTim0Q" base_Element="_tmY5IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_tmaHQoJREeGsv772wTim0Q" base_Element="_tmaHQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmauUIJREeGsv772wTim0Q" base_Element="_tmaHQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmbVYIJREeGsv772wTim0Q" base_Element="_tmauUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tmcjgIJREeGsv772wTim0Q" base_Element="_tmbVYYJREeGsv772wTim0Q"/>
  <uml:OpaqueBehavior xmi:id="_toFiRIJREeGsv772wTim0Q" name="NPCType" specification="_s_nNAIJREeGsv772wTim0Q">
    <ownedParameter xmi:id="_toGJUIJREeGsv772wTim0Q" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_toGJUYJREeGsv772wTim0Q" type="_s_kJsIJREeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>this.value = value;&#xD;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_toGJUoJREeGsv772wTim0Q" name="getType" specification="_s_pCMIJREeGsv772wTim0Q">
    <ownedParameter xmi:id="_toGJU4JREeGsv772wTim0Q" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_toGJVIJREeGsv772wTim0Q" type="_tgnBQIJREeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>switch( value )&#xD;
			{&#xD;
				case 1:&#xD;
					return SPEECH;&#xD;
				default:&#xD;
					return BASIC;&#xD;
			}&#xD;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_toIllIJREeGsv772wTim0Q" name="getZone" specification="_tjzfMIJREeGsv772wTim0Q">
    <ownedParameter xmi:id="_toJMoIJREeGsv772wTim0Q" type="_tbIrYYJREeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>if( this.zone == null )&#xD;
		{&#xD;
			if( plugin.zones.isInCapitol(this))&#xD;
				this.zone = Zone.CAPITOL;&#xD;
			else&#xD;
				this.zone = plugin.zones.getZone(this);&#xD;
		}&#xD;
			&#xD;
		&#xD;
		return this.zone;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_toJMoYJREeGsv772wTim0Q" name="getQuadrant" specification="_tj0GQYJREeGsv772wTim0Q">
    <ownedParameter xmi:id="_toJMooJREeGsv772wTim0Q" type="_tbIEUIJREeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>if( this.quadrant == null )&#xD;
			this.quadrant = plugin.zones.getQuadrant(this);&#xD;
		&#xD;
		return this.quadrant;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpJSMIJREeGsv772wTim0Q" base_Property="_tpIrIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpJSMoJREeGsv772wTim0Q" base_Property="_tpJSMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpM8koJREeGsv772wTim0Q" base_Property="_tpM8kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tpM8k4JREeGsv772wTim0Q" base_Element="_tpM8kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpNjooJREeGsv772wTim0Q" base_Property="_tpNjoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tpNjo4JREeGsv772wTim0Q" base_Element="_tpNjoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpOKsYJREeGsv772wTim0Q" base_Property="_tpOKsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tpOKsoJREeGsv772wTim0Q" base_Element="_tpOKsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpOKtIJREeGsv772wTim0Q" base_Property="_tpOKs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tpOxwIJREeGsv772wTim0Q" base_Element="_tpOKs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpOxwoJREeGsv772wTim0Q" base_Property="_tpOxwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tpOxw4JREeGsv772wTim0Q" base_Element="_tpOxwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_tpPY0YJREeGsv772wTim0Q" base_Property="_tpPY0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tpPY0oJREeGsv772wTim0Q" base_Element="_tpPY0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp9KgIJREeGsv772wTim0Q" base_Element="_tp8jcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp9Kg4JREeGsv772wTim0Q" base_Element="_tp9KgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp9xkoJREeGsv772wTim0Q" base_Element="_tp9xkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp-YoIJREeGsv772wTim0Q" base_Element="_tp9xk4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp-Yo4JREeGsv772wTim0Q" base_Element="_tp-YoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp-_sIJREeGsv772wTim0Q" base_Element="_tp-YpIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp-_s4JREeGsv772wTim0Q" base_Element="_tp-_sYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp_mwIJREeGsv772wTim0Q" base_Element="_tp-_tIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tp_mw4JREeGsv772wTim0Q" base_Element="_tp_mwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqAN0oJREeGsv772wTim0Q" base_Element="_tqAN0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqA04IJREeGsv772wTim0Q" base_Element="_tqAN04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqA044JREeGsv772wTim0Q" base_Element="_tqA04YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqBb8oJREeGsv772wTim0Q" base_Element="_tqBb8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqCDAIJREeGsv772wTim0Q" base_Element="_tqBb84JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqCDA4JREeGsv772wTim0Q" base_Element="_tqCDAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqCqEIJREeGsv772wTim0Q" base_Element="_tqCDBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqDRIIJREeGsv772wTim0Q" base_Element="_tqCqEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqD4MIJREeGsv772wTim0Q" base_Element="_tqDRIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqEfQIJREeGsv772wTim0Q" base_Element="_tqD4MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqFGUIJREeGsv772wTim0Q" base_Element="_tqEfQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqFtYIJREeGsv772wTim0Q" base_Element="_tqFGUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqGUcIJREeGsv772wTim0Q" base_Element="_tqFtYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqG7goJREeGsv772wTim0Q" base_Element="_tqG7gIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqHikoJREeGsv772wTim0Q" base_Element="_tqHikIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqIJooJREeGsv772wTim0Q" base_Element="_tqIJoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqJXwIJREeGsv772wTim0Q" base_Element="_tqIwsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqJXw4JREeGsv772wTim0Q" base_Element="_tqJXwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqJ-0oJREeGsv772wTim0Q" base_Element="_tqJ-0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqJ-1YJREeGsv772wTim0Q" base_Element="_tqJ-04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqKl4oJREeGsv772wTim0Q" base_Element="_tqKl4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqKl5YJREeGsv772wTim0Q" base_Element="_tqKl44JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqLM8oJREeGsv772wTim0Q" base_Element="_tqLM8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqLM9YJREeGsv772wTim0Q" base_Element="_tqLM84JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqL0AoJREeGsv772wTim0Q" base_Element="_tqL0AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqL0BYJREeGsv772wTim0Q" base_Element="_tqL0A4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqMbEoJREeGsv772wTim0Q" base_Element="_tqMbEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqMbFYJREeGsv772wTim0Q" base_Element="_tqMbE4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqNCIoJREeGsv772wTim0Q" base_Element="_tqNCIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqNCJYJREeGsv772wTim0Q" base_Element="_tqNCI4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqNpMoJREeGsv772wTim0Q" base_Element="_tqNpMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqNpNYJREeGsv772wTim0Q" base_Element="_tqNpM4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqOQQoJREeGsv772wTim0Q" base_Element="_tqOQQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqOQRYJREeGsv772wTim0Q" base_Element="_tqOQQ4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqO3UoJREeGsv772wTim0Q" base_Element="_tqO3UIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqO3VYJREeGsv772wTim0Q" base_Element="_tqO3U4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqPeYoJREeGsv772wTim0Q" base_Element="_tqPeYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqPeZYJREeGsv772wTim0Q" base_Element="_tqPeY4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqQFcoJREeGsv772wTim0Q" base_Element="_tqQFcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqQFdYJREeGsv772wTim0Q" base_Element="_tqQFc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqQsgoJREeGsv772wTim0Q" base_Element="_tqQsgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqQshYJREeGsv772wTim0Q" base_Element="_tqQsg4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqRTkoJREeGsv772wTim0Q" base_Element="_tqRTkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqRTlYJREeGsv772wTim0Q" base_Element="_tqRTk4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqR6ooJREeGsv772wTim0Q" base_Element="_tqR6oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqShsIJREeGsv772wTim0Q" base_Element="_tqR6o4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqShs4JREeGsv772wTim0Q" base_Element="_tqShsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqTIwIJREeGsv772wTim0Q" base_Element="_tqShtIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqTIw4JREeGsv772wTim0Q" base_Element="_tqTIwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqTIxoJREeGsv772wTim0Q" base_Element="_tqTIxIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqTv0oJREeGsv772wTim0Q" base_Element="_tqTv0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqTv1YJREeGsv772wTim0Q" base_Element="_tqTv04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqUW4oJREeGsv772wTim0Q" base_Element="_tqUW4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqUW5YJREeGsv772wTim0Q" base_Element="_tqUW44JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqU98oJREeGsv772wTim0Q" base_Element="_tqU98IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqU99YJREeGsv772wTim0Q" base_Element="_tqU984JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqVlAIJREeGsv772wTim0Q" base_Element="_tqU99oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqVlA4JREeGsv772wTim0Q" base_Element="_tqVlAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqWMEIJREeGsv772wTim0Q" base_Element="_tqVlBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqWME4JREeGsv772wTim0Q" base_Element="_tqWMEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqWzIIJREeGsv772wTim0Q" base_Element="_tqWMFIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqWzI4JREeGsv772wTim0Q" base_Element="_tqWzIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqXaMIJREeGsv772wTim0Q" base_Element="_tqWzJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqXaM4JREeGsv772wTim0Q" base_Element="_tqXaMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqYBQIJREeGsv772wTim0Q" base_Element="_tqXaNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqYBQ4JREeGsv772wTim0Q" base_Element="_tqYBQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqYoUIJREeGsv772wTim0Q" base_Element="_tqYBRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqYoU4JREeGsv772wTim0Q" base_Element="_tqYoUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqZPYIJREeGsv772wTim0Q" base_Element="_tqYoVIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqZPY4JREeGsv772wTim0Q" base_Element="_tqZPYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqZ2cIJREeGsv772wTim0Q" base_Element="_tqZPZIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqZ2c4JREeGsv772wTim0Q" base_Element="_tqZ2cYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqadgIJREeGsv772wTim0Q" base_Element="_tqZ2dIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqadg4JREeGsv772wTim0Q" base_Element="_tqadgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqbEkIJREeGsv772wTim0Q" base_Element="_tqadhIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqbEk4JREeGsv772wTim0Q" base_Element="_tqbEkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqbroIJREeGsv772wTim0Q" base_Element="_tqbElIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqbro4JREeGsv772wTim0Q" base_Element="_tqbroYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqcSsIJREeGsv772wTim0Q" base_Element="_tqbrpIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqcSs4JREeGsv772wTim0Q" base_Element="_tqcSsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqc5wIJREeGsv772wTim0Q" base_Element="_tqcStIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqc5w4JREeGsv772wTim0Q" base_Element="_tqc5wYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqdg0IJREeGsv772wTim0Q" base_Element="_tqc5xIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqdg04JREeGsv772wTim0Q" base_Element="_tqdg0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqeH4IJREeGsv772wTim0Q" base_Element="_tqdg1IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqeH44JREeGsv772wTim0Q" base_Element="_tqeH4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqeu8IJREeGsv772wTim0Q" base_Element="_tqeH5IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqeu84JREeGsv772wTim0Q" base_Element="_tqeu8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqfWAIJREeGsv772wTim0Q" base_Element="_tqeu9IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqfWA4JREeGsv772wTim0Q" base_Element="_tqfWAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqf9EIJREeGsv772wTim0Q" base_Element="_tqfWBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqf9E4JREeGsv772wTim0Q" base_Element="_tqf9EYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqgkIIJREeGsv772wTim0Q" base_Element="_tqf9FIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqgkI4JREeGsv772wTim0Q" base_Element="_tqgkIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqhLMIJREeGsv772wTim0Q" base_Element="_tqgkJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqhLM4JREeGsv772wTim0Q" base_Element="_tqhLMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqhyQIJREeGsv772wTim0Q" base_Element="_tqhLNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqhyQ4JREeGsv772wTim0Q" base_Element="_tqhyQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqhyRoJREeGsv772wTim0Q" base_Element="_tqhyRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqiZUoJREeGsv772wTim0Q" base_Element="_tqiZUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqiZVYJREeGsv772wTim0Q" base_Element="_tqiZU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqjAYoJREeGsv772wTim0Q" base_Element="_tqjAYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqjAZYJREeGsv772wTim0Q" base_Element="_tqjAY4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqjncIJREeGsv772wTim0Q" base_Element="_tqjAZoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqjnc4JREeGsv772wTim0Q" base_Element="_tqjncYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqkOgIJREeGsv772wTim0Q" base_Element="_tqjndIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqkOg4JREeGsv772wTim0Q" base_Element="_tqkOgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqk1kIJREeGsv772wTim0Q" base_Element="_tqkOhIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqk1k4JREeGsv772wTim0Q" base_Element="_tqk1kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqk1loJREeGsv772wTim0Q" base_Element="_tqk1lIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqlcooJREeGsv772wTim0Q" base_Element="_tqlcoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqlcpYJREeGsv772wTim0Q" base_Element="_tqlco4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqmDsIJREeGsv772wTim0Q" base_Element="_tqlcpoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqmDs4JREeGsv772wTim0Q" base_Element="_tqmDsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqmqwIJREeGsv772wTim0Q" base_Element="_tqmDtIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqmqw4JREeGsv772wTim0Q" base_Element="_tqmqwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqmqxoJREeGsv772wTim0Q" base_Element="_tqmqxIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqnR0oJREeGsv772wTim0Q" base_Element="_tqnR0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqnR1YJREeGsv772wTim0Q" base_Element="_tqnR04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqn44YJREeGsv772wTim0Q" base_Element="_tqnR1oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqn45IJREeGsv772wTim0Q" base_Element="_tqn44oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqof8IJREeGsv772wTim0Q" base_Element="_tqn45YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqof84JREeGsv772wTim0Q" base_Element="_tqof8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqpHAIJREeGsv772wTim0Q" base_Element="_tqof9IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqpHA4JREeGsv772wTim0Q" base_Element="_tqpHAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqpuEIJREeGsv772wTim0Q" base_Element="_tqpHBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqpuE4JREeGsv772wTim0Q" base_Element="_tqpuEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqqVIIJREeGsv772wTim0Q" base_Element="_tqpuFIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqqVI4JREeGsv772wTim0Q" base_Element="_tqqVIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqq8MIJREeGsv772wTim0Q" base_Element="_tqqVJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqq8M4JREeGsv772wTim0Q" base_Element="_tqq8MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqrjQIJREeGsv772wTim0Q" base_Element="_tqq8NIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqrjQ4JREeGsv772wTim0Q" base_Element="_tqrjQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqsKUIJREeGsv772wTim0Q" base_Element="_tqrjRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqsKU4JREeGsv772wTim0Q" base_Element="_tqsKUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqsxYoJREeGsv772wTim0Q" base_Element="_tqsxYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqsxZYJREeGsv772wTim0Q" base_Element="_tqsxY4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqtYcoJREeGsv772wTim0Q" base_Element="_tqtYcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqtYdYJREeGsv772wTim0Q" base_Element="_tqtYc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqt_goJREeGsv772wTim0Q" base_Element="_tqt_gIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqt_hYJREeGsv772wTim0Q" base_Element="_tqt_g4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqumkoJREeGsv772wTim0Q" base_Element="_tqumkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqumlYJREeGsv772wTim0Q" base_Element="_tqumk4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqvNooJREeGsv772wTim0Q" base_Element="_tqvNoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqvNpYJREeGsv772wTim0Q" base_Element="_tqvNo4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqv0soJREeGsv772wTim0Q" base_Element="_tqv0sIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqwbwIJREeGsv772wTim0Q" base_Element="_tqv0s4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqwbw4JREeGsv772wTim0Q" base_Element="_tqwbwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqxC0IJREeGsv772wTim0Q" base_Element="_tqwbxIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqxC04JREeGsv772wTim0Q" base_Element="_tqxC0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqxp4IJREeGsv772wTim0Q" base_Element="_tqxC1IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqxp44JREeGsv772wTim0Q" base_Element="_tqxp4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqyQ8IJREeGsv772wTim0Q" base_Element="_tqxp5IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqyQ84JREeGsv772wTim0Q" base_Element="_tqyQ8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqy4AoJREeGsv772wTim0Q" base_Element="_tqy4AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tqzfEIJREeGsv772wTim0Q" base_Element="_tqy4A4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq0GIIJREeGsv772wTim0Q" base_Element="_tqzfEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq0GI4JREeGsv772wTim0Q" base_Element="_tq0GIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq0tMIJREeGsv772wTim0Q" base_Element="_tq0GJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq0tM4JREeGsv772wTim0Q" base_Element="_tq0tMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq1UQIJREeGsv772wTim0Q" base_Element="_tq0tNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq1UQ4JREeGsv772wTim0Q" base_Element="_tq1UQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq17UIJREeGsv772wTim0Q" base_Element="_tq1URIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq17U4JREeGsv772wTim0Q" base_Element="_tq17UYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq2iYIJREeGsv772wTim0Q" base_Element="_tq17VIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq2iY4JREeGsv772wTim0Q" base_Element="_tq2iYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq2iZoJREeGsv772wTim0Q" base_Element="_tq2iZIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq3JcoJREeGsv772wTim0Q" base_Element="_tq3JcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq3wgIJREeGsv772wTim0Q" base_Element="_tq3Jc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq3wg4JREeGsv772wTim0Q" base_Element="_tq3wgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq4XkIJREeGsv772wTim0Q" base_Element="_tq3whIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq4Xk4JREeGsv772wTim0Q" base_Element="_tq4XkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq4-oIJREeGsv772wTim0Q" base_Element="_tq4XlIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq4-o4JREeGsv772wTim0Q" base_Element="_tq4-oYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq5lsIJREeGsv772wTim0Q" base_Element="_tq4-pIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq5ls4JREeGsv772wTim0Q" base_Element="_tq5lsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq5ltoJREeGsv772wTim0Q" base_Element="_tq5ltIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq6MwoJREeGsv772wTim0Q" base_Element="_tq6MwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq6z0IJREeGsv772wTim0Q" base_Element="_tq6Mw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_tq6z04JREeGsv772wTim0Q" base_Element="_tq6z0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vqzn8IJREeGsv772wTim0Q" base_Element="_vqzA4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vq0PAYJREeGsv772wTim0Q" base_Element="_vq0PAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vq0PBIJREeGsv772wTim0Q" base_Element="_vq0PAoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vq02EIJREeGsv772wTim0Q" base_Element="_vq0PBYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vq02EoJREeGsv772wTim0Q" base_Element="_vq02EYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vq02FYJREeGsv772wTim0Q" base_Element="_vq02E4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vq1dIIJREeGsv772wTim0Q" base_Element="_vqzA4IJREeGsv772wTim0Q">
    <annotations xmi:id="_vq1dIYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_vq1dIoJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v30JMIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vq5HgIJREeGsv772wTim0Q" base_Element="_vq4gcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vq6VoIJREeGsv772wTim0Q" base_Element="_vq4gcIJREeGsv772wTim0Q">
    <annotations xmi:id="_vq6VoYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_vq6VooJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v30JN4JREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_vrJmMYJREeGsv772wTim0Q" genericsValue="String" base_Element="_vrI_IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vrpVcYJREeGsv772wTim0Q" genericsValue="Lot" base_Element="_vrpVcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vr8QYYJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_vr8QYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vr-FkIJREeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_vr9egYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vtAAUIJREeGsv772wTim0Q" genericsValue="String, Class&lt;?>" base_Element="_vs_ZQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vttyAIJREeGsv772wTim0Q" genericsValue="Integer, Language" base_Element="_vttK8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vtxcYIJREeGsv772wTim0Q" genericsValue="NPCInstance" base_Element="_vtw1UIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vt9poIJREeGsv772wTim0Q" base_Element="_tb0n4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vt_e0IJREeGsv772wTim0Q" genericsValue="String, Timestamp" base_Element="_vt-3wIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vt_e0YJREeGsv772wTim0Q" base_Element="_vt-3wIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vuAs8IJREeGsv772wTim0Q" base_Element="_vuAF4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vuAs8YJREeGsv772wTim0Q" base_Element="_tb0n4YJREeGsv772wTim0Q">
    <annotations xmi:id="_vuBUAIJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_vuBUAYJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v31-YIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vuWrM4JREeGsv772wTim0Q" base_Element="_vuWrMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vukGkYJREeGsv772wTim0Q" base_Element="_vukGkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vulUsIJREeGsv772wTim0Q" base_Element="_vuktoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vulUs4JREeGsv772wTim0Q" base_Element="_vulUsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vul7woJREeGsv772wTim0Q" base_Element="_vulUtIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vumi0IJREeGsv772wTim0Q" genericsValue="String" base_Element="_vul7w4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vumi0YJREeGsv772wTim0Q" base_Element="_vul7w4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vunJ5IJREeGsv772wTim0Q" base_Element="_vunJ4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vunw8YJREeGsv772wTim0Q" base_Element="_vukGkIJREeGsv772wTim0Q">
    <annotations xmi:id="_vunw8oJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_vunw84JREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v33MgIJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vuq0QIJREeGsv772wTim0Q" base_Element="_tZ0cwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vut3kIJREeGsv772wTim0Q" base_Element="_vutQgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vuwT0IJREeGsv772wTim0Q" base_Element="_tZ0cwYJREeGsv772wTim0Q">
    <annotations xmi:id="_vuwT0YJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_vuwT0oJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v33MgYJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vu9vMYJREeGsv772wTim0Q" base_Element="_vu9vMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vu-WQIJREeGsv772wTim0Q" base_Element="_vu9vMIJREeGsv772wTim0Q">
    <annotations xmi:id="_vu-WQYJREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_vu-WQoJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v33MgoJREeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vvXX0IJREeGsv772wTim0Q" base_Element="_vvWwwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_vvXX0YJREeGsv772wTim0Q" base_Element="_vvWwwIJREeGsv772wTim0Q">
    <annotations xmi:id="_vvXX0oJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_vvZ0EYJREeGsv772wTim0Q" base_Element="_vvZNAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyBDMIJREeGsv772wTim0Q" base_Element="_vyAcIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyBDMoJREeGsv772wTim0Q" base_Element="_vyBDMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyBqQYJREeGsv772wTim0Q" base_Element="_vyBqQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vyCRVIJREeGsv772wTim0Q" base_Element="_vyBqQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyFUoYJREeGsv772wTim0Q" base_Element="_vyFUoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyFUo4JREeGsv772wTim0Q" base_Element="_vyFUooJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyF7sYJREeGsv772wTim0Q" base_Element="_vyF7sIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyF7s4JREeGsv772wTim0Q" base_Element="_vyF7soJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyGiwIJREeGsv772wTim0Q" base_Element="_vyF7tIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyGiwoJREeGsv772wTim0Q" base_Element="_vyGiwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyGixIJREeGsv772wTim0Q" base_Element="_vyGiw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyHJ0IJREeGsv772wTim0Q" base_Element="_vyGixYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_vyHw5YJREeGsv772wTim0Q" base_Element="_vyHw4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vyKNIIJREeGsv772wTim0Q" base_Element="_vyJmEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_vybS4IJREeGsv772wTim0Q" base_Element="_vyar0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vyeWMIJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_vydvJ4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_vye9QIJREeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_vyeWMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v0w1MIJREeGsv772wTim0Q" genericsValue="String, Class&lt;?>" base_Element="_v0wOIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v04J8IJREeGsv772wTim0Q" base_Element="_v03i4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v05YFoJREeGsv772wTim0Q" base_Element="_v05YE4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v05_IIJREeGsv772wTim0Q" base_Element="_v05YE4JREeGsv772wTim0Q">
    <annotations xmi:id="_v05_IYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v05_JYJREeGsv772wTim0Q" base_Element="_v05_IoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v06mMIJREeGsv772wTim0Q" base_Element="_v05_IoJREeGsv772wTim0Q">
    <annotations xmi:id="_v06mMYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v06mNYJREeGsv772wTim0Q" base_Element="_v06mMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v06mNoJREeGsv772wTim0Q" base_Element="_v06mMoJREeGsv772wTim0Q">
    <annotations xmi:id="_v07NQIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v09CcIJREeGsv772wTim0Q" base_Element="_v08bYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v09CcoJREeGsv772wTim0Q" base_Element="_v08bYIJREeGsv772wTim0Q">
    <annotations xmi:id="_v09Cc4JREeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_v09CdIJREeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_v32ldIJREeGsv772wTim0Q" value="&quot;static-access&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v1AFxoJREeGsv772wTim0Q" base_Element="_v1AFw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v1As0IJREeGsv772wTim0Q" base_Element="_v1AFw4JREeGsv772wTim0Q">
    <annotations xmi:id="_v1As0YJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v1As1YJREeGsv772wTim0Q" base_Element="_v1As0oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v1BT4IJREeGsv772wTim0Q" base_Element="_v1As0oJREeGsv772wTim0Q">
    <annotations xmi:id="_v1BT4YJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_v1B68IJREeGsv772wTim0Q" base_Element="_v1BT44JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1B68oJREeGsv772wTim0Q" base_Element="_v1B68YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1CiAIJREeGsv772wTim0Q" base_Element="_v1B684JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1DJEYJREeGsv772wTim0Q" base_Element="_v1CiAoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1E-Q4JREeGsv772wTim0Q" base_Element="_v1EXMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1E-R4JREeGsv772wTim0Q" base_Element="_v1E-RIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1FlU4JREeGsv772wTim0Q" base_Element="_v1FlUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1FlWIJREeGsv772wTim0Q" base_Element="_v1FlVIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1GMZIJREeGsv772wTim0Q" base_Element="_v1GMYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1GzcIJREeGsv772wTim0Q" base_Element="_v1GMZYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1GzdYJREeGsv772wTim0Q" base_Element="_v1GzcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1HagIJREeGsv772wTim0Q" base_Element="_v1GzdoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1HahIJREeGsv772wTim0Q" base_Element="_v1HagYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1IBkYJREeGsv772wTim0Q" base_Element="_v1HahYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1IBloJREeGsv772wTim0Q" base_Element="_v1IBkoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1IopIJREeGsv772wTim0Q" base_Element="_v1IooIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1JPsYJREeGsv772wTim0Q" base_Element="_v1IopYJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1JPtoJREeGsv772wTim0Q" base_Element="_v1JPsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1J2woJREeGsv772wTim0Q" base_Element="_v1JPt4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1Kd0IJREeGsv772wTim0Q" base_Element="_v1J2w4JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1Kd1YJREeGsv772wTim0Q" base_Element="_v1Kd0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1LE4oJREeGsv772wTim0Q" base_Element="_v1Kd1oJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1LE54JREeGsv772wTim0Q" base_Element="_v1LE44JREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1Lr84JREeGsv772wTim0Q" base_Element="_v1Lr8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1OINYJREeGsv772wTim0Q" base_Element="_v1OIMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1OvQYJREeGsv772wTim0Q" base_Element="_v1OvQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1PWUIJREeGsv772wTim0Q" base_Element="_v1OvQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1PWUoJREeGsv772wTim0Q" base_Element="_v1PWUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1P9YIJREeGsv772wTim0Q" base_Element="_v1PWU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1P9YoJREeGsv772wTim0Q" base_Element="_v1P9YYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1TAsYJREeGsv772wTim0Q" base_Element="_v1TAsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1TnwIJREeGsv772wTim0Q" base_Element="_v1TAsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1TnwoJREeGsv772wTim0Q" base_Element="_v1TnwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1UO0IJREeGsv772wTim0Q" base_Element="_v1Tnw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1UO0oJREeGsv772wTim0Q" base_Element="_v1UO0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1U14IJREeGsv772wTim0Q" base_Element="_v1UO04JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v1WEAIJREeGsv772wTim0Q" base_Element="_v1Vc84JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v1WEAYJREeGsv772wTim0Q" base_Element="_v1Vc84JREeGsv772wTim0Q">
    <annotations xmi:id="_v1WEAoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v1WrEIJREeGsv772wTim0Q" base_Element="_v1WEA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v1WrEYJREeGsv772wTim0Q" base_Element="_v1WEA4JREeGsv772wTim0Q">
    <annotations xmi:id="_v1WrEoJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_v1a8gIJREeGsv772wTim0Q" base_Element="_v1aVcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v1bjkoJREeGsv772wTim0Q" base_Element="_v1bjkIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v1bjk4JREeGsv772wTim0Q" base_Element="_v1bjkIJREeGsv772wTim0Q">
    <annotations xmi:id="_v1bjlIJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v1cKo4JREeGsv772wTim0Q" base_Element="_v1cKoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_v1cKpYJREeGsv772wTim0Q" base_Element="_v1cKooJREeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_v1cxsIJREeGsv772wTim0Q" base_Element="_v1cKoIJREeGsv772wTim0Q">
    <annotations xmi:id="_v1cxsYJREeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_v1nw0IJREeGsv772wTim0Q" base_Element="_v1nJwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1nw04JREeGsv772wTim0Q" base_Element="_v1nw0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1oX4IJREeGsv772wTim0Q" base_Element="_v1nw1IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1oX44JREeGsv772wTim0Q" base_Element="_v1oX4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1o-8IJREeGsv772wTim0Q" base_Element="_v1oX5IJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1o-84JREeGsv772wTim0Q" base_Element="_v1o-8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_v1pmAIJREeGsv772wTim0Q" base_Element="_v1o-9IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1sCQIJREeGsv772wTim0Q" base_Element="_v1rbMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1tQYYJREeGsv772wTim0Q" base_Element="_v1tQYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1uegIJREeGsv772wTim0Q" base_Element="_v1t3coJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1ueg4JREeGsv772wTim0Q" base_Element="_v1uegoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1wTsYJREeGsv772wTim0Q" base_Element="_v1wTsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1yI4YJREeGsv772wTim0Q" base_Element="_v1yI4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v11MMIJREeGsv772wTim0Q" base_Element="_v10lIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v11zQIJREeGsv772wTim0Q" base_Element="_v11MMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v11zQ4JREeGsv772wTim0Q" base_Element="_v11zQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v12aUYJREeGsv772wTim0Q" base_Element="_v12aUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v13BYIJREeGsv772wTim0Q" genericsValue="?" base_Element="_v12aU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v13BYoJREeGsv772wTim0Q" base_Element="_v13BYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:TypeParameterDeclaration xmi:id="_v13ocoJREeGsv772wTim0Q" typeParameterDeclarationValue="T" base_Operation="_v13ocIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v14PgIJREeGsv772wTim0Q" base_Element="_v13ocIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v14PgYJREeGsv772wTim0Q" genericsValue="T" base_Element="_v13ocYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v142kYJREeGsv772wTim0Q" base_Element="_v142kIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v15doYJREeGsv772wTim0Q" base_Element="_v15doIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v16rwIJREeGsv772wTim0Q" base_Element="_v16EsoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v16rw4JREeGsv772wTim0Q" base_Element="_v16rwoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v17S0YJREeGsv772wTim0Q" base_Element="_v17S0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1754IJREeGsv772wTim0Q" base_Element="_v17S04JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v17544JREeGsv772wTim0Q" base_Element="_v1754oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v19vEYJREeGsv772wTim0Q" base_Element="_v19vEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v1-9MIJREeGsv772wTim0Q" base_Element="_v1-WIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v2HgEoJREeGsv772wTim0Q" base_Element="_v2HgEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v2LxgIJREeGsv772wTim0Q" base_Element="_v2LKcoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v2M_oYJREeGsv772wTim0Q" base_Element="_v2M_oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v2O00IJREeGsv772wTim0Q" base_Element="_v2ONwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2XXsYJREeGsv772wTim0Q" base_Element="_v2XXsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2abAIJREeGsv772wTim0Q" base_Element="_v2Zz8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2abAoJREeGsv772wTim0Q" base_Element="_v2abAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2abBYJREeGsv772wTim0Q" base_Element="_v2abA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2bCEYJREeGsv772wTim0Q" base_Element="_v2bCEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2bCFIJREeGsv772wTim0Q" base_Element="_v2bCEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2bpIYJREeGsv772wTim0Q" base_Element="_v2bpIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2bpI4JREeGsv772wTim0Q" base_Element="_v2bpIoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2bpJYJREeGsv772wTim0Q" base_Element="_v2bpJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2cQMYJREeGsv772wTim0Q" base_Element="_v2cQMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2cQM4JREeGsv772wTim0Q" base_Element="_v2cQMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2c3QIJREeGsv772wTim0Q" base_Element="_v2cQNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2c3Q4JREeGsv772wTim0Q" base_Element="_v2c3QYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2c3RoJREeGsv772wTim0Q" base_Element="_v2c3RIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2deUoJREeGsv772wTim0Q" base_Element="_v2deUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2deVYJREeGsv772wTim0Q" base_Element="_v2deU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2eFYoJREeGsv772wTim0Q" base_Element="_v2eFYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2eFZYJREeGsv772wTim0Q" base_Element="_v2eFY4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2escoJREeGsv772wTim0Q" base_Element="_v2escIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2esdYJREeGsv772wTim0Q" base_Element="_v2esc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2fTgYJREeGsv772wTim0Q" base_Element="_v2esdoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2fThIJREeGsv772wTim0Q" base_Element="_v2fTgoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2f6kIJREeGsv772wTim0Q" base_Element="_v2fThYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2f6k4JREeGsv772wTim0Q" base_Element="_v2f6kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2ghoIJREeGsv772wTim0Q" base_Element="_v2f6lIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2gho4JREeGsv772wTim0Q" base_Element="_v2ghoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v2ghpYJREeGsv772wTim0Q" genericsValue="Integer, TownLevel" base_Element="_v2ghpIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2hIsIJREeGsv772wTim0Q" base_Element="_v2ghpIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2hIs4JREeGsv772wTim0Q" base_Element="_v2hIsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2hvwIJREeGsv772wTim0Q" base_Element="_v2hItIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2hvw4JREeGsv772wTim0Q" base_Element="_v2hvwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2iW0IJREeGsv772wTim0Q" base_Element="_v2hvxIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2iW04JREeGsv772wTim0Q" base_Element="_v2iW0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2iW1oJREeGsv772wTim0Q" base_Element="_v2iW1IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2i94oJREeGsv772wTim0Q" base_Element="_v2i94IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2i95YJREeGsv772wTim0Q" base_Element="_v2i944JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2jk8IJREeGsv772wTim0Q" base_Element="_v2i95oJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2jk8oJREeGsv772wTim0Q" base_Element="_v2jk8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2jk9YJREeGsv772wTim0Q" base_Element="_v2jk84JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2kMAoJREeGsv772wTim0Q" base_Element="_v2kMAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2kMBYJREeGsv772wTim0Q" base_Element="_v2kMA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2kzEoJREeGsv772wTim0Q" base_Element="_v2kzEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2kzFYJREeGsv772wTim0Q" base_Element="_v2kzE4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2laIIJREeGsv772wTim0Q" base_Element="_v2kzFoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2mBMIJREeGsv772wTim0Q" base_Element="_v2laIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2mBMoJREeGsv772wTim0Q" base_Element="_v2mBMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2mBNIJREeGsv772wTim0Q" base_Element="_v2mBM4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2moQIJREeGsv772wTim0Q" base_Element="_v2mBNYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2moQoJREeGsv772wTim0Q" base_Element="_v2moQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2moRIJREeGsv772wTim0Q" base_Element="_v2moQ4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2nPUYJREeGsv772wTim0Q" base_Element="_v2nPUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2nPU4JREeGsv772wTim0Q" base_Element="_v2nPUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2n2YIJREeGsv772wTim0Q" base_Element="_v2nPVIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2n2YoJREeGsv772wTim0Q" base_Element="_v2n2YYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2n2ZYJREeGsv772wTim0Q" base_Element="_v2n2Y4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2odcoJREeGsv772wTim0Q" base_Element="_v2odcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2oddYJREeGsv772wTim0Q" base_Element="_v2odc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2pEgIJREeGsv772wTim0Q" base_Element="_v2oddoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2pEg4JREeGsv772wTim0Q" base_Element="_v2pEgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2prkIJREeGsv772wTim0Q" base_Element="_v2pEhIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2prk4JREeGsv772wTim0Q" base_Element="_v2prkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2prloJREeGsv772wTim0Q" base_Element="_v2prlIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2qSooJREeGsv772wTim0Q" base_Element="_v2qSoIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2qSpIJREeGsv772wTim0Q" base_Element="_v2qSo4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2q5sYJREeGsv772wTim0Q" base_Element="_v2qSpYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2q5tIJREeGsv772wTim0Q" base_Element="_v2q5soJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2rgwIJREeGsv772wTim0Q" base_Element="_v2q5tYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2rgw4JREeGsv772wTim0Q" base_Element="_v2rgwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2rgxoJREeGsv772wTim0Q" base_Element="_v2rgxIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2sH0oJREeGsv772wTim0Q" base_Element="_v2sH0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2sH1YJREeGsv772wTim0Q" base_Element="_v2sH04JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2su4YJREeGsv772wTim0Q" base_Element="_v2sH1oJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2su5IJREeGsv772wTim0Q" base_Element="_v2su4oJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2tV8IJREeGsv772wTim0Q" base_Element="_v2su5YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v2tV8oJREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_v2tV8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2tV84JREeGsv772wTim0Q" base_Element="_v2tV8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v2t9AYJREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_v2t9AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2t9AoJREeGsv772wTim0Q" base_Element="_v2t9AIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v2ukEIJREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_v2t9A4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2ukEYJREeGsv772wTim0Q" base_Element="_v2t9A4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v2ukE4JREeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_v2ukEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2vLIIJREeGsv772wTim0Q" base_Element="_v2ukEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2vyMYJREeGsv772wTim0Q" base_Element="_v2vyMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2vyNIJREeGsv772wTim0Q" base_Element="_v2vyMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2wZQYJREeGsv772wTim0Q" base_Element="_v2wZQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2wZQ4JREeGsv772wTim0Q" base_Element="_v2wZQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2xAUIJREeGsv772wTim0Q" base_Element="_v2wZRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2xAUoJREeGsv772wTim0Q" base_Element="_v2xAUYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2xAVIJREeGsv772wTim0Q" base_Element="_v2xAU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2xnYIJREeGsv772wTim0Q" base_Element="_v2xAVYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2xnYoJREeGsv772wTim0Q" base_Element="_v2xnYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2xnZIJREeGsv772wTim0Q" base_Element="_v2xnY4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2yOcYJREeGsv772wTim0Q" base_Element="_v2yOcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2yOc4JREeGsv772wTim0Q" base_Element="_v2yOcoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2y1gIJREeGsv772wTim0Q" base_Element="_v2yOdIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2y1goJREeGsv772wTim0Q" base_Element="_v2y1gYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2y1hIJREeGsv772wTim0Q" base_Element="_v2y1g4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2zckIJREeGsv772wTim0Q" base_Element="_v2y1hYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2zckoJREeGsv772wTim0Q" base_Element="_v2zckYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v20DoIJREeGsv772wTim0Q" base_Element="_v2zck4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v20qsIJREeGsv772wTim0Q" base_Element="_v20DoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v20qsoJREeGsv772wTim0Q" genericsValue="String, Lot" base_Element="_v20qsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v21RwIJREeGsv772wTim0Q" base_Element="_v20qsYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v21RwoJREeGsv772wTim0Q" base_Element="_v21RwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2140YJREeGsv772wTim0Q" base_Element="_v2140IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v21404JREeGsv772wTim0Q" base_Element="_v2140oJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v22f4IJREeGsv772wTim0Q" base_Element="_v2141IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v22f44JREeGsv772wTim0Q" base_Element="_v22f4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v22f5YJREeGsv772wTim0Q" base_Element="_v22f5IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v23G8YJREeGsv772wTim0Q" base_Element="_v23G8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v23G84JREeGsv772wTim0Q" base_Element="_v23G8oJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v23uAIJREeGsv772wTim0Q" base_Element="_v23G9IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v23uAoJREeGsv772wTim0Q" base_Element="_v23uAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v23uBIJREeGsv772wTim0Q" base_Element="_v23uA4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v24VEIJREeGsv772wTim0Q" base_Element="_v23uBYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v24VEoJREeGsv772wTim0Q" base_Element="_v24VEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v24VFIJREeGsv772wTim0Q" base_Element="_v24VE4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v248IoJREeGsv772wTim0Q" base_Element="_v248IIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v248JYJREeGsv772wTim0Q" base_Element="_v248I4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v25jMYJREeGsv772wTim0Q" base_Element="_v248JoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v25jM4JREeGsv772wTim0Q" base_Element="_v25jMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v26KQIJREeGsv772wTim0Q" base_Element="_v25jNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v26KQ4JREeGsv772wTim0Q" base_Element="_v26KQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v26KRYJREeGsv772wTim0Q" genericsValue="Lot" base_Element="_v26KRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v26xUYJREeGsv772wTim0Q" base_Element="_v26KRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v26xU4JREeGsv772wTim0Q" genericsValue="String" base_Element="_v26xUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v27YYIJREeGsv772wTim0Q" base_Element="_v26xUoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v27YY4JREeGsv772wTim0Q" base_Element="_v27YYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v27YZoJREeGsv772wTim0Q" base_Element="_v27YZIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v27_cYJREeGsv772wTim0Q" genericsValue="Integer, Integer" base_Element="_v27_cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v27_coJREeGsv772wTim0Q" base_Element="_v27_cIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v28mgIJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_v27_c4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v28mgYJREeGsv772wTim0Q" base_Element="_v27_c4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v28mg4JREeGsv772wTim0Q" genericsValue="Integer" base_Element="_v28mgoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v29NkIJREeGsv772wTim0Q" base_Element="_v28mgoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v29NkoJREeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_v29NkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v29Nk4JREeGsv772wTim0Q" base_Element="_v29NkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v290oYJREeGsv772wTim0Q" base_Element="_v290oIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v290o4JREeGsv772wTim0Q" base_Element="_v290ooJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v290pYJREeGsv772wTim0Q" base_Element="_v290pIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2-bsoJREeGsv772wTim0Q" base_Element="_v2-bsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2-btYJREeGsv772wTim0Q" base_Element="_v2-bs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2_CwIJREeGsv772wTim0Q" base_Element="_v2-btoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v2_CwoJREeGsv772wTim0Q" base_Element="_v2_CwYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v2_p0YJREeGsv772wTim0Q" genericsValue="String, Timestamp" base_Element="_v2_p0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3AQ4IJREeGsv772wTim0Q" base_Element="_v2_p0IJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3AQ4oJREeGsv772wTim0Q" base_Element="_v3AQ4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3A38IJREeGsv772wTim0Q" base_Element="_v3AQ44JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3A38oJREeGsv772wTim0Q" base_Element="_v3A38YJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3A39IJREeGsv772wTim0Q" base_Element="_v3A384JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3BfAYJREeGsv772wTim0Q" base_Element="_v3BfAIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3CGEYJREeGsv772wTim0Q" base_Element="_v3CGEIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3CtIIJREeGsv772wTim0Q" base_Element="_v3CGEoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3CtIoJREeGsv772wTim0Q" base_Element="_v3CtIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3DUM4JREeGsv772wTim0Q" base_Element="_v3DUMoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3D7QYJREeGsv772wTim0Q" base_Element="_v3D7QIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3D7Q4JREeGsv772wTim0Q" base_Element="_v3D7QoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3EiUIJREeGsv772wTim0Q" base_Element="_v3D7RIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v3FJYYJREeGsv772wTim0Q" genericsValue="Integer" base_Element="_v3FJYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3FJYoJREeGsv772wTim0Q" base_Element="_v3FJYIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3FwcYJREeGsv772wTim0Q" base_Element="_v3FwcIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3Fwc4JREeGsv772wTim0Q" base_Element="_v3FwcoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3GXgYJREeGsv772wTim0Q" base_Element="_v3GXgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3GXg4JREeGsv772wTim0Q" base_Element="_v3GXgoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v3HlooJREeGsv772wTim0Q" genericsValue="ArrayList&lt;String>" base_Element="_v3HloYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3NsQYJREeGsv772wTim0Q" base_Element="_v3NsQIJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3NsQ4JREeGsv772wTim0Q" base_Element="_v3NsQoJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3OTUYJREeGsv772wTim0Q" base_Element="_v3OTUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v3O6YIJREeGsv772wTim0Q" genericsValue="String, BWorld" base_Element="_v3OTU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3O6YoJREeGsv772wTim0Q" base_Element="_v3OTU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_v3PhcIJREeGsv772wTim0Q" genericsValue="String, NPCEntity" base_Element="_v3O6Y4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3PhcoJREeGsv772wTim0Q" base_Element="_v3O6Y4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3PhdIJREeGsv772wTim0Q" base_Element="_v3Phc4JREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3QIgIJREeGsv772wTim0Q" base_Element="_v3PhdYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3QIgoJREeGsv772wTim0Q" base_Element="_v3QIgYJREeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_v3Qvk4JREeGsv772wTim0Q" base_Element="_v3QvkoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Nx0IJREeGsv772wTim0Q" base_Element="_v4NKwIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Nx04JREeGsv772wTim0Q" base_Element="_v4Nx0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4OY4oJREeGsv772wTim0Q" base_Element="_v4OY4IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4OY5YJREeGsv772wTim0Q" base_Element="_v4OY44JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4O_8oJREeGsv772wTim0Q" base_Element="_v4O_8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4O_9YJREeGsv772wTim0Q" base_Element="_v4O_84JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4PnAIJREeGsv772wTim0Q" base_Element="_v4O_9oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4PnA4JREeGsv772wTim0Q" base_Element="_v4PnAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4QOEIJREeGsv772wTim0Q" base_Element="_v4PnBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4QOE4JREeGsv772wTim0Q" base_Element="_v4QOEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Q1IIJREeGsv772wTim0Q" base_Element="_v4QOFIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Q1I4JREeGsv772wTim0Q" base_Element="_v4Q1IYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4RcMIJREeGsv772wTim0Q" base_Element="_v4Q1JIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4RcM4JREeGsv772wTim0Q" base_Element="_v4RcMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4SDQIJREeGsv772wTim0Q" base_Element="_v4RcNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4SDQ4JREeGsv772wTim0Q" base_Element="_v4SDQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4SDRoJREeGsv772wTim0Q" base_Element="_v4SDRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4SqUoJREeGsv772wTim0Q" base_Element="_v4SqUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4SqVYJREeGsv772wTim0Q" base_Element="_v4SqU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4TRYIJREeGsv772wTim0Q" base_Element="_v4SqVoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4TRY4JREeGsv772wTim0Q" base_Element="_v4TRYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4T4cIJREeGsv772wTim0Q" base_Element="_v4TRZIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4T4c4JREeGsv772wTim0Q" base_Element="_v4T4cYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4T4doJREeGsv772wTim0Q" base_Element="_v4T4dIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4UfgoJREeGsv772wTim0Q" base_Element="_v4UfgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4UfhYJREeGsv772wTim0Q" base_Element="_v4Ufg4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4VGkIJREeGsv772wTim0Q" base_Element="_v4UfhoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4VGk4JREeGsv772wTim0Q" base_Element="_v4VGkYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4VtoIJREeGsv772wTim0Q" base_Element="_v4VGlIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Vto4JREeGsv772wTim0Q" base_Element="_v4VtoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4VtpoJREeGsv772wTim0Q" base_Element="_v4VtpIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4WUsoJREeGsv772wTim0Q" base_Element="_v4WUsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4WUtYJREeGsv772wTim0Q" base_Element="_v4WUs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4W7wIJREeGsv772wTim0Q" base_Element="_v4WUtoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4W7w4JREeGsv772wTim0Q" base_Element="_v4W7wYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Xi0IJREeGsv772wTim0Q" base_Element="_v4W7xIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Xi04JREeGsv772wTim0Q" base_Element="_v4Xi0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4YJ4IJREeGsv772wTim0Q" base_Element="_v4Xi1IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4YJ44JREeGsv772wTim0Q" base_Element="_v4YJ4YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4YJ5oJREeGsv772wTim0Q" base_Element="_v4YJ5IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Yw8oJREeGsv772wTim0Q" base_Element="_v4Yw8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Yw9YJREeGsv772wTim0Q" base_Element="_v4Yw84JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4ZYAIJREeGsv772wTim0Q" base_Element="_v4Yw9oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4ZYA4JREeGsv772wTim0Q" base_Element="_v4ZYAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Z_EIJREeGsv772wTim0Q" base_Element="_v4ZYBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4Z_E4JREeGsv772wTim0Q" base_Element="_v4Z_EYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4amIIJREeGsv772wTim0Q" base_Element="_v4Z_FIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4amI4JREeGsv772wTim0Q" base_Element="_v4amIYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4bNMIJREeGsv772wTim0Q" base_Element="_v4amJIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4bNM4JREeGsv772wTim0Q" base_Element="_v4bNMYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4bNNoJREeGsv772wTim0Q" base_Element="_v4bNNIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4b0QoJREeGsv772wTim0Q" base_Element="_v4b0QIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4b0RYJREeGsv772wTim0Q" base_Element="_v4b0Q4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4cbUoJREeGsv772wTim0Q" base_Element="_v4cbUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4cbVYJREeGsv772wTim0Q" base_Element="_v4cbU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4dCYIJREeGsv772wTim0Q" base_Element="_v4cbVoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4dCY4JREeGsv772wTim0Q" base_Element="_v4dCYYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4dpcIJREeGsv772wTim0Q" base_Element="_v4dCZIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4dpc4JREeGsv772wTim0Q" base_Element="_v4dpcYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4dpdoJREeGsv772wTim0Q" base_Element="_v4dpdIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4eQgoJREeGsv772wTim0Q" base_Element="_v4eQgIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4eQhYJREeGsv772wTim0Q" base_Element="_v4eQg4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4e3kIJREeGsv772wTim0Q" base_Element="_v4eQhoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4e3k4JREeGsv772wTim0Q" base_Element="_v4e3kYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4feoIJREeGsv772wTim0Q" base_Element="_v4e3lIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4feo4JREeGsv772wTim0Q" base_Element="_v4feoYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4fepoJREeGsv772wTim0Q" base_Element="_v4fepIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4gFsoJREeGsv772wTim0Q" base_Element="_v4gFsIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4gFtYJREeGsv772wTim0Q" base_Element="_v4gFs4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4gswoJREeGsv772wTim0Q" base_Element="_v4gswIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4gsxYJREeGsv772wTim0Q" base_Element="_v4gsw4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4hT0IJREeGsv772wTim0Q" base_Element="_v4gsxoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4hT04JREeGsv772wTim0Q" base_Element="_v4hT0YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4h64IJREeGsv772wTim0Q" base_Element="_v4hT1IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4h644JREeGsv772wTim0Q" base_Element="_v4h64YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4ih8IJREeGsv772wTim0Q" base_Element="_v4h65IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4ih84JREeGsv772wTim0Q" base_Element="_v4ih8YJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4jJAIJREeGsv772wTim0Q" base_Element="_v4ih9IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4jJA4JREeGsv772wTim0Q" base_Element="_v4jJAYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4jwEIJREeGsv772wTim0Q" base_Element="_v4jJBIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4jwE4JREeGsv772wTim0Q" base_Element="_v4jwEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4jwFoJREeGsv772wTim0Q" base_Element="_v4jwFIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4kXIoJREeGsv772wTim0Q" base_Element="_v4kXIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4kXJYJREeGsv772wTim0Q" base_Element="_v4kXI4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4k-MIJREeGsv772wTim0Q" base_Element="_v4kXJoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4k-M4JREeGsv772wTim0Q" base_Element="_v4k-MYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4llQIJREeGsv772wTim0Q" base_Element="_v4k-NIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4llQ4JREeGsv772wTim0Q" base_Element="_v4llQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4llRoJREeGsv772wTim0Q" base_Element="_v4llRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4mMUoJREeGsv772wTim0Q" base_Element="_v4mMUIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4rr4IJREeGsv772wTim0Q" base_Element="_v4mMU4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4sS8oJREeGsv772wTim0Q" base_Element="_v4sS8IJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4sS9YJREeGsv772wTim0Q" base_Element="_v4sS84JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4s6AIJREeGsv772wTim0Q" base_Element="_v4sS9oJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4thEIJREeGsv772wTim0Q" base_Element="_v4s6AYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4thE4JREeGsv772wTim0Q" base_Element="_v4thEYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4thFoJREeGsv772wTim0Q" base_Element="_v4thFIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4uIIoJREeGsv772wTim0Q" base_Element="_v4uIIIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4uIJYJREeGsv772wTim0Q" base_Element="_v4uII4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4uvMoJREeGsv772wTim0Q" base_Element="_v4uvMIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4uvNYJREeGsv772wTim0Q" base_Element="_v4uvM4JREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4vWQIJREeGsv772wTim0Q" base_Element="_v4uvNoJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4vWQ4JREeGsv772wTim0Q" base_Element="_v4vWQYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4v9UIJREeGsv772wTim0Q" base_Element="_v4vWRIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4v9U4JREeGsv772wTim0Q" base_Element="_v4v9UYJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4wkYIJREeGsv772wTim0Q" base_Element="_v4v9VIJREeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_v4wkY4JREeGsv772wTim0Q" base_Element="_v4wkYYJREeGsv772wTim0Q"/>
</xmi:XMI>
