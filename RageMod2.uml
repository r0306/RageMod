<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.1" xmlns:xmi="http://schema.omg.org/spec/XMI/2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/3.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="__qo20IJTEeGsv772wTim0Q" name="RageMod2">
    <eAnnotations xmi:id="__q-1EIJTEeGsv772wTim0Q" source="http://www.yatta-solutions.com/umllab/codegen/codegenDirectory">
      <details xmi:id="__q-1EYJTEeGsv772wTim0Q" key="codegenDirectory" value="/RageMod"/>
    </eAnnotations>
    <eAnnotations xmi:id="_BJWQgIJUEeGsv772wTim0Q" source="com.yattasolutions.codegen.RoundTripInformation">
      <details xmi:id="_BJWQgYJUEeGsv772wTim0Q" key="AssociatedSourceCode" value="/RageMod/src/main/java/net/rageland/ragemod/Build.java;2659582628/1;/RageMod/src/main/java/net/rageland/ragemod/InventoryUtilities.java;2357812459/1;/RageMod/src/main/java/net/rageland/ragemod/NPCUtilities.java;4158728011/1;/RageMod/src/main/java/net/rageland/ragemod/RMEntityListener.java;1450637687/1;/RageMod/src/main/java/net/rageland/ragemod/RMServerListener.java;3091426794/1;/RageMod/src/main/java/net/rageland/ragemod/RageMod.java;1921557360/1;/RageMod/src/main/java/net/rageland/ragemod/Util.java;764329663/1;/RageMod/src/main/java/net/rageland/ragemod/commands/BountyCommands.java;1540231819/1;/RageMod/src/main/java/net/rageland/ragemod/commands/Commands.java;1397974760/1;/RageMod/src/main/java/net/rageland/ragemod/commands/CompassCommands.java;3098506413/1;/RageMod/src/main/java/net/rageland/ragemod/commands/DebugCommands.java;3656937703/1;/RageMod/src/main/java/net/rageland/ragemod/commands/FactionCommands.java;1373159853/1;/RageMod/src/main/java/net/rageland/ragemod/commands/LotCommands.java;866969543/1;/RageMod/src/main/java/net/rageland/ragemod/commands/NPCCommands.java;328333016/1;/RageMod/src/main/java/net/rageland/ragemod/commands/NPCTownCommands.java;3202868134/1;/RageMod/src/main/java/net/rageland/ragemod/commands/PermitCommands.java;2170568171/1;/RageMod/src/main/java/net/rageland/ragemod/commands/QuestCommands.java;4262688242/1;/RageMod/src/main/java/net/rageland/ragemod/commands/TownCommands.java;44294610/1;/RageMod/src/main/java/net/rageland/ragemod/data/BountyHandler.java;3120856752/1;/RageMod/src/main/java/net/rageland/ragemod/data/Factions.java;2985547831/1;/RageMod/src/main/java/net/rageland/ragemod/data/Location2D.java;2931801771/1;/RageMod/src/main/java/net/rageland/ragemod/data/Lot.java;2366585661/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCData.java;3296503705/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCInstance.java;2753012235/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCLocation.java;2331672514/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCLocationPool.java;376932928/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCPhrase.java;3411394378/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCPool.java;841125409/1;/RageMod/src/main/java/net/rageland/ragemod/data/NPCTown.java;1029885202/1;/RageMod/src/main/java/net/rageland/ragemod/data/OverAllBounty.java;3556784048/1;/RageMod/src/main/java/net/rageland/ragemod/data/Permits.java;3449732997/1;/RageMod/src/main/java/net/rageland/ragemod/data/PlayerTown.java;2303479449/1;/RageMod/src/main/java/net/rageland/ragemod/data/Players.java;2259793174/1;/RageMod/src/main/java/net/rageland/ragemod/data/Region.java;2588922213/1;/RageMod/src/main/java/net/rageland/ragemod/data/Region2D.java;2002076330/1;/RageMod/src/main/java/net/rageland/ragemod/data/Region3D.java;1257989107/1;/RageMod/src/main/java/net/rageland/ragemod/data/Town.java;138481903/1;/RageMod/src/main/java/net/rageland/ragemod/data/TownLevel.java;2530656463/1;/RageMod/src/main/java/net/rageland/ragemod/data/Towns.java;1868745525/1;/RageMod/src/main/java/net/rageland/ragemod/database/JDCConnectionDriver.java;4007248196/1;/RageMod/src/main/java/net/rageland/ragemod/database/JDCConnectionPool.java;3372896136/1;/RageMod/src/main/java/net/rageland/ragemod/database/RageDB.java;2575051443/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/FactionQueries.java;4229741142/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/LotQueries.java;2118682335/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/NPCTownQueries.java;3839560055/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/PlayerQueries.java;1670538054/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/QuestQueries.java;1307622409/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/TownQueries.java;3788663365/1;/RageMod/src/main/java/net/rageland/ragemod/entity/Bounty.java;3650429690/1;/RageMod/src/main/java/net/rageland/ragemod/entity/BountySign.java;1082431875/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/QuestNPC.java;620679415/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/RageEntity.java;940141913/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/RageNPCManager.java;1875168784/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/SpeechData.java;1958182530/1;/RageMod/src/main/java/net/rageland/ragemod/npcentities/SpeechNPC.java;3676342745/1;/RageMod/src/main/java/net/rageland/ragemod/quest/KillCreatureQuest.java;1032137995/1;/RageMod/src/main/java/net/rageland/ragemod/quest/QuestData.java;480960711/1;/RageMod/src/main/java/net/rageland/ragemod/quest/QuestManager.java;387394662/1;/RageMod/src/main/java/net/rageland/ragemod/quest/QuestRequirements.java;3276781865/1;/RageMod/src/main/java/net/rageland/ragemod/quest/RewardQuest.java;320337549/1;/RageMod/src/main/java/net/rageland/ragemod/text/Languages.java;396922215/1;/RageMod/src/main/java/net/rageland/ragemod/utilities/Simple_Quicksort.java;950009609/1;/RageMod/src/test/npclib/BPlayer.java;1749849834/1;/RageMod/src/test/npclib/BWorld.java;2084834909/1;/RageMod/src/test/npclib/NPCEntity.java;1041073859/1;/RageMod/src/test/npclib/NPCNetHandler.java;735445744/1;/RageMod/src/test/npclib/NPCPath.java;2027257811/1;/RageMod/src/test/npclib/NullSocket.java;350715730/1;/RageMod/src/main/java/net/rageland/ragemod/Configuration.java;2151328751/1;/RageMod/src/main/java/net/rageland/ragemod/RMBlockListener.java;3774828046/1;/RageMod/src/main/java/net/rageland/ragemod/RMPlayerListener.java;3200747917/1;/RageMod/src/main/java/net/rageland/ragemod/RageConfig.java;1513986039/1;/RageMod/src/main/java/net/rageland/ragemod/RageTimer.java;1679126121/1;/RageMod/src/main/java/net/rageland/ragemod/RageZones.java;1137048569/1;/RageMod/src/main/java/net/rageland/ragemod/commands/RageCommands.java;4096375299/1;/RageMod/src/main/java/net/rageland/ragemod/data/Lots.java;3762910612/1;/RageMod/src/main/java/net/rageland/ragemod/data/PlayerData.java;3108415182/1;/RageMod/src/main/java/net/rageland/ragemod/data/Tasks.java;1925607619/1;/RageMod/src/main/java/net/rageland/ragemod/database/JDCConnection.java;1981791161/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/NPCQueries.java;955155086/1;/RageMod/src/main/java/net/rageland/ragemod/dbqueries/TaskQueries.java;79537730/1;/RageMod/src/main/java/net/rageland/ragemod/quest/Flags.java;984413176/1;/RageMod/src/main/java/net/rageland/ragemod/quest/GatheringQuest.java;784998828/1;/RageMod/src/main/java/net/rageland/ragemod/quest/PlayerQuestData.java;4027721346/1;/RageMod/src/main/java/net/rageland/ragemod/quest/Quest.java;2403540744/1;/RageMod/src/main/java/net/rageland/ragemod/quest/RewardData.java;2625081904/1;/RageMod/src/main/java/net/rageland/ragemod/quest/TravelQuest.java;2104216156/1;/RageMod/src/main/java/net/rageland/ragemod/text/Language.java;3733162905/1;/RageMod/src/main/java/net/rageland/ragemod/text/Message.java;3040301620/1;/RageMod/src/main/java/net/rageland/ragemod/text/NPCParsing.java;209557164/1;/RageMod/src/test/npclib/BServer.java;1607196246/1;/RageMod/src/test/npclib/NPCManager.java;2449561812/1;/RageMod/src/test/npclib/NPCNetworkManager.java;3825355567/1;/RageMod/src/test/npclib/NpcEntityTargetEvent.java;3453174635/1;"/>
    </eAnnotations>
    <elementImport xmi:id="_AaXqoIJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_AaXqoYJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_AaXqooJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_AaXqo4JUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_AaXqpIJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_AaXqpYJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_AaXqpoJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_AaXqp4JUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_AaXqqIJUEeGsv772wTim0Q">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_AW0nYIJUEeGsv772wTim0Q" name="net">
      <packagedElement xmi:type="uml:Package" xmi:id="_AW0nYYJUEeGsv772wTim0Q" name="rageland">
        <packagedElement xmi:type="uml:Package" xmi:id="_AW0nZIJUEeGsv772wTim0Q" name="ragemod">
          <packagedElement xmi:type="uml:Package" xmi:id="_AW1OcIJUEeGsv772wTim0Q" name="data">
            <packagedElement xmi:type="uml:Package" xmi:id="_AXKloIJUEeGsv772wTim0Q" name="Lot">
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_AlJXQIJUEeGsv772wTim0Q" name="LotCategory"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_AXNB4YJUEeGsv772wTim0Q" name="NPCInstance">
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_AlMakIJUEeGsv772wTim0Q" name="NPCType"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbhhMIJUEeGsv772wTim0Q" name="BountyHandler">
              <ownedAttribute xmi:id="_A3BKYIJUEeGsv772wTim0Q" name="bountys" visibility="private" isLeaf="true" type="_AkYiQIJUEeGsv772wTim0Q" isReadOnly="true" association="_BBc4xIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3BKYoJUEeGsv772wTim0Q" value="new ArrayList&lt;Bounty>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3BxcYJUEeGsv772wTim0Q" name="signs" visibility="private" isLeaf="true" type="_AkYiQIJUEeGsv772wTim0Q" isReadOnly="true" association="_BBc4x4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3Bxc4JUEeGsv772wTim0Q" value="new ArrayList&lt;BountySign>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3BxdYJUEeGsv772wTim0Q" name="City" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3CYgIJUEeGsv772wTim0Q" name="currentpos" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6nsIJUEeGsv772wTim0Q" name="isGlobal" specification="_AbiIQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6nsYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (City==&quot;global&quot;){&#xD;
			return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6nsoJUEeGsv772wTim0Q" name="lookupPlayer" specification="_AbivUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6ns4JUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_6ntIJUEeGsv772wTim0Q" type="_AdyLAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>for (int i = 0; i&lt;=this.bountys.size();i++){&#xD;
			if (this.bountys.get(i).getPlayerName() == PlayerName){&#xD;
				return this.bountys.get(i);&#xD;
			}&#xD;
		}&#xD;
		return null;&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6ntYJUEeGsv772wTim0Q" name="sort" specification="_AbivUoJUEeGsv772wTim0Q">
                <language>java</language>
                <body>Bounty[] temp = (Bounty[]) this.bountys.toArray();&#xD;
		this.bountys.clear();&#xD;
		int[] work = new int[temp.length];&#xD;
		for (int i=0; i &lt;= temp.length;i++){&#xD;
			work[i]= Double.valueOf(temp[i].getAmount()).intValue();&#xD;
		}&#xD;
		Simple_Quicksort work2 = new Simple_Quicksort();&#xD;
		work = work2.sort(work);&#xD;
		work2 = null;&#xD;
		for (int i=0; i &lt;= temp.length;i++){&#xD;
			for (int x=0; x &lt;= temp.length;x++){&#xD;
				if(temp[i].getAmount() == work[x] &amp;&amp; this.bountys.get(x) == null){&#xD;
					this.bountys.add(i, temp[x]);&#xD;
					break;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6ntoJUEeGsv772wTim0Q" name="hasPlayer" specification="_AbivU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6nt4JUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_6nuIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for (int i = 0; i&lt;=this.bountys.size();i++){&#xD;
			if (this.bountys.get(i).getPlayerName() == PlayerName){&#xD;
				return true;&#xD;
			}&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6nuYJUEeGsv772wTim0Q" name="addBounty" specification="_AlWyoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6nuoJUEeGsv772wTim0Q" name="bounty" type="_AdyLAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_6nu4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (this.hasPlayer(bounty.getPlayerName())){&#xD;
			return increaseBounty(bounty);&#xD;
		}&#xD;
		this.bountys.add(bounty);&#xD;
		this.upadtesigns();&#xD;
		return true;&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_7OwIJUEeGsv772wTim0Q" name="increaseBounty" specification="_AlWypIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_7OwYJUEeGsv772wTim0Q" name="bounty" type="_AdyLAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_7OwoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (!this.hasPlayer(bounty.getPlayerName())){&#xD;
			return addBounty(bounty);&#xD;
		}&#xD;
		Bounty temp = this.lookupPlayer(bounty.getPlayerName());&#xD;
		temp.setAmount(temp.getAmount()+bounty.getAmount());&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_7Ow4JUEeGsv772wTim0Q" name="removePlayer" specification="_AbjWYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_7OxIJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_7OxYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Bounty temp = this.lookupPlayer(PlayerName);&#xD;
		this.bountys.remove(temp);&#xD;
		this.upadtesigns();&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_7OxoJUEeGsv772wTim0Q" name="removeBounty" specification="_Abj9cIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_7Ox4JUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_7OyIJUEeGsv772wTim0Q" type="_AdyLAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Bounty temp = this.lookupPlayer(PlayerName);&#xD;
		this.bountys.remove(temp);&#xD;
		return temp;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_7OyYJUEeGsv772wTim0Q" name="addSign" specification="_AuoqcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_7OyoJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.currentpos++;&#xD;
		BountySign temp = new BountySign(block,this.bountys.get(currentpos),currentpos,this);&#xD;
		Sign temp2 = (Sign) block;&#xD;
		temp2.setLine(0, &quot;[Bounty]&quot;);&#xD;
		temp2.setLine(1, this.bountys.get(currentpos).getPlayerName());&#xD;
		temp2.setLine(2, String.valueOf(this.bountys.get(currentpos).getAmount()));&#xD;
		temp2.setLine(3, &quot;- &quot;+this.bountys.get(currentpos).getBountyGiver());&#xD;
		this.signs.add(temp);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_7Oy4JUEeGsv772wTim0Q" name="upadtesigns" specification="_Abj9coJUEeGsv772wTim0Q">
                <language>java</language>
                <body>this.currentpos=0;&#xD;
		this.sort();&#xD;
		for (int i=0; i &lt;= signs.size();i++){&#xD;
			if (this.bountys.get(i) != null)&#xD;
			this.signs.get(i).bounty=this.bountys.get(i);&#xD;
			Sign temp =((Sign)this.signs.get(i).block);&#xD;
			temp.setLine(0, &quot;[Bounty]&quot;);&#xD;
			temp.setLine(1, this.bountys.get(i).getPlayerName());&#xD;
			temp.setLine(2, String.valueOf(this.bountys.get(i).getAmount()));&#xD;
			temp.setLine(3, &quot;- &quot;+this.bountys.get(i).getBountyGiver());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AbiIQIJUEeGsv772wTim0Q" name="isGlobal" method="_A_6nsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbiIQYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbivUIJUEeGsv772wTim0Q" name="lookupPlayer" method="_A_6nsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbivUYJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AlWyoIJUEeGsv772wTim0Q" type="_AdyLAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AbivUoJUEeGsv772wTim0Q" name="sort" visibility="private" method="_A_6ntYJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AbivU4JUEeGsv772wTim0Q" name="hasPlayer" method="_A_6ntoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbivVIJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbivVYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbjWYIJUEeGsv772wTim0Q" name="removePlayer" method="_A_7Ow4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbjWYYJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbjWYoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abj9cIJUEeGsv772wTim0Q" name="removeBounty" method="_A_7OxoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abj9cYJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AlXZsYJUEeGsv772wTim0Q" type="_AdyLAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Abj9coJUEeGsv772wTim0Q" name="upadtesigns" method="_A_7Oy4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AlWyoYJUEeGsv772wTim0Q" name="addBounty" method="_A_6nuYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AlWyooJUEeGsv772wTim0Q" name="bounty" type="_AdyLAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlWyo4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AlWypIJUEeGsv772wTim0Q" name="increaseBounty" method="_A_7OwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AlWypYJUEeGsv772wTim0Q" name="bounty" type="_AdyLAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlXZsIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuoqcIJUEeGsv772wTim0Q" name="addSign" method="_A_7OyYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuoqcYJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AblyoIJUEeGsv772wTim0Q" name="Factions">
              <ownedAttribute xmi:id="_A3CYgoJUEeGsv772wTim0Q" name="factions" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBdf0YJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_710IJUEeGsv772wTim0Q" name="Factions" specification="_AbmZsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_710YJUEeGsv772wTim0Q" type="_AblyoIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>factions = new HashMap&lt;Integer, String>();&#xD;
		loadFactions();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_710oJUEeGsv772wTim0Q" name="loadFactions" specification="_AbmZtIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>factions.put(0, &quot;Neutral&quot;);&#xD;
 	factions.put(1, &quot;Red&quot;);&#xD;
 	factions.put(2, &quot;Blue&quot;);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_7104JUEeGsv772wTim0Q" name="getName" specification="_AbmZtYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_711IJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_711YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return factions.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_711oJUEeGsv772wTim0Q" name="getCodedName" specification="_AbnAwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_7114JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_712IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>char colorCode = getColorCode(id);&#xD;
		return &quot;&lt;t&quot; + colorCode + &quot;>&quot; + factions.get(id) + &quot;&lt;/t&quot; + colorCode + &quot;>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_712YJUEeGsv772wTim0Q" name="getID" specification="_AbnAw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_712oJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_7124JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>for( int id : factions.keySet() )&#xD;
 	{&#xD;
 		if( factions.get(id).equalsIgnoreCase(name) )&#xD;
 			return id;&#xD;
 	}&#xD;
 	&#xD;
 	return 0;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_713IJUEeGsv772wTim0Q" name="getWoolColor" specification="_Abnn0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_713YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_713oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>switch(id)&#xD;
 	{&#xD;
 		case 1:		// red&#xD;
 			return 14;&#xD;
 		case 2:		// blue&#xD;
 			return 11;&#xD;
 		default:	// neutral&#xD;
 			return 0;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_8c4IJUEeGsv772wTim0Q" name="getLiquidBlock" specification="_Abnn04JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_8c4YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c4oJUEeGsv772wTim0Q" type="_AkZJUoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>switch(id)&#xD;
 	{&#xD;
 		case 1:		// red&#xD;
 			return Material.LAVA;&#xD;
 		case 2:		// blue&#xD;
 			return Material.WATER;&#xD;
 		default:	// neutral&#xD;
 			return Material.ICE;&#xD;
 	}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_8c44JUEeGsv772wTim0Q" name="getSpecialBlock" specification="_AboO4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_8c5IJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c5YJUEeGsv772wTim0Q" type="_AkZJUoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>switch(id)&#xD;
 	{&#xD;
 		case 1:		// red&#xD;
 			return Material.NETHERRACK;&#xD;
 		case 2:		// blue&#xD;
 			return Material.LAPIS_BLOCK;&#xD;
 		default:	// neutral&#xD;
 			return Material.SNOW_BLOCK;&#xD;
 	}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_8c5oJUEeGsv772wTim0Q" name="getColorCode" specification="_AboO4oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_8c54JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c6IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
                <language>java</language>
                <body>switch(id)&#xD;
		{&#xD;
			case 1:		// red&#xD;
				return 'r';&#xD;
			case 2:		// blue&#xD;
				return 'b';&#xD;
			default:	// neutral&#xD;
				return 'n';&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_8c6YJUEeGsv772wTim0Q" name="getDyeColor" specification="_Abo18oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_8c6oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c64JUEeGsv772wTim0Q" name="isPrimary">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c7IJUEeGsv772wTim0Q" type="_AlYAwIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( isPrimary )			// Primary colors&#xD;
			switch(id)&#xD;
			{&#xD;
				case 1:		// red&#xD;
					return DyeColor.RED;&#xD;
				case 2:		// blue&#xD;
					return DyeColor.BLUE;&#xD;
				default:&#xD;
					return DyeColor.WHITE;&#xD;
			}&#xD;
		else					// Secondary colors&#xD;
			switch(id)&#xD;
			{&#xD;
				case 1:		// red&#xD;
					return DyeColor.PINK;&#xD;
				case 2:		// blue&#xD;
					return DyeColor.LIGHT_BLUE;&#xD;
				default:&#xD;
					return DyeColor.GRAY;&#xD;
			}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AbmZsIJUEeGsv772wTim0Q" name="Factions" method="_A_710IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AbmZsYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AbmZsoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AbmZs4JUEeGsv772wTim0Q" type="_AblyoIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AbmZtIJUEeGsv772wTim0Q" name="loadFactions" method="_A_710oJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AbmZtYJUEeGsv772wTim0Q" name="getName" method="_A_7104JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbmZtoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbmZt4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbnAwIJUEeGsv772wTim0Q" name="getCodedName" method="_A_711oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbnAwYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbnAwoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbnAw4JUEeGsv772wTim0Q" name="getID" method="_A_712YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbnAxIJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbnAxYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abnn0IJUEeGsv772wTim0Q" name="getWoolColor" isStatic="true" method="_A_713IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abnn0YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Abnn0oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abnn04JUEeGsv772wTim0Q" name="getLiquidBlock" method="_A_8c4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abnn1IJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AupRgIJUEeGsv772wTim0Q" type="_AkZJUoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AboO4IJUEeGsv772wTim0Q" name="getSpecialBlock" method="_A_8c44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AboO4YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AupRgYJUEeGsv772wTim0Q" type="_AkZJUoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AboO4oJUEeGsv772wTim0Q" name="getColorCode" method="_A_8c5oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abo18IJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Abo18YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abo18oJUEeGsv772wTim0Q" name="getDyeColor" method="_A_8c6YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abo184JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Abo19IJUEeGsv772wTim0Q" name="isPrimary">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AupRgoJUEeGsv772wTim0Q" type="_AlYAwIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbqEEIJUEeGsv772wTim0Q" name="Location2D">
              <ownedAttribute xmi:id="_A3C_kYJUEeGsv772wTim0Q" name="x" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3C_koJUEeGsv772wTim0Q" name="z" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_8c7YJUEeGsv772wTim0Q" name="Location2D" specification="_AbqrIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_8c7oJUEeGsv772wTim0Q" name="X">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c74JUEeGsv772wTim0Q" name="Z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_8c8IJUEeGsv772wTim0Q" type="_AbqEEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>x = X;&#xD;
		z = Z;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9D8IJUEeGsv772wTim0Q" name="Location2D" specification="_Aup4kIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9D8YJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9D8oJUEeGsv772wTim0Q" type="_AbqEEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>x = location.getX();&#xD;
		z = location.getZ();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9D84JUEeGsv772wTim0Q" name="distance" specification="_Aup4lYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9D9IJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9D9YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( Math.sqrt( Math.pow(x-location.getX(),2) + Math.pow(z-location.getZ(),2) ));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9D9oJUEeGsv772wTim0Q" name="distance" specification="_AuqfpIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9D94JUEeGsv772wTim0Q" name="location" type="_AuqfooJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9D-IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( Math.sqrt( Math.pow(x-location.getX(),2) + Math.pow(z-location.getZ(),2) ));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9D-YJUEeGsv772wTim0Q" name="Distance" specification="_AurGsYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9D-oJUEeGsv772wTim0Q" name="loc1" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9D-4JUEeGsv772wTim0Q" name="loc2" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9D_IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>return ( Math.sqrt( Math.pow(loc1.getX()-loc2.getX(),2) + Math.pow(loc1.getZ()-loc2.getZ(),2) ));&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AbqrIIJUEeGsv772wTim0Q" name="Location2D" method="_A_8c7YJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AbqrI4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AbqrJIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AbqrIYJUEeGsv772wTim0Q" name="X">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbqrIoJUEeGsv772wTim0Q" name="Z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbqrJYJUEeGsv772wTim0Q" type="_AbqEEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aup4kIJUEeGsv772wTim0Q" name="Location2D" method="_A_9D8IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Aup4koJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Aup4k4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Aup4kYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aup4lIJUEeGsv772wTim0Q" type="_AbqEEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aup4lYJUEeGsv772wTim0Q" name="distance" method="_A_9D84JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aup4loJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuqfoIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuqfpIJUEeGsv772wTim0Q" name="distance" method="_A_9D9oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuqfpYJUEeGsv772wTim0Q" name="location" type="_AuqfooJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AurGsIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AurGsYJUEeGsv772wTim0Q" name="Distance" isStatic="true" method="_A_9D-YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AurGsoJUEeGsv772wTim0Q" name="loc1" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AurGs4JUEeGsv772wTim0Q" name="loc2" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AurGtIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbsgUIJUEeGsv772wTim0Q" name="Lot">
              <ownedAttribute xmi:id="_A3DmoIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBdf1IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3DmooJUEeGsv772wTim0Q" name="id_Lot">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3DmpIJUEeGsv772wTim0Q" name="number">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3ENsYJUEeGsv772wTim0Q" name="category" type="_AurtwYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3ENs4JUEeGsv772wTim0Q" name="region" type="_Aurtw4JUEeGsv772wTim0Q" association="_BBeG4IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3ENtYJUEeGsv772wTim0Q" name="owner">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9D_YJUEeGsv772wTim0Q" name="Lot" specification="_AlZ18IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9D_oJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9D_4JUEeGsv772wTim0Q" type="_AbsgUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rAIJUEeGsv772wTim0Q" name="getCategoryName" specification="_AbtucIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rAYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( category == LotCategory.WARRENS )&#xD;
			return &quot;Warrens&quot;;&#xD;
		else if( category == LotCategory.MARKET )&#xD;
			return &quot;Market&quot;;&#xD;
		else if( category == LotCategory.COAL )&#xD;
			return &quot;Coal&quot;;&#xD;
		else if( category == LotCategory.IRON )&#xD;
			return &quot;Iron&quot;;&#xD;
		else if( category == LotCategory.GOLD )&#xD;
			return &quot;Gold&quot;;&#xD;
		else if( category == LotCategory.DIAMOND )&#xD;
			return &quot;Diamond&quot;;&#xD;
		&#xD;
		System.out.println(&quot;Error: Invalid lot type called in GetCategoryName()&quot;);&#xD;
		return &quot;Error: Invalid lot category&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rAoJUEeGsv772wTim0Q" name="getCategoryPrefix" specification="_AbtucoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rA4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
                <language>java</language>
                <body>if( category == LotCategory.WARRENS )&#xD;
			return 'W';&#xD;
		else if( category == LotCategory.MARKET )&#xD;
			return 'M';&#xD;
		else if( category == LotCategory.COAL )&#xD;
			return 'A';&#xD;
		else if( category == LotCategory.IRON )&#xD;
			return 'B';&#xD;
		else if( category == LotCategory.GOLD )&#xD;
			return 'C';&#xD;
		else if( category == LotCategory.DIAMOND )&#xD;
			return 'D';&#xD;
		&#xD;
		System.out.println(&quot;Error: Invalid lot type called in GetCategoryPrefix()&quot;);&#xD;
		return ' ';&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rBIJUEeGsv772wTim0Q" name="getLotCode" specification="_AbuVgYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rBYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.getCategoryPrefix() + String.valueOf(this.number);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rBoJUEeGsv772wTim0Q" name="setCategory" specification="_AbuVg4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rB4JUEeGsv772wTim0Q" name="prefix">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( prefix.equals(&quot;W&quot;) )&#xD;
			category = LotCategory.WARRENS;&#xD;
		else if( prefix.equals(&quot;M&quot;) )&#xD;
			category = LotCategory.MARKET;&#xD;
		else if( prefix.equals(&quot;A&quot;) )&#xD;
			category = LotCategory.COAL;&#xD;
		else if( prefix.equals(&quot;B&quot;) )&#xD;
			category = LotCategory.IRON;&#xD;
		else if( prefix.equals(&quot;C&quot;) )&#xD;
			category = LotCategory.GOLD;&#xD;
		else if( prefix.equals(&quot;D&quot;) )&#xD;
			category = LotCategory.DIAMOND;&#xD;
		else&#xD;
			System.out.println(&quot;Error: Lot.SetCategory() called on invalid string: &quot; + prefix);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rCIJUEeGsv772wTim0Q" name="canSetHome" specification="_AbuVhYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rCYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return isMemberLot();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rCoJUEeGsv772wTim0Q" name="isInside" specification="_AusU0YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rC4JUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_9rDIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return region.isInside(loc);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_9rDYJUEeGsv772wTim0Q" name="isMemberLot" specification="_Abu8kYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_9rDoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return category == LotCategory.COAL || category == LotCategory.IRON ||&#xD;
			   category == LotCategory.GOLD || category == LotCategory.DIAMOND; &#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_-SEIJUEeGsv772wTim0Q" name="getPrice" specification="_Abu8k4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_-SEYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( category == LotCategory.COAL )&#xD;
			return plugin.config.Lot_PRICE_COAL;&#xD;
		else if( category == LotCategory.IRON )&#xD;
			return plugin.config.Lot_PRICE_IRON;&#xD;
		else if( category == LotCategory.GOLD )&#xD;
			return plugin.config.Lot_PRICE_GOLD;&#xD;
		else if( category == LotCategory.DIAMOND )&#xD;
			return plugin.config.Lot_PRICE_DIAMOND;&#xD;
		else&#xD;
			return 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_-SEoJUEeGsv772wTim0Q" name="getCenter" specification="_Abu8lYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_-SE4JUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new Location(region.world, region.nwCorner.getX() - ((region.nwCorner.getX() - region.seCorner.getX()) / 2), 65,&#xD;
								   region.seCorner.getZ() - ((region.seCorner.getZ() - region.nwCorner.getZ()) / 2));&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_AbtHYIJUEeGsv772wTim0Q" name="LotCategory">
                <ownedLiteral xmi:id="_AbtHYYJUEeGsv772wTim0Q" name="WARRENS"/>
                <ownedLiteral xmi:id="_AbtHYoJUEeGsv772wTim0Q" name="MARKET"/>
                <ownedLiteral xmi:id="_AbtHY4JUEeGsv772wTim0Q" name="COAL"/>
                <ownedLiteral xmi:id="_AbtHZIJUEeGsv772wTim0Q" name="IRON"/>
                <ownedLiteral xmi:id="_AbtHZYJUEeGsv772wTim0Q" name="GOLD"/>
                <ownedLiteral xmi:id="_AbtHZoJUEeGsv772wTim0Q" name="DIAMOND"/>
              </nestedClassifier>
              <ownedOperation xmi:id="_AbtucIJUEeGsv772wTim0Q" name="getCategoryName" method="_A_9rAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbtucYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbtucoJUEeGsv772wTim0Q" name="getCategoryPrefix" method="_A_9rAoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbuVgIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbuVgYJUEeGsv772wTim0Q" name="getLotCode" method="_A_9rBIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbuVgoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbuVg4JUEeGsv772wTim0Q" name="setCategory" method="_A_9rBoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AbuVhIJUEeGsv772wTim0Q" name="prefix">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbuVhYJUEeGsv772wTim0Q" name="canSetHome" method="_A_9rCIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abu8kIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abu8kYJUEeGsv772wTim0Q" name="isMemberLot" method="_A_9rDYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abu8koJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abu8k4JUEeGsv772wTim0Q" name="getPrice" method="_A_-SEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abu8lIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Abu8lYJUEeGsv772wTim0Q" name="getCenter" method="_A_-SEoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AusU1IJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AlZ18IJUEeGsv772wTim0Q" name="Lot" method="_A_9D_YJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlZ18oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlZ184JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlZ18YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlZ19IJUEeGsv772wTim0Q" type="_AbsgUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AusU0YJUEeGsv772wTim0Q" name="isInside" method="_A_9rCoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AusU0oJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AusU04JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbwxwIJUEeGsv772wTim0Q" name="NPCData">
              <ownedAttribute xmi:id="_A3E0wYJUEeGsv772wTim0Q" name="id_NPC">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3E0woJUEeGsv772wTim0Q" name="id_NPCRace">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3E0w4JUEeGsv772wTim0Q" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Fb0IJUEeGsv772wTim0Q" name="isBilingual">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Fb0YJUEeGsv772wTim0Q" name="id_NPCTown">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Fb0oJUEeGsv772wTim0Q" name="isMale">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3Fb04JUEeGsv772wTim0Q" value="true"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Fb1IJUEeGsv772wTim0Q" name="skinPath">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Fb1YJUEeGsv772wTim0Q" name="defaultAffinityCode">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3GC4IJUEeGsv772wTim0Q" name="inUse" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3GC4YJUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_-SFIJUEeGsv772wTim0Q" name="activate" specification="_Abx_4IJUEeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_-SFYJUEeGsv772wTim0Q" name="deactivate" specification="_Abx_4oJUEeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_-SFoJUEeGsv772wTim0Q" name="getCodedName" specification="_Abym8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_-SF4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return &quot;&lt;pn>&quot; + name + &quot;&lt;/pn>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Abx_4IJUEeGsv772wTim0Q" name="activate" method="_A_-SFIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Abx_4oJUEeGsv772wTim0Q" name="deactivate" method="_A_-SFYJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Abym8IJUEeGsv772wTim0Q" name="getCodedName" method="_A_-SFoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Abym8YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbzOAIJUEeGsv772wTim0Q" name="NPCInstance">
              <ownedAttribute xmi:id="_A3GC4oJUEeGsv772wTim0Q" name="id_NPCInstance" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3GC5IJUEeGsv772wTim0Q" name="despawnTime" visibility="private" type="_Ak44kIJUEeGsv772wTim0Q" association="_BBeG44JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Gp8YJUEeGsv772wTim0Q" name="data" type="_Aus74IJUEeGsv772wTim0Q" isReadOnly="true" association="_BBeG5oJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Gp8oJUEeGsv772wTim0Q" name="location" type="_Auti8YJUEeGsv772wTim0Q" isReadOnly="true" association="_BBet8YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Gp84JUEeGsv772wTim0Q" name="entity" type="_Ad3DgIJUEeGsv772wTim0Q" isReadOnly="true" association="_BBet9IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Gp9IJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q" association="_BBet94JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3HRAYJUEeGsv772wTim0Q" name="server" type="_Ak0AE4JUEeGsv772wTim0Q" association="_BBfVAYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3HRA4JUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q" association="_BBfVBIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3HRBYJUEeGsv772wTim0Q" name="questId">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3H4EYJUEeGsv772wTim0Q" name="questNPCType">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3H4FIJUEeGsv772wTim0Q" name="type" visibility="private" type="_AuuKAYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_-5JoJUEeGsv772wTim0Q" name="NPCInstance" specification="_AuuxEYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_-5J4JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_-5KIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_-5KYJUEeGsv772wTim0Q" name="type" type="_AuuKAYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_-5KoJUEeGsv772wTim0Q" name="despawnTime" type="_Ak44kIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_-5K4JUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.id_NPCInstance = id;&#xD;
		this.type = type;&#xD;
		this.despawnTime = despawnTime;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A__gMIJUEeGsv772wTim0Q" name="activate" specification="_Ab24YIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A__gMYJUEeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A__gMoJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A__gM4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>data = plugin.npcManager.activateNPC(id_NPC);&#xD;
		location = plugin.npcManager.activateLocation(id_NPCLocation);&#xD;
		&#xD;
		// Make sure the activate was valid&#xD;
		if( data == null || location == null )&#xD;
		{&#xD;
			plugin.npcManager.deactivateNPC(id_NPC);&#xD;
			plugin.npcManager.deactivateLocation(id_NPCLocation);&#xD;
			return false;&#xD;
		}&#xD;
&#xD;
		this.world = (World) new Location(location.getWorld(), id_NPCLocation, id_NPCLocation, id_NPCLocation);&#xD;
		&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A__gNIJUEeGsv772wTim0Q" name="setIDs" specification="_Ab3fcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A__gNYJUEeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A__gNoJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>data = plugin.npcManager.getNPC(id_NPC);&#xD;
		location = plugin.npcManager.getLocation(id_NPCLocation);&#xD;
		this.world = (World) new Location(location.getWorld(), id_NPCLocation, id_NPCLocation, id_NPCLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A__gN4JUEeGsv772wTim0Q" name="setData" specification="_Auv_MIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A__gOIJUEeGsv772wTim0Q" name="data" type="_Aus74IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A__gOYJUEeGsv772wTim0Q" name="location" type="_Auti8YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.data = data;&#xD;
		this.location = location;&#xD;
		this.world = (World) new Location(location.getWorld(), id_NPCInstance, id_NPCInstance, id_NPCInstance);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A__gOoJUEeGsv772wTim0Q" name="getID" specification="_Ab3fc4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A__gO4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.id_NPCInstance;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A__gPIJUEeGsv772wTim0Q" name="getName" specification="_Ab4GgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A__gPYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A__gPoJUEeGsv772wTim0Q" name="getColorName" specification="_Ab4GgoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A__gP4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Quest NPCs will use AQUA, speech will use DARK_AQUA&#xD;
		return ChatColor.DARK_AQUA + data.name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHQIJUEeGsv772wTim0Q" name="getCodedName" specification="_Ab4GhIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAHQYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return &quot;&lt;pn>&quot; + data.name + &quot;&lt;/pn>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHQoJUEeGsv772wTim0Q" name="getNPCid" specification="_Ab4tkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAHQ4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.id_NPC;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHRIJUEeGsv772wTim0Q" name="spawn" specification="_Ab4tkoJUEeGsv772wTim0Q">
                <language>java</language>
                <body>if( data == null || location == null )&#xD;
			throw new Exception(&quot;NPCInstance.spawn() called on non-activated instance&quot;);&#xD;
		&#xD;
		World world = (World) new Location(location.getWorld(), id_NPCInstance, id_NPCInstance, id_NPCInstance);&#xD;
		&#xD;
		// Spawn the type of NPC &#xD;
		switch(type)&#xD;
		{&#xD;
			case SPEECH:&#xD;
				entity = new SpeechNPC(this); &#xD;
				break;&#xD;
//			case QUEST:&#xD;
//				entity = new QuestNPC(this);&#xD;
			default:&#xD;
				entity = new RageEntity(this);&#xD;
		}&#xD;
&#xD;
		// Set the position and put the entity in the world&#xD;
		// TODO FIX THIS&#xD;
		entity.setPositionRotation(location.getX(), location.getY(), location.getZ(), location.getYaw(), location.getPitch());&#xD;
		net.citizensnpcs.resources.npclib.NPCManager.register(1, entity, getName(), &quot;Npc spawned with RageMod&quot;);&#xD;
		plugin.npcManager.addInstance(this.id_NPCInstance, this);&#xD;
		location.setInstance(this);&#xD;
		&#xD;
		this.setSkin();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHRYJUEeGsv772wTim0Q" name="isExpired" specification="_Ab4tk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAHRoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return Util.now().getTime() > despawnTime.getTime();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHR4JUEeGsv772wTim0Q" name="getRaceID" specification="_Ab4tlYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAHSIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.id_NPCRace;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHSYJUEeGsv772wTim0Q" name="getTownID" specification="_Ab5UoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAHSoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return location.getTownID();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAHS4JUEeGsv772wTim0Q" name="setSkin" specification="_Ab5Uo4JUEeGsv772wTim0Q">
                <language>java</language>
                <body>SpoutManager.getAppearanceManager().setGlobalSkin((HumanEntity)entity.getBukkitEntity(), plugin.config.CUSTOM_SKIN_PATH + data.skinPath);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAuUIJUEeGsv772wTim0Q" name="getDefaultAffinity" specification="_Ab57soJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAuUYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <language>java</language>
                <body>return data.defaultAffinityCode * 4;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAAuUoJUEeGsv772wTim0Q" name="getNPCData" specification="_Ab57tIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAAuU4JUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.data;&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_Ab0cIIJUEeGsv772wTim0Q" name="NPCType">
                <ownedAttribute xmi:id="_A3H4E4JUEeGsv772wTim0Q" name="value" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedOperation xmi:id="_Ab1qQIJUEeGsv772wTim0Q" name="NPCType" visibility="package" method="_A_-5IIJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_Ab1qQoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_Ab1qQ4JUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_Ab1qQYJUEeGsv772wTim0Q" name="value">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_Ab1qRIJUEeGsv772wTim0Q" type="_Ab0cIIJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_Ab1qRYJUEeGsv772wTim0Q" name="getType" isStatic="true" method="_A_-5I4JUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_Ab1qRoJUEeGsv772wTim0Q" name="value">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_AuuxEIJUEeGsv772wTim0Q" type="_AuuKAYJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedLiteral xmi:id="_Ab0cIYJUEeGsv772wTim0Q" name="BASIC">
                  <specification xmi:type="uml:Expression" xmi:id="_Ab0cIoJUEeGsv772wTim0Q">
                    <operand xmi:type="uml:LiteralString" xmi:id="_BApAcYJUEeGsv772wTim0Q" value="0"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_Ab0cI4JUEeGsv772wTim0Q" name="SPEECH">
                  <specification xmi:type="uml:Expression" xmi:id="_Ab1DMIJUEeGsv772wTim0Q">
                    <operand xmi:type="uml:LiteralString" xmi:id="_BApngIJUEeGsv772wTim0Q" value="1"/>
                  </specification>
                </ownedLiteral>
                <ownedLiteral xmi:id="_Ab1DMYJUEeGsv772wTim0Q" name="QUEST">
                  <specification xmi:type="uml:Expression" xmi:id="_Ab1DMoJUEeGsv772wTim0Q">
                    <operand xmi:type="uml:LiteralString" xmi:id="_BApngYJUEeGsv772wTim0Q" value="2"/>
                  </specification>
                </ownedLiteral>
              </nestedClassifier>
              <ownedOperation xmi:id="_Ab24YIJUEeGsv772wTim0Q" name="activate" method="_A__gMIJUEeGsv772wTim0Q" raisedException="_AuvYJIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab24YYJUEeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ab24YoJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ab24Y4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab3fcIJUEeGsv772wTim0Q" name="setIDs" method="_A__gNIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab3fcYJUEeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ab3fcoJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab3fc4JUEeGsv772wTim0Q" name="getID" method="_A__gOoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab3fdIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab4GgIJUEeGsv772wTim0Q" name="getName" method="_A__gPIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab4GgYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab4GgoJUEeGsv772wTim0Q" name="getColorName" method="_A__gPoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab4Gg4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab4GhIJUEeGsv772wTim0Q" name="getCodedName" method="_BAAHQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab4GhYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab4tkIJUEeGsv772wTim0Q" name="getNPCid" method="_BAAHQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab4tkYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab4tkoJUEeGsv772wTim0Q" name="spawn" method="_BAAHRIJUEeGsv772wTim0Q" raisedException="_AuvYJIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Ab4tk4JUEeGsv772wTim0Q" name="isExpired" method="_BAAHRYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab4tlIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab4tlYJUEeGsv772wTim0Q" name="getRaceID" method="_BAAHR4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab5UoIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab5UoYJUEeGsv772wTim0Q" name="getTownID" method="_BAAHSYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab5UooJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab5Uo4JUEeGsv772wTim0Q" name="setSkin" method="_BAAHS4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Ab57soJUEeGsv772wTim0Q" name="getDefaultAffinity" method="_BAAuUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab57s4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab57tIJUEeGsv772wTim0Q" name="getNPCData" method="_BAAuUoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Auv_M4JUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuuxEYJUEeGsv772wTim0Q" name="NPCInstance" method="_A_-5JoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AuvYIYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuvYIoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AuuxEoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuuxE4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuuxFIJUEeGsv772wTim0Q" name="type" type="_AuuKAYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuvYIIJUEeGsv772wTim0Q" name="despawnTime" type="_Ak44kIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuvYI4JUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Auv_MIJUEeGsv772wTim0Q" name="setData" method="_A__gN4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Auv_MYJUEeGsv772wTim0Q" name="data" type="_Aus74IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Auv_MoJUEeGsv772wTim0Q" name="location" type="_Auti8YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ab9mEIJUEeGsv772wTim0Q" name="NPCLocation">
              <generalization xmi:id="_AuzpkYJUEeGsv772wTim0Q" general="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3IfIYJUEeGsv772wTim0Q" name="id_NPCLocation" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3JGMIJUEeGsv772wTim0Q" name="id_NPCTown" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3JGMYJUEeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3JGMoJUEeGsv772wTim0Q" name="id_NPCRace" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3JGM4JUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBf8EYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3JGNIJUEeGsv772wTim0Q" name="zone" type="_AleHYoJUEeGsv772wTim0Q" isReadOnly="true" association="_BBf8FIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3JtQ4JUEeGsv772wTim0Q" name="quadrant" type="_AleHYIJUEeGsv772wTim0Q" isReadOnly="true" association="_BBf8F4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3KUU4JUEeGsv772wTim0Q" name="inUse" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3KUVIJUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3KUVYJUEeGsv772wTim0Q" name="instance" type="_Aux0YIJUEeGsv772wTim0Q" association="_BApnhIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BABVYYJUEeGsv772wTim0Q" name="NPCLocation" specification="_Aux0YoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BABVYoJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BABVY4JUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVZIJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVZYJUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVZoJUEeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVZ4JUEeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVaIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BABVaYJUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(world, x, y, z, yaw, pitch);&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BABVaoJUEeGsv772wTim0Q" name="NPCLocation" specification="_Auybd4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BABVa4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BABVbIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BABVbYJUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(location.getWorld(), location.getX(), location.getY(), location.getZ(), location.getYaw(), location.getPitch());&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BABVboJUEeGsv772wTim0Q" name="setIDs" specification="_Ab_bQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BABVb4JUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVcIJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BABVcYJUEeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.id_NPCLocation = id_NPCLocation;&#xD;
		this.id_NPCTown = id_NPCTown;&#xD;
		this.id_NPCRace = id_NPCRace;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BABVcoJUEeGsv772wTim0Q" name="activate" specification="_Ab_bRYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BABVc4JUEeGsv772wTim0Q" name="deactivate" specification="_AcACUYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>this.inUse = false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAB8cIJUEeGsv772wTim0Q" name="isActivated" specification="_AcACU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAB8cYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return inUse;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAB8coJUEeGsv772wTim0Q" name="getID" specification="_AcACVoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAB8c4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id_NPCLocation;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAB8dIJUEeGsv772wTim0Q" name="getTownID" specification="_AcApYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAB8dYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id_NPCTown;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAB8doJUEeGsv772wTim0Q" name="getTown" specification="_AcApY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAB8d4JUEeGsv772wTim0Q" type="_AuzChYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( this.id_NPCTown != 0 )&#xD;
			return plugin.towns.getNPCTown(id_NPCTown);&#xD;
		else&#xD;
			return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Ab_bQIJUEeGsv772wTim0Q" name="setIDs" method="_BABVboJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ab_bQYJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ab_bQoJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ab_bQ4JUEeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ab_bRYJUEeGsv772wTim0Q" name="activate" method="_BABVcoJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcACUYJUEeGsv772wTim0Q" name="deactivate" method="_BABVc4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcACU4JUEeGsv772wTim0Q" name="isActivated" method="_BAB8cIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcACVIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcACVoJUEeGsv772wTim0Q" name="getID" method="_BAB8coJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcACV4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcApYIJUEeGsv772wTim0Q" name="getTownID" method="_BAB8dIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcApYYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcApY4JUEeGsv772wTim0Q" name="getTown" method="_BAB8doJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuzpkIJUEeGsv772wTim0Q" type="_AuzChYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aux0YoJUEeGsv772wTim0Q" name="NPCLocation" method="_BABVYYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Auybc4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuybdIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Aux0Y4JUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aux0ZIJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Aux0ZYJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Aux0ZoJUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuybcIJUEeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuybcYJUEeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuybcoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuybdYJUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Auybd4JUEeGsv772wTim0Q" name="NPCLocation" method="_BABVaoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AuzCgYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuzCgoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AuybeIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuzCgIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuzCg4JUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcDssIJUEeGsv772wTim0Q" name="NPCLocationPool">
              <ownedAttribute xmi:id="_A3K7YIJUEeGsv772wTim0Q" name="npcLocations" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBgjIYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3LicIJUEeGsv772wTim0Q" name="reserveNPCLocations" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_BBgjJIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Lic4JUEeGsv772wTim0Q" name="floatingLocations" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_BBhKMIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3MJgoJUEeGsv772wTim0Q" name="residentLocations" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBhKM4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3MwkIJUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_BBhKNoJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjgIJUEeGsv772wTim0Q" name="NPCLocationPool" specification="_AcETwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACjgYJUEeGsv772wTim0Q" type="_AcDssIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>npcLocations = new HashMap&lt;Integer, NPCLocation>();&#xD;
		 random = new Random();&#xD;
		 &#xD;
		 // Set up the reserve lists&#xD;
		 reserveNPCLocations = new HashSet&lt;Integer>();&#xD;
		 floatingLocations = new HashSet&lt;Integer>();&#xD;
		 residentLocations = new HashMap&lt;Integer, HashSet&lt;Integer>>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjgoJUEeGsv772wTim0Q" name="add" specification="_Au0QoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACjg4JUEeGsv772wTim0Q" name="npcLocation" type="_Auti8YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcLocations.put(npcLocation.getID(), npcLocation);&#xD;
		reserveNPCLocations.add(npcLocation.getID());&#xD;
		&#xD;
		if( npcLocation.getTownID() == 0 )&#xD;
		{&#xD;
			floatingLocations.add(npcLocation.getID());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			if( !residentLocations.containsKey(npcLocation.getTownID()) )&#xD;
 			residentLocations.put(npcLocation.getTownID(), new HashSet&lt;Integer>());&#xD;
 		residentLocations.get(npcLocation.getTownID()).add(npcLocation.getID());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjhIJUEeGsv772wTim0Q" name="get" specification="_AcE60IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACjhYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BACjhoJUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( npcLocations.containsKey(id) )&#xD;
 		return npcLocations.get(id);&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Warning: NPCLocationPool.get() called on non-existent id '&quot; + id + &quot;'&quot;);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjh4JUEeGsv772wTim0Q" name="activate" specification="_AcE60oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACjiIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BACjiYJUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( !reserveNPCLocations.contains(id) )&#xD;
 		return null;&#xD;
 	&#xD;
 	NPCLocation location = npcLocations.get(id);&#xD;
&#xD;
 	// Remove the NPC from all appropriate lists&#xD;
 	reserveNPCLocations.remove(id);&#xD;
 	&#xD;
 	if( location.getTownID() == 0 )&#xD;
 		floatingLocations.remove(id);&#xD;
 	else&#xD;
 		residentLocations.get(location.getTownID()).remove(id);&#xD;
 	&#xD;
 	location.activate();&#xD;
 	&#xD;
 	return location;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjioJUEeGsv772wTim0Q" name="activateRandomFloating" specification="_AcFh4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACji4JUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( floatingLocations.size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>(floatingLocations);&#xD;
 	int id_NPCLocation = removeList.get(random.nextInt(removeList.size()));&#xD;
&#xD;
 	return activate(id_NPCLocation);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjjIJUEeGsv772wTim0Q" name="deactivate" specification="_AcFh4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACjjYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( reserveNPCLocations.contains(id) || npcLocations.get(id) == null )&#xD;
 		return;&#xD;
 	&#xD;
 	reserveNPCLocations.add(id);&#xD;
 	npcLocations.get(id).deactivate();&#xD;
 	if( npcLocations.get(id).getTownID() == 0 )&#xD;
			floatingLocations.add(id);&#xD;
 	else&#xD;
 		residentLocations.get(npcLocations.get(id).getTownID()).add(npcLocations.get(id).getID());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BACjjoJUEeGsv772wTim0Q" name="getAllLocations" specification="_AcFh44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BACjj4JUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;NPCLocation>(npcLocations.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADKkIJUEeGsv772wTim0Q" name="getActiveTownLocations" specification="_AcGI8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADKkYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BADKkoJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;NPCLocation> locations = new ArrayList&lt;NPCLocation>();&#xD;
		&#xD;
		for( NPCLocation location : npcLocations.values() )&#xD;
			if( location.getTownID() == id &amp;&amp; location.isActivated() )&#xD;
				locations.add(location);&#xD;
				&#xD;
		return locations;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADKk4JUEeGsv772wTim0Q" name="activateRandomInTown" specification="_AcVZgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADKlIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BADKlYJUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( residentLocations.get(id) == null || residentLocations.get(id).size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>(residentLocations.get(id));&#xD;
 	int id_NPCLocation = removeList.get(random.nextInt(removeList.size()));&#xD;
&#xD;
 	return this.activate(id_NPCLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AcETwIJUEeGsv772wTim0Q" name="NPCLocationPool" method="_BACjgIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AcETwYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AcETwoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AcETw4JUEeGsv772wTim0Q" type="_AcDssIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcE60IJUEeGsv772wTim0Q" name="get" method="_BACjhIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcE60YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au03sYJUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcE60oJUEeGsv772wTim0Q" name="activate" method="_BACjh4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcE604JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au03soJUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcFh4IJUEeGsv772wTim0Q" name="activateRandomFloating" method="_BACjioJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au03s4JUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcFh4YJUEeGsv772wTim0Q" name="deactivate" method="_BACjjIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcFh4oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcFh44JUEeGsv772wTim0Q" name="getAllLocations" method="_BACjjoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au1ewIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcGI8YJUEeGsv772wTim0Q" name="getActiveTownLocations" method="_BADKkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcGI8oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au1ewYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcVZgIJUEeGsv772wTim0Q" name="activateRandomInTown" method="_BADKk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcVZgYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au1ewoJUEeGsv772wTim0Q" type="_Auti8YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Au0QoIJUEeGsv772wTim0Q" name="add" method="_BACjgoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au03sIJUEeGsv772wTim0Q" name="npcLocation" type="_Auti8YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcX1wIJUEeGsv772wTim0Q" name="NPCPhrase">
              <ownedAttribute xmi:id="_A3MwkoJUEeGsv772wTim0Q" name="message" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3NXoIJUEeGsv772wTim0Q" name="translations" visibility="private" type="_AkYiQIJUEeGsv772wTim0Q" association="_BBhxQYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3NXo4JUEeGsv772wTim0Q" name="id" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3N-sIJUEeGsv772wTim0Q" name="npcData" visibility="private" type="_Aus74IJUEeGsv772wTim0Q" association="_BBhxRIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3N-soJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBhxR4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3N-tIJUEeGsv772wTim0Q" name="isDynamic" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADKloJUEeGsv772wTim0Q" name="NPCPhrase" specification="_Au2F0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADKl4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BADKmIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BADKmYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BADKmoJUEeGsv772wTim0Q" name="isDynamic">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BADKm4JUEeGsv772wTim0Q" name="npcData" type="_Aus74IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BADKnIJUEeGsv772wTim0Q" type="_AcX1wIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.message = message;&#xD;
		this.id = id;&#xD;
		this.plugin = plugin;&#xD;
		this.isDynamic = isDynamic;&#xD;
		this.npcData = npcData;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADKnYJUEeGsv772wTim0Q" name="getMessage" specification="_Au3T8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADKnoJUEeGsv772wTim0Q" name="playerData" type="_Au2s44JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BADKn4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( npcData.id_NPCRace == plugin.config.NPC_HUMAN_ID || playerData.getLanguageSkill(npcData.id_NPCRace) == 100 )&#xD;
			return parse(message, playerData);&#xD;
		else&#xD;
			return getTranslation(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADxoIJUEeGsv772wTim0Q" name="getID" specification="_AcZD4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADxoYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADxooJUEeGsv772wTim0Q" name="getTranslation" specification="_Au3T9IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADxo4JUEeGsv772wTim0Q" name="playerData" type="_Au2s44JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BADxpIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Check to see if the translations have been set up yet&#xD;
		if( translations == null )&#xD;
			translations = plugin.languages.translate(message, npcData.id_NPCRace);&#xD;
		&#xD;
		int skill = playerData.getLanguageSkill(npcData.id_NPCRace);&#xD;
		&#xD;
		if( skill >= 100 )&#xD;
			return parse(message, playerData);&#xD;
		else&#xD;
			return parse(translations.get((int)(((skill / 25) - 3) * -1)), playerData);	// This maps 0 to 3, 25 to 2, 50 to 1, and 75 to 0&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADxpYJUEeGsv772wTim0Q" name="parse" specification="_Au37AYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADxpoJUEeGsv772wTim0Q" name="toParse">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BADxp4JUEeGsv772wTim0Q" name="playerData" type="_Au2s44JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BADxqIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if( !isDynamic )&#xD;
			return toParse;&#xD;
		&#xD;
		String result = toParse;&#xD;
		result = result.replace(&quot;&lt;playerName/>&quot;, playerData.getCodedName());&#xD;
		result = result.replace(&quot;&lt;selfName/>&quot;, npcData.getCodedName());&#xD;
		return result;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AcZD4IJUEeGsv772wTim0Q" name="getID" method="_BADxoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcZD4YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au2F0IJUEeGsv772wTim0Q" name="NPCPhrase" method="_BADKloJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Au2s4IJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Au2s4YJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Au2F0YJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au2F0oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au2F04JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au2F1IJUEeGsv772wTim0Q" name="isDynamic">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au2F1YJUEeGsv772wTim0Q" name="npcData" type="_Aus74IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au2s4oJUEeGsv772wTim0Q" type="_AcX1wIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Au3T8YJUEeGsv772wTim0Q" name="getMessage" method="_BADKnYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au3T8oJUEeGsv772wTim0Q" name="playerData" type="_Au2s44JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au3T84JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au3T9IJUEeGsv772wTim0Q" name="getTranslation" visibility="private" method="_BADxooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au3T9YJUEeGsv772wTim0Q" name="playerData" type="_Au2s44JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au37AIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au37AYJUEeGsv772wTim0Q" name="parse" visibility="private" method="_BADxpYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au37AoJUEeGsv772wTim0Q" name="toParse">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au37A4JUEeGsv772wTim0Q" name="playerData" type="_Au2s44JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au37BIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Aca5EIJUEeGsv772wTim0Q" name="NPCPool">
              <ownedAttribute xmi:id="_A3OlwIJUEeGsv772wTim0Q" name="npcs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBiYUYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Olw4JUEeGsv772wTim0Q" name="reserveNPCs" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_BBiYVIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3PM0oJUEeGsv772wTim0Q" name="floatingNPCs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBi_YYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Pz4YJUEeGsv772wTim0Q" name="residentNPCs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBi_ZIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Pz5IJUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_BBi_Z4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADxqYJUEeGsv772wTim0Q" name="NPCPool" specification="_AcbgIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADxqoJUEeGsv772wTim0Q" type="_Aca5EIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>npcs = new HashMap&lt;Integer, NPCData>();&#xD;
		 random = new Random();&#xD;
		 &#xD;
		 // Set up the reserve lists&#xD;
		 reserveNPCs = new HashSet&lt;Integer>();&#xD;
		 floatingNPCs = new HashMap&lt;Integer, HashSet&lt;Integer>>();&#xD;
		 residentNPCs = new HashMap&lt;Integer, HashSet&lt;Integer>>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADxq4JUEeGsv772wTim0Q" name="add" specification="_Au4iEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BADxrIJUEeGsv772wTim0Q" name="npc" type="_Aus74IJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcs.put(npc.id_NPC, npc);&#xD;
		reserveNPCs.add(npc.id_NPC);&#xD;
		&#xD;
		if( npc.id_NPCTown == 0 )&#xD;
		{&#xD;
			if( !floatingNPCs.containsKey(npc.id_NPCRace) )&#xD;
				floatingNPCs.put(npc.id_NPCRace, new HashSet&lt;Integer>());&#xD;
			floatingNPCs.get(npc.id_NPCRace).add(npc.id_NPC);&#xD;
		}&#xD;
 	else&#xD;
 	{&#xD;
 		if( !residentNPCs.containsKey(npc.id_NPCTown) )&#xD;
 			residentNPCs.put(npc.id_NPCTown, new HashSet&lt;Integer>());&#xD;
 		residentNPCs.get(npc.id_NPCTown).add(npc.id_NPC);&#xD;
 	}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BADxrYJUEeGsv772wTim0Q" name="get" specification="_AccHM4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAEYsIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAEYsYJUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( npcs.containsKey(id) )&#xD;
 		return npcs.get(id);&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Warning: NPCPool.get() called on non-existent id '&quot; + id + &quot;'&quot;);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAEYsoJUEeGsv772wTim0Q" name="activate" specification="_AccuQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAEYs4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAEYtIJUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( !reserveNPCs.contains(id) )&#xD;
 		return null;&#xD;
&#xD;
 	NPCData npc = npcs.get(id);&#xD;
 	&#xD;
 	// Remove the NPC from all appropriate lists&#xD;
 	reserveNPCs.remove(id);&#xD;
 	if( npc.id_NPCTown == 0 )&#xD;
 		floatingNPCs.get(npc.id_NPCRace).remove(id);&#xD;
 	else&#xD;
 		residentNPCs.get(npc.id_NPCTown).remove(id);&#xD;
 	&#xD;
 	npc.activate();&#xD;
 	return npc;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAEYtYJUEeGsv772wTim0Q" name="activateRandomFloating" specification="_AccuQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAEYtoJUEeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAEYt4JUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( reserveNPCs.size() == 0 || floatingNPCs.size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>();&#xD;
 	&#xD;
 	if( id_NPCRace == 0 )&#xD;
 	{&#xD;
 		// Add all races&#xD;
 		for( HashSet&lt;Integer> set : floatingNPCs.values() )&#xD;
 			removeList.addAll(set);&#xD;
 	}&#xD;
 	else&#xD;
 		removeList.addAll(floatingNPCs.get(id_NPCRace));&#xD;
 				&#xD;
 	if( removeList.size() == 0 )&#xD;
 		return null;&#xD;
&#xD;
 	int id_NPC = removeList.get(random.nextInt(removeList.size()));&#xD;
 	return activate(id_NPC);    &#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAEYuIJUEeGsv772wTim0Q" name="deactivate" specification="_AcdVUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAEYuYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if( reserveNPCs.contains(id) || npcs.get(id) == null )&#xD;
 		return;&#xD;
 	&#xD;
 	NPCData npc = npcs.get(id);&#xD;
 	&#xD;
 	reserveNPCs.add(id);&#xD;
 	if( npc.id_NPCTown == 0 )&#xD;
			floatingNPCs.get(npc.id_NPCRace).add(npc.id_NPC);&#xD;
 	else&#xD;
 		residentNPCs.get(npc.id_NPCTown).add(npc.id_NPC);&#xD;
 	&#xD;
 	npcs.get(id).deactivate();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAEYuoJUEeGsv772wTim0Q" name="activateRandomInTown" specification="_AcdVUoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAEYu4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAEYvIJUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( reserveNPCs.size() == 0 || residentNPCs.get(id) == null || residentNPCs.get(id).size() == 0 )&#xD;
 		return null;&#xD;
 	&#xD;
 	ArrayList&lt;Integer> removeList = new ArrayList&lt;Integer>();&#xD;
 	removeList.addAll(residentNPCs.get(id));&#xD;
&#xD;
 	int id_NPC = removeList.get(random.nextInt(removeList.size()));&#xD;
 	return activate(id_NPC);  &#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAEYvYJUEeGsv772wTim0Q" name="getAllResidents" specification="_AcdVVIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAEYvoJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAEYv4JUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashSet&lt;NPCData> residents = new HashSet&lt;NPCData>();&#xD;
 	for( NPCData npc : npcs.values() )&#xD;
 	{&#xD;
 		if( npc.id_NPCTown == id_NPCTown )&#xD;
 			residents.add(npc);&#xD;
 	}&#xD;
 	&#xD;
 	return residents;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AcbgIIJUEeGsv772wTim0Q" name="NPCPool" method="_BADxqYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AccHMIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AccHMYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AccHMoJUEeGsv772wTim0Q" type="_Aca5EIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AccHM4JUEeGsv772wTim0Q" name="get" method="_BADxrYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AccHNIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au5JIYJUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AccuQIJUEeGsv772wTim0Q" name="activate" method="_BAEYsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AccuQYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au5JIoJUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AccuQoJUEeGsv772wTim0Q" name="activateRandomFloating" method="_BAEYtYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AccuQ4JUEeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au5JI4JUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcdVUIJUEeGsv772wTim0Q" name="deactivate" method="_BAEYuIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcdVUYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcdVUoJUEeGsv772wTim0Q" name="activateRandomInTown" method="_BAEYuoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcdVU4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au5JJIJUEeGsv772wTim0Q" type="_Aus74IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcdVVIJUEeGsv772wTim0Q" name="getAllResidents" method="_BAEYvYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acd8YIJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au5wMIJUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Au4iEIJUEeGsv772wTim0Q" name="add" method="_BADxq4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au5JIIJUEeGsv772wTim0Q" name="npc" type="_Aus74IJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcfxkIJUEeGsv772wTim0Q" name="NPCTown">
              <generalization xmi:id="_Au6-VIJUEeGsv772wTim0Q" general="_Au5wMYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Qa8YJUEeGsv772wTim0Q" name="isProtected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Qa8oJUEeGsv772wTim0Q" name="id_NPCRace">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3Qa84JUEeGsv772wTim0Q" name="steward">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3RCAIJUEeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3RCAYJUEeGsv772wTim0Q" name="buildPermissions" type="_AkYiQIJUEeGsv772wTim0Q" association="_BBjmcYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3RCA4JUEeGsv772wTim0Q" name="residents" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_BBjmdIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAE_wIJUEeGsv772wTim0Q" name="NPCTown" specification="_Au6XQYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAE_wYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAE_woJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAE_w4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAE_xIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAE_xYJUEeGsv772wTim0Q" name="steward">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAE_xoJUEeGsv772wTim0Q" type="_AcfxkIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(plugin, id, name, world);&#xD;
		this.steward = steward;&#xD;
		buildPermissions = new ArrayList&lt;String>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAE_x4JUEeGsv772wTim0Q" name="createRegion" specification="_Acg_sIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAE_yIJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAE_yYJUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAE_yoJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAE_y4JUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>region = new Region2D(world, x1, z1, x2, z2);&#xD;
		this.centerPoint = new Location(this.world, Util.between(x1, x2), 65, Util.between(z1, z2));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAE_zIJUEeGsv772wTim0Q" name="createRegion" specification="_Achmw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAE_zYJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>region = new Region2D(world, coords);&#xD;
		this.centerPoint = new Location(this.world, Util.between(region.nwCorner.getX(), region.seCorner.getX()), 65, &#xD;
				Util.between(region.nwCorner.getZ(), region.seCorner.getZ()));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAE_zoJUEeGsv772wTim0Q" name="getCodedName" specification="_AchmxoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAE_z4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return &quot;&lt;tp>&quot; + this.name + &quot;&lt;/tp>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAE_0IJUEeGsv772wTim0Q" name="update" specification="_AciN0oJUEeGsv772wTim0Q">
                <language>java</language>
                <body>plugin.database.npcTownQueries.update(this);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAFm0IJUEeGsv772wTim0Q" name="isOutsideZoneA" specification="_AciN1IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAFm0YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return plugin.zones.isOutsideZoneA(region);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAFm0oJUEeGsv772wTim0Q" name="hasPermission" specification="_Aci04IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAFm04JUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAFm1IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for( String builder : buildPermissions )&#xD;
			if( builder.equalsIgnoreCase(playerName) )&#xD;
				return true;&#xD;
		&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Acg_sIJUEeGsv772wTim0Q" name="createRegion" method="_BAE_x4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acg_sYJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Acg_soJUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AchmwIJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AchmwYJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Achmw4JUEeGsv772wTim0Q" name="createRegion" method="_BAE_zIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AchmxIJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AchmxoJUEeGsv772wTim0Q" name="getCodedName" method="_BAE_zoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AciN0IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AciN0oJUEeGsv772wTim0Q" name="update" method="_BAE_0IJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AciN1IJUEeGsv772wTim0Q" name="isOutsideZoneA" method="_BAFm0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AciN1YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Aci04IJUEeGsv772wTim0Q" name="hasPermission" method="_BAFm0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aci04YJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Aci04oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au6XQYJUEeGsv772wTim0Q" name="NPCTown" method="_BAE_wIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Au6-UIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Au6-UYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Au6XQoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au6XQ4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au6XRIJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au6XRYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au6XRoJUEeGsv772wTim0Q" name="steward">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au6-UoJUEeGsv772wTim0Q" type="_AcfxkIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AckqEIJUEeGsv772wTim0Q" name="OverAllBounty">
              <ownedAttribute xmi:id="_A3RpEYJUEeGsv772wTim0Q" name="BH" visibility="private" type="_Au7lYIJUEeGsv772wTim0Q" association="_BBkNgYJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3RpEoJUEeGsv772wTim0Q" value="new HashMap&lt;String, BountyHandler>()"/>
                <qualifier xmi:id="_A3RpE4JUEeGsv772wTim0Q">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </qualifier>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3SQIIJUEeGsv772wTim0Q" name="BHL" visibility="private" type="_Au7lYIJUEeGsv772wTim0Q" isOrdered="true" association="_BBkNhIJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A3SQIYJUEeGsv772wTim0Q" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3SQIoJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBk0kIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3SQI4JUEeGsv772wTim0Q" name="vault" visibility="private" type="_AllcIYJUEeGsv772wTim0Q" association="_BBk0k4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAFm1YJUEeGsv772wTim0Q" name="addPlayer" specification="_AclRIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAFm1oJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Bounty[] temp = null; //TODO get from query&#xD;
		if (temp.length==0){&#xD;
			plugin.players.get(PlayerName).hasBounty=false;&#xD;
			return;&#xD;
		}&#xD;
		for (int i=0;i&lt;temp.length;i++){&#xD;
			Bounty b = temp[i];&#xD;
			this.BH.get(b.getCity()).addBounty(b);&#xD;
		}&#xD;
		plugin.players.get(PlayerName).hasBounty=true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAFm14JUEeGsv772wTim0Q" name="removePlayer" specification="_AclRI4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAFm2IJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>BountyHandler[] temp = (BountyHandler[]) this.BHL.toArray();&#xD;
		for (int i=0;i&lt;temp.length;i++){&#xD;
			temp[i].removePlayer(PlayerName);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAFm2YJUEeGsv772wTim0Q" name="getBH" specification="_Acl4MIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAFm2oJUEeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAFm24JUEeGsv772wTim0Q" type="_Au7lYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.BH.get(city);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAFm3IJUEeGsv772wTim0Q" name="updateallsigns" specification="_Acl4M4JUEeGsv772wTim0Q">
                <language>java</language>
                <body>for (int i=0;i&lt;BHL.size();i++){&#xD;
			if (BHL.get(i)!=null){&#xD;
				BHL.get(i).upadtesigns();&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAGN4IJUEeGsv772wTim0Q" name="removeallBountys" specification="_Acl4NYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAGN4YJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAGN4oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>double temp = 0;&#xD;
		for (int i=0;i&lt;BHL.size();i++){&#xD;
			temp = temp + BHL.get(i).removeBounty(PlayerName).getAmount();&#xD;
		}&#xD;
		return temp;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AclRIIJUEeGsv772wTim0Q" name="addPlayer" method="_BAFm1YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AclRIYJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AclRI4JUEeGsv772wTim0Q" name="removePlayer" method="_BAFm14JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AclRJIJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Acl4MIJUEeGsv772wTim0Q" name="getBH" method="_BAFm2YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acl4MYJUEeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au8McIJUEeGsv772wTim0Q" type="_Au7lYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Acl4M4JUEeGsv772wTim0Q" name="updateallsigns" method="_BAFm3IJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Acl4NYJUEeGsv772wTim0Q" name="removeallBountys" method="_BAGN4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acl4NoJUEeGsv772wTim0Q" name="PlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AcmfQIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcntYIJUEeGsv772wTim0Q" name="Permits">
              <ownedAttribute xmi:id="_A3S3MIJUEeGsv772wTim0Q" name="capitol">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3S3MYJUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcoUcIJUEeGsv772wTim0Q" name="PlayerTown" clientDependency="_Au8zgYJUEeGsv772wTim0Q">
              <generalization xmi:id="_AvAd4YJUEeGsv772wTim0Q" general="_Au5wMYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3S3M4JUEeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3TeQIJUEeGsv772wTim0Q" name="treasuryBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3TeQoJUEeGsv772wTim0Q" name="minimumBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3TeRIJUEeGsv772wTim0Q" name="bankruptDate" type="_Ak44kIJUEeGsv772wTim0Q" association="_BBk0loJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3UFUIJUEeGsv772wTim0Q" name="mayor">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3UFUoJUEeGsv772wTim0Q" name="isDeleted">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3UFU4JUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3UFVYJUEeGsv772wTim0Q" name="residents" type="_AkYiQIJUEeGsv772wTim0Q" association="_BBlboYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3UsYoJUEeGsv772wTim0Q" name="sanctumFloor" type="_Au9akIJUEeGsv772wTim0Q" association="_BBlbpIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3UsZIJUEeGsv772wTim0Q" name="sanctumRoom" type="_Au9akIJUEeGsv772wTim0Q" association="_BBmCsIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3VTcYJUEeGsv772wTim0Q" name="travelNode" type="_AkZJUIJUEeGsv772wTim0Q" association="_BBmCs4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAGN44JUEeGsv772wTim0Q" name="PlayerTown" specification="_Au-BoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAGN5IJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAGN5YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAGN5oJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAGN54JUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAGN6IJUEeGsv772wTim0Q" type="_AcoUcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(plugin, id, name, world);&#xD;
		residents = new ArrayList&lt;String>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAGN6YJUEeGsv772wTim0Q" name="compareTo" specification="_Au-osoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAGN6oJUEeGsv772wTim0Q" name="otherTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAGN64JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return otherTown.townLevel.level - this.townLevel.level;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAGN7IJUEeGsv772wTim0Q" name="equals" specification="_Au-otYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAGN7YJUEeGsv772wTim0Q" name="otherTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAGN7oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return otherTown.id == this.id;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG08IJUEeGsv772wTim0Q" name="createRegions" specification="_AcpikIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>region = new Region2D(world, centerPoint.getX() - (townLevel.size / 2), centerPoint.getZ() + (townLevel.size / 2),&#xD;
							  centerPoint.getX() + (townLevel.size / 2), centerPoint.getZ() - (townLevel.size / 2));&#xD;
		sanctumFloor = new Region3D(world, centerPoint.getX() - 10, centerPoint.getY() - 1, centerPoint.getZ() + 9,&#xD;
									centerPoint.getX() + 9, centerPoint.getY() - 3, centerPoint.getZ() - 10);&#xD;
		sanctumRoom = new Region3D(world, centerPoint.getX() - 10, centerPoint.getY() + 4, centerPoint.getZ() + 9,&#xD;
				centerPoint.getX() + 9, centerPoint.getY(), centerPoint.getZ() - 10);&#xD;
		travelNode = plugin.zones.getTravelNode(centerPoint);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG08YJUEeGsv772wTim0Q" name="build" specification="_AcpikYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>createBorder();&#xD;
		buildSanctumFloor();&#xD;
		buildTravelNode();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG08oJUEeGsv772wTim0Q" name="isAtMaxLevel" specification="_AcpikoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAG084JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if( id_Faction == 0 )&#xD;
			return townLevel.level >= plugin.config.Town_MAX_LEVEL_NEUTRAL;&#xD;
		else&#xD;
			return townLevel.level >= plugin.config.Town_MAX_LEVEL_FACTION;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG09IJUEeGsv772wTim0Q" name="isCapitol" specification="_AcqJoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAG09YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return townLevel.isCapitol;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG09oJUEeGsv772wTim0Q" name="isFull" specification="_AcqJo4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAG094JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>int numberOfResidents = plugin.database.townQueries.countResidents(name);&#xD;
		&#xD;
		return numberOfResidents >= townLevel.maxResidents;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG0-IJUEeGsv772wTim0Q" name="getLevel" specification="_AcqJpYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAG0-YJUEeGsv772wTim0Q" type="_Au_PwoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return townLevel;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG0-oJUEeGsv772wTim0Q" name="createBorder" specification="_AcqwsIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>int x, z;&#xD;
		&#xD;
		for (x = (int)region.nwCorner.getX() + 1; x &lt;= (int)region.seCorner.getX() - 1; x++) &#xD;
		{&#xD;
         // North Wall&#xD;
			z = (int)region.nwCorner.getZ();&#xD;
			placeOverlay(x, z);&#xD;
			&#xD;
			// South Wall&#xD;
			z = (int)region.seCorner.getZ();&#xD;
			placeOverlay(x, z);&#xD;
     }&#xD;
		&#xD;
		for (z = (int)region.nwCorner.getZ(); z >= (int)region.seCorner.getZ(); z--) &#xD;
     {&#xD;
			// West Wall&#xD;
			x = (int)region.nwCorner.getX();&#xD;
			placeOverlay(x, z);&#xD;
			&#xD;
			// East Wall&#xD;
			x = (int)region.seCorner.getX();&#xD;
			placeOverlay(x, z);&#xD;
     }&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAG0-4JUEeGsv772wTim0Q" name="placeOverlay" specification="_AcqwsYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAG0_IJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAG0_YJUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>for (int y = 127; y >= 1; y--) &#xD;
     {&#xD;
         int upperType = world.getBlockTypeIdAt(x, y, z);&#xD;
         int lowerType = world.getBlockTypeIdAt(x, y-1, z);&#xD;
         &#xD;
         if( upperType == 0 &amp;&amp; lowerType != 0 )&#xD;
         {&#xD;
         	// Replace grass with cobble&#xD;
         	if( Material.getMaterial(lowerType) == Material.LONG_GRASS )&#xD;
         	{&#xD;
         		world.getBlockAt(x, y-1, z).setType(Material.COBBLESTONE);&#xD;
         	}&#xD;
         	// Don't place blocks on top of trees or torches&#xD;
         	else if( Material.getMaterial(lowerType) != Material.LEAVES &#xD;
         		&amp;&amp; Material.getMaterial(lowerType) != Material.TORCH)&#xD;
         	{&#xD;
         		world.getBlockAt(x, y, z).setType(Material.COBBLESTONE);&#xD;
         	}&#xD;
         	return;&#xD;
         }&#xD;
     }&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAHcAIJUEeGsv772wTim0Q" name="getCodedName" specification="_AcqwtIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAHcAYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>char colorCode = plugin.factions.getColorCode(this.id_Faction);&#xD;
		return &quot;&lt;t&quot; + colorCode + &quot;>&quot; + this.name + &quot;&lt;/t&quot; + colorCode + &quot;>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAHcAoJUEeGsv772wTim0Q" name="update" specification="_AcrXwYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>plugin.database.townQueries.update(this);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAHcA4JUEeGsv772wTim0Q" name="removeResident" specification="_AcrXwoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAHcBIJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>plugin.database.townQueries.townLeave(playerName);&#xD;
		this.residents.remove(playerName);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAHcBYJUEeGsv772wTim0Q" name="isInsideSanctumFloor" specification="_Au_20IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAHcBoJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAHcB4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.sanctumFloor.isInside(location);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAHcCIJUEeGsv772wTim0Q" name="isInsideSanctum" specification="_Au_204JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAHcCYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAHcCoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.sanctumRoom.isInside(location);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAHcC4JUEeGsv772wTim0Q" name="processGoldBlock" specification="_Au_21oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAHcDIJUEeGsv772wTim0Q" name="rawEvent" type="_AlnRUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAHcDYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// Block broken (withdrawl or theft)&#xD;
		if( rawEvent instanceof BlockBreakEvent )&#xD;
		{&#xD;
			BlockBreakEvent event = (BlockBreakEvent)rawEvent;&#xD;
			Player player = event.getPlayer();&#xD;
	    	PlayerData playerData = plugin.players.get(player.getName());&#xD;
	    	&#xD;
	    	// Town resident&#xD;
	    	if( playerData.townName.equals(this.name) )&#xD;
	    	{&#xD;
	    		// Make sure the player has enough blocks deposited&#xD;
	    		if( playerData.treasuryBlocks &lt; 1 )&#xD;
	    		{&#xD;
	    			plugin.message.send(player, &quot;You don't have any gold blocks deposited in the treasury.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		else&#xD;
	    		{&#xD;
	    			playerData.treasuryBlocks--;&#xD;
	    			playerData.update();&#xD;
	    			plugin.message.parse(player, &quot;You now have &quot; + playerData.treasuryBlocks + &quot; block&quot; + &#xD;
	    					(playerData.treasuryBlocks == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; deposited into the treasury.&quot;, ChatColor.GOLD);&#xD;
	    			return true;&#xD;
	    		}&#xD;
	    	}&#xD;
		}&#xD;
		else if( rawEvent instanceof BlockPlaceEvent )&#xD;
		{&#xD;
			BlockPlaceEvent event = (BlockPlaceEvent)rawEvent;&#xD;
			Player player = event.getPlayer();&#xD;
	    	PlayerData playerData = plugin.players.get(player.getName());&#xD;
	    	&#xD;
	    	// Town resident&#xD;
	    	if( playerData.townName.equals(this.name) )&#xD;
	    	{&#xD;
	    		// Neutral town are not allowed to have treasuries&#xD;
	    		if( this.id_Faction == 0 )&#xD;
	    		{&#xD;
	    			plugin.message.send(player, &quot;Neutral towns cannot use treasury blocks.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		if( this.townLevel.treasuryLevel == 0 )&#xD;
	    		{&#xD;
	    			plugin.message.send(player, this.townLevel.name + &quot;s are not allowed treasury blocks - upgrade your town to create income.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		&#xD;
	    		// See if the placement would exceed the town's treasury level&#xD;
	    		if( playerData.treasuryBlocks + 1 > this.townLevel.treasuryLevel )&#xD;
	    		{&#xD;
	    			plugin.message.parse(player, &quot;Your town only allows &quot; + this.townLevel.treasuryLevel + &quot; treasury block&quot; + &#xD;
	    					(this.townLevel.treasuryLevel == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; per resident.&quot;);&#xD;
	    			return false;&#xD;
	    		}&#xD;
	    		else&#xD;
	    		{&#xD;
	    			playerData.treasuryBlocks++;&#xD;
	    			playerData.update();&#xD;
	    			plugin.message.parse(player, &quot;You now have &quot; + playerData.treasuryBlocks + &quot; block&quot; + &#xD;
	    					(playerData.treasuryBlocks == 1 ? &quot;&quot; : &quot;s&quot;) + &quot; deposited into the treasury.&quot;, ChatColor.GOLD);&#xD;
	    			return true;&#xD;
	    		}&#xD;
	    	}&#xD;
		}&#xD;
		// TODO Auto-generated method stub&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIDEIJUEeGsv772wTim0Q" name="countTreasuryBlocks" specification="_Acr-0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIDEYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>int total = 0;&#xD;
		&#xD;
		for( int x = (int)sanctumRoom.nwCorner.getX(); x &lt;= (int)sanctumRoom.seCorner.getX(); x++ )&#xD;
		{&#xD;
			for( int z = (int)sanctumRoom.nwCorner.getZ(); z >= (int)sanctumRoom.seCorner.getZ(); z-- )&#xD;
			{&#xD;
				for( int y = (int)sanctumRoom.nwCorner.getY(); y >= (int)sanctumRoom.seCorner.getY(); y-- )&#xD;
				{&#xD;
					if( world.getBlockAt(x, y, z).getType() == Material.GOLD_BLOCK )&#xD;
						total++;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		return total;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIDEoJUEeGsv772wTim0Q" name="removeTreasuryBlocks" specification="_Acr-0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIDE4JUEeGsv772wTim0Q" name="blocksToRemove">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// Give money to treasury (9 ingots in a block)&#xD;
		this.treasuryBalance += blocksToRemove * plugin.config.PRICE_GOLD * 9;&#xD;
		&#xD;
		// Clear the blocks&#xD;
		for( int x = (int)sanctumRoom.nwCorner.getX(); x &lt;= (int)sanctumRoom.seCorner.getX(); x++ )&#xD;
		{&#xD;
			for( int z = (int)sanctumRoom.nwCorner.getZ(); z >= (int)sanctumRoom.seCorner.getZ(); z-- )&#xD;
			{&#xD;
				for( int y = (int)sanctumRoom.nwCorner.getY(); y >= (int)sanctumRoom.seCorner.getY(); y-- )&#xD;
				{&#xD;
					if( world.getBlockAt(x, y, z).getType() == Material.GOLD_BLOCK )&#xD;
					{&#xD;
						world.getBlockAt(x, y, z).setType(Material.AIR);&#xD;
						blocksToRemove--;&#xD;
						if( blocksToRemove &lt;= 0 )&#xD;
							return;&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIDFIJUEeGsv772wTim0Q" name="buildSanctumFloor" specification="_Acr-1IJUEeGsv772wTim0Q">
                <language>java</language>
                <body>Build.sanctumFloor(plugin, this.world, (int)this.centerPoint.getX() - 10, (int)this.centerPoint.getY() - 1, (int)this.centerPoint.getZ() - 10, &#xD;
				this.townLevel.level, this.id_Faction);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIDFYJUEeGsv772wTim0Q" name="buildTravelNode" specification="_Acsl4IJUEeGsv772wTim0Q">
                <language>java</language>
                <body>Build.travelNode(this.travelNode, this.townLevel.size, this.id_Faction);&#xD;
	</body>
              </ownedBehavior>
              <interfaceRealization xmi:id="_Au8zgYJUEeGsv772wTim0Q" supplier="_Au8McYJUEeGsv772wTim0Q" client="_AcoUcIJUEeGsv772wTim0Q" contract="_Au8McYJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcpikIJUEeGsv772wTim0Q" name="createRegions" method="_BAG08IJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcpikYJUEeGsv772wTim0Q" name="build" method="_BAG08YJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcpikoJUEeGsv772wTim0Q" name="isAtMaxLevel" method="_BAG08oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcqJoIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcqJoYJUEeGsv772wTim0Q" name="isCapitol" method="_BAG09IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcqJooJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcqJo4JUEeGsv772wTim0Q" name="isFull" method="_BAG09oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcqJpIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcqJpYJUEeGsv772wTim0Q" name="getLevel" method="_BAG0-IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au_PxIJUEeGsv772wTim0Q" type="_Au_PwoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcqwsIJUEeGsv772wTim0Q" name="createBorder" visibility="private" method="_BAG0-oJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcqwsYJUEeGsv772wTim0Q" name="placeOverlay" visibility="private" method="_BAG0-4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcqwsoJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Acqws4JUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcqwtIJUEeGsv772wTim0Q" name="getCodedName" method="_BAHcAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcrXwIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AcrXwYJUEeGsv772wTim0Q" name="update" method="_BAHcAoJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AcrXwoJUEeGsv772wTim0Q" name="removeResident" method="_BAHcA4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcrXw4JUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Acr-0IJUEeGsv772wTim0Q" name="countTreasuryBlocks" method="_BAIDEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acr-0YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Acr-0oJUEeGsv772wTim0Q" name="removeTreasuryBlocks" method="_BAIDEoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acr-04JUEeGsv772wTim0Q" name="blocksToRemove">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Acr-1IJUEeGsv772wTim0Q" name="buildSanctumFloor" visibility="private" method="_BAIDFIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Acsl4IJUEeGsv772wTim0Q" name="buildTravelNode" visibility="private" method="_BAIDFYJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Au-BoIJUEeGsv772wTim0Q" name="PlayerTown" method="_BAGN44JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Au-BpYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Au-BpoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Au-BoYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au-BooJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au-Bo4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Au-BpIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au-Bp4JUEeGsv772wTim0Q" type="_AcoUcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Au-osoJUEeGsv772wTim0Q" name="compareTo" method="_BAGN6YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au-os4JUEeGsv772wTim0Q" name="otherTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au-otIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au-otYJUEeGsv772wTim0Q" name="equals" method="_BAGN7IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au_PwIJUEeGsv772wTim0Q" name="otherTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au_PwYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au_20IJUEeGsv772wTim0Q" name="isInsideSanctumFloor" method="_BAHcBYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au_20YJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au_20oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au_204JUEeGsv772wTim0Q" name="isInsideSanctum" method="_BAHcCIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au_21IJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Au_21YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Au_21oJUEeGsv772wTim0Q" name="processGoldBlock" method="_BAHcC4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Au_214JUEeGsv772wTim0Q" name="rawEvent" type="_AlnRUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvAd4IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcvpMIJUEeGsv772wTim0Q" name="Players">
              <ownedAttribute xmi:id="_A3VTc4JUEeGsv772wTim0Q" name="players" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBmCtoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3V6goJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBmpwYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIDFoJUEeGsv772wTim0Q" name="Players" specification="_AlptkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIDF4JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAIDGIJUEeGsv772wTim0Q" type="_AcvpMIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		players = new HashMap&lt;String, PlayerData>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIqIIJUEeGsv772wTim0Q" name="playerLogin" specification="_AcwQQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIqIYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAIqIoJUEeGsv772wTim0Q" type="_Au2s44JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.database.playerQueries.playerLogin(playerName);&#xD;
 	&#xD;
 	if(playerData == null) &#xD;
 	{&#xD;
 		// No contact with DB&#xD;
 		playerData = generateDefaultPlayer(playerName);&#xD;
 		&#xD;
 	} &#xD;
 	else &#xD;
 	{&#xD;
 		playerData.persistentInDatabase = true;&#xD;
 	}&#xD;
 	&#xD;
 	players.put(playerName.toLowerCase(), playerData);&#xD;
 	&#xD;
 	return playerData;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIqI4JUEeGsv772wTim0Q" name="generateDefaultPlayer" specification="_AcwQQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIqJIJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAIqJYJUEeGsv772wTim0Q" type="_Au2s44JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = new PlayerData(plugin);&#xD;
 	playerData.name = playerName;&#xD;
 	playerData.id_Player = -1;&#xD;
 	playerData.id_Faction = -1;&#xD;
 	playerData.isMember = false;&#xD;
 	playerData.memberExpiration = new Date();&#xD;
 	playerData.bounty = 0;&#xD;
 	playerData.extraBounty = 0;&#xD;
 	playerData.persistentInDatabase = false;&#xD;
 	playerData.townName = &quot;&quot;;&#xD;
 	&#xD;
 	return playerData;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIqJoJUEeGsv772wTim0Q" name="get" specification="_Acw3UIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIqJ4JUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAIqKIJUEeGsv772wTim0Q" type="_Au2s44JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( players.containsKey(playerName.toLowerCase()) )&#xD;
 		return players.get(playerName.toLowerCase());&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;DB fetch called for player: &quot; + playerName);&#xD;
 		PlayerData playerData = plugin.database.playerQueries.playerFetch(playerName);&#xD;
 		if( playerData != null )&#xD;
 			players.put(playerName.toLowerCase(), playerData);&#xD;
 		&#xD;
 		return playerData;    		&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIqKYJUEeGsv772wTim0Q" name="size" specification="_Acw3UoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIqKoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return players.size();&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AcwQQIJUEeGsv772wTim0Q" name="playerLogin" method="_BAIqIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcwQQYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvBE8IJUEeGsv772wTim0Q" type="_Au2s44JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AcwQQoJUEeGsv772wTim0Q" name="generateDefaultPlayer" visibility="private" method="_BAIqI4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AcwQQ4JUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvBE8YJUEeGsv772wTim0Q" type="_Au2s44JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Acw3UIJUEeGsv772wTim0Q" name="get" method="_BAIqJoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acw3UYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvBE8oJUEeGsv772wTim0Q" type="_Au2s44JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Acw3UoJUEeGsv772wTim0Q" name="size" method="_BAIqKYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Acw3U4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AlptkIJUEeGsv772wTim0Q" name="Players" method="_BAIDFoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlptkoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Alptk4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlptkYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlptlIJUEeGsv772wTim0Q" type="_AcvpMIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcyFcIJUEeGsv772wTim0Q" name="Region">
              <ownedAttribute xmi:id="_A3WhkIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q" association="_BBmpxIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AcysgIJUEeGsv772wTim0Q" name="Region2D">
              <generalization xmi:id="_AvEvVoJUEeGsv772wTim0Q" general="_AvBsAIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3WhkoJUEeGsv772wTim0Q" name="nwCorner" type="_AuqfooJUEeGsv772wTim0Q" association="_BID3EYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3WhlIJUEeGsv772wTim0Q" name="seCorner" type="_AuqfooJUEeGsv772wTim0Q" association="_BID3FIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAIqK4JUEeGsv772wTim0Q" name="Region2D" specification="_AvCTEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAIqLIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAIqLYJUEeGsv772wTim0Q" name="_nwCorner" type="_AuqfooJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAIqLoJUEeGsv772wTim0Q" name="_seCorner" type="_AuqfooJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAIqL4JUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = _nwCorner;&#xD;
		seCorner = _seCorner;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJRMIJUEeGsv772wTim0Q" name="Region2D" specification="_AvC6IIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJRMYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJRMoJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRM4JUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRNIJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRNYJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRNoJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location2D((double)x1, (double)z1);&#xD;
		seCorner = new Location2D((double)x2, (double)z2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJRN4JUEeGsv772wTim0Q" name="Region2D" specification="_AvDhMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJROIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJROYJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJROoJUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRO4JUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRPIJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRPYJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location2D(x1, z1);&#xD;
		seCorner = new Location2D(x2, z2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJRPoJUEeGsv772wTim0Q" name="Region2D" specification="_AvEIQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJRP4JUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJRQIJUEeGsv772wTim0Q" name="l1" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJRQYJUEeGsv772wTim0Q" name="l2" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJRQoJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location2D(l1);&#xD;
		seCorner = new Location2D(l2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJRQ4JUEeGsv772wTim0Q" name="Region2D" specification="_AvEIR4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJRRIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJRRYJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJRRoJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			nwCorner = new Location2D(Double.parseDouble(split[0]), Double.parseDouble(split[1]));&#xD;
			seCorner = new Location2D(Double.parseDouble(split[2]), Double.parseDouble(split[3]));&#xD;
			this.world = world;&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;ERROR: Invalid coordinate string passed to Region2D constructor&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJ4QIJUEeGsv772wTim0Q" name="isInside" specification="_AvEvU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJ4QYJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJ4QoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (loc.getWorld() == this.world) &amp;&amp; (Util.isBetween(loc.getX(), nwCorner.getX(), seCorner.getX()) &amp;&amp;&#xD;
				(Util.isBetween(loc.getZ(), nwCorner.getZ(), seCorner.getZ())));   &#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AvCTEIJUEeGsv772wTim0Q" name="Region2D" method="_BAIqK4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvCTFIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvCTFYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvCTEYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvCTEoJUEeGsv772wTim0Q" name="_nwCorner" type="_AuqfooJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvCTE4JUEeGsv772wTim0Q" name="_seCorner" type="_AuqfooJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvCTFoJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvC6IIJUEeGsv772wTim0Q" name="Region2D" method="_BAJRMIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvC6JoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvC6J4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvC6IYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvC6IoJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvC6I4JUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvC6JIJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvC6JYJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvC6KIJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvDhMIJUEeGsv772wTim0Q" name="Region2D" method="_BAJRN4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvDhNoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvDhN4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvDhMYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvDhMoJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvDhM4JUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvDhNIJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvDhNYJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvDhOIJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvEIQIJUEeGsv772wTim0Q" name="Region2D" method="_BAJRPoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvEIRIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvEIRYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvEIQYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvEIQoJUEeGsv772wTim0Q" name="l1" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvEIQ4JUEeGsv772wTim0Q" name="l2" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvEIRoJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvEIR4JUEeGsv772wTim0Q" name="Region2D" method="_BAJRQ4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvEvUIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvEvUYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvEISIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvEISYJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvEvUoJUEeGsv772wTim0Q" type="_AcysgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvEvU4JUEeGsv772wTim0Q" name="isInside" method="_BAJ4QIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvEvVIJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvEvVYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ac2W4IJUEeGsv772wTim0Q" name="Region3D">
              <generalization xmi:id="_AvGkg4JUEeGsv772wTim0Q" general="_AvBsAIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3XIoIJUEeGsv772wTim0Q" name="nwCorner" type="_AkZJUIJUEeGsv772wTim0Q" association="_BIEeIYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3XIooJUEeGsv772wTim0Q" name="seCorner" type="_AkZJUIJUEeGsv772wTim0Q" association="_BIEeJIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJ4Q4JUEeGsv772wTim0Q" name="Region3D" specification="_AvFWYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJ4RIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJ4RYJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4RoJUEeGsv772wTim0Q" type="_Ac2W4IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			nwCorner = new Location(world, Double.parseDouble(split[0]), Double.parseDouble(split[1]), Double.parseDouble(split[2]));&#xD;
			seCorner = new Location(world, Double.parseDouble(split[3]), Double.parseDouble(split[4]), Double.parseDouble(split[5]));&#xD;
			this.world = world;&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;ERROR: Invalid coordinate string passed to Region3D constructor&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJ4R4JUEeGsv772wTim0Q" name="Region3D" specification="_AvF9cIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJ4SIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJ4SYJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4SoJUEeGsv772wTim0Q" name="y1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4S4JUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4TIJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4TYJUEeGsv772wTim0Q" name="y2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4ToJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAJ4T4JUEeGsv772wTim0Q" type="_Ac2W4IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
		nwCorner = new Location(world, x1, y1, z1);&#xD;
		seCorner = new Location(world, x2, y2, z2);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAJ4UIJUEeGsv772wTim0Q" name="isInside" specification="_AvGkgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAJ4UYJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAJ4UoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (loc.getWorld() == this.world) &amp;&amp; &#xD;
				(Util.isBetween(loc.getX(), nwCorner.getX(), seCorner.getX()) &amp;&amp;&#xD;
				Util.isBetween(loc.getY(), nwCorner.getY(), seCorner.getY()) &amp;&amp;&#xD;
				Util.isBetween(loc.getZ(), nwCorner.getZ(), seCorner.getZ()));&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AvFWYIJUEeGsv772wTim0Q" name="Region3D" method="_BAJ4Q4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvFWY4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvFWZIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvFWYYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvFWYoJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvFWZYJUEeGsv772wTim0Q" type="_Ac2W4IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvF9cIJUEeGsv772wTim0Q" name="Region3D" method="_BAJ4R4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvF9eIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvF9eYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvF9cYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvF9coJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvF9c4JUEeGsv772wTim0Q" name="y1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvF9dIJUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvF9dYJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvF9doJUEeGsv772wTim0Q" name="y2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvF9d4JUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvF9eoJUEeGsv772wTim0Q" type="_Ac2W4IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvGkgIJUEeGsv772wTim0Q" name="isInside" method="_BAJ4UIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvGkgYJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvGkgoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ac4zIIJUEeGsv772wTim0Q" name="Town" isAbstract="true">
              <ownedAttribute xmi:id="_A3XvsIJUEeGsv772wTim0Q" name="id" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3XvsoJUEeGsv772wTim0Q" name="name" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3XvtIJUEeGsv772wTim0Q" name="region" visibility="protected" type="_Aurtw4JUEeGsv772wTim0Q" association="_BIFFMYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3YWwYJUEeGsv772wTim0Q" name="world" visibility="protected" type="_AkZwYYJUEeGsv772wTim0Q" association="_BIFFNIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3YWw4JUEeGsv772wTim0Q" name="quadrant" visibility="protected" type="_AleHYIJUEeGsv772wTim0Q" association="_BIFFN4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3YWxYJUEeGsv772wTim0Q" name="centerPoint" type="_AkZJUIJUEeGsv772wTim0Q" association="_BIFsQYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Y90YJUEeGsv772wTim0Q" name="townLevel" type="_Au_PwoJUEeGsv772wTim0Q" association="_BIFsRIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Y904JUEeGsv772wTim0Q" name="npcLocations" visibility="protected" type="_AkYiQIJUEeGsv772wTim0Q" association="_BIGTUYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3Zk4YJUEeGsv772wTim0Q" name="plugin" visibility="protected" type="_AalGAIJUEeGsv772wTim0Q" association="_BIGTVIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAKfUIJUEeGsv772wTim0Q" name="Town" specification="_AvHLkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAKfUYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAKfUoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAKfU4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAKfVIJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAKfVYJUEeGsv772wTim0Q" type="_Ac4zIIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.id = id;&#xD;
		this.name = name;&#xD;
		this.world = world;&#xD;
		this.npcLocations = new ArrayList&lt;NPCLocation>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAKfVoJUEeGsv772wTim0Q" name="getCenter" specification="_Ac6BQ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAKfV4JUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new Location(world, centerPoint.getX(), 65, centerPoint.getZ());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAKfWIJUEeGsv772wTim0Q" name="getID" specification="_Ac6BRIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAKfWYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return id;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAKfWoJUEeGsv772wTim0Q" name="getName" specification="_Ac6oUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAKfW4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAKfXIJUEeGsv772wTim0Q" name="isInside" specification="_AvHyp4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAKfXYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAKfXoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return region.isInside(location);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAKfX4JUEeGsv772wTim0Q" name="getQuadrant" specification="_Ac6oUoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALGYIJUEeGsv772wTim0Q" type="_AleHYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( this.quadrant == null )&#xD;
			this.quadrant = plugin.zones.getQuadrant(this.centerPoint);&#xD;
		&#xD;
		return this.quadrant;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALGYYJUEeGsv772wTim0Q" name="addNPCLocation" specification="_AvIZsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALGYoJUEeGsv772wTim0Q" name="npcLocation" type="_Auti8YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.npcLocations.add(npcLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALGY4JUEeGsv772wTim0Q" name="getNPCLocations" specification="_Ac6oU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALGZIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocations;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Ac6BQIJUEeGsv772wTim0Q" name="getCodedName" isAbstract="true">
                <ownedParameter xmi:id="_Ac6BQYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ac6BQoJUEeGsv772wTim0Q" name="update" isAbstract="true"/>
              <ownedOperation xmi:id="_Ac6BQ4JUEeGsv772wTim0Q" name="getCenter" method="_BAKfVoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvHypoJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Ac6BRIJUEeGsv772wTim0Q" name="getID" method="_BAKfWIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ac6BRYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ac6oUIJUEeGsv772wTim0Q" name="getName" method="_BAKfWoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ac6oUYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ac6oUoJUEeGsv772wTim0Q" name="getQuadrant" method="_BAKfX4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvIZsYJUEeGsv772wTim0Q" type="_AleHYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Ac6oU4JUEeGsv772wTim0Q" name="getNPCLocations" method="_BALGY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvIZtIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvHLkIJUEeGsv772wTim0Q" name="Town" method="_BAKfUIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvHyo4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvHypIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvHLkYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvHyoIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvHyoYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvHyooJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvHypYJUEeGsv772wTim0Q" type="_Ac4zIIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvHyp4JUEeGsv772wTim0Q" name="isInside" method="_BAKfXIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvHyqIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvIZsIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AvIZsoJUEeGsv772wTim0Q" name="addNPCLocation" method="_BALGYYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvIZs4JUEeGsv772wTim0Q" name="npcLocation" type="_Auti8YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ac9roIJUEeGsv772wTim0Q" name="TownLevel">
              <ownedAttribute xmi:id="_A3Zk44JUEeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3aL8YJUEeGsv772wTim0Q" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3aL84JUEeGsv772wTim0Q" name="size">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3aL9YJUEeGsv772wTim0Q" name="initialCost">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3azAYJUEeGsv772wTim0Q" name="upkeepCost">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3azA4JUEeGsv772wTim0Q" name="minimumBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3azBYJUEeGsv772wTim0Q" name="maxResidents">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3baEIJUEeGsv772wTim0Q" name="maxNPCs">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3baEoJUEeGsv772wTim0Q" name="isCapitol">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3baE4JUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3baFYJUEeGsv772wTim0Q" name="treasuryLevel">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3cBIYJUEeGsv772wTim0Q" name="sanctumFloor" type="_AkYiQIJUEeGsv772wTim0Q" association="_BIG6YIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ac_g0IJUEeGsv772wTim0Q" name="Towns">
              <ownedAttribute xmi:id="_A3cBJIJUEeGsv772wTim0Q" name="playerTowns" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIG6Y4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3coMoJUEeGsv772wTim0Q" name="npcTowns" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIG6ZoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3dPQYJUEeGsv772wTim0Q" name="outsideNPCTowns" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_BIHhcYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3dPRIJUEeGsv772wTim0Q" name="playerTownIDs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIHhdIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3d2UoJUEeGsv772wTim0Q" name="npcTownIDs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIIIgIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3edYYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIIIg4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALGZYJUEeGsv772wTim0Q" name="Towns" specification="_AlvNIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALGZoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BALGZ4JUEeGsv772wTim0Q" type="_Ac_g0IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		playerTowns = new HashMap&lt;String, PlayerTown>();&#xD;
		npcTowns = new HashMap&lt;String, NPCTown>();&#xD;
		outsideNPCTowns = new HashSet&lt;NPCTown>();&#xD;
		playerTownIDs = new HashMap&lt;Integer, String>();&#xD;
		npcTownIDs = new HashMap&lt;Integer, String>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALGaIJUEeGsv772wTim0Q" name="loadTowns" specification="_AdAH4IJUEeGsv772wTim0Q">
                <language>java</language>
                <body>playerTowns = plugin.database.townQueries.loadPlayerTowns();	&#xD;
		npcTowns = plugin.database.npcTownQueries.loadAll();&#xD;
		&#xD;
		// Populate the ID-name hashes (reverse these?)&#xD;
		for( PlayerTown town : playerTowns.values() )&#xD;
			playerTownIDs.put(town.getID(), town.getName().toLowerCase());&#xD;
		for( NPCTown town : npcTowns.values() )&#xD;
		{&#xD;
			npcTownIDs.put(town.getID(), town.getName().toLowerCase());&#xD;
			if( town.isOutsideZoneA() )&#xD;
				outsideNPCTowns.add(town);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALGaYJUEeGsv772wTim0Q" name="add" specification="_AvJn0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALGaoJUEeGsv772wTim0Q" name="town" type="_Au5wMYJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if( town instanceof PlayerTown )&#xD;
			playerTowns.put(town.name.toLowerCase(), (PlayerTown)town);&#xD;
		else if( town instanceof NPCTown )&#xD;
			npcTowns.put(town.name.toLowerCase(), (NPCTown)town);&#xD;
		else&#xD;
			System.out.println(&quot;ERROR: Invalid town type in Towns.add()&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALtcIJUEeGsv772wTim0Q" name="get" specification="_AdAH4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALtcYJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BALtcoJUEeGsv772wTim0Q" type="_Au5wMYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( playerTowns.containsKey(townName.toLowerCase()) )&#xD;
 		return playerTowns.get(townName.toLowerCase());&#xD;
 	else if( npcTowns.containsKey(townName.toLowerCase()) )&#xD;
 		return npcTowns.get(townName.toLowerCase());&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Warning: Towns.Get called on non-existent town '&quot; + townName + &quot;'&quot;);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALtc4JUEeGsv772wTim0Q" name="getAll" specification="_AdAH44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALtdIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;Town> allTowns = new ArrayList&lt;Town>(playerTowns.values());&#xD;
 		allTowns.addAll(npcTowns.values());&#xD;
 	return allTowns;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALtdYJUEeGsv772wTim0Q" name="getAllPlayerTowns" specification="_AdAu8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALtdoJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;PlayerTown>(playerTowns.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALtd4JUEeGsv772wTim0Q" name="getAllNPCTowns" specification="_AdBWAYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALteIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;NPCTown>(npcTowns.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BALteYJUEeGsv772wTim0Q" name="checkForNearbyTowns" specification="_AvKO5IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BALteoJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BALte4JUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashMap&lt;String, Integer> townList = new HashMap&lt;String, Integer>();&#xD;
 		double distance;&#xD;
 		Location2D location2D = new Location2D(location);&#xD;
 		ArrayList&lt;Town> allTowns = new ArrayList&lt;Town>(playerTowns.values());&#xD;
 		allTowns.addAll(npcTowns.values());&#xD;
 		&#xD;
 		for( Town town : allTowns )&#xD;
 		{&#xD;
 			distance = location2D.distance(town.centerPoint);&#xD;
 			if( distance &lt; plugin.config.Town_MIN_DISTANCE_BETWEEN )&#xD;
 				townList.put(town.name, (int)distance);&#xD;
 		}&#xD;
 		&#xD;
 		return townList;&#xD;
 	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAMUgIJUEeGsv772wTim0Q" name="doesFactionCapitolExist" specification="_AdB9EIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAMUgYJUEeGsv772wTim0Q" name="faction">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAMUgoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for( PlayerTown town : playerTowns.values () )&#xD;
 	{&#xD;
 		if( town.id_Faction == faction &amp;&amp; town.isCapitol() )&#xD;
 			return true;&#xD;
 	}&#xD;
 	&#xD;
 	return false;	// No faction capitols found&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAMUg4JUEeGsv772wTim0Q" name="areEnemyCapitolsTooClose" specification="_AvK18oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAMUhIJUEeGsv772wTim0Q" name="playerTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAMUhYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Location2D location2D = new Location2D(playerTown.centerPoint);&#xD;
 	&#xD;
 	for( PlayerTown town : playerTowns.values () )&#xD;
 	{&#xD;
 		if( town.isCapitol() &amp;&amp; location2D.distance(town.centerPoint) &lt; plugin.config.Town_MIN_DISTANCE_ENEMY_CAPITOL )&#xD;
 		{&#xD;
 			return true;&#xD;
 		}&#xD;
 	}&#xD;
 	&#xD;
 	return false;	// No too-close capitols found&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAMUhoJUEeGsv772wTim0Q" name="getCurrentTown" specification="_AvLdAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAMUh4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAMUiIJUEeGsv772wTim0Q" type="_Au5wMYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// Zone A - NPC towns&#xD;
 	if( plugin.zones.isInZoneA(location) )&#xD;
 	{&#xD;
     	for( NPCTown town : npcTowns.values() )&#xD;
     	{&#xD;
     		if( town.isInside(location) )&#xD;
     			return town;&#xD;
     	}&#xD;
 	}&#xD;
 	// Zone B - Player towns&#xD;
 	else if( plugin.zones.isInZoneB(location) )&#xD;
 	{&#xD;
     	for( PlayerTown town : playerTowns.values() )&#xD;
     	{&#xD;
     		if( town.isInside(location) )&#xD;
     			return town;&#xD;
     	}&#xD;
     	for( NPCTown town : outsideNPCTowns )&#xD;
     	{&#xD;
     		if( town.isInside(location) )&#xD;
     			return town;&#xD;
     	}&#xD;
 	}&#xD;
	&#xD;
		// Location not inside any town; return null&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAMUiYJUEeGsv772wTim0Q" name="remove" specification="_AvLdA4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAMUioJUEeGsv772wTim0Q" name="playerTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>playerTowns.remove(playerTown);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAMUi4JUEeGsv772wTim0Q" name="getNPCTown" specification="_AdB9E4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAMUjIJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAMUjYJUEeGsv772wTim0Q" type="_AuzChYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( npcTownIDs.containsKey(id_NPCTown) )&#xD;
			return npcTowns.get(npcTownIDs.get(id_NPCTown));&#xD;
		else&#xD;
			return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AdAH4IJUEeGsv772wTim0Q" name="loadTowns" method="_BALGaIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AdAH4YJUEeGsv772wTim0Q" name="get" method="_BALtcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdAH4oJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvKO4IJUEeGsv772wTim0Q" type="_Au5wMYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdAH44JUEeGsv772wTim0Q" name="getAll" method="_BALtc4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvKO4YJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdAu8YJUEeGsv772wTim0Q" name="getAllPlayerTowns" method="_BALtdYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvKO4oJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdBWAYJUEeGsv772wTim0Q" name="getAllNPCTowns" method="_BALtd4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvKO44JUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdB9EIJUEeGsv772wTim0Q" name="doesFactionCapitolExist" method="_BAMUgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdB9EYJUEeGsv772wTim0Q" name="faction">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdB9EoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdB9E4JUEeGsv772wTim0Q" name="getNPCTown" method="_BAMUi4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdB9FIJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvLdBYJUEeGsv772wTim0Q" type="_AuzChYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AlvNIIJUEeGsv772wTim0Q" name="Towns" method="_BALGZYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Alv0MIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Alv0MYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlvNIYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Alv0MoJUEeGsv772wTim0Q" type="_Ac_g0IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvJn0IJUEeGsv772wTim0Q" name="add" method="_BALGaYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvJn0YJUEeGsv772wTim0Q" name="town" type="_Au5wMYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvKO5IJUEeGsv772wTim0Q" name="checkForNearbyTowns" method="_BALteYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvKO5YJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvK18YJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvK18oJUEeGsv772wTim0Q" name="areEnemyCapitolsTooClose" method="_BAMUg4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvK184JUEeGsv772wTim0Q" name="playerTown" type="_Au-osIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvK19IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AvLdAIJUEeGsv772wTim0Q" name="getCurrentTown" method="_BAMUhoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvLdAYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvLdAoJUEeGsv772wTim0Q" type="_Au5wMYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvLdA4JUEeGsv772wTim0Q" name="remove" method="_BAMUiYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvLdBIJUEeGsv772wTim0Q" name="playerTown" type="_Au-osIJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AkeB0YJUEeGsv772wTim0Q" name="PlayerData">
              <ownedAttribute xmi:id="_EFbAEYJUEeGsv772wTim0Q" name="id_Player">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFbAE4JUEeGsv772wTim0Q" name="name">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFbnIYJUEeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFbnI4JUEeGsv772wTim0Q" name="isMember">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFbnJIJUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFbnJoJUEeGsv772wTim0Q" name="memberExpiration" type="_Ak5foYJUEeGsv772wTim0Q" association="_EGpvIYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFcOMYJUEeGsv772wTim0Q" name="bounty">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFcOM4JUEeGsv772wTim0Q" name="extraBounty">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFcONYJUEeGsv772wTim0Q" name="persistentInDatabase">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFc1QIJUEeGsv772wTim0Q" name="home_Location" visibility="private" type="_AkZJUIJUEeGsv772wTim0Q" association="_EGpvJIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFc1QoJUEeGsv772wTim0Q" name="home_LastUsed" type="_Ak44kIJUEeGsv772wTim0Q" association="_EGqWMIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFc1RIJUEeGsv772wTim0Q" name="hasBounty">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFc1RoJUEeGsv772wTim0Q" name="spawn_Location" visibility="private" type="_AkZJUIJUEeGsv772wTim0Q" association="_EGqWM4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFdcUYJUEeGsv772wTim0Q" name="spawn_LastUsed" type="_Ak44kIJUEeGsv772wTim0Q" association="_EGqWNoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFdcU4JUEeGsv772wTim0Q" name="townName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFdcVIJUEeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFdcVoJUEeGsv772wTim0Q" name="isMayor">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFeDYIJUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFeDYoJUEeGsv772wTim0Q" name="treasuryBalance">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFeDY4JUEeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFeDZYJUEeGsv772wTim0Q" name="treasuryBlocks">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFeDZ4JUEeGsv772wTim0Q" name="npcTownName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFeqcIJUEeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFeqcoJUEeGsv772wTim0Q" name="isSteward">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFeqc4JUEeGsv772wTim0Q" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFeqdYJUEeGsv772wTim0Q" name="lots" type="_AkYiQIJUEeGsv772wTim0Q" association="_EGq9QIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFfRgIJUEeGsv772wTim0Q" value="new ArrayList&lt;Lot>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFfRgoJUEeGsv772wTim0Q" name="lotPermissions" type="_AkYiQIJUEeGsv772wTim0Q" association="_EGq9Q4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFfRhIJUEeGsv772wTim0Q" value="new ArrayList&lt;String>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFfRhoJUEeGsv772wTim0Q" name="logonMessageQueue">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFf4kIJUEeGsv772wTim0Q" value="&quot;&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFf4koJUEeGsv772wTim0Q" name="permits" type="_EEtOYIJUEeGsv772wTim0Q" association="_EGq9RoJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFf4k4JUEeGsv772wTim0Q" value="new Permits()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFf4lYJUEeGsv772wTim0Q" name="languageSkill" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGrkUYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFgfooJUEeGsv772wTim0Q" name="npcInteractions" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_EGrkVIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFhGsYJUEeGsv772wTim0Q" name="newNPCInteractions" visibility="private" type="_Alf8kIJUEeGsv772wTim0Q" association="_EGsLYIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFhGtIJUEeGsv772wTim0Q" name="npcAffinities" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGsLY4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFhtwoJUEeGsv772wTim0Q" name="currentZone" type="_AleHYoJUEeGsv772wTim0Q" association="_EGsLZoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFhtxIJUEeGsv772wTim0Q" name="currentTown" type="_Au5wMYJUEeGsv772wTim0Q" association="_EGsycYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFiU0IJUEeGsv772wTim0Q" name="isInCapitol">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFiU0oJUEeGsv772wTim0Q" name="enterLeaveMessageTime" type="_Ak44kIJUEeGsv772wTim0Q" association="_EGsydIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFiU04JUEeGsv772wTim0Q" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFiU1YJUEeGsv772wTim0Q" name="activeQuestData" type="_D_8qMIJUEeGsv772wTim0Q" association="_EGsyd4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFiU1oJUEeGsv772wTim0Q" value="new PlayerQuestData()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFi74IJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGtZgYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFi74oJUEeGsv772wTim0Q" name="player" visibility="private" type="_AkfP84JUEeGsv772wTim0Q" association="_EGtZhIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF5hOIJUEeGsv772wTim0Q" name="PlayerData" specification="_ECmVkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF5hOYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF5hOoJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.languageSkill = new HashMap&lt;Integer, Integer>();&#xD;
		this.npcInteractions = new HashSet&lt;Integer>();&#xD;
		this.newNPCInteractions = new HashSet&lt;Integer>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF5hO4JUEeGsv772wTim0Q" name="attachPlayer" specification="_ECmVlYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF5hPIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.player = player;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF5hPYJUEeGsv772wTim0Q" name="setSpawn" specification="_ECmVl4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF5hPoJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>spawn_Location = location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IQIJUEeGsv772wTim0Q" name="getSpawn" specification="_D_cT4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6IQYJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return spawn_Location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IQoJUEeGsv772wTim0Q" name="setHome" specification="_ECm8oIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6IQ4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>home_Location = location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IRIJUEeGsv772wTim0Q" name="getHome" specification="_D_cT4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6IRYJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return home_Location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IRoJUEeGsv772wTim0Q" name="clearSpawn" specification="_D_cT4oJUEeGsv772wTim0Q">
                <language>java</language>
                <body>spawn_Location = null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IR4JUEeGsv772wTim0Q" name="clearHome" specification="_D_cT44JUEeGsv772wTim0Q">
                <language>java</language>
                <body>home_Location = null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6ISIJUEeGsv772wTim0Q" name="isInsideOwnLot" specification="_ECm8o4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6ISYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF6ISoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(!location.getWorld().getName().equalsIgnoreCase(&quot;world&quot;))&#xD;
			return false;&#xD;
		&#xD;
		for( Lot lot : this.lots )&#xD;
		{&#xD;
			if( lot.isInside(location) )&#xD;
			{&#xD;
				return true;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// The location was not in any of the player's lots&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IS4JUEeGsv772wTim0Q" name="isOnKillQuest" specification="_D_c68IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6ITIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(this.activeQuestData.isPlayerOnQuest() &amp;&amp; activeQuestData.getQuest() instanceof KillCreatureQuest)&#xD;
		{&#xD;
			return true;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			return false;&#xD;
		}&#xD;
			&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6ITYJUEeGsv772wTim0Q" name="getCodedName" specification="_D_c68oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6IToJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>char colorCode;&#xD;
		&#xD;
		if( id_Faction != 0 )&#xD;
			colorCode = plugin.factions.getColorCode(this.id_Faction);&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Owner&quot;) )&#xD;
			colorCode = 'o';&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Admin&quot;) )&#xD;
			colorCode = 'a';&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Moderator&quot;) )&#xD;
			colorCode = 'm';&#xD;
		else if( RageMod.perms.playerInGroup(&quot;world&quot;, this.name, &quot;Citizen&quot;) )&#xD;
			colorCode = 'c';&#xD;
		else&#xD;
			colorCode = 't';	// tourist&#xD;
			&#xD;
		return &quot;&lt;p&quot; + colorCode + &quot;>&quot; + this.name + &quot;&lt;/p&quot; + colorCode + &quot;>&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IT4JUEeGsv772wTim0Q" name="update" specification="_D_c69IJUEeGsv772wTim0Q">
                <language>java</language>
                <body>plugin.database.playerQueries.updatePlayer(this);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6IUIJUEeGsv772wTim0Q" name="getLanguageSkill" specification="_D_c69YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6IUYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF6IUoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.languageSkill.get(id);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vUIJUEeGsv772wTim0Q" name="setLanguageSkill" specification="_D_diAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vUYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF6vUoJUEeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.languageSkill.put(id, value);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vU4JUEeGsv772wTim0Q" name="recordNPCInteraction" specification="_ECm8poJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vVIJUEeGsv772wTim0Q" name="instance" type="_Aux0YIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>// Record the interaction&#xD;
		this.npcInteractions.add(instance.getID());&#xD;
		this.newNPCInteractions.add(instance.getID());&#xD;
		&#xD;
		// Increase the language skill, if applicable&#xD;
		if( instance.getRaceID() != plugin.config.NPC_HUMAN_ID &amp;&amp; this.languageSkill.get(instance.getRaceID()) &lt; 100 )&#xD;
		{&#xD;
			this.languageSkill.put(instance.getRaceID(), this.languageSkill.get(instance.getRaceID()) + 1);&#xD;
			&#xD;
			// Notify the player of increased language skill&#xD;
			if( player != null )&#xD;
				plugin.message.languageUp(player, instance.getRaceID(), 1, this.getLanguageSkill(instance.getRaceID()));&#xD;
		}&#xD;
		&#xD;
		// Increase the affinity&#xD;
		int npcID = instance.getNPCid();&#xD;
		if( npcAffinities.containsKey(npcID) )&#xD;
		{&#xD;
			npcAffinities.put(npcID, npcAffinities.get(npcID) + plugin.config.NPC_AFFINITY_GAIN_TALK);&#xD;
			if( npcAffinities.get(npcID) > plugin.config.NPC_AFFINITY_MAX )&#xD;
				npcAffinities.put(npcID, plugin.config.NPC_AFFINITY_MAX);&#xD;
		}&#xD;
		else&#xD;
			npcAffinities.put(npcID, instance.getDefaultAffinity() + plugin.config.NPC_AFFINITY_GAIN_TALK);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vVYJUEeGsv772wTim0Q" name="getNewInteractions" specification="_D_diA4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vVoJUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.newNPCInteractions;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vV4JUEeGsv772wTim0Q" name="setInteractions" specification="_ECm8qYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vWIJUEeGsv772wTim0Q" name="interactions" type="_Alf8kIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.npcInteractions = interactions;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vWYJUEeGsv772wTim0Q" name="isNewInteraction" specification="_D_eJEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vWoJUEeGsv772wTim0Q" name="instanceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF6vW4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return !npcInteractions.contains(instanceID);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vXIJUEeGsv772wTim0Q" name="setAffinities" specification="_ECnjsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vXYJUEeGsv772wTim0Q" name="affinities" type="_AkkIcYJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.npcAffinities = affinities;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vXoJUEeGsv772wTim0Q" name="getAffinities" specification="_D_eJE4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vX4JUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.npcAffinities;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF6vYIJUEeGsv772wTim0Q" name="isFirstMeeting" specification="_D_eJFYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF6vYYJUEeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF6vYoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return !npcAffinities.containsKey(npcID);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF7WYIJUEeGsv772wTim0Q" name="getAffinity" specification="_D_ewIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF7WYYJUEeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF7WYoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <language>java</language>
                <body>return npcAffinities.get(npcID);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_cT4IJUEeGsv772wTim0Q" name="getSpawn" method="_EF6IQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECmVmYJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_cT4YJUEeGsv772wTim0Q" name="getHome" method="_EF6IRIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECm8ooJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_cT4oJUEeGsv772wTim0Q" name="clearSpawn" method="_EF6IRoJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_cT44JUEeGsv772wTim0Q" name="clearHome" method="_EF6IR4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_c68IJUEeGsv772wTim0Q" name="isOnKillQuest" method="_EF6IS4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_c68YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_c68oJUEeGsv772wTim0Q" name="getCodedName" method="_EF6ITYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_c684JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_c69IJUEeGsv772wTim0Q" name="update" method="_EF6IT4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_c69YJUEeGsv772wTim0Q" name="getLanguageSkill" method="_EF6IUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_c69oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_c694JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_diAIJUEeGsv772wTim0Q" name="setLanguageSkill" method="_EF6vUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_diAYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_diAoJUEeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_diA4JUEeGsv772wTim0Q" name="getNewInteractions" method="_EF6vVYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECm8qIJUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_eJEIJUEeGsv772wTim0Q" name="isNewInteraction" method="_EF6vWYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_eJEYJUEeGsv772wTim0Q" name="instanceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_eJEoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_eJE4JUEeGsv772wTim0Q" name="getAffinities" method="_EF6vXoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECnjtYJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_eJFYJUEeGsv772wTim0Q" name="isFirstMeeting" method="_EF6vYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_eJFoJUEeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_eJF4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ewIIJUEeGsv772wTim0Q" name="getAffinity" method="_EF7WYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ewIYJUEeGsv772wTim0Q" name="npcID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_ewIoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ECmVkIJUEeGsv772wTim0Q" name="PlayerData" method="_EF5hOIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECmVkoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECmVk4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ECmVkYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECmVlIJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECmVlYJUEeGsv772wTim0Q" name="attachPlayer" method="_EF5hO4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECmVloJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECmVl4JUEeGsv772wTim0Q" name="setSpawn" method="_EF5hPYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECmVmIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECm8oIJUEeGsv772wTim0Q" name="setHome" method="_EF6IQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECm8oYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECm8o4JUEeGsv772wTim0Q" name="isInsideOwnLot" method="_EF6ISIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECm8pIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECm8pYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ECm8poJUEeGsv772wTim0Q" name="recordNPCInteraction" method="_EF6vU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECm8p4JUEeGsv772wTim0Q" name="instance" type="_Aux0YIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECm8qYJUEeGsv772wTim0Q" name="setInteractions" method="_EF6vV4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECnjsIJUEeGsv772wTim0Q" name="interactions" type="_Alf8kIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECnjsoJUEeGsv772wTim0Q" name="setAffinities" method="_EF6vXIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECnjs4JUEeGsv772wTim0Q" name="affinities" type="_AkkIcYJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Akkvg4JUEeGsv772wTim0Q" name="Lots">
              <ownedAttribute xmi:id="_EFaZAYJUEeGsv772wTim0Q" name="lots" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGpIE4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFaZBIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGpIFoJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46LIJUEeGsv772wTim0Q" name="Lots" specification="_ECj5UIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF46LYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF46LoJUEeGsv772wTim0Q" type="_Akkvg4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		lots = new HashMap&lt;String, Lot>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46L4JUEeGsv772wTim0Q" name="loadLots" specification="_D_ZQkIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>lots = plugin.database.lotQueries.loadLots();&#xD;
		&#xD;
		if(lots == null) &#xD;
		{&#xD;
			lots = new HashMap&lt;String, Lot>();&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46MIJUEeGsv772wTim0Q" name="put" specification="_EEsAQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF46MYJUEeGsv772wTim0Q" name="lot" type="_EEsAQIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>lots.put(lot.getLotCode(), lot);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46MoJUEeGsv772wTim0Q" name="get" specification="_D_ZQkYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF46M4JUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF46NIJUEeGsv772wTim0Q" type="_EEsAQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if( lots.containsKey(lotCode.toUpperCase()) )&#xD;
 		return lots.get(lotCode.toUpperCase());&#xD;
 	else&#xD;
 	{&#xD;
 		System.out.println(&quot;Error: Lots.Get called on non-existent lot code &quot; + lotCode);&#xD;
 		return null;&#xD;
 	}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF5hMIJUEeGsv772wTim0Q" name="get" specification="_D_ZQk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF5hMYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF5hMoJUEeGsv772wTim0Q" type="_EEsAQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>for( Lot lot : lots.values() )&#xD;
		{&#xD;
 		if( lot.id_Lot == id )&#xD;
			{&#xD;
				return lot;&#xD;
			}&#xD;
		}&#xD;
 	&#xD;
 	// If we reach this point, we did not find a lot&#xD;
 	System.out.println(&quot;Error: Lots.Get called on non-existent lot ID &quot; + id);&#xD;
 	return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF5hM4JUEeGsv772wTim0Q" name="getAll" specification="_D_ZQlYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF5hNIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;Lot> lotsList = new ArrayList&lt;Lot>();&#xD;
 	&#xD;
 	for(Lot lot : lots.values()) &#xD;
 	{&#xD;
 		lotsList.add(lot);&#xD;
 	}&#xD;
 	&#xD;
 	return lotsList;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF5hNYJUEeGsv772wTim0Q" name="findCurrentLot" specification="_ECkgYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF5hNoJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF5hN4JUEeGsv772wTim0Q" type="_EEsAQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if(!loc.getWorld().getName().equals(&quot;world&quot;))&#xD;
 		return null;&#xD;
 	&#xD;
 	for( Lot lot : lots.values() )&#xD;
		{&#xD;
 		if( lot.isInside(loc) )&#xD;
			{&#xD;
				return lot;&#xD;
			}&#xD;
		}&#xD;
 	&#xD;
 	// If we reach this point, we did not find a lot&#xD;
 	return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_ZQkIJUEeGsv772wTim0Q" name="loadLots" method="_EF46L4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_ZQkYJUEeGsv772wTim0Q" name="get" method="_EF46MoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ZQkoJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEsARIJUEeGsv772wTim0Q" type="_EEsAQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ZQk4JUEeGsv772wTim0Q" name="get" method="_EF5hMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ZQlIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEsnUIJUEeGsv772wTim0Q" type="_EEsAQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ZQlYJUEeGsv772wTim0Q" name="getAll" method="_EF5hM4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECj5VYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECj5UIJUEeGsv772wTim0Q" name="Lots" method="_EF46LIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECj5UoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECj5U4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ECj5UYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECj5VIJUEeGsv772wTim0Q" type="_Akkvg4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECkgYIJUEeGsv772wTim0Q" name="findCurrentLot" method="_EF5hNYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECkgYYJUEeGsv772wTim0Q" name="loc" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEsnUYJUEeGsv772wTim0Q" type="_EEsAQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEsAQoJUEeGsv772wTim0Q" name="put" method="_EF46MIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEsAQ4JUEeGsv772wTim0Q" name="lot" type="_EEsAQIJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AklWkYJUEeGsv772wTim0Q" name="Tasks">
              <ownedAttribute xmi:id="_EFji8IJUEeGsv772wTim0Q" name="tasks" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGuAkIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFkKAIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGuAk4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF7WY4JUEeGsv772wTim0Q" name="Tasks" specification="_ECp_8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF7WZIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF7WZYJUEeGsv772wTim0Q" type="_AklWkYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF7WZoJUEeGsv772wTim0Q" name="loadTaskTimes" specification="_D_jBkIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>tasks = plugin.database.taskQueries.loadTaskTimes();&#xD;
		if(tasks == null)&#xD;
			tasks = new HashMap&lt;String, Timestamp>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF7WZ4JUEeGsv772wTim0Q" name="setComplete" specification="_D_jBkYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF7WaIJUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>tasks.put(taskName, Util.now());&#xD;
		plugin.database.taskQueries.setComplete(taskName);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF7WaYJUEeGsv772wTim0Q" name="getSeconds" specification="_D_jBk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF7WaoJUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF7Wa4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// If we have a null value, the task has never been run, so return a huge value to force it to run&#xD;
		if( !tasks.containsKey(taskName) || tasks.get(taskName) == null )&#xD;
			return Integer.MAX_VALUE;&#xD;
		else&#xD;
			return (int)((Util.now().getTime() - tasks.get(taskName).getTime()) / 1000);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79cIJUEeGsv772wTim0Q" name="processTownUpkeeps" specification="_D_jooYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>double remaining;&#xD;
		double cost = plugin.config.Town_UPKEEP_PER_PLAYER;&#xD;
		int totalBlocks = 0;&#xD;
		int actualBlocks;&#xD;
		int income;&#xD;
		PlayerData playerData;&#xD;
		ArrayList&lt;String> evictList;&#xD;
		&#xD;
		if( plugin.config.PRE_RELEASE_MODE )&#xD;
			return;&#xD;
		&#xD;
		System.out.println(&quot;Beginning town upkeep processing...&quot;);&#xD;
		&#xD;
		// Notify players of incoming lag&#xD;
		plugin.message.broadcast(&quot;Beginning Ragemod upkeep tasks, hold on tight...&quot;, ChatColor.DARK_GREEN); // TODO: Store colors in config&#xD;
		&#xD;
		for( PlayerTown town : plugin.towns.getAllPlayerTowns() )&#xD;
		{&#xD;
			// *****  INCOME  *****&#xD;
			// Move through each town resident to give money&#xD;
			for( String playerName : town.residents )&#xD;
			{&#xD;
				playerData = plugin.players.get(playerName);&#xD;
				income = playerData.treasuryBlocks * plugin.config.INCOME_PER_BLOCK;&#xD;
				playerData.treasuryBalance += income;&#xD;
				playerData.update();&#xD;
				town.treasuryBalance += income;&#xD;
				plugin.database.townQueries.townDeposit(town.id, playerData.id_Player, (income));&#xD;
				totalBlocks += playerData.treasuryBlocks;&#xD;
			}&#xD;
			&#xD;
			if( totalBlocks > 0 )&#xD;
				System.out.println(&quot;Awarded &quot; + town.name + &quot; &quot; + RageMod.econ.format(totalBlocks * plugin.config.INCOME_PER_BLOCK) + &quot; for treasury blocks.&quot;);&#xD;
			&#xD;
			// *****  SANCTUM CLEANUP  *****&#xD;
			// Make sure the number of physical blocks in the treasury matches the database values&#xD;
			actualBlocks = town.countTreasuryBlocks();&#xD;
			&#xD;
			if( actualBlocks > totalBlocks )&#xD;
			{&#xD;
				System.out.println(&quot;WARNING: &quot; + town.name + &quot; has &quot; + actualBlocks + &quot; gold blocks in its sanctum, yet only &quot; + totalBlocks + &#xD;
						&quot; are recorded in the database.  Deleting &quot; + (actualBlocks - totalBlocks) + &quot; blocks to correct this.&quot;);&#xD;
				town.removeTreasuryBlocks(actualBlocks - totalBlocks);&#xD;
			}&#xD;
			else if( actualBlocks &lt; totalBlocks )&#xD;
			{&#xD;
				int difference = totalBlocks - actualBlocks;&#xD;
				System.out.println(&quot;WARNING: &quot; + town.name + &quot; has &quot; + actualBlocks + &quot; gold blocks in its sanctum, but &quot; + totalBlocks + &#xD;
						&quot; are recorded in the database.  Removing &quot; + difference + &quot; blocks from database to correct this.&quot;);&#xD;
				&#xD;
				// Go through the residents one by one, lowering their block values until the discrepancy is resolved.&#xD;
				// It will go through players that appear earliest in the database first, but as this situation should never&#xD;
				// happen in actual play, it shouldn't be a problem&#xD;
				for( String playerName : town.residents )&#xD;
				{&#xD;
					playerData = plugin.players.get(playerName);&#xD;
					if( playerData.treasuryBlocks > 0 )&#xD;
					{&#xD;
						playerData.treasuryBlocks--;&#xD;
						RageMod.econ.bankDeposit(playerData.name, plugin.config.PRICE_GOLD);&#xD;
						playerData.update();&#xD;
						difference--;&#xD;
						if( difference == 0 )&#xD;
							break;&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			&#xD;
			// *****  TAXES  *****&#xD;
			&#xD;
			// Set the total amount needed to be collected&#xD;
			remaining = town.getLevel().upkeepCost;&#xD;
			&#xD;
			evictList = new ArrayList&lt;String>();&#xD;
			&#xD;
			// Move through each town resident to collect money&#xD;
			for( String playerName : town.residents )&#xD;
			{&#xD;
				playerData = plugin.players.get(playerName);&#xD;
				&#xD;
				// Attempt to collect from player's iConomy balance first&#xD;
				if( RageMod.econ.has(playerName, cost) )&#xD;
				{&#xD;
					remaining -= cost;&#xD;
				}&#xD;
				// If they don't have enough on hand, see if they have deposits in the treasury&#xD;
				else if( playerData.treasuryBalance >= cost )&#xD;
				{&#xD;
					playerData.treasuryBalance -= cost;&#xD;
					town.treasuryBalance -= cost;&#xD;
					remaining -= cost;&#xD;
					playerData.update();&#xD;
					plugin.database.townQueries.townDeposit(town.id, playerData.id_Player, (cost * -1));&#xD;
				}&#xD;
				// If the player doesn't have the funds in either area, evict their freeloading ass&#xD;
				else if( !playerData.isMayor )&#xD;
				{&#xD;
					System.out.println(&quot;Automatically evicting &quot; + playerData.name + &quot; from &quot; + town.name + &quot;.&quot;);&#xD;
					playerData.clearSpawn();&#xD;
					playerData.treasuryBalance = 0;&#xD;
					playerData.logonMessageQueue += &quot;You have been automatically evicted from &quot; + &#xD;
							plugin.towns.get(playerData.townName).getCodedName() + &quot; for inability to pay taxes.&lt;br>&quot;;&#xD;
					playerData.townName = &quot;&quot;;&#xD;
					&#xD;
					evictList.add(playerName);&#xD;
					playerData.update();&#xD;
					&#xD;
					// TODO: Delete the player's treasury blocks, give them money&#xD;
					//				... wait a minute.  If the player had a treasury block, they wouldn't get evicted, would they :P&#xD;
					//				This DOES need to get written for town.leave and town.evict though.&#xD;
				}&#xD;
			}&#xD;
			&#xD;
			// Evict queued residents, if any&#xD;
			for( String evictName : evictList )&#xD;
			{&#xD;
				town.removeResident(evictName);&#xD;
			}&#xD;
			&#xD;
			// At this point we will have collected an amount of money less, equal to, or more than the town's upkeep&#xD;
			town.treasuryBalance -= remaining;&#xD;
			&#xD;
			// If the treasury balance is in the negative, the town is bankrupt&#xD;
			if( town.treasuryBalance &lt; 0 )&#xD;
			{&#xD;
				if( town.bankruptDate == null )&#xD;
				{&#xD;
					System.out.println(&quot;The town of &quot; + town.name + &quot; is now bankrupt.&quot;);&#xD;
					town.bankruptDate = Util.now();&#xD;
				}&#xD;
				else&#xD;
				{&#xD;
					// At this point the town has been bankrupt for some time - delete after specified time&#xD;
					if( Util.daysBetween(Util.now(), town.bankruptDate) > plugin.config.Town_MAX_BANKRUPT_DAYS )&#xD;
					{&#xD;
						PlayerData ownerData = plugin.players.get(plugin.config.OWNER_NAME);&#xD;
						String ownerMessages = ownerData.logonMessageQueue;&#xD;
						String bankruptMessage = &quot;The town of &quot; + town.getCodedName() + &quot; has been bankrupt for over &quot; + plugin.config.Town_MAX_BANKRUPT_DAYS +&#xD;
								&quot; days and has been set to deleted.&lt;br>&quot;;&#xD;
						&#xD;
						if( !ownerMessages.contains(bankruptMessage) )&#xD;
						{&#xD;
							ownerMessages += bankruptMessage;&#xD;
							ownerData.update();&#xD;
						}&#xD;
						&#xD;
						town.isDeleted = true;&#xD;
						plugin.towns.remove(town);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				town.bankruptDate = null;&#xD;
			}&#xD;
			&#xD;
			town.update();		// Update town info in database&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79cYJUEeGsv772wTim0Q" name="processFillSandlot" specification="_ECp_9YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF79coJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>World world = plugin.getServer().getWorld(&quot;world&quot;);&#xD;
		Random random = new Random();&#xD;
		&#xD;
		System.out.println(&quot;Refilling sand lot...&quot;);&#xD;
		&#xD;
		// Look for players who are currently in the area and evacuate them&#xD;
		for( Player player : plugin.getServer().getOnlinePlayers() )&#xD;
		{&#xD;
			if( plugin.zones.isInSandlot(player.getLocation()) )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;Automatically refilling sand lot - get out of the way!&quot;);&#xD;
				player.teleport(world.getSpawnLocation());&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		Block currentBlock;&#xD;
		&#xD;
		for( int x = (int)RageZones.Capitol_SandLot.nwCorner.getX(); x &lt;= (int)RageZones.Capitol_SandLot.seCorner.getX(); x++ )&#xD;
		{&#xD;
			for( int y = (int)RageZones.Capitol_SandLot.nwCorner.getY(); y &lt;= (int)RageZones.Capitol_SandLot.seCorner.getY(); y++ )&#xD;
			{&#xD;
				for( int z = (int)RageZones.Capitol_SandLot.nwCorner.getZ(); z >= (int)RageZones.Capitol_SandLot.seCorner.getZ(); z-- )&#xD;
				{&#xD;
					currentBlock = world.getBlockAt(x, y, z);&#xD;
					if( random.nextInt( plugin.config.Capitol_SANDLOT_GOLD_ODDS ) == 0 )&#xD;
						currentBlock.setType(Material.GOLD_ORE);&#xD;
					else if( random.nextInt( plugin.config.Capitol_SANDLOT_DIAMOND_ODDS ) == 0 ) &#xD;
						currentBlock.setType(Material.DIAMOND_ORE);&#xD;
					else&#xD;
						currentBlock.setType(Material.SAND);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79c4JUEeGsv772wTim0Q" name="spawnNPCs" specification="_D_joooJUEeGsv772wTim0Q">
                <language>java</language>
                <body>// Spawn non-town NPCs&#xD;
		ArrayList&lt;NPCInstance> floatingInstances = plugin.npcManager.getFloatingInstances();&#xD;
		&#xD;
		for( int i = floatingInstances.size(); i &lt; plugin.config.NPC_TOTAL_FLOATING; i++ )&#xD;
		{&#xD;
			NPCInstance instance = plugin.npcManager.spawnRandomFloating();&#xD;
			if( instance != null )&#xD;
				System.out.println(&quot;Spawned NPC &quot; + instance.getName() + &quot; at location #&quot; + instance.getLocation().getID() + &quot;.&quot;);&#xD;
		}&#xD;
		&#xD;
		// Spawn town NPCs&#xD;
		for( NPCTown town : plugin.towns.getAllNPCTowns() )&#xD;
		{&#xD;
			ArrayList&lt;NPCLocation> townLocations = plugin.npcManager.getActiveTownLocations(town.getID());&#xD;
			for( int i = townLocations.size(); i &lt; town.townLevel.maxNPCs; i++ )&#xD;
			{&#xD;
				NPCInstance instance = plugin.npcManager.spawnRandomInTown(town.getID());&#xD;
				if( instance != null )&#xD;
					System.out.println(&quot;Spawned NPC &quot; + instance.getName() + &quot; in town &quot; + town.getName() + &#xD;
							&quot; at location #&quot; + instance.getLocation().getID() + &quot;.&quot;);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Despawn NPCs&#xD;
		plugin.npcManager.despawnExpired();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_jBkIJUEeGsv772wTim0Q" name="loadTaskTimes" method="_EF7WZoJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_jBkYJUEeGsv772wTim0Q" name="setComplete" method="_EF7WZ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_jBkoJUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_jBk4JUEeGsv772wTim0Q" name="getSeconds" method="_EF7WaYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_jBlIJUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_jooIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_jooYJUEeGsv772wTim0Q" name="processTownUpkeeps" method="_EF79cIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_joooJUEeGsv772wTim0Q" name="spawnNPCs" method="_EF79c4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_ECp_8IJUEeGsv772wTim0Q" name="Tasks" method="_EF7WY4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECp_8oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECp_84JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ECp_8YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECp_9IJUEeGsv772wTim0Q" type="_AklWkYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECp_9YJUEeGsv772wTim0Q" name="processFillSandlot" method="_EF79cYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECp_9oJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AuvYJIJUEeGsv772wTim0Q" name="Exception"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_Au8McYJUEeGsv772wTim0Q" name="Comparable"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_BApnhIJUEeGsv772wTim0Q" name="" memberEnd="_A3KUVYJUEeGsv772wTim0Q _BApnhYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BApnhYJUEeGsv772wTim0Q" name="" type="_Ab9mEIJUEeGsv772wTim0Q" association="_BApnhIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBc4xIJUEeGsv772wTim0Q" name="" memberEnd="_BBc4xYJUEeGsv772wTim0Q _A3BKYIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBc4xYJUEeGsv772wTim0Q" name="" type="_AbhhMIJUEeGsv772wTim0Q" association="_BBc4xIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBc4x4JUEeGsv772wTim0Q" name="" memberEnd="_BBc4yIJUEeGsv772wTim0Q _A3BxcYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBc4yIJUEeGsv772wTim0Q" name="" type="_AbhhMIJUEeGsv772wTim0Q" association="_BBc4x4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBdf0YJUEeGsv772wTim0Q" name="" memberEnd="_BBdf0oJUEeGsv772wTim0Q _A3CYgoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBdf0oJUEeGsv772wTim0Q" name="" type="_AblyoIJUEeGsv772wTim0Q" association="_BBdf0YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBdf1IJUEeGsv772wTim0Q" name="" memberEnd="_BBdf1YJUEeGsv772wTim0Q _A3DmoIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBdf1YJUEeGsv772wTim0Q" name="" type="_AbsgUIJUEeGsv772wTim0Q" association="_BBdf1IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBeG4IJUEeGsv772wTim0Q" name="" memberEnd="_BBeG4YJUEeGsv772wTim0Q _A3ENs4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBeG4YJUEeGsv772wTim0Q" name="" type="_AbsgUIJUEeGsv772wTim0Q" association="_BBeG4IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBeG44JUEeGsv772wTim0Q" name="" memberEnd="_BBeG5IJUEeGsv772wTim0Q _A3GC5IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBeG5IJUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBeG44JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBeG5oJUEeGsv772wTim0Q" name="" memberEnd="_BBeG54JUEeGsv772wTim0Q _A3Gp8YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBeG54JUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBeG5oJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBet8YJUEeGsv772wTim0Q" name="" memberEnd="_BBet8oJUEeGsv772wTim0Q _A3Gp8oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBet8oJUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBet8YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBet9IJUEeGsv772wTim0Q" name="" memberEnd="_BBet9YJUEeGsv772wTim0Q _A3Gp84JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBet9YJUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBet9IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBet94JUEeGsv772wTim0Q" name="" memberEnd="_BBet-IJUEeGsv772wTim0Q _A3Gp9IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBet-IJUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBet94JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBfVAYJUEeGsv772wTim0Q" name="" memberEnd="_BBfVAoJUEeGsv772wTim0Q _A3HRAYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBfVAoJUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBfVAYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBfVBIJUEeGsv772wTim0Q" name="" memberEnd="_BBfVBYJUEeGsv772wTim0Q _A3HRA4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBfVBYJUEeGsv772wTim0Q" name="" type="_AbzOAIJUEeGsv772wTim0Q" association="_BBfVBIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBf8EYJUEeGsv772wTim0Q" name="" memberEnd="_BBf8EoJUEeGsv772wTim0Q _A3JGM4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBf8EoJUEeGsv772wTim0Q" name="" type="_Ab9mEIJUEeGsv772wTim0Q" association="_BBf8EYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBf8FIJUEeGsv772wTim0Q" name="" memberEnd="_BBf8FYJUEeGsv772wTim0Q _A3JGNIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBf8FYJUEeGsv772wTim0Q" name="" type="_Ab9mEIJUEeGsv772wTim0Q" association="_BBf8FIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBf8F4JUEeGsv772wTim0Q" name="" memberEnd="_BBf8GIJUEeGsv772wTim0Q _A3JtQ4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBf8GIJUEeGsv772wTim0Q" name="" type="_Ab9mEIJUEeGsv772wTim0Q" association="_BBf8F4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBgjIYJUEeGsv772wTim0Q" name="" memberEnd="_BBgjIoJUEeGsv772wTim0Q _A3K7YIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBgjIoJUEeGsv772wTim0Q" name="" type="_AcDssIJUEeGsv772wTim0Q" association="_BBgjIYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBgjJIJUEeGsv772wTim0Q" name="" memberEnd="_BBgjJYJUEeGsv772wTim0Q _A3LicIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBgjJYJUEeGsv772wTim0Q" name="" type="_AcDssIJUEeGsv772wTim0Q" association="_BBgjJIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBhKMIJUEeGsv772wTim0Q" name="" memberEnd="_BBhKMYJUEeGsv772wTim0Q _A3Lic4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBhKMYJUEeGsv772wTim0Q" name="" type="_AcDssIJUEeGsv772wTim0Q" association="_BBhKMIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBhKM4JUEeGsv772wTim0Q" name="" memberEnd="_BBhKNIJUEeGsv772wTim0Q _A3MJgoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBhKNIJUEeGsv772wTim0Q" name="" type="_AcDssIJUEeGsv772wTim0Q" association="_BBhKM4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBhKNoJUEeGsv772wTim0Q" name="" memberEnd="_BBhKN4JUEeGsv772wTim0Q _A3MwkIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBhKN4JUEeGsv772wTim0Q" name="" type="_AcDssIJUEeGsv772wTim0Q" association="_BBhKNoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBhxQYJUEeGsv772wTim0Q" name="" memberEnd="_BBhxQoJUEeGsv772wTim0Q _A3NXoIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBhxQoJUEeGsv772wTim0Q" name="" type="_AcX1wIJUEeGsv772wTim0Q" association="_BBhxQYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBhxRIJUEeGsv772wTim0Q" name="" memberEnd="_BBhxRYJUEeGsv772wTim0Q _A3N-sIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBhxRYJUEeGsv772wTim0Q" name="" type="_AcX1wIJUEeGsv772wTim0Q" association="_BBhxRIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBhxR4JUEeGsv772wTim0Q" name="" memberEnd="_BBhxSIJUEeGsv772wTim0Q _A3N-soJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBhxSIJUEeGsv772wTim0Q" name="" type="_AcX1wIJUEeGsv772wTim0Q" association="_BBhxR4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBiYUYJUEeGsv772wTim0Q" name="" memberEnd="_BBiYUoJUEeGsv772wTim0Q _A3OlwIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBiYUoJUEeGsv772wTim0Q" name="" type="_Aca5EIJUEeGsv772wTim0Q" association="_BBiYUYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBiYVIJUEeGsv772wTim0Q" name="" memberEnd="_BBiYVYJUEeGsv772wTim0Q _A3Olw4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBiYVYJUEeGsv772wTim0Q" name="" type="_Aca5EIJUEeGsv772wTim0Q" association="_BBiYVIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBi_YYJUEeGsv772wTim0Q" name="" memberEnd="_BBi_YoJUEeGsv772wTim0Q _A3PM0oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBi_YoJUEeGsv772wTim0Q" name="" type="_Aca5EIJUEeGsv772wTim0Q" association="_BBi_YYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBi_ZIJUEeGsv772wTim0Q" name="" memberEnd="_BBi_ZYJUEeGsv772wTim0Q _A3Pz4YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBi_ZYJUEeGsv772wTim0Q" name="" type="_Aca5EIJUEeGsv772wTim0Q" association="_BBi_ZIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBi_Z4JUEeGsv772wTim0Q" name="" memberEnd="_BBi_aIJUEeGsv772wTim0Q _A3Pz5IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBi_aIJUEeGsv772wTim0Q" name="" type="_Aca5EIJUEeGsv772wTim0Q" association="_BBi_Z4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBjmcYJUEeGsv772wTim0Q" name="" memberEnd="_BBjmcoJUEeGsv772wTim0Q _A3RCAYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBjmcoJUEeGsv772wTim0Q" name="" type="_AcfxkIJUEeGsv772wTim0Q" association="_BBjmcYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBjmdIJUEeGsv772wTim0Q" name="" memberEnd="_BBjmdYJUEeGsv772wTim0Q _A3RCA4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBjmdYJUEeGsv772wTim0Q" name="" type="_AcfxkIJUEeGsv772wTim0Q" association="_BBjmdIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBkNgYJUEeGsv772wTim0Q" name="" memberEnd="_BBkNgoJUEeGsv772wTim0Q _A3RpEYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBkNgoJUEeGsv772wTim0Q" name="" type="_AckqEIJUEeGsv772wTim0Q" association="_BBkNgYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBkNhIJUEeGsv772wTim0Q" name="" memberEnd="_BBkNhYJUEeGsv772wTim0Q _A3SQIIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBkNhYJUEeGsv772wTim0Q" name="" type="_AckqEIJUEeGsv772wTim0Q" association="_BBkNhIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBk0kIJUEeGsv772wTim0Q" name="" memberEnd="_BBk0kYJUEeGsv772wTim0Q _A3SQIoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBk0kYJUEeGsv772wTim0Q" name="" type="_AckqEIJUEeGsv772wTim0Q" association="_BBk0kIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBk0k4JUEeGsv772wTim0Q" name="" memberEnd="_BBk0lIJUEeGsv772wTim0Q _A3SQI4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBk0lIJUEeGsv772wTim0Q" name="" type="_AckqEIJUEeGsv772wTim0Q" association="_BBk0k4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBk0loJUEeGsv772wTim0Q" name="" memberEnd="_BBk0l4JUEeGsv772wTim0Q _A3TeRIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBk0l4JUEeGsv772wTim0Q" name="" type="_AcoUcIJUEeGsv772wTim0Q" association="_BBk0loJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBlboYJUEeGsv772wTim0Q" name="" memberEnd="_BBlbooJUEeGsv772wTim0Q _A3UFVYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBlbooJUEeGsv772wTim0Q" name="" type="_AcoUcIJUEeGsv772wTim0Q" association="_BBlboYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBlbpIJUEeGsv772wTim0Q" name="" memberEnd="_BBlbpYJUEeGsv772wTim0Q _A3UsYoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBlbpYJUEeGsv772wTim0Q" name="" type="_AcoUcIJUEeGsv772wTim0Q" association="_BBlbpIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBmCsIJUEeGsv772wTim0Q" name="" memberEnd="_BBmCsYJUEeGsv772wTim0Q _A3UsZIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBmCsYJUEeGsv772wTim0Q" name="" type="_AcoUcIJUEeGsv772wTim0Q" association="_BBmCsIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBmCs4JUEeGsv772wTim0Q" name="" memberEnd="_BBmCtIJUEeGsv772wTim0Q _A3VTcYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBmCtIJUEeGsv772wTim0Q" name="" type="_AcoUcIJUEeGsv772wTim0Q" association="_BBmCs4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBmCtoJUEeGsv772wTim0Q" name="" memberEnd="_BBmCt4JUEeGsv772wTim0Q _A3VTc4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBmCt4JUEeGsv772wTim0Q" name="" type="_AcvpMIJUEeGsv772wTim0Q" association="_BBmCtoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBmpwYJUEeGsv772wTim0Q" name="" memberEnd="_BBmpwoJUEeGsv772wTim0Q _A3V6goJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBmpwoJUEeGsv772wTim0Q" name="" type="_AcvpMIJUEeGsv772wTim0Q" association="_BBmpwYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBmpxIJUEeGsv772wTim0Q" name="" memberEnd="_BBmpxYJUEeGsv772wTim0Q _A3WhkIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBmpxYJUEeGsv772wTim0Q" name="" type="_AcyFcIJUEeGsv772wTim0Q" association="_BBmpxIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BID3EYJUEeGsv772wTim0Q" name="" memberEnd="_BID3EoJUEeGsv772wTim0Q _A3WhkoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BID3EoJUEeGsv772wTim0Q" name="" type="_AcysgIJUEeGsv772wTim0Q" association="_BID3EYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BID3FIJUEeGsv772wTim0Q" name="" memberEnd="_BID3FYJUEeGsv772wTim0Q _A3WhlIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BID3FYJUEeGsv772wTim0Q" name="" type="_AcysgIJUEeGsv772wTim0Q" association="_BID3FIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIEeIYJUEeGsv772wTim0Q" name="" memberEnd="_BIEeIoJUEeGsv772wTim0Q _A3XIoIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIEeIoJUEeGsv772wTim0Q" name="" type="_Ac2W4IJUEeGsv772wTim0Q" association="_BIEeIYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIEeJIJUEeGsv772wTim0Q" name="" memberEnd="_BIEeJYJUEeGsv772wTim0Q _A3XIooJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIEeJYJUEeGsv772wTim0Q" name="" type="_Ac2W4IJUEeGsv772wTim0Q" association="_BIEeJIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIFFMYJUEeGsv772wTim0Q" name="" memberEnd="_BIFFMoJUEeGsv772wTim0Q _A3XvtIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIFFMoJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIFFMYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIFFNIJUEeGsv772wTim0Q" name="" memberEnd="_BIFFNYJUEeGsv772wTim0Q _A3YWwYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIFFNYJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIFFNIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIFFN4JUEeGsv772wTim0Q" name="" memberEnd="_BIFFOIJUEeGsv772wTim0Q _A3YWw4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIFFOIJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIFFN4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIFsQYJUEeGsv772wTim0Q" name="" memberEnd="_BIFsQoJUEeGsv772wTim0Q _A3YWxYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIFsQoJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIFsQYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIFsRIJUEeGsv772wTim0Q" name="" memberEnd="_BIFsRYJUEeGsv772wTim0Q _A3Y90YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIFsRYJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIFsRIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIGTUYJUEeGsv772wTim0Q" name="" memberEnd="_BIGTUoJUEeGsv772wTim0Q _A3Y904JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIGTUoJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIGTUYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIGTVIJUEeGsv772wTim0Q" name="" memberEnd="_BIGTVYJUEeGsv772wTim0Q _A3Zk4YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIGTVYJUEeGsv772wTim0Q" name="" type="_Ac4zIIJUEeGsv772wTim0Q" association="_BIGTVIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIG6YIJUEeGsv772wTim0Q" name="" memberEnd="_BIG6YYJUEeGsv772wTim0Q _A3cBIYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIG6YYJUEeGsv772wTim0Q" name="" type="_Ac9roIJUEeGsv772wTim0Q" association="_BIG6YIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIG6Y4JUEeGsv772wTim0Q" name="" memberEnd="_BIG6ZIJUEeGsv772wTim0Q _A3cBJIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIG6ZIJUEeGsv772wTim0Q" name="" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BIG6Y4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIG6ZoJUEeGsv772wTim0Q" name="" memberEnd="_BIG6Z4JUEeGsv772wTim0Q _A3coMoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIG6Z4JUEeGsv772wTim0Q" name="" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BIG6ZoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIHhcYJUEeGsv772wTim0Q" name="" memberEnd="_BIHhcoJUEeGsv772wTim0Q _A3dPQYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIHhcoJUEeGsv772wTim0Q" name="" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BIHhcYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIHhdIJUEeGsv772wTim0Q" name="" memberEnd="_BIHhdYJUEeGsv772wTim0Q _A3dPRIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIHhdYJUEeGsv772wTim0Q" name="" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BIHhdIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIIIgIJUEeGsv772wTim0Q" name="" memberEnd="_BIIIgYJUEeGsv772wTim0Q _A3d2UoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIIIgYJUEeGsv772wTim0Q" name="" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BIIIgIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIIIg4JUEeGsv772wTim0Q" name="" memberEnd="_BIIIhIJUEeGsv772wTim0Q _A3edYYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIIIhIJUEeGsv772wTim0Q" name="" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BIIIg4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGpIE4JUEeGsv772wTim0Q" name="" memberEnd="_EGpIFIJUEeGsv772wTim0Q _EFaZAYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGpIFIJUEeGsv772wTim0Q" name="" type="_Akkvg4JUEeGsv772wTim0Q" association="_EGpIE4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGpIFoJUEeGsv772wTim0Q" name="" memberEnd="_EGpIF4JUEeGsv772wTim0Q _EFaZBIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGpIF4JUEeGsv772wTim0Q" name="" type="_Akkvg4JUEeGsv772wTim0Q" association="_EGpIFoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGpvIYJUEeGsv772wTim0Q" name="" memberEnd="_EGpvIoJUEeGsv772wTim0Q _EFbnJoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGpvIoJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGpvIYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGpvJIJUEeGsv772wTim0Q" name="" memberEnd="_EGpvJYJUEeGsv772wTim0Q _EFc1QIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGpvJYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGpvJIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGqWMIJUEeGsv772wTim0Q" name="" memberEnd="_EGqWMYJUEeGsv772wTim0Q _EFc1QoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGqWMYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGqWMIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGqWM4JUEeGsv772wTim0Q" name="" memberEnd="_EGqWNIJUEeGsv772wTim0Q _EFc1RoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGqWNIJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGqWM4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGqWNoJUEeGsv772wTim0Q" name="" memberEnd="_EGqWN4JUEeGsv772wTim0Q _EFdcUYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGqWN4JUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGqWNoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGq9QIJUEeGsv772wTim0Q" name="" memberEnd="_EGq9QYJUEeGsv772wTim0Q _EFeqdYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGq9QYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGq9QIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGq9Q4JUEeGsv772wTim0Q" name="" memberEnd="_EGq9RIJUEeGsv772wTim0Q _EFfRgoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGq9RIJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGq9Q4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGq9RoJUEeGsv772wTim0Q" name="" memberEnd="_EGq9R4JUEeGsv772wTim0Q _EFf4koJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGq9R4JUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGq9RoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGrkUYJUEeGsv772wTim0Q" name="" memberEnd="_EGrkUoJUEeGsv772wTim0Q _EFf4lYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGrkUoJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGrkUYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGrkVIJUEeGsv772wTim0Q" name="" memberEnd="_EGrkVYJUEeGsv772wTim0Q _EFgfooJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGrkVYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGrkVIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGsLYIJUEeGsv772wTim0Q" name="" memberEnd="_EGsLYYJUEeGsv772wTim0Q _EFhGsYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGsLYYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGsLYIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGsLY4JUEeGsv772wTim0Q" name="" memberEnd="_EGsLZIJUEeGsv772wTim0Q _EFhGtIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGsLZIJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGsLY4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGsLZoJUEeGsv772wTim0Q" name="" memberEnd="_EGsLZ4JUEeGsv772wTim0Q _EFhtwoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGsLZ4JUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGsLZoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGsycYJUEeGsv772wTim0Q" name="" memberEnd="_EGsycoJUEeGsv772wTim0Q _EFhtxIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGsycoJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGsycYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGsydIJUEeGsv772wTim0Q" name="" memberEnd="_EGsydYJUEeGsv772wTim0Q _EFiU0oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGsydYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGsydIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGsyd4JUEeGsv772wTim0Q" name="" memberEnd="_EGsyeIJUEeGsv772wTim0Q _EFiU1YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGsyeIJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGsyd4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGtZgYJUEeGsv772wTim0Q" name="" memberEnd="_EGtZgoJUEeGsv772wTim0Q _EFi74IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGtZgoJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGtZgYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGtZhIJUEeGsv772wTim0Q" name="" memberEnd="_EGtZhYJUEeGsv772wTim0Q _EFi74oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGtZhYJUEeGsv772wTim0Q" name="" type="_AkeB0YJUEeGsv772wTim0Q" association="_EGtZhIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGuAkIJUEeGsv772wTim0Q" name="" memberEnd="_EGuAkYJUEeGsv772wTim0Q _EFji8IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGuAkYJUEeGsv772wTim0Q" name="" type="_AklWkYJUEeGsv772wTim0Q" association="_EGuAkIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGuAk4JUEeGsv772wTim0Q" name="" memberEnd="_EGuAlIJUEeGsv772wTim0Q _EFkKAIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGuAlIJUEeGsv772wTim0Q" name="" type="_AklWkYJUEeGsv772wTim0Q" association="_EGuAk4JUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AW5f4IJUEeGsv772wTim0Q" name="npcentities">
            <packagedElement xmi:type="uml:Class" xmi:id="_Ad1OUIJUEeGsv772wTim0Q" name="QuestNPC">
              <generalization xmi:id="_Ave_BIJUEeGsv772wTim0Q" general="_AveX8YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_P5VIJUEeGsv772wTim0Q" name="quest" visibility="private" type="_Al8ogoJUEeGsv772wTim0Q" association="_BIPdQ4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_QgYYJUEeGsv772wTim0Q" name="type" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_QgY4JUEeGsv772wTim0Q" name="START" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_QgZIJUEeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_QgZYJUEeGsv772wTim0Q" name="END" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_RHcIJUEeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_RHcYJUEeGsv772wTim0Q" name="STARTEND" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_RHcoJUEeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAU3ZoJUEeGsv772wTim0Q" name="QuestNPC" specification="_AmA58IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAU3Z4JUEeGsv772wTim0Q" name="npcInstance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAU3aIJUEeGsv772wTim0Q" type="_Ad1OUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(npcInstance);&#xD;
		this.quest = RageMod.getInstance().questManager.quests.get(npcInstance.questId);&#xD;
		this.type = npcInstance.questNPCType;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAU3aYJUEeGsv772wTim0Q" name="rightClickAction" specification="_Ave_AIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAU3aoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = this.plugin.players.get(player.getName());&#xD;
		if(playerData.activeQuestData.getQuest() == quest &amp;&amp; (type == STARTEND || type == END)) &#xD;
		{&#xD;
			player.sendMessage(&quot;If you are finished with your quest, left click me.&quot;);&#xD;
		} &#xD;
		else if(playerData.activeQuestData.isPlayerOnQuest() &amp;&amp; (type == STARTEND || type == START))&#xD;
		{&#xD;
			player.sendMessage(&quot;When you are finished with your current quest, come back to see me.&quot;);&#xD;
		}&#xD;
		else if(type == STARTEND || type == START)&#xD;
		{&#xD;
			player.sendMessage(&quot;Quest: &quot; + quest.getQuestData().getName());&#xD;
			player.sendMessage(quest.getQuestData().getStartText());&#xD;
			player.sendMessage(&quot;[Left click npc to accept]&quot;);	&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAU3a4JUEeGsv772wTim0Q" name="leftClickAction" specification="_Ave_AoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAU3bIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = this.plugin.players.get(player.getName());&#xD;
		if(playerData.activeQuestData.getQuest() == quest &amp;&amp; (type == STARTEND || type == END)) &#xD;
		{&#xD;
			if(quest.isFinished(playerData))&#xD;
				quest.end(player, playerData);&#xD;
			else&#xD;
				quest.statusUpdate(player, playerData);&#xD;
		} &#xD;
		else if(playerData.activeQuestData.isPlayerOnQuest() &amp;&amp; (type == STARTEND || type == START))&#xD;
		{&#xD;
			player.sendMessage(&quot;When you are finished with your current quest, come back to see me.&quot;);&#xD;
		}&#xD;
		else if(type == STARTEND || type == START)&#xD;
		{&#xD;
			if(playerData.activeQuestData.isQuestCompleted(quest.getQuestData().getId()))&#xD;
			{&#xD;
				player.sendMessage(&quot;You have already finished this quest &quot;);&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				player.sendMessage(&quot;Quest: &quot; + quest.getQuestData().getName());&#xD;
				player.sendMessage(quest.getQuestData().getStartText());&#xD;
				quest.start(player, playerData);&#xD;
			}			&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Say something from phrases maybe? This happens if it is a Quest END NPC, and the player is not on a quest, or a wrong one.&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AmA58IJUEeGsv772wTim0Q" name="QuestNPC" method="_BAU3ZoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AmA58oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AmA584JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AmA58YJUEeGsv772wTim0Q" name="npcInstance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmA59IJUEeGsv772wTim0Q" type="_Ad1OUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Ave_AIJUEeGsv772wTim0Q" name="rightClickAction" method="_BAU3aYJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAsq0YJUEeGsv772wTim0Q">
                  <body>Method called when a right click action on the NPC is performed by a&#xD;
	 * player. *&#xD;
	 * &#xD;
	 * @param player&#xD;
	 *            Player that right clicked the entity</body>
                </ownedComment>
                <ownedParameter xmi:id="_Ave_AYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Ave_AoJUEeGsv772wTim0Q" name="leftClickAction" method="_BAU3a4JUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAsq0oJUEeGsv772wTim0Q">
                  <body>Method called when a left click action on the NPC is performed by a&#xD;
	 * player. *&#xD;
	 * &#xD;
	 * @param player&#xD;
	 *            Player that left clicked the entity</body>
                </ownedComment>
                <ownedParameter xmi:id="_Ave_A4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ad3DgIJUEeGsv772wTim0Q" name="RageEntity">
              <ownedComment xmi:id="_BAsq04JUEeGsv772wTim0Q">
                <body>&#xD;
@author TheIcarusKid&#xD;
Provides a layer between NPCEntity and the custom entity classes for Ragemod-specific code&#xD;
 *</body>
              </ownedComment>
              <generalization xmi:id="_AvipYIJUEeGsv772wTim0Q" general="_AmD9QIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_RHc4JUEeGsv772wTim0Q" name="lastTargetId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_RHdIJUEeGsv772wTim0Q" name="lastBounceTick" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_RugIJUEeGsv772wTim0Q" name="lastBounceId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_RugYJUEeGsv772wTim0Q" name="plugin" visibility="protected" type="_AalGAIJUEeGsv772wTim0Q" association="_BIPdRoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_RugoJUEeGsv772wTim0Q" name="speechData" visibility="protected" type="_AvfmEIJUEeGsv772wTim0Q" association="_BIQEUYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_Rug4JUEeGsv772wTim0Q" name="instance" visibility="protected" type="_AbzOAIJUEeGsv772wTim0Q" association="_BIQEVIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_RuhIJUEeGsv772wTim0Q" name="location" visibility="protected" type="_AkZJUIJUEeGsv772wTim0Q" association="_BIQEV4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_SVkIJUEeGsv772wTim0Q" name="world" visibility="package" type="_AmFyc4JUEeGsv772wTim0Q" association="_BIQrYYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_SVkYJUEeGsv772wTim0Q" name="netServerHandler" visibility="private" type="_AmDWMYJUEeGsv772wTim0Q" association="_BIQrZIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_S8pIJUEeGsv772wTim0Q" name="bukkitEntity" visibility="package" type="_Akeo5IJUEeGsv772wTim0Q" association="_BIR5gYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAU3bYJUEeGsv772wTim0Q" name="RageEntity" specification="_AmHnoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAU3boJUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAU3b4JUEeGsv772wTim0Q" type="_Ad3DgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(handle); // TODO Fix this!&#xD;
		&#xD;
		NetworkManager netMgr = new NetworkManager(new Socket(),&#xD;
				&quot;NPC Manager&quot;, new NetHandler()&#xD;
				{&#xD;
					public boolean c()&#xD;
					{&#xD;
						return true;&#xD;
					}&#xD;
				});&#xD;
		// TODO Fix this!&#xD;
		//this.netServerHandler = new NPCNetHandler(instance.server.getMCServer(), netMgr, this);&#xD;
		this.lastTargetId = -1;&#xD;
		this.lastBounceId = -1;&#xD;
		this.lastBounceTick = 0L;&#xD;
		this.plugin = instance.plugin;&#xD;
		this.instance = instance;&#xD;
		&#xD;
		int radius = 20; &#xD;
		int interval = 30;&#xD;
		&#xD;
		this.speechData = plugin.database.npcQueries.getPhrases(instance.getNPCData(), instance.getTownID());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAVecIJUEeGsv772wTim0Q" name="addSpeechMessage" specification="_AmHnpoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAVecYJUEeGsv772wTim0Q" name="message" type="_AcX1wIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>speechData.addMessage(message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAVecoJUEeGsv772wTim0Q" name="actAsHurt" specification="_Ad4RoIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>Entity entity = handle;&#xD;
		this.world.tracker.a(entity, new Packet18ArmAnimation());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAVec4JUEeGsv772wTim0Q" name="facePlayer" specification="_AvhbQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAVedIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>float yaw = (float) ((Math.atan2(instance.getLocation().getX() - player.getLocation().getX(), &#xD;
				player.getLocation().getZ() - instance.getLocation().getZ()) * 180) / Math.PI);&#xD;
		float pitch = (float) ((Math.atan(instance.getLocation().getY() - player.getLocation().getY()) * 180) / Math.PI);&#xD;
		&#xD;
		this.setPositionRotation(instance.getLocation().getX(), instance.getLocation().getY(), instance.getLocation().getZ(), yaw, pitch);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAVee4JUEeGsv772wTim0Q" name="setPositionRotation" specification="_Ad6G0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAVefIJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAVefYJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAVefoJUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAVef4JUEeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAVegIJUEeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Unfinished&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWFgIJUEeGsv772wTim0Q" name="getBukkitEntity" specification="_Ad6t4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWFgYJUEeGsv772wTim0Q" type="_Akeo5IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Unfinished&#xD;
		return bukkitEntity;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWFgoJUEeGsv772wTim0Q" name="setPosition" specification="_Ad6t44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWFg4JUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAWFhIJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAWFhYJUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWFhoJUEeGsv772wTim0Q" name="setSneak" specification="_Ad7U8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWFh4JUEeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAWFiIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return flag;&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Ad44sYJUEeGsv772wTim0Q" name="SpeechTask">
                <generalization xmi:id="_AviCV4JUEeGsv772wTim0Q" general="_AmCvIoJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A_SVkoJUEeGsv772wTim0Q" name="npcEntity" visibility="private" type="_AveX8YJUEeGsv772wTim0Q" association="_BIRScIJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A_S8oIJUEeGsv772wTim0Q" name="timer" visibility="private" type="_AmCvIIJUEeGsv772wTim0Q" association="_BIRSc4JUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A_S8ooJUEeGsv772wTim0Q" name="speechData" visibility="private" type="_AvfmEIJUEeGsv772wTim0Q" association="_BIRSdoJUEeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAVedYJUEeGsv772wTim0Q" name="SpeechTask" specification="_AviCUIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAVedoJUEeGsv772wTim0Q" name="npcEntity" type="_AveX8YJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BAVed4JUEeGsv772wTim0Q" name="timer" type="_AmCvIIJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BAVeeIJUEeGsv772wTim0Q" name="speechData" type="_AvfmEIJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BAVeeYJUEeGsv772wTim0Q" type="_Ad44sYJUEeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.npcEntity = npcEntity;&#xD;
			this.timer = timer;&#xD;
			this.speechData = speechData;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAVeeoJUEeGsv772wTim0Q" name="run" specification="_Ad5fwIJUEeGsv772wTim0Q">
                  <language>java</language>
                  <body>if(RageMod.getInstance().npcManager.contains(npcEntity) &amp;&amp; speechData.getInterval() > 0)&#xD;
			{&#xD;
				Player[] players = RageEntity.this.plugin.getServer().getOnlinePlayers();&#xD;
				&#xD;
				for (Player player : players)&#xD;
				{&#xD;
					if ((player.getLocation().distance(this.npcEntity.getBukkitEntity().getLocation()) >= speechData.getRadius()))&#xD;
					{&#xD;
						continue;&#xD;
					}					&#xD;
					PlayerData playerData = plugin.players.get(player.getName());&#xD;
					player.sendMessage(speechData.getNextMessage(playerData));&#xD;
				}&#xD;
&#xD;
				if (RageMod.getInstance().npcManager.contains(this.npcEntity))&#xD;
					this.timer.schedule(new SpeechTask(RageEntity.this, this.timer, speechData), speechData.getInterval());&#xD;
			}				&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Ad5fwIJUEeGsv772wTim0Q" name="run" method="_BAVeeoJUEeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_AviCUIJUEeGsv772wTim0Q" name="SpeechTask" method="_BAVedYJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AviCVIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AviCVYJUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AviCUYJUEeGsv772wTim0Q" name="npcEntity" type="_AveX8YJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_AviCUoJUEeGsv772wTim0Q" name="timer" type="_AmCvIIJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_AviCU4JUEeGsv772wTim0Q" name="speechData" type="_AvfmEIJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_AviCVoJUEeGsv772wTim0Q" type="_Ad44sYJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_Ad4RoIJUEeGsv772wTim0Q" name="actAsHurt" method="_BAVecoJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Ad6G0IJUEeGsv772wTim0Q" name="setPositionRotation" method="_BAVee4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ad6G0YJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad6G0oJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad6G04JUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad6G1IJUEeGsv772wTim0Q" name="yaw">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad6G1YJUEeGsv772wTim0Q" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ad6t4YJUEeGsv772wTim0Q" name="getBukkitEntity" method="_BAWFgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmIOsoJUEeGsv772wTim0Q" type="_Akeo5IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Ad6t44JUEeGsv772wTim0Q" name="setPosition" method="_BAWFgoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ad6t5IJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad6t5YJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad6t5oJUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ad7U8YJUEeGsv772wTim0Q" name="setSneak" method="_BAWFhoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Ad7U8oJUEeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ad7U84JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AmHnoIJUEeGsv772wTim0Q" name="RageEntity" method="_BAU3bYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AmHnooJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AmHno4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AmHnoYJUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmHnpIJUEeGsv772wTim0Q" type="_Ad3DgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmHnpoJUEeGsv772wTim0Q" name="addSpeechMessage" method="_BAVecIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmIOsIJUEeGsv772wTim0Q" name="message" type="_AcX1wIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvgNIIJUEeGsv772wTim0Q" name="rightClickAction">
                <ownedParameter xmi:id="_AvgNIYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvgNIoJUEeGsv772wTim0Q" name="leftClickAction">
                <ownedParameter xmi:id="_Avg0MIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Avg0MYJUEeGsv772wTim0Q" name="onLeftClick">
                <ownedParameter xmi:id="_Avg0MoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvhbQIJUEeGsv772wTim0Q" name="facePlayer" method="_BAVec4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvhbQYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AeANcIJUEeGsv772wTim0Q" name="RageNPCManager">
              <ownedAttribute xmi:id="_A_TjsIJUEeGsv772wTim0Q" name="taskid" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_TjsYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIR5hIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_TjsoJUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_BIR5h4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_UKwIJUEeGsv772wTim0Q" name="activeNPCs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BISgkYJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_UKwoJUEeGsv772wTim0Q" value="new HashMap&lt;Integer, NPCInstance>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_UKw4JUEeGsv772wTim0Q" name="npcLocationPool" visibility="private" type="_AcDssIJUEeGsv772wTim0Q" association="_BISglIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_UKxIJUEeGsv772wTim0Q" name="npcPool" visibility="private" type="_Aca5EIJUEeGsv772wTim0Q" association="_BITHoYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWskIJUEeGsv772wTim0Q" name="RageNPCManager" specification="_AmL5EYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWskYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAWskoJUEeGsv772wTim0Q" type="_AeANcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		random = new Random();&#xD;
		&#xD;
		// On startup, pull all the NPC data from the DB into memory 		&#xD;
		this.npcLocationPool = plugin.database.npcQueries.loadNPCLocations();&#xD;
		this.npcPool = plugin.database.npcQueries.loadNPCs();&#xD;
		&#xD;
		this.taskid = plugin.getServer().getScheduler().scheduleAsyncRepeatingTask(plugin, new Runnable() &#xD;
		{&#xD;
			public void run() &#xD;
			{&#xD;
				// TODO Fix this!&#xD;
				HashSet&lt;Integer> toRemove = new HashSet&lt;Integer>();&#xD;
				for (int i : RageMod.getInstance().npcManager.activeNPCs.keySet()) &#xD;
				{&#xD;
					//net.minecraft.server.Entity j = (net.minecraft.server.Entity)RageMod.getInstance().npcManager.activeNPCs.get(i).getEntity(); // TODO Fix this!&#xD;
					//j.aA();&#xD;
					//if (j.dead) &#xD;
					{&#xD;
						toRemove.add(i);&#xD;
					}&#xD;
				}&#xD;
				for (int n : toRemove)&#xD;
					RageNPCManager.this.despawnById(n);&#xD;
			}&#xD;
		}, 100L, 100L);&#xD;
						//Listener listener;&#xD;
						//PluginManager pm = plugin.getServer().getPluginManager();&#xD;
						//pm.registerEvent(Event.Type.PLUGIN_DISABLE, new SL(), Priority.Normal, plugin);&#xD;
						//pm.registerEvent(Event.Type.CHUNK_LOAD, new WL(), Priority.Normal, plugin);&#xD;
						&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWsk4JUEeGsv772wTim0Q" name="spawnAllInstances" specification="_AeBbkIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> npcInstances = plugin.database.npcQueries.loadInstances();&#xD;
		&#xD;
		// Spawn all NPCs with active Instances&#xD;
		for( NPCInstance instance : npcInstances )&#xD;
		{&#xD;
			try&#xD;
			{&#xD;
				instance.spawn();&#xD;
			}&#xD;
			catch( Exception ex )&#xD;
			{&#xD;
				System.out.println(&quot;Error spawning NPC Instance #&quot; + instance.getID() + &quot;: &quot; + ex.getMessage());&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWslIJUEeGsv772wTim0Q" name="addLocation" specification="_AmMgJYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWslYJUEeGsv772wTim0Q" name="npcLocation" type="_Ab9mEIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcLocationPool.add(npcLocation);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWsloJUEeGsv772wTim0Q" name="getLocation" specification="_AeBbkoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWsl4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAWsmIJUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWsmYJUEeGsv772wTim0Q" name="activateLocation" specification="_AeCCoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWsmoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAWsm4JUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.activate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWsnIJUEeGsv772wTim0Q" name="deactivateLocation" specification="_AmNHMoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWsnYJUEeGsv772wTim0Q" name="location" type="_Ab9mEIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcLocationPool.deactivate(location.getID());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAWsnoJUEeGsv772wTim0Q" name="deactivateLocation" specification="_AeCCpIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAWsn4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>npcLocationPool.deactivate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAXToIJUEeGsv772wTim0Q" name="getAllLocations" specification="_AeCpsYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAXToYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.getAllLocations();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAXTooJUEeGsv772wTim0Q" name="addNPC" specification="_AmNuQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAXTo4JUEeGsv772wTim0Q" name="npc" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>npcPool.add(npc);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAXTpIJUEeGsv772wTim0Q" name="getNPC" specification="_AeDQwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAXTpYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAXTpoJUEeGsv772wTim0Q" type="_AbwxwIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAXTp4JUEeGsv772wTim0Q" name="activateNPC" specification="_AeDQw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAXTqIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAXTqYJUEeGsv772wTim0Q" type="_AbwxwIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.activate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAXTqoJUEeGsv772wTim0Q" name="activateRandomFloatingNPC" specification="_AeD30IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAXTq4JUEeGsv772wTim0Q" type="_AbwxwIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.activateRandomFloating(0);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAXTrIJUEeGsv772wTim0Q" name="deactivateNPC" specification="_AeD30oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAXTrYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>npcPool.deactivate(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6sIJUEeGsv772wTim0Q" name="despawnById" specification="_AeD31YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAX6sYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCInstance instance = activeNPCs.get(id);&#xD;
		despawn(instance);&#xD;
		activeNPCs.remove(id);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6soJUEeGsv772wTim0Q" name="despawn" specification="_AmNuRoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAX6s4JUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (instance == null)&#xD;
			return;&#xD;
		&#xD;
		// Return the NPC and Location back to the pool&#xD;
		npcPool.deactivate(instance.getNPCid());&#xD;
		npcLocationPool.deactivate(instance.getLocation().getID());&#xD;
		&#xD;
		RageEntity npc = instance.getEntity();&#xD;
		if (npc == null)&#xD;
			return;&#xD;
		&#xD;
		try &#xD;
		{&#xD;
			// TODO Fix this!&#xD;
			//npc.world.removeEntity(npc);&#xD;
		} catch (Exception e) &#xD;
		{&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6tIJUEeGsv772wTim0Q" name="despawnAll" specification="_AeEe4oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAX6tYJUEeGsv772wTim0Q" name="deleteInstances">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for (NPCInstance instance : activeNPCs.values()) &#xD;
		{&#xD;
			if( deleteInstances &amp;&amp; instance != null ) &#xD;
				plugin.database.npcQueries.disableInstance(instance.getID());&#xD;
			&#xD;
			despawn(instance);&#xD;
		}&#xD;
&#xD;
		activeNPCs.clear();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6toJUEeGsv772wTim0Q" name="getNPCIdFromEntity" specification="_AmOVUYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAX6t4JUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAX6uIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if ((e instanceof HumanEntity)) &#xD;
		{&#xD;
			for (int i : activeNPCs.keySet()) &#xD;
			{&#xD;
				if (((RageEntity) activeNPCs.get(i).getEntity()).getBukkitEntity().getEntityId() == ((HumanEntity) e).getEntityId()) &#xD;
				{&#xD;
					return i;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6uYJUEeGsv772wTim0Q" name="getNPCFromEntity" specification="_AmO8YIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAX6uoJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAX6u4JUEeGsv772wTim0Q" type="_AveX8YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if ((e instanceof HumanEntity)) &#xD;
		{&#xD;
			for (int i : RageMod.getInstance().npcManager.activeNPCs.keySet()) &#xD;
			{&#xD;
				if (((RageEntity) RageMod.getInstance().npcManager.activeNPCs.get(i).getEntity()).getBukkitEntity().getEntityId() == ((HumanEntity) e).getEntityId()) &#xD;
				{&#xD;
					return (RageEntity) RageMod.getInstance().npcManager.activeNPCs.get(i).getEntity();&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAYhwIJUEeGsv772wTim0Q" name="addInstance" specification="_AmO8Y4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAYhwYJUEeGsv772wTim0Q" name="id_NPCInstance">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAYhwoJUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>this.activeNPCs.put(id_NPCInstance, instance);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAYhw4JUEeGsv772wTim0Q" name="contains" specification="_AvkekoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAYhxIJUEeGsv772wTim0Q" name="RageEntity" type="_AveX8YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAYhxYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>for( NPCInstance instance : activeNPCs.values() )&#xD;
		{&#xD;
			if( instance.getEntity() == RageEntity )&#xD;
				return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAYhxoJUEeGsv772wTim0Q" name="getAllInstances" specification="_AeG7IIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAYhx4JUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ArrayList&lt;NPCInstance>(activeNPCs.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAYhyIJUEeGsv772wTim0Q" name="associateLocations" specification="_AeG7I4JUEeGsv772wTim0Q">
                <language>java</language>
                <body>for( NPCLocation location : this.npcLocationPool.getAllLocations() )&#xD;
		{&#xD;
			if( location.getTown() != null )&#xD;
				location.getTown().addNPCLocation(location);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAYhyYJUEeGsv772wTim0Q" name="getFloatingInstances" specification="_AeG7JYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAYhyoJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> instances = new ArrayList&lt;NPCInstance>();&#xD;
		&#xD;
		for( NPCInstance instance : activeNPCs.values() )&#xD;
		{&#xD;
			if( instance.getLocation().getTown() == null )&#xD;
				instances.add(instance);&#xD;
		}&#xD;
		&#xD;
		return instances;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAYhy4JUEeGsv772wTim0Q" name="spawnRandomFloating" specification="_AeHiMoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAYhzIJUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>NPCLocation location;&#xD;
		NPCData npc;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get a random NPCLocation from the reserve pool&#xD;
			location = this.npcLocationPool.activateRandomFloating();&#xD;
			if( location == null )&#xD;
				throw new Exception(&quot;Could not activate an NPCLocation.&quot;);&#xD;
			&#xD;
			// Activate a random NPC from the pool&#xD;
			npc = this.npcPool.activateRandomFloating(0);&#xD;
			if( npc == null )&#xD;
			{&#xD;
				this.deactivateLocation(location);&#xD;
				throw new Exception(&quot;There are no more NPCs in the pool to activate.&quot;);&#xD;
			}&#xD;
			&#xD;
			return spawn(location, npc);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;Error in NPCManager.spawnRandomFloating(): &quot; + ex.getMessage());&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI0IJUEeGsv772wTim0Q" name="generateTTL" specification="_AeIJQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZI0YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return random.nextInt(plugin.config.NPC_TTL_MAX - plugin.config.NPC_TTL_MIN) + plugin.config.NPC_TTL_MIN;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI0oJUEeGsv772wTim0Q" name="getActiveTownLocations" specification="_AeIJQ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZI04JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAZI1IJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcLocationPool.getActiveTownLocations(id);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI1YJUEeGsv772wTim0Q" name="spawnRandomInTown" specification="_AeIwUYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZI1oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAZI14JUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>NPCLocation location;&#xD;
		NPCData npc;&#xD;
		NPCTown town = plugin.towns.getNPCTown(id); &#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get a random NPCLocation from the reserve pool&#xD;
			location = this.npcLocationPool.activateRandomInTown(id);&#xD;
			if( location == null )&#xD;
				throw new Exception(&quot;Could not activate an NPCLocation.&quot;);&#xD;
			&#xD;
			// Activate a random NPC from the pool&#xD;
			// Determine whether it will be a resident or guest based on odds set in config&#xD;
			if( random.nextInt(100) &lt; plugin.config.NPCTOWN_GUEST_CHANCE )&#xD;
				npc = npcPool.activateRandomFloating(town.id_NPCRace);&#xD;
			else&#xD;
				npc = npcPool.activateRandomInTown(id);&#xD;
			&#xD;
			if( npc == null )&#xD;
			{&#xD;
				this.deactivateLocation(location);&#xD;
				throw new Exception(&quot;There are no more NPCs in the pool to activate.&quot;);&#xD;
			}&#xD;
			&#xD;
			return spawn(location, npc);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;Error in NPCManager.spawnRandomInTown(): &quot; + ex.getMessage());&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI2IJUEeGsv772wTim0Q" name="spawn" specification="_AmPjdIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZI2YJUEeGsv772wTim0Q" name="location" type="_Ab9mEIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZI2oJUEeGsv772wTim0Q" name="npc" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZI24JUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>NPCInstance instance;&#xD;
		&#xD;
		// Register the NPC instance and spawn the NPC&#xD;
		instance = plugin.database.npcQueries.createInstance(&#xD;
				npc.id_NPC, location.getID(), this.generateTTL(), 0, NPCType.SPEECH);&#xD;
		instance.setData(npc, location);&#xD;
		instance.spawn();&#xD;
				&#xD;
		return instance;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI3IJUEeGsv772wTim0Q" name="despawnExpired" specification="_AeJXYIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> instances = new ArrayList&lt;NPCInstance>(activeNPCs.values());&#xD;
		&#xD;
		for( NPCInstance instance : instances )&#xD;
		{&#xD;
			if( instance.isExpired() )&#xD;
			{&#xD;
				despawn(instance);&#xD;
				activeNPCs.remove(instance.getID());&#xD;
				System.out.println(&quot;Automatically despawned NPC &quot; + instance.getName());&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI3YJUEeGsv772wTim0Q" name="getAllResidents" specification="_AeJXYoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZI3oJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAZI34JUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcPool.getAllResidents(id_NPCTown);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZI4IJUEeGsv772wTim0Q" name="isNPC" specification="_AvlssoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZI4YJUEeGsv772wTim0Q" name="defenderEntity" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZI4oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Unfinished&#xD;
		if (!(defenderEntity instanceof Player) &amp;&amp; !(defenderEntity instanceof Creature)) {&#xD;
			return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AeFF8IJUEeGsv772wTim0Q" name="SL" visibility="private" clientDependency="_Avj3gIJUEeGsv772wTim0Q">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6vIJUEeGsv772wTim0Q" name="onPluginDisable" specification="_Avj3gYJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAX6vYJUEeGsv772wTim0Q" name="event" type="_AkiTQIJUEeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>if (event.getPlugin() == RageNPCManager.this.plugin) &#xD;
			{&#xD;
				RageNPCManager.this.despawnAll(false);&#xD;
				RageNPCManager.this.plugin.getServer().getScheduler().cancelTask(RageNPCManager.this.taskid);&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <interfaceRealization xmi:id="_Avj3gIJUEeGsv772wTim0Q" supplier="_Akf3A4JUEeGsv772wTim0Q" client="_AeFF8IJUEeGsv772wTim0Q" contract="_Akf3A4JUEeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_AeFF8oJUEeGsv772wTim0Q" name="SL" visibility="private">
                  <eAnnotations xmi:id="_AeFF84JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AeFF9IJUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AeFF9oJUEeGsv772wTim0Q" type="_AeFF8IJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_Avj3gYJUEeGsv772wTim0Q" name="onPluginDisable" method="_BAX6vIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_Avj3goJUEeGsv772wTim0Q" name="event" type="_AkiTQIJUEeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AeFtAIJUEeGsv772wTim0Q" name="WL" visibility="private" clientDependency="_Avj3g4JUEeGsv772wTim0Q">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAX6voJUEeGsv772wTim0Q" name="onChunkLoad" specification="_AvkekIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAX6v4JUEeGsv772wTim0Q" name="event" type="_AmLSAYJUEeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>for (NPCInstance npcInstance : RageMod.getInstance().npcManager.activeNPCs.values())&#xD;
			{&#xD;
				RageEntity npc = null;&#xD;
				if( npcInstance != null )&#xD;
					npc = npcInstance.getEntity();&#xD;
				&#xD;
				if ((npc != null) &amp;&amp; (event.getChunk() == npc.getBukkitEntity().getLocation().getBlock().getChunk())) &#xD;
				{   // TODO FIX THIS!&#xD;
					//World world = new Location(event.getWorld(), taskid, taskid, taskid);&#xD;
					//world.getWorldServer().addEntity(npc);&#xD;
				}&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <interfaceRealization xmi:id="_Avj3g4JUEeGsv772wTim0Q" supplier="_Akf3A4JUEeGsv772wTim0Q" client="_AeFtAIJUEeGsv772wTim0Q" contract="_Akf3A4JUEeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_AeFtAoJUEeGsv772wTim0Q" name="WL" visibility="private">
                  <eAnnotations xmi:id="_AeFtA4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AeGUEIJUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AeGUEoJUEeGsv772wTim0Q" type="_AeFtAIJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_AvkekIJUEeGsv772wTim0Q" name="onChunkLoad" method="_BAX6voJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_AvkekYJUEeGsv772wTim0Q" name="event" type="_AmLSAYJUEeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_AeBbkIJUEeGsv772wTim0Q" name="spawnAllInstances" method="_BAWsk4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AeBbkoJUEeGsv772wTim0Q" name="getLocation" method="_BAWsloJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeBbk4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AmNHMIJUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeCCoYJUEeGsv772wTim0Q" name="activateLocation" method="_BAWsmYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeCCooJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AmNHMYJUEeGsv772wTim0Q" type="_Ab9mEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeCCpIJUEeGsv772wTim0Q" name="deactivateLocation" method="_BAWsnoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeCCpYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AeCpsYJUEeGsv772wTim0Q" name="getAllLocations" method="_BAXToIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvjQcIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeDQwIJUEeGsv772wTim0Q" name="getNPC" method="_BAXTpIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeDQwYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AmNuQ4JUEeGsv772wTim0Q" type="_AbwxwIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeDQw4JUEeGsv772wTim0Q" name="activateNPC" method="_BAXTp4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeDQxIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AmNuRIJUEeGsv772wTim0Q" type="_AbwxwIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeD30IJUEeGsv772wTim0Q" name="activateRandomFloatingNPC" method="_BAXTqoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmNuRYJUEeGsv772wTim0Q" type="_AbwxwIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeD30oJUEeGsv772wTim0Q" name="deactivateNPC" method="_BAXTrIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeD304JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AeD31YJUEeGsv772wTim0Q" name="despawnById" method="_BAX6sIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeEe4IJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AeEe4oJUEeGsv772wTim0Q" name="despawnAll" method="_BAX6tIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeEe44JUEeGsv772wTim0Q" name="deleteInstances">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AeG7IIJUEeGsv772wTim0Q" name="getAllInstances" method="_BAYhxoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvlFoIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeG7I4JUEeGsv772wTim0Q" name="associateLocations" method="_BAYhyIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AeG7JYJUEeGsv772wTim0Q" name="getFloatingInstances" method="_BAYhyYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvlFoYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeHiMoJUEeGsv772wTim0Q" name="spawnRandomFloating" method="_BAYhy4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmPjcoJUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeIJQIJUEeGsv772wTim0Q" name="generateTTL" method="_BAZI0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeIJQYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AeIJQ4JUEeGsv772wTim0Q" name="getActiveTownLocations" method="_BAZI0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeIJRIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvlFooJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeIwUYJUEeGsv772wTim0Q" name="spawnRandomInTown" method="_BAZI1YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeIwUoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AmPjc4JUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AeJXYIJUEeGsv772wTim0Q" name="despawnExpired" method="_BAZI3IJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AeJXYoJUEeGsv772wTim0Q" name="getAllResidents" method="_BAZI3YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeJXY4JUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvlssYJUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmL5EYJUEeGsv772wTim0Q" name="RageNPCManager" method="_BAWskIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AmMgIYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AmMgIoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AmMgIIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmMgI4JUEeGsv772wTim0Q" type="_AeANcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmMgJYJUEeGsv772wTim0Q" name="addLocation" method="_BAWslIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmMgJoJUEeGsv772wTim0Q" name="npcLocation" type="_Ab9mEIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmNHMoJUEeGsv772wTim0Q" name="deactivateLocation" method="_BAWsnIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmNHM4JUEeGsv772wTim0Q" name="location" type="_Ab9mEIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmNuQIJUEeGsv772wTim0Q" name="addNPC" method="_BAXTooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmNuQYJUEeGsv772wTim0Q" name="npc" type="_AbwxwIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmNuRoJUEeGsv772wTim0Q" name="despawn" visibility="private" method="_BAX6soJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmNuR4JUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmOVUYJUEeGsv772wTim0Q" name="getNPCIdFromEntity" method="_BAX6toJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmOVUoJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmOVU4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AmO8YIJUEeGsv772wTim0Q" name="getNPCFromEntity" isStatic="true" method="_BAX6uYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmO8YYJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvjQcYJUEeGsv772wTim0Q" type="_AveX8YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmO8Y4JUEeGsv772wTim0Q" name="addInstance" method="_BAYhwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmO8ZIJUEeGsv772wTim0Q" name="id_NPCInstance">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AmPjcIJUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AmPjdIJUEeGsv772wTim0Q" name="spawn" method="_BAZI2IJUEeGsv772wTim0Q" raisedException="_AvlFo4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmPjdYJUEeGsv772wTim0Q" name="location" type="_Ab9mEIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmQKgIJUEeGsv772wTim0Q" name="npc" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmQKgYJUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvkekoJUEeGsv772wTim0Q" name="contains" method="_BAYhw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Avkek4JUEeGsv772wTim0Q" name="RageEntity" type="_AveX8YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvkelIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AvlssoJUEeGsv772wTim0Q" name="isNPC" isStatic="true" method="_BAZI4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Avlss4JUEeGsv772wTim0Q" name="defenderEntity" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvlstIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AeQsIIJUEeGsv772wTim0Q" name="SpeechData">
              <ownedAttribute xmi:id="_A_VY4IJUEeGsv772wTim0Q" name="messages" visibility="private" type="_AkYiQIJUEeGsv772wTim0Q" association="_BITHpIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_VY4oJUEeGsv772wTim0Q" name="initialGreeting" visibility="private" type="_AcX1wIJUEeGsv772wTim0Q" association="_BITusIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_V_8IJUEeGsv772wTim0Q" name="followups" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BITus4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_V_8oJUEeGsv772wTim0Q" name="npcData" visibility="private" type="_AbwxwIJUEeGsv772wTim0Q" association="_BITutoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_V_84JUEeGsv772wTim0Q" name="messagePointer" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_WnAIJUEeGsv772wTim0Q" name="radius">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_WnAYJUEeGsv772wTim0Q" value="20"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_WnA4JUEeGsv772wTim0Q" name="interval">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_WnBIJUEeGsv772wTim0Q" value="30"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_WnBoJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIUVwYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZv4IJUEeGsv772wTim0Q" name="SpeechData" specification="_A2GkYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZv4YJUEeGsv772wTim0Q" name="messages" type="_AkYiQIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZv4oJUEeGsv772wTim0Q" name="initialGreeting" type="_AcX1wIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZv44JUEeGsv772wTim0Q" name="followups" type="_AkkIcYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZv5IJUEeGsv772wTim0Q" name="npcData" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZv5YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZv5oJUEeGsv772wTim0Q" type="_AeQsIIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.messages = messages;&#xD;
		messagePointer = 0;&#xD;
		this.initialGreeting = initialGreeting;&#xD;
		this.followups = followups;&#xD;
		this.npcData = npcData;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAZv54JUEeGsv772wTim0Q" name="getNextMessage" specification="_A2HygYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAZv6IJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAZv6YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if(messages.size() > 0)&#xD;
		{&#xD;
			String message = messages.get(messagePointer).getMessage(playerData);&#xD;
			&#xD;
			messagePointer++;&#xD;
			if(messagePointer == messages.size())&#xD;
				messagePointer = 0;&#xD;
			&#xD;
			return message;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			return &quot;I am error.&quot;;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAaW8IJUEeGsv772wTim0Q" name="getInitialGreeting" specification="_A2HyhYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAaW8YJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAaW8oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return initialGreeting.getMessage(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAaW84JUEeGsv772wTim0Q" name="getFollowupGreeting" specification="_A2IZk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAaW9IJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAaW9YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Convert the -10 to 10 affinity float value to the -2 to 2 affinity integer code&#xD;
		int affinityCode = Util.getAffinityCode(playerData.getAffinity(npcData.id_NPC));&#xD;
		&#xD;
		return followups.get(affinityCode).getMessage(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAaW9oJUEeGsv772wTim0Q" name="addMessage" specification="_AmSmwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAaW94JUEeGsv772wTim0Q" name="message" type="_AcX1wIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>messages.add(message);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AmSmwIJUEeGsv772wTim0Q" name="addMessage" method="_BAaW9oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AmSmwYJUEeGsv772wTim0Q" name="message" type="_AcX1wIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2GkYIJUEeGsv772wTim0Q" name="SpeechData" method="_BAZv4IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2HLcIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2HLcYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2GkYYJUEeGsv772wTim0Q" name="messages" type="_AkYiQIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2GkYoJUEeGsv772wTim0Q" name="initialGreeting" type="_AcX1wIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2GkY4JUEeGsv772wTim0Q" name="followups" type="_AkkIcYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2GkZIJUEeGsv772wTim0Q" name="npcData" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2GkZYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2HLcoJUEeGsv772wTim0Q" type="_AeQsIIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2HygYJUEeGsv772wTim0Q" name="getNextMessage" method="_BAZv54JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2HygoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Hyg4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2HyhYJUEeGsv772wTim0Q" name="getInitialGreeting" method="_BAaW8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2IZkIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2IZkYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2IZk4JUEeGsv772wTim0Q" name="getFollowupGreeting" method="_BAaW84JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2IZlIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2IZlYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AeVkoIJUEeGsv772wTim0Q" name="SpeechNPC">
              <generalization xmi:id="_A2Jns4JUEeGsv772wTim0Q" general="_AveX8YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_XOEIJUEeGsv772wTim0Q" name="name" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAaW-IJUEeGsv772wTim0Q" name="SpeechNPC" specification="_AmT04IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAaW-YJUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAaW-oJUEeGsv772wTim0Q" type="_AeVkoIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(instance);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAaW-4JUEeGsv772wTim0Q" name="rightClickAction" specification="_A2JAoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAaW_IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		this.facePlayer(player);&#xD;
		&#xD;
		if( playerData.isNewInteraction(instance.getID()) )&#xD;
		{&#xD;
			// If  returned true, this is the first encounter with this instance&#xD;
			if( playerData.isFirstMeeting(instance.getNPCid()) )&#xD;
				plugin.message.talk(player, this.name, this.speechData.getInitialGreeting(playerData));&#xD;
			else&#xD;
				plugin.message.talk(player, this.name, speechData.getFollowupGreeting(playerData));&#xD;
			&#xD;
			playerData.recordNPCInteraction(instance);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.talk(player, this.name, this.speechData.getNextMessage(playerData));&#xD;
		}&#xD;
			&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AmT04IJUEeGsv772wTim0Q" name="SpeechNPC" method="_BAaW-IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AmT04oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AmT044JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AmT04YJUEeGsv772wTim0Q" name="instance" type="_AbzOAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmT05IJUEeGsv772wTim0Q" type="_AeVkoIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2JAoIJUEeGsv772wTim0Q" name="rightClickAction" method="_BAaW-4JUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAtR4YJUEeGsv772wTim0Q">
                  <body>Method called when a right click action on the NPC is performed by a&#xD;
	 * player. *&#xD;
	 * &#xD;
	 * @param player&#xD;
	 *            Player that right clicked the entity</body>
                </ownedComment>
                <ownedParameter xmi:id="_A2JAoYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2JnsIJUEeGsv772wTim0Q" name="leftClickAction">
                <ownedParameter xmi:id="_A2JnsYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvlFo4JUEeGsv772wTim0Q" name="Exception"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIPdQ4JUEeGsv772wTim0Q" name="" memberEnd="_BIPdRIJUEeGsv772wTim0Q _A_P5VIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIPdRIJUEeGsv772wTim0Q" name="" type="_Ad1OUIJUEeGsv772wTim0Q" association="_BIPdQ4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIPdRoJUEeGsv772wTim0Q" name="" memberEnd="_BIPdR4JUEeGsv772wTim0Q _A_RugYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIPdR4JUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIPdRoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIQEUYJUEeGsv772wTim0Q" name="" memberEnd="_BIQEUoJUEeGsv772wTim0Q _A_RugoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIQEUoJUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIQEUYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIQEVIJUEeGsv772wTim0Q" name="" memberEnd="_BIQEVYJUEeGsv772wTim0Q _A_Rug4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIQEVYJUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIQEVIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIQEV4JUEeGsv772wTim0Q" name="" memberEnd="_BIQEWIJUEeGsv772wTim0Q _A_RuhIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIQEWIJUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIQEV4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIQrYYJUEeGsv772wTim0Q" name="" memberEnd="_BIQrYoJUEeGsv772wTim0Q _A_SVkIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIQrYoJUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIQrYYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIQrZIJUEeGsv772wTim0Q" name="" memberEnd="_BIQrZYJUEeGsv772wTim0Q _A_SVkYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIQrZYJUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIQrZIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIRScIJUEeGsv772wTim0Q" name="" memberEnd="_BIRScYJUEeGsv772wTim0Q _A_SVkoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIRScYJUEeGsv772wTim0Q" name="" type="_Ad44sYJUEeGsv772wTim0Q" association="_BIRScIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIRSc4JUEeGsv772wTim0Q" name="" memberEnd="_BIRSdIJUEeGsv772wTim0Q _A_S8oIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIRSdIJUEeGsv772wTim0Q" name="" type="_Ad44sYJUEeGsv772wTim0Q" association="_BIRSc4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIRSdoJUEeGsv772wTim0Q" name="" memberEnd="_BIRSd4JUEeGsv772wTim0Q _A_S8ooJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIRSd4JUEeGsv772wTim0Q" name="" type="_Ad44sYJUEeGsv772wTim0Q" association="_BIRSdoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIR5gYJUEeGsv772wTim0Q" name="" memberEnd="_BIR5goJUEeGsv772wTim0Q _A_S8pIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIR5goJUEeGsv772wTim0Q" name="" type="_Ad3DgIJUEeGsv772wTim0Q" association="_BIR5gYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIR5hIJUEeGsv772wTim0Q" name="" memberEnd="_BIR5hYJUEeGsv772wTim0Q _A_TjsYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIR5hYJUEeGsv772wTim0Q" name="" type="_AeANcIJUEeGsv772wTim0Q" association="_BIR5hIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIR5h4JUEeGsv772wTim0Q" name="" memberEnd="_BIR5iIJUEeGsv772wTim0Q _A_TjsoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIR5iIJUEeGsv772wTim0Q" name="" type="_AeANcIJUEeGsv772wTim0Q" association="_BIR5h4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BISgkYJUEeGsv772wTim0Q" name="" memberEnd="_BISgkoJUEeGsv772wTim0Q _A_UKwIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BISgkoJUEeGsv772wTim0Q" name="" type="_AeANcIJUEeGsv772wTim0Q" association="_BISgkYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BISglIJUEeGsv772wTim0Q" name="" memberEnd="_BISglYJUEeGsv772wTim0Q _A_UKw4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BISglYJUEeGsv772wTim0Q" name="" type="_AeANcIJUEeGsv772wTim0Q" association="_BISglIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BITHoYJUEeGsv772wTim0Q" name="" memberEnd="_BITHooJUEeGsv772wTim0Q _A_UKxIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BITHooJUEeGsv772wTim0Q" name="" type="_AeANcIJUEeGsv772wTim0Q" association="_BITHoYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BITHpIJUEeGsv772wTim0Q" name="" memberEnd="_BITHpYJUEeGsv772wTim0Q _A_VY4IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BITHpYJUEeGsv772wTim0Q" name="" type="_AeQsIIJUEeGsv772wTim0Q" association="_BITHpIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BITusIJUEeGsv772wTim0Q" name="" memberEnd="_BITusYJUEeGsv772wTim0Q _A_VY4oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BITusYJUEeGsv772wTim0Q" name="" type="_AeQsIIJUEeGsv772wTim0Q" association="_BITusIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BITus4JUEeGsv772wTim0Q" name="" memberEnd="_BITutIJUEeGsv772wTim0Q _A_V_8IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BITutIJUEeGsv772wTim0Q" name="" type="_AeQsIIJUEeGsv772wTim0Q" association="_BITus4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BITutoJUEeGsv772wTim0Q" name="" memberEnd="_BITut4JUEeGsv772wTim0Q _A_V_8oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BITut4JUEeGsv772wTim0Q" name="" type="_AeQsIIJUEeGsv772wTim0Q" association="_BITutoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIUVwYJUEeGsv772wTim0Q" name="" memberEnd="_BIUVwoJUEeGsv772wTim0Q _A_WnBoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIUVwoJUEeGsv772wTim0Q" name="" type="_AeQsIIJUEeGsv772wTim0Q" association="_BIUVwYJUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AW5f4YJUEeGsv772wTim0Q" name="quest">
            <packagedElement xmi:type="uml:Class" xmi:id="_AeWywIJUEeGsv772wTim0Q" name="KillCreatureQuest">
              <generalization xmi:id="_A2N5IoJUEeGsv772wTim0Q" general="_A2JntYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_XOEoJUEeGsv772wTim0Q" name="questData" visibility="private" type="_A2KOwYJUEeGsv772wTim0Q" association="_BIUVxIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_X1IIJUEeGsv772wTim0Q" name="rewardData" visibility="private" type="_A2KOw4JUEeGsv772wTim0Q" association="_BIUVx4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_X1IYJUEeGsv772wTim0Q" name="flags" visibility="private" type="_A2K10YJUEeGsv772wTim0Q" association="_BIU80YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_X1IoJUEeGsv772wTim0Q" name="creatureToBeKilled" type="_Akeo4oJUEeGsv772wTim0Q" isReadOnly="true" association="_BIU81IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_X1JIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIVj4IJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAa-AIJUEeGsv772wTim0Q" name="KillCreatureQuest" specification="_A2Lc4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAa-AYJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-AoJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-A4JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-BIJUEeGsv772wTim0Q" name="creatureToBeKilled" type="_Akeo4oJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-BYJUEeGsv772wTim0Q" type="_AeWywIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
		this.questData = questData;&#xD;
		this.rewardData = rewardData;&#xD;
		this.flags = flags;&#xD;
		this.creatureToBeKilled = creatureToBeKilled;&#xD;
		this.plugin = RageMod.getInstance();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAa-BoJUEeGsv772wTim0Q" name="end" specification="_A2MD8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAa-B4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-CIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (InventoryUtilities.checkFreeSpace(player.getInventory(), rewardData.getItem(),&#xD;
				rewardData.getAmountOfItems()))&#xD;
		{&#xD;
			plugin.message.parse(player, questData.getEndText());&#xD;
			plugin.message.parse(player, &quot;Received: &quot;);&#xD;
&#xD;
			if (rewardData.getAmountOfItems() > 0)&#xD;
			{&#xD;
				plugin.message.parse(player,&#xD;
						Integer.toString(rewardData.getAmountOfItems())&#xD;
								+ rewardData.getItem().getType().toString());&#xD;
				InventoryUtilities.addItemToInventory(player.getInventory(),&#xD;
						rewardData.getItem(), rewardData.getAmountOfItems());&#xD;
			}&#xD;
&#xD;
			if (rewardData.getCoins() > 0.0D)&#xD;
			{&#xD;
				plugin.message.parse(player,&#xD;
						Double.toString(rewardData.getCoins()) + &quot; Coins&quot;);&#xD;
				plugin.economy.bankDeposit(player.getName(), rewardData.getCoins());&#xD;
			}&#xD;
&#xD;
			plugin.message.parse(player, &quot;for finishing &quot; + questData.getName());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			player.sendMessage(InventoryUtilities.notEnoughSpaceMessage);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAa-CYJUEeGsv772wTim0Q" name="start" specification="_A2MrAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAa-CoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-C4JUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (playerData.activeQuestData.isPlayerOnQuest())&#xD;
		{&#xD;
			plugin.message&#xD;
					.parse(player,&#xD;
							&quot;You are already on a quest. To abandon the quest write /quest abandon&quot;);&#xD;
		} &#xD;
		else if(!questData.isRequirementsMet(playerData)) {&#xD;
			plugin.message.parse(player, &quot;You don't meet the requirements for this quest.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Accepted quest: &quot; + questData.getName());&#xD;
			plugin.message.parse(player, questData.getStartText());&#xD;
			playerData.activeQuestData.startNewQuest(this, questData.getObjectiveCounter());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAa-DIJUEeGsv772wTim0Q" name="isFinished" specification="_A2MrBYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAa-DYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-DoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if (playerData.activeQuestData.getObjectiveCounter() >= questData.getObjectiveCounter())&#xD;
		{&#xD;
			return true;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			return false;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAa-D4JUEeGsv772wTim0Q" name="statusUpdate" specification="_A2NSE4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAa-EIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAa-EYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.message.parse(player, &quot;You have killed &quot;&#xD;
				+ playerData.activeQuestData.getObjectiveCounter() + &quot; of &quot;&#xD;
				+ questData.getObjectiveCounter() + &quot; &quot; + this.creatureToBeKilled.getName() + &quot;s.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_A2Lc4IJUEeGsv772wTim0Q" name="KillCreatureQuest" method="_BAa-AIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2Lc5YJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2Lc5oJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2Lc4YJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Lc4oJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Lc44JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Lc5IJUEeGsv772wTim0Q" name="creatureToBeKilled" type="_Akeo4oJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Lc54JUEeGsv772wTim0Q" type="_AeWywIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2MD8IJUEeGsv772wTim0Q" name="end" method="_BAa-BoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2MD8YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2MD8oJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2MrAIJUEeGsv772wTim0Q" name="start" method="_BAa-CYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2MrAYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2MrAoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2MrBYJUEeGsv772wTim0Q" name="isFinished" method="_BAa-DIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2MrBoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2NSEIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2NSE4JUEeGsv772wTim0Q" name="statusUpdate" method="_BAa-D4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2NSFIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2NSFYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AebrQIJUEeGsv772wTim0Q" name="QuestData">
              <ownedComment xmi:id="_BAtR5IJUEeGsv772wTim0Q">
                <body>Contains quest data, each quest contains an instance of this class.&#xD;
@author Jorgen&#xD;
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_A_YcMIJUEeGsv772wTim0Q" name="name" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_YcMYJUEeGsv772wTim0Q" name="id" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_YcMoJUEeGsv772wTim0Q" name="startText" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_ZDQYJUEeGsv772wTim0Q" name="endText" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_ZDQoJUEeGsv772wTim0Q" name="objectiveCounter" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_ZDQ4JUEeGsv772wTim0Q" name="questReqs" visibility="private" type="_A2OgMIJUEeGsv772wTim0Q" association="_BIVj44JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAblEIJUEeGsv772wTim0Q" name="QuestData" specification="_A2OgMoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAblEYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAblEoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAblE4JUEeGsv772wTim0Q" name="startText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAblFIJUEeGsv772wTim0Q" name="endText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAblFYJUEeGsv772wTim0Q" name="questReqs" type="_A2OgMIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAblFoJUEeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAblF4JUEeGsv772wTim0Q" type="_AebrQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.name = name;&#xD;
		this.id = id;&#xD;
		this.startText = startText;&#xD;
		this.endText = endText;&#xD;
		this.questReqs = questReqs;&#xD;
		this.objectiveCounter = objectiveCounter;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAblGIJUEeGsv772wTim0Q" name="getStartText" specification="_AecSUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAblGYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return startText;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAblGoJUEeGsv772wTim0Q" name="isRequirementsMet" specification="_A2PHR4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAblG4JUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAblHIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return questReqs.requirementsMet(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AecSUIJUEeGsv772wTim0Q" name="getStartText" method="_BAblGIJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAt48IJUEeGsv772wTim0Q">
                  <body>Returns start text of a quest&#xD;
	 * @return Start text</body>
                </ownedComment>
                <ownedParameter xmi:id="_AecSUYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2OgMoJUEeGsv772wTim0Q" name="QuestData" method="_BAblEIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2PHRIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2PHRYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_BAtR5YJUEeGsv772wTim0Q">
                  <body>&#xD;
	 * @param name Name of quest&#xD;
	 * @param id Quest ID&#xD;
	 * @param startText Text to be displayed when the quest is started&#xD;
	 * @param endText Text to be displayed when the quest is ended</body>
                </ownedComment>
                <ownedParameter xmi:id="_A2OgM4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2OgNIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2PHQIJUEeGsv772wTim0Q" name="startText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2PHQYJUEeGsv772wTim0Q" name="endText">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2PHQoJUEeGsv772wTim0Q" name="questReqs" type="_A2OgMIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2PHQ4JUEeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2PHRoJUEeGsv772wTim0Q" type="_AebrQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2PHR4JUEeGsv772wTim0Q" name="isRequirementsMet" method="_BAblGoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2PHSIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2PuUIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AedgcIJUEeGsv772wTim0Q" name="QuestManager">
              <ownedAttribute xmi:id="_A_ZqUIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIVj5oJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_ZqUYJUEeGsv772wTim0Q" name="quests" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIWK8YJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_ZqU4JUEeGsv772wTim0Q" value="new HashMap&lt;Integer, Quest>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAblHYJUEeGsv772wTim0Q" name="QuestManager" specification="_AeeHgYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAblHoJUEeGsv772wTim0Q" type="_AedgcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = RageMod.getInstance();&#xD;
		&#xD;
		&#xD;
//		QuestData testRewardQuestData = new QuestData(&quot;TestReward&quot;, &quot;reward1&quot;, &quot;start text reward1&quot;, &quot;end text reward1&quot;, 0, &quot;&quot;);&#xD;
//		RewardData testRewardData = new RewardData(new ItemStack(Material.getMaterial(&quot;stone&quot;)), 10, 50);&#xD;
		Flags testFlags = new Flags(false, false);		&#xD;
//		RewardQuest testRewardQuest = new RewardQuest(testRewardQuestData, testRewardData, testFlags);&#xD;
//		quests.put(testRewardQuest.getQuestData().getId(), testRewardQuest);&#xD;
		&#xD;
		&#xD;
//		QuestData testTravelQuestData = new QuestData(&quot;TestTravel&quot;, &quot;travel1&quot;, &quot;start text travel1&quot;, &quot;end text travel1&quot;, 0, &quot;&quot;);&#xD;
//		RewardData testTravelData = new RewardData(new ItemStack(Material.getMaterial(&quot;coal&quot;)), 15, 50);&#xD;
		Flags testTravelFlags = new Flags(false, false);		&#xD;
//		TravelQuest testTravelQuest = new TravelQuest(testTravelQuestData, testTravelData, testTravelFlags);&#xD;
//		quests.put(testTravelQuest.getQuestData().getId(), testTravelQuest);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AeeHgYJUEeGsv772wTim0Q" name="QuestManager" method="_BAblHYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AeeukIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AeeukYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AeeukoJUEeGsv772wTim0Q" type="_AedgcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AefVoIJUEeGsv772wTim0Q" name="QuestRequirements">
              <ownedAttribute xmi:id="_A_aRYIJUEeGsv772wTim0Q" name="preQuest" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_aRYYJUEeGsv772wTim0Q" name="rank" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_aRYoJUEeGsv772wTim0Q" name="affinity" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_aRY4JUEeGsv772wTim0Q" name="reputation" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAcMIIJUEeGsv772wTim0Q" name="QuestRequirements" specification="_Aef8sYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAcMIYJUEeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAcMIoJUEeGsv772wTim0Q" type="_AefVoIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.preQuest = preQuest;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAcMI4JUEeGsv772wTim0Q" name="QuestRequirements" specification="_AegjxYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAcMJIJUEeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAcMJYJUEeGsv772wTim0Q" name="rank">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAcMJoJUEeGsv772wTim0Q" name="affinity">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAcMJ4JUEeGsv772wTim0Q" name="reputation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAcMKIJUEeGsv772wTim0Q" type="_AefVoIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.preQuest = preQuest;&#xD;
		this.rank = rank;&#xD;
		this.affinity = affinity;&#xD;
		this.reputation = reputation;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAcMKYJUEeGsv772wTim0Q" name="requirementsMet" specification="_A2QVYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAcMKoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAcMK4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// Perform check for whether a quest can be started.&#xD;
		return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Aef8sYJUEeGsv772wTim0Q" name="QuestRequirements" method="_BAcMIIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AegjwYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AegjwoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AegjwIJUEeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Aegjw4JUEeGsv772wTim0Q" type="_AefVoIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AegjxYJUEeGsv772wTim0Q" name="QuestRequirements" method="_BAcMI4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AehK0oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AehK04JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AegjxoJUEeGsv772wTim0Q" name="preQuest">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Aegjx4JUEeGsv772wTim0Q" name="rank">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AehK0IJUEeGsv772wTim0Q" name="affinity">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AehK0YJUEeGsv772wTim0Q" name="reputation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AehK1IJUEeGsv772wTim0Q" type="_AefVoIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2QVYIJUEeGsv772wTim0Q" name="requirementsMet" method="_BAcMKYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2Q8cIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Q8cYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AeiY8IJUEeGsv772wTim0Q" name="RewardQuest">
              <generalization xmi:id="_A2TYsoJUEeGsv772wTim0Q" general="_A2JntYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAcMLIJUEeGsv772wTim0Q" name="RewardQuest" specification="_A2RjgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAcMLYJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAcMLoJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAcML4JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAcMMIJUEeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAcMMYJUEeGsv772wTim0Q" type="_AeiY8IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAczMIJUEeGsv772wTim0Q" name="start" specification="_A2SKkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAczMYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAczMoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>end(player, playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAczM4JUEeGsv772wTim0Q" name="isFinished" specification="_A2SKk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAczNIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAczNYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_A2RjgIJUEeGsv772wTim0Q" name="RewardQuest" method="_BAcMLIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2RjhYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2RjhoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2RjgYJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2RjgoJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Rjg4JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2RjhIJUEeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2Rjh4JUEeGsv772wTim0Q" type="_AeiY8IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2SKkIJUEeGsv772wTim0Q" name="start" method="_BAczMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2SKkYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2SKkoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2SKk4JUEeGsv772wTim0Q" name="isFinished" method="_BAczM4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2SKlIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2SKlYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2SxooJUEeGsv772wTim0Q" name="statusUpdate">
                <ownedParameter xmi:id="_A2Sxo4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2SxpIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Al8ogIJUEeGsv772wTim0Q" name="Flags">
              <ownedAttribute xmi:id="_EFmmQoJUEeGsv772wTim0Q" name="isNonExclusive" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFnNUIJUEeGsv772wTim0Q" name="isReserved" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFnNUoJUEeGsv772wTim0Q" name="isRepeatable" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEGIJUEeGsv772wTim0Q" name="Flags" specification="_D_6N8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEGYJUEeGsv772wTim0Q" name="isNonExclusive">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGCEGoJUEeGsv772wTim0Q" name="isReserved">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGCEG4JUEeGsv772wTim0Q" type="_Al8ogIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.isNonExclusive = isNonExclusive;&#xD;
		this.isReserved = isReserved;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEHIJUEeGsv772wTim0Q" name="isNonExclusive" specification="_D_6N9oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEHYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return isNonExclusive;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEHoJUEeGsv772wTim0Q" name="isReserved" specification="_D_6N-IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEH4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return isReserved;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEIIJUEeGsv772wTim0Q" name="isRepeatable" specification="_D_6N-oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEIYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return isRepeatable;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_6N8IJUEeGsv772wTim0Q" name="Flags" method="_EGCEGIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_D_6N84JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_D_6N9IJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_EGORUYJUEeGsv772wTim0Q">
                  <body>When a quest is created it is always active.&#xD;
	 * @param repeatable&#xD;
	 * @param random</body>
                </ownedComment>
                <ownedParameter xmi:id="_D_6N8YJUEeGsv772wTim0Q" name="isNonExclusive">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_6N8oJUEeGsv772wTim0Q" name="isReserved">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_6N9YJUEeGsv772wTim0Q" type="_Al8ogIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_6N9oJUEeGsv772wTim0Q" name="isNonExclusive" method="_EGCEHIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_6N94JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_6N-IJUEeGsv772wTim0Q" name="isReserved" method="_EGCEHoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_6N-YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_6N-oJUEeGsv772wTim0Q" name="isRepeatable" method="_EGCEIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_61AIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Al8ogoJUEeGsv772wTim0Q" name="Quest" isAbstract="true">
              <ownedAttribute xmi:id="_EFobcoJUEeGsv772wTim0Q" name="questData" visibility="protected" type="_A2KOwYJUEeGsv772wTim0Q" association="_EGwc0YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFpCgIJUEeGsv772wTim0Q" name="rewardData" visibility="protected" type="_A2KOw4JUEeGsv772wTim0Q" association="_EGwc1IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFpCgoJUEeGsv772wTim0Q" name="flags" visibility="protected" type="_A2K10YJUEeGsv772wTim0Q" association="_EGwc14JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFpChIJUEeGsv772wTim0Q" name="id_NPCInstance_Source" visibility="protected" isStatic="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFppkIJUEeGsv772wTim0Q" name="TYPE_REWARD" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFppkYJUEeGsv772wTim0Q" value="1"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSNIJUEeGsv772wTim0Q" name="Quest" specification="_ED8ZYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGDSNYJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGDSNoJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGDSN4JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGDSOIJUEeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGDSOYJUEeGsv772wTim0Q" type="_Al8ogoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.questData = questData;&#xD;
		this.rewardData = rewardData;&#xD;
		this.flags = flags;&#xD;
		this.id_NPCInstance_Source = id_NPCInstance_Source;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSOoJUEeGsv772wTim0Q" name="end" specification="_ED9Ac4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGDSO4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGDSPIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (InventoryUtilities.checkFreeSpace(player.getInventory(),rewardData.getItem(), rewardData.getAmountOfItems()))&#xD;
		{&#xD;
			player.sendMessage(ChatColor.LIGHT_PURPLE + questData.getEndText());&#xD;
			player.sendMessage(&quot;Received: &quot;);&#xD;
&#xD;
			if (rewardData.getAmountOfItems() > 0)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.DARK_GREEN&#xD;
						+ Integer.toString(rewardData.getAmountOfItems())&#xD;
						+ ChatColor.GOLD&#xD;
						+ rewardData.getItem().getType().toString());&#xD;
				InventoryUtilities.addItemToInventory(player.getInventory(),&#xD;
						rewardData.getItem(), rewardData.getAmountOfItems());&#xD;
			}&#xD;
&#xD;
			if (rewardData.getCoins() > 0.0D)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.GOLD + &quot; &quot; + RageMod.getInstance().economy.format(rewardData.getCoins()));&#xD;
				RageMod.econ.bankDeposit(player.getName(), rewardData.getCoins());&#xD;
			}&#xD;
&#xD;
			player.sendMessage(&quot; &quot;);&#xD;
			player.sendMessage(&quot;for finishing &amp;a&quot; + questData.getName());&#xD;
&#xD;
			&#xD;
			playerData.activeQuestData.questCompleted(questData.getId());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			player.sendMessage(InventoryUtilities.notEnoughSpaceMessage);&#xD;
		}		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSPYJUEeGsv772wTim0Q" name="start" specification="_ED9AdoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGDSPoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGDSP4JUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>playerData.activeQuestData.startNewQuest(this, 0);&#xD;
		player.sendMessage(&quot;You have accepted the quest.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSQIJUEeGsv772wTim0Q" name="getQuestData" specification="_D_-fYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGDSQYJUEeGsv772wTim0Q" type="_A2KOwYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return questData;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSQoJUEeGsv772wTim0Q" name="isRepeatable" specification="_D__GcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGDSQ4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return flags.isRepeatable();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_-fYIJUEeGsv772wTim0Q" name="getQuestData" method="_EGDSQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED9ng4JUEeGsv772wTim0Q" type="_A2KOwYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D__GcIJUEeGsv772wTim0Q" name="isRepeatable" method="_EGDSQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D__GcYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED8ZYIJUEeGsv772wTim0Q" name="Quest" method="_EGDSNIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ED8ZZYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ED8ZZoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ED8ZYYJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED8ZYoJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED8ZY4JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED8ZZIJUEeGsv772wTim0Q" name="id_NPCInstance_Source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED8ZaIJUEeGsv772wTim0Q" type="_Al8ogoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED9Ac4JUEeGsv772wTim0Q" name="end" method="_EGDSOoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED9AdIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED9AdYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED9AdoJUEeGsv772wTim0Q" name="start" method="_EGDSPYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED9Ad4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED9AeIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED9ngIJUEeGsv772wTim0Q" name="isFinished" isAbstract="true">
                <ownedParameter xmi:id="_ED9ngYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED9ngoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED9nhIJUEeGsv772wTim0Q" name="statusUpdate" isAbstract="true">
                <ownedParameter xmi:id="_ED9nhYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED9nhoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Al9PkYJUEeGsv772wTim0Q" name="RewardData">
              <ownedComment xmi:id="_EGO4YYJUEeGsv772wTim0Q">
                <body>Contains data about the reward of a quest. Each quest&#xD;
consist of a RewardData object.&#xD;
@author Jorgen&#xD;
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_EFppkoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q" isReadOnly="true" association="_EGxD4YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFppk4JUEeGsv772wTim0Q" name="amountOfItems" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFpplIJUEeGsv772wTim0Q" name="coins" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGD5QIJUEeGsv772wTim0Q" name="RewardData" specification="_ED-OkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGD5QYJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGD5QoJUEeGsv772wTim0Q" name="amountOfItems">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGD5Q4JUEeGsv772wTim0Q" name="coins">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGD5RIJUEeGsv772wTim0Q" type="_Al9PkYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.item = item;&#xD;
		this.amountOfItems = amountOfItems;&#xD;
		this.coins = coins;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_ED-OkIJUEeGsv772wTim0Q" name="RewardData" method="_EGD5QIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ED-1oIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ED-1oYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ED-OkYJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED-OkoJUEeGsv772wTim0Q" name="amountOfItems">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED-Ok4JUEeGsv772wTim0Q" name="coins">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED-1ooJUEeGsv772wTim0Q" type="_Al9PkYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIUVxIJUEeGsv772wTim0Q" name="" memberEnd="_BIUVxYJUEeGsv772wTim0Q _A_XOEoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIUVxYJUEeGsv772wTim0Q" name="" type="_AeWywIJUEeGsv772wTim0Q" association="_BIUVxIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIUVx4JUEeGsv772wTim0Q" name="" memberEnd="_BIUVyIJUEeGsv772wTim0Q _A_X1IIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIUVyIJUEeGsv772wTim0Q" name="" type="_AeWywIJUEeGsv772wTim0Q" association="_BIUVx4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIU80YJUEeGsv772wTim0Q" name="" memberEnd="_BIU80oJUEeGsv772wTim0Q _A_X1IYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIU80oJUEeGsv772wTim0Q" name="" type="_AeWywIJUEeGsv772wTim0Q" association="_BIU80YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIU81IJUEeGsv772wTim0Q" name="" memberEnd="_BIU81YJUEeGsv772wTim0Q _A_X1IoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIU81YJUEeGsv772wTim0Q" name="" type="_AeWywIJUEeGsv772wTim0Q" association="_BIU81IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIVj4IJUEeGsv772wTim0Q" name="" memberEnd="_BIVj4YJUEeGsv772wTim0Q _A_X1JIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIVj4YJUEeGsv772wTim0Q" name="" type="_AeWywIJUEeGsv772wTim0Q" association="_BIVj4IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIVj44JUEeGsv772wTim0Q" name="" memberEnd="_BIVj5IJUEeGsv772wTim0Q _A_ZDQ4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIVj5IJUEeGsv772wTim0Q" name="" type="_AebrQIJUEeGsv772wTim0Q" association="_BIVj44JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIVj5oJUEeGsv772wTim0Q" name="" memberEnd="_BIVj54JUEeGsv772wTim0Q _A_ZqUIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIVj54JUEeGsv772wTim0Q" name="" type="_AedgcIJUEeGsv772wTim0Q" association="_BIVj5oJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIWK8YJUEeGsv772wTim0Q" name="" memberEnd="_BIWK8oJUEeGsv772wTim0Q _A_ZqUYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIWK8oJUEeGsv772wTim0Q" name="" type="_AedgcIJUEeGsv772wTim0Q" association="_BIWK8YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_D_61AYJUEeGsv772wTim0Q" name="GatheringQuest">
              <generalization xmi:id="_ED7LQIJUEeGsv772wTim0Q" general="_A2JntYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFnNVIJUEeGsv772wTim0Q" name="itemToGather" visibility="private" type="_Aka-goJUEeGsv772wTim0Q" association="_EGv1wYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCrIIJUEeGsv772wTim0Q" name="GatheringQuest" specification="_ED4vAYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCrIYJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCrIoJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCrI4JUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCrJIJUEeGsv772wTim0Q" name="itemToGather" type="_Aka-goJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCrJYJUEeGsv772wTim0Q" type="_D_61AYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
		this.itemToGather = itemToGather;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCrJoJUEeGsv772wTim0Q" name="end" specification="_ED5WF4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCrJ4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCrKIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>int additionalFreespace = questData.getObjectiveCounter() - (questData.getObjectiveCounter() % itemToGather.getMaxStackSize());&#xD;
				&#xD;
		if (InventoryUtilities.checkHasEnoughOfItem(player.getInventory().getContents(), itemToGather, questData.getObjectiveCounter())&#xD;
				&amp;&amp; InventoryUtilities.checkFreeSpace(player.getInventory(),rewardData.getItem(), rewardData.getAmountOfItems() - additionalFreespace))&#xD;
		{&#xD;
			InventoryUtilities.removeItemFromInventory(player.getInventory(), itemToGather, questData.getObjectiveCounter());&#xD;
			&#xD;
			player.sendMessage(ChatColor.LIGHT_PURPLE + questData.getEndText());&#xD;
			player.sendMessage(&quot;Received: &quot;);&#xD;
&#xD;
			if (rewardData.getAmountOfItems() > 0)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.DARK_GREEN&#xD;
						+ Integer.toString(rewardData.getAmountOfItems())&#xD;
						+ ChatColor.GOLD&#xD;
						+ rewardData.getItem().getType().toString());&#xD;
				InventoryUtilities.addItemToInventory(player.getInventory(),&#xD;
						rewardData.getItem(), rewardData.getAmountOfItems());&#xD;
			}&#xD;
&#xD;
			if (rewardData.getCoins() > 0.0D)&#xD;
			{&#xD;
				player.sendMessage(ChatColor.GOLD + &quot; &quot; + RageMod.getInstance().economy.format(rewardData.getCoins()));&#xD;
				RageMod.getInstance().economy.bankDeposit(player.getName(), rewardData.getCoins());&#xD;
			}&#xD;
&#xD;
			player.sendMessage(&quot; &quot;);&#xD;
			player.sendMessage(&quot;for finishing &amp;a&quot; + questData.getName());&#xD;
&#xD;
			&#xD;
			playerData.activeQuestData.questCompleted(questData.getId());&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			player.sendMessage(InventoryUtilities.notEnoughSpaceMessage);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCrKYJUEeGsv772wTim0Q" name="isFinished" specification="_ED59I4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCrKoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCrK4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_ED4vAYJUEeGsv772wTim0Q" name="GatheringQuest" method="_EGCrIIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ED5WFIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ED5WFYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ED5WEIJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED5WEYJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED5WEoJUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED5WE4JUEeGsv772wTim0Q" name="itemToGather" type="_Aka-goJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED5WFoJUEeGsv772wTim0Q" type="_D_61AYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED5WF4JUEeGsv772wTim0Q" name="end" method="_EGCrJoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED5WGIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED5WGYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED59I4JUEeGsv772wTim0Q" name="isFinished" method="_EGCrKYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED59JIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED59JYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED6kMoJUEeGsv772wTim0Q" name="statusUpdate">
                <ownedParameter xmi:id="_ED6kM4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED6kNIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_D_8qMIJUEeGsv772wTim0Q" name="PlayerQuestData">
              <ownedAttribute xmi:id="_EFn0YYJUEeGsv772wTim0Q" name="quest" type="_A2JntYJUEeGsv772wTim0Q" isReadOnly="true" association="_EGv1xIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFn0YoJUEeGsv772wTim0Q" name="objectiveCounter" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFn0Y4JUEeGsv772wTim0Q" name="playerOnQuest" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFn0ZIJUEeGsv772wTim0Q" name="completedQuests" visibility="private" type="_AkYiQIJUEeGsv772wTim0Q" association="_EGv1x4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCrLIJUEeGsv772wTim0Q" name="questCompleted" specification="_D_9RQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCrLYJUEeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>if(!completedQuests.contains(questId))&#xD;
		{&#xD;
			completedQuests.add(questId);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCrLoJUEeGsv772wTim0Q" name="isQuestCompleted" specification="_D_9RQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCrL4JUEeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGCrMIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(completedQuests.contains(questId))&#xD;
			return true;&#xD;
		else&#xD;
			return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCrMYJUEeGsv772wTim0Q" name="incrementObjectiveCounter" specification="_D_9RRYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>if(objectiveCounter &lt; quest.getQuestData().getObjectiveCounter())&#xD;
			objectiveCounter++;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSMIJUEeGsv772wTim0Q" name="startNewQuest" specification="_ED7LQYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGDSMYJUEeGsv772wTim0Q" name="quest" type="_A2JntYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGDSMoJUEeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.quest = quest;&#xD;
		this.objectiveCounter = objectiveCounter;&#xD;
		this.playerOnQuest = true;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGDSM4JUEeGsv772wTim0Q" name="endQuest" specification="_D_9RRoJUEeGsv772wTim0Q">
                <language>java</language>
                <body>playerOnQuest = false;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_8qMYJUEeGsv772wTim0Q" name="PlayerQuestData">
                <eAnnotations xmi:id="_D_8qMoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_D_8qM4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_D_8qNYJUEeGsv772wTim0Q" type="_D_8qMIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_9RQIJUEeGsv772wTim0Q" name="questCompleted" method="_EGCrLIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_9RQYJUEeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_9RQoJUEeGsv772wTim0Q" name="isQuestCompleted" method="_EGCrLoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_9RQ4JUEeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_9RRIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_9RRYJUEeGsv772wTim0Q" name="incrementObjectiveCounter" method="_EGCrMYJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_EGORUoJUEeGsv772wTim0Q">
                  <body>Will increment the objectiveCounter if it is less then what is required&#xD;
	 * by the quest.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_D_9RRoJUEeGsv772wTim0Q" name="endQuest" method="_EGDSM4JUEeGsv772wTim0Q">
                <ownedComment xmi:id="_EGORVIJUEeGsv772wTim0Q">
                  <body>Resets the quest and questCounter. Called when a quest is finished.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_ED7LQYJUEeGsv772wTim0Q" name="startNewQuest" method="_EGDSMIJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_EGORU4JUEeGsv772wTim0Q">
                  <body>Starts a new quest for the player.&#xD;
	 * &#xD;
	 * @param quest&#xD;
	 * @param questCounter</body>
                </ownedComment>
                <ownedParameter xmi:id="_ED7LQoJUEeGsv772wTim0Q" name="quest" type="_A2JntYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED7LQ4JUEeGsv772wTim0Q" name="objectiveCounter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EAA7oIJUEeGsv772wTim0Q" name="TravelQuest">
              <generalization xmi:id="_EEAq0oJUEeGsv772wTim0Q" general="_A2JntYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGD5RYJUEeGsv772wTim0Q" name="TravelQuest" specification="_ED-1o4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGD5RoJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGD5R4JUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGD5SIJUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGD5SYJUEeGsv772wTim0Q" type="_EAA7oIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(questData, rewardData, flags, id_NPCInstance_Source);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGD5SoJUEeGsv772wTim0Q" name="isFinished" specification="_ED_ctIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGD5S4JUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGD5TIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return true;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_ED-1o4JUEeGsv772wTim0Q" name="TravelQuest" method="_EGD5RYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ED_csYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ED_csoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ED-1pIJUEeGsv772wTim0Q" name="questData" type="_A2KOwYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED-1pYJUEeGsv772wTim0Q" name="rewardData" type="_A2KOw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED_csIJUEeGsv772wTim0Q" name="flags" type="_A2K10YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED_cs4JUEeGsv772wTim0Q" type="_EAA7oIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED_ctIJUEeGsv772wTim0Q" name="isFinished" method="_EGD5SoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED_ctYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED_ctoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEADwoJUEeGsv772wTim0Q" name="statusUpdate">
                <ownedParameter xmi:id="_EEADw4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEADxIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGv1wYJUEeGsv772wTim0Q" name="" memberEnd="_EGv1woJUEeGsv772wTim0Q _EFnNVIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGv1woJUEeGsv772wTim0Q" name="" type="_D_61AYJUEeGsv772wTim0Q" association="_EGv1wYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGv1xIJUEeGsv772wTim0Q" name="" memberEnd="_EGv1xYJUEeGsv772wTim0Q _EFn0YYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGv1xYJUEeGsv772wTim0Q" name="" type="_D_8qMIJUEeGsv772wTim0Q" association="_EGv1xIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGv1x4JUEeGsv772wTim0Q" name="" memberEnd="_EGv1yIJUEeGsv772wTim0Q _EFn0ZIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGv1yIJUEeGsv772wTim0Q" name="" type="_D_8qMIJUEeGsv772wTim0Q" association="_EGv1x4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGwc0YJUEeGsv772wTim0Q" name="" memberEnd="_EGwc0oJUEeGsv772wTim0Q _EFobcoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGwc0oJUEeGsv772wTim0Q" name="" type="_Al8ogoJUEeGsv772wTim0Q" association="_EGwc0YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGwc1IJUEeGsv772wTim0Q" name="" memberEnd="_EGwc1YJUEeGsv772wTim0Q _EFpCgIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGwc1YJUEeGsv772wTim0Q" name="" type="_Al8ogoJUEeGsv772wTim0Q" association="_EGwc1IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGwc14JUEeGsv772wTim0Q" name="" memberEnd="_EGwc2IJUEeGsv772wTim0Q _EFpCgoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGwc2IJUEeGsv772wTim0Q" name="" type="_Al8ogoJUEeGsv772wTim0Q" association="_EGwc14JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGxD4YJUEeGsv772wTim0Q" name="" memberEnd="_EGxD4oJUEeGsv772wTim0Q _EFppkoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGxD4oJUEeGsv772wTim0Q" name="" type="_Al9PkYJUEeGsv772wTim0Q" association="_EGxD4YJUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AW8jMIJUEeGsv772wTim0Q" name="database">
            <packagedElement xmi:type="uml:Class" xmi:id="_AdFncIJUEeGsv772wTim0Q" name="JDCConnectionDriver" clientDependency="_AvMrIIJUEeGsv772wTim0Q">
              <ownedAttribute xmi:id="_A3edY4JUEeGsv772wTim0Q" name="URL_PREFIX" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3fEcIJUEeGsv772wTim0Q" value="&quot;jdbc:jdc:&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3fEcYJUEeGsv772wTim0Q" name="MAJOR_VERSION" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3fEcoJUEeGsv772wTim0Q" value="1"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3fEc4JUEeGsv772wTim0Q" name="MINOR_VERSION" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3fEdIJUEeGsv772wTim0Q" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3fEdYJUEeGsv772wTim0Q" name="pool" visibility="private" type="_AvMrIoJUEeGsv772wTim0Q" association="_BIIIhoJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAM7kIJUEeGsv772wTim0Q" name="JDCConnectionDriver" specification="_AdGOgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAM7kYJUEeGsv772wTim0Q" name="driver">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7koJUEeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7k4JUEeGsv772wTim0Q" name="user">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7lIJUEeGsv772wTim0Q" name="password">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7lYJUEeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7loJUEeGsv772wTim0Q" type="_AdFncIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>DriverManager.registerDriver(this);&#xD;
     Class.forName(driver).newInstance();&#xD;
     pool = new JDCConnectionPool(url, user, password, timeout);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAM7l4JUEeGsv772wTim0Q" name="getConnectionPool" specification="_AdHcoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAM7mIJUEeGsv772wTim0Q" type="_AvMrIoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return pool;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAM7mYJUEeGsv772wTim0Q" name="connect" specification="_AvOgUoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAM7moJUEeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7m4JUEeGsv772wTim0Q" name="props" type="_AvOgUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAM7nIJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if(!url.startsWith(URL_PREFIX)) {&#xD;
          return null;&#xD;
     }&#xD;
     return pool.getConnection();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAM7nYJUEeGsv772wTim0Q" name="acceptsURL" specification="_AdHcoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAM7noJUEeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAM7n4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return url.startsWith(URL_PREFIX);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAM7oIJUEeGsv772wTim0Q" name="getMajorVersion" specification="_AdIDsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAM7oYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return MAJOR_VERSION;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BANioIJUEeGsv772wTim0Q" name="getMinorVersion" specification="_AdIDtIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BANioYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return MINOR_VERSION;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BANiooJUEeGsv772wTim0Q" name="getPropertyInfo" specification="_AvPHYoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BANio4JUEeGsv772wTim0Q" name="str">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BANipIJUEeGsv772wTim0Q" name="props" type="_AvOgUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BANipYJUEeGsv772wTim0Q" type="_AvPHYIJUEeGsv772wTim0Q" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BANipoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return new DriverPropertyInfo[0];&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BANip4JUEeGsv772wTim0Q" name="jdbcCompliant" specification="_AdIqwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BANiqIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return false;&#xD;
 </body>
              </ownedBehavior>
              <interfaceRealization xmi:id="_AvMrIIJUEeGsv772wTim0Q" supplier="_AvMEEIJUEeGsv772wTim0Q" client="_AdFncIJUEeGsv772wTim0Q" contract="_AvMEEIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AdGOgIJUEeGsv772wTim0Q" name="JDCConnectionDriver" method="_BAM7kIJUEeGsv772wTim0Q" raisedException="_AvMrJIJUEeGsv772wTim0Q _AvNSMYJUEeGsv772wTim0Q _AvNSM4JUEeGsv772wTim0Q _Al2h4YJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AdG1koJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AdG1k4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AdGOgYJUEeGsv772wTim0Q" name="driver">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdGOgoJUEeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdGOg4JUEeGsv772wTim0Q" name="user">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdG1kIJUEeGsv772wTim0Q" name="password">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdG1kYJUEeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdG1lIJUEeGsv772wTim0Q" type="_AdFncIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdHcoIJUEeGsv772wTim0Q" name="getConnectionPool" method="_BAM7l4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvN5QYJUEeGsv772wTim0Q" type="_AvMrIoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdHcoYJUEeGsv772wTim0Q" name="acceptsURL" method="_BAM7nYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdIDsIJUEeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdIDsYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdIDsoJUEeGsv772wTim0Q" name="getMajorVersion" method="_BAM7oIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdIDs4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdIDtIJUEeGsv772wTim0Q" name="getMinorVersion" method="_BANioIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdIDtYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdIqwIJUEeGsv772wTim0Q" name="jdbcCompliant" method="_BANip4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdIqwYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AvOgUoJUEeGsv772wTim0Q" name="connect" method="_BAM7mYJUEeGsv772wTim0Q" raisedException="_Al2h4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvOgU4JUEeGsv772wTim0Q" name="url">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvOgVIJUEeGsv772wTim0Q" name="props" type="_AvOgUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvOgVYJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvPHYoJUEeGsv772wTim0Q" name="getPropertyInfo" method="_BANiooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvPHY4JUEeGsv772wTim0Q" name="str">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvPHZIJUEeGsv772wTim0Q" name="props" type="_AvOgUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvPHZYJUEeGsv772wTim0Q" type="_AvPHYIJUEeGsv772wTim0Q" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AvPHZoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdKf8IJUEeGsv772wTim0Q" name="ConnectionReaper" visibility="package">
              <generalization xmi:id="_AvTY1YJUEeGsv772wTim0Q" general="_AvPucYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3hgsoJUEeGsv772wTim0Q" name="pool" visibility="private" type="_AvMrIoJUEeGsv772wTim0Q" association="_BIJWpoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3iHwIJUEeGsv772wTim0Q" name="delay" visibility="private" isLeaf="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3iHwYJUEeGsv772wTim0Q" value="3600000"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOwwIJUEeGsv772wTim0Q" name="ConnectionReaper" specification="_AvTY0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAOwwYJUEeGsv772wTim0Q" name="pool" type="_AvMrIoJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAOwwoJUEeGsv772wTim0Q" type="_AdKf8IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.pool=pool;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOww4JUEeGsv772wTim0Q" name="run" specification="_AdP_gIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>while(true) {&#xD;
        try {&#xD;
           sleep(delay);&#xD;
        } catch( InterruptedException e) { }&#xD;
        //System.out.println(&quot;[RAGE] Attempting to reap connections... (pool size: &quot; + pool.connections.size() + &quot;)&quot;);&#xD;
        pool.reapConnections();&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AdLHAIJUEeGsv772wTim0Q" name="ConnectionKeepAlive" visibility="package">
                <eAnnotations xmi:id="_AdLHAYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AdLHAoJUEeGsv772wTim0Q" key="sameFile"/>
                </eAnnotations>
                <ownedComment xmi:id="_BAq1oIJUEeGsv772wTim0Q">
                  <body>To keep the connections in the pool alive. This was what caused our problems.&#xD;
No good way to track if a connection is closed or not without just keeping&#xD;
it alive by using ping.&#xD;
@author Jorgen&#xD;
 *</body>
                </ownedComment>
                <generalization xmi:id="_AvQ8lIJUEeGsv772wTim0Q" general="_AvPucYJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A3frgIJUEeGsv772wTim0Q" name="connections" visibility="private" type="_AvQVgYJUEeGsv772wTim0Q" association="_BIIvkYJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A3frg4JUEeGsv772wTim0Q" name="interval" visibility="private" isLeaf="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3gSkIJUEeGsv772wTim0Q" value="60000"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BANiqYJUEeGsv772wTim0Q" name="ConnectionKeepAlive" specification="_AvQVg4JUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BANiqoJUEeGsv772wTim0Q" name="connections" type="_AvQVgYJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BANiq4JUEeGsv772wTim0Q" type="_AdLHAIJUEeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.connections = connections;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BANirIJUEeGsv772wTim0Q" name="run" specification="_AdLHA4JUEeGsv772wTim0Q">
                  <language>java</language>
                  <body>while(true)&#xD;
		{			&#xD;
			try {&#xD;
				sleep(interval);				&#xD;
			} &#xD;
			catch (InterruptedException e) { }&#xD;
			for(JDCConnection conn : connections)&#xD;
			{&#xD;
				PreparedStatement ps;&#xD;
				&#xD;
				try {&#xD;
					ps = conn.prepareStatement(&quot;/* ping */ SELECT 1&quot;);&#xD;
					ps.executeQuery();&#xD;
				} catch (SQLException e) {					&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
				&#xD;
			}&#xD;
		}&#xD;
	</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_AdLHA4JUEeGsv772wTim0Q" name="run" method="_BANirIJUEeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_AvQVg4JUEeGsv772wTim0Q" name="ConnectionKeepAlive" method="_BANiqYJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AvQ8kIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AvQ8kYJUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AvQVhIJUEeGsv772wTim0Q" name="connections" type="_AvQVgYJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_AvQ8koJUEeGsv772wTim0Q" type="_AdLHAIJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AdLuEIJUEeGsv772wTim0Q" name="JDCConnectionPool">
                <eAnnotations xmi:id="_AdLuEYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AdLuEoJUEeGsv772wTim0Q" key="sameFile"/>
                </eAnnotations>
                <ownedAttribute xmi:id="_A3gSkoJUEeGsv772wTim0Q" name="connections" type="_AvQVgYJUEeGsv772wTim0Q" association="_BIIvlIJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A3gSlIJUEeGsv772wTim0Q" name="url" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_A3g5oYJUEeGsv772wTim0Q" name="timeout" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3g5ooJUEeGsv772wTim0Q" value="190000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_A3g5o4JUEeGsv772wTim0Q" name="reaper" visibility="private" type="_AvRjoIJUEeGsv772wTim0Q" association="_BIJWoIJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A3g5pIJUEeGsv772wTim0Q" name="pinger" visibility="private" type="_AvRjooJUEeGsv772wTim0Q" association="_BIJWo4JUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A3hgsIJUEeGsv772wTim0Q" name="poolsize" visibility="private" isLeaf="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3hgsYJUEeGsv772wTim0Q" value="20"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BArcsIJUEeGsv772wTim0Q" name="user" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BArcsoJUEeGsv772wTim0Q" name="password" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOJsIJUEeGsv772wTim0Q" name="JDCConnectionPool" specification="_AdMVIYJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAOJsYJUEeGsv772wTim0Q" name="url">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_BAOJsoJUEeGsv772wTim0Q" name="user">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_BAOJs4JUEeGsv772wTim0Q" name="password">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_BAOJtIJUEeGsv772wTim0Q" name="timeout">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_BAOJtYJUEeGsv772wTim0Q" type="_AdLuEIJUEeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.url = url;&#xD;
   this.user = user;&#xD;
   this.password = password;&#xD;
   this.timeout = timeout;&#xD;
   connections = new Vector&lt;JDCConnection>(poolsize);&#xD;
   reaper = new ConnectionReaper(this);&#xD;
   reaper.start();&#xD;
   //pinger = new ConnectionKeepAlive(connections);&#xD;
   //pinger.start();&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOJtoJUEeGsv772wTim0Q" name="reapConnections" specification="_AdM8N4JUEeGsv772wTim0Q">
                  <language>java</language>
                  <body>long stale = System.currentTimeMillis() - timeout;&#xD;
   Enumeration&lt;JDCConnection> connlist = connections.elements();&#xD;
 &#xD;
   while( (connlist != null) &amp;&amp; (connlist.hasMoreElements()) ) &#xD;
   {&#xD;
       JDCConnection conn = (JDCConnection)connlist.nextElement();&#xD;
&#xD;
       //System.out.println(&quot;[RAGE] Conn. &quot; + connections.indexOf(conn) + &quot;: inUse: &quot; + conn.inUse() + &quot;, stale: &quot; + ((stale-conn.getLastUse())/1000) + &quot; validate(): &quot; + conn.validate());&#xD;
       &#xD;
       if((conn.inUse()) &amp;&amp; !conn.validate()) // Reap all connections that fail validate() (DC)&#xD;
       {&#xD;
     	  removeConnection(conn);&#xD;
     	  System.out.println(&quot;[RAGE] Connection pool reaped broken connection.  Pool size: &quot; + connections.size());&#xD;
       }&#xD;
       // Also reap ALL older connections - the pool isn't going to try to use them anyway&#xD;
       else if((!conn.inUse() &amp;&amp; (stale > conn.getLastUse())) || (!conn.validate())) // Reap all connections that fail validate() or are too old (DC)&#xD;
       {&#xD;
     	  removeConnection(conn);&#xD;
     	  System.out.println(&quot;[RAGE] Connection pool reaped idle connection.  Pool size: &quot; + connections.size());&#xD;
       }&#xD;
   }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOJt4JUEeGsv772wTim0Q" name="closeConnections" specification="_AdNjQYJUEeGsv772wTim0Q">
                  <language>java</language>
                  <body>Enumeration&lt;JDCConnection> connlist = connections.elements();&#xD;
&#xD;
   while((connlist != null) &amp;&amp; (connlist.hasMoreElements())) {&#xD;
       JDCConnection conn = (JDCConnection)connlist.nextElement();&#xD;
       removeConnection(conn);&#xD;
   }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOJuIJUEeGsv772wTim0Q" name="removeConnection" specification="_AvSKs4JUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAOJuYJUEeGsv772wTim0Q" name="conn" type="_AvSKsYJUEeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>connections.removeElement(conn);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOJuoJUEeGsv772wTim0Q" name="getConnection" specification="_AdOKUIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAOJu4JUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>long stale = System.currentTimeMillis() - timeout;   // DC - added stale checking to getConnection - don't even try with old connections&#xD;
	   &#xD;
	   for(JDCConnection connection : connections) {    	   &#xD;
        if(stale &lt; connection.getLastUse() &amp;&amp; (connection.validate() &amp;&amp; connection.lease())) &#xD;
        {&#xD;
            //System.out.println(&quot;[RAGE] Getting connection &quot; + connections.indexOf(connection));&#xD;
     	   return connection;&#xD;
        } &#xD;
    }&#xD;
&#xD;
    //System.out.println(&quot;[RAGE] Creating new connection&quot;);&#xD;
    &#xD;
    Connection conn = DriverManager.getConnection(url, user, password);&#xD;
    JDCConnection newConnection = new JDCConnection(conn, this);&#xD;
    newConnection.lease();&#xD;
    connections.addElement(newConnection);&#xD;
    &#xD;
    return newConnection;&#xD;
  </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOJvIJUEeGsv772wTim0Q" name="returnConnection" specification="_AvSxwoJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAOJvYJUEeGsv772wTim0Q" name="conn" type="_AvSKsYJUEeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>conn.expireLease();&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_AdMVIYJUEeGsv772wTim0Q" name="JDCConnectionPool" method="_BAOJsIJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AdM8M4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AdM8NIJUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AdMVIoJUEeGsv772wTim0Q" name="url">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_AdM8MIJUEeGsv772wTim0Q" name="user">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_AdM8MYJUEeGsv772wTim0Q" name="password">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_AdM8MoJUEeGsv772wTim0Q" name="timeout">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_AdM8NYJUEeGsv772wTim0Q" type="_AdLuEIJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_AdM8N4JUEeGsv772wTim0Q" name="reapConnections" method="_BAOJtoJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AdM8OIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AdM8OYJUEeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                </ownedOperation>
                <ownedOperation xmi:id="_AdNjQYJUEeGsv772wTim0Q" name="closeConnections" method="_BAOJt4JUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AdNjQoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AdNjQ4JUEeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                </ownedOperation>
                <ownedOperation xmi:id="_AdOKUIJUEeGsv772wTim0Q" name="getConnection" method="_BAOJuoJUEeGsv772wTim0Q" raisedException="_Al2h4YJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AdOKUYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AdOKUoJUEeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AvSxwYJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_AvSKs4JUEeGsv772wTim0Q" name="removeConnection" visibility="private" method="_BAOJuIJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AvSKtYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AvSKtoJUEeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AvSKtIJUEeGsv772wTim0Q" name="conn" type="_AvSKsYJUEeGsv772wTim0Q"/>
                </ownedOperation>
                <ownedOperation xmi:id="_AvSxwoJUEeGsv772wTim0Q" name="returnConnection" method="_BAOJvIJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_AvSxxIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_AvSxxYJUEeGsv772wTim0Q" key="synchronized"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_AvSxw4JUEeGsv772wTim0Q" name="conn" type="_AvSKsYJUEeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_AdP_gIJUEeGsv772wTim0Q" name="run" method="_BAOww4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AvTY0IJUEeGsv772wTim0Q" name="ConnectionReaper" visibility="package" method="_BAOwwIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvTY0oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvTY04JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvTY0YJUEeGsv772wTim0Q" name="pool" type="_AvMrIoJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvTY1IJUEeGsv772wTim0Q" type="_AdKf8IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdSbwIJUEeGsv772wTim0Q" name="RageDB">
              <ownedAttribute xmi:id="_A3iHw4JUEeGsv772wTim0Q" name="connectionDriver" visibility="private" type="_AvT_4IJUEeGsv772wTim0Q" association="_BIJ9sYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3iu0YJUEeGsv772wTim0Q" name="url" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3iu04JUEeGsv772wTim0Q" name="databaseName" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3iu1YJUEeGsv772wTim0Q" name="driver" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3jV4YJUEeGsv772wTim0Q" name="user" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3jV44JUEeGsv772wTim0Q" name="password" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3jV5YJUEeGsv772wTim0Q" name="timeout" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A3j88YJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIJ9tIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3j884JUEeGsv772wTim0Q" name="townQueries" type="_AdtSgIJUEeGsv772wTim0Q" association="_BIKkwIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3j89YJUEeGsv772wTim0Q" name="lotQueries" type="_AdZwgIJUEeGsv772wTim0Q" association="_BIKkw4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3kkAYJUEeGsv772wTim0Q" name="playerQueries" type="_Adi6cIJUEeGsv772wTim0Q" association="_BIKkxoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3kkA4JUEeGsv772wTim0Q" name="factionQueries" type="_AdXUQIJUEeGsv772wTim0Q" association="_BILL0YJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3kkBYJUEeGsv772wTim0Q" name="taskQueries" type="_Aly3gYJUEeGsv772wTim0Q" association="_BILL1IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3lLEYJUEeGsv772wTim0Q" name="npcQueries" type="_AlyQcIJUEeGsv772wTim0Q" association="_BILy4IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3lLE4JUEeGsv772wTim0Q" name="npcTownQueries" type="_AdepAIJUEeGsv772wTim0Q" association="_BILy44JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOwxIJUEeGsv772wTim0Q" name="RageDB" specification="_AvVOAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAOwxYJUEeGsv772wTim0Q" name="instance" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAOwxoJUEeGsv772wTim0Q" name="config" type="_AlCpkIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAOwx4JUEeGsv772wTim0Q" type="_AdSbwIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>plugin = instance;&#xD;
 	townQueries = new TownQueries(this, this.plugin);&#xD;
 	lotQueries = new LotQueries(this, this.plugin);&#xD;
 	playerQueries = new PlayerQueries(this, this.plugin);&#xD;
 	factionQueries = new FactionQueries(this, this.plugin);&#xD;
 	taskQueries = new TaskQueries(this, this.plugin);&#xD;
 	npcQueries = new NPCQueries(this, this.plugin);&#xD;
 	npcTownQueries = new NPCTownQueries(this, this.plugin);&#xD;
 	&#xD;
 	url = config.DB_URL;&#xD;
 	databaseName = config.DB_NAME;&#xD;
 	driver = config.DB_DRIVER;&#xD;
 	user = config.DB_USER;&#xD;
 	password = config.DB_PASSWORD;&#xD;
 	timeout = config.DB_TIMEOUT;&#xD;
 	&#xD;
     try&#xD;
     {&#xD;
     	connectionDriver = new JDCConnectionDriver(driver, url + databaseName, user, password, timeout);&#xD;
     }&#xD;
     catch(Exception e)&#xD;
     {&#xD;
        System.out.println(e);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAOwyIJUEeGsv772wTim0Q" name="getConnection" specification="_AdUQ8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAPX0IJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return connectionDriver.getConnectionPool().getConnection();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAPX0YJUEeGsv772wTim0Q" name="close" specification="_AvWcIYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAPX0oJUEeGsv772wTim0Q" name="rs" type="_AvV1EYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAPX04JUEeGsv772wTim0Q" name="preparedStatement" type="_AvV1E4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAPX1IJUEeGsv772wTim0Q" name="conn" type="_ECqnAIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>try {&#xD;
			if (rs != null) &#xD;
			{&#xD;
				rs.close();&#xD;
			}&#xD;
&#xD;
			if (preparedStatement != null) &#xD;
			{&#xD;
				preparedStatement.close();&#xD;
			}&#xD;
&#xD;
			if (conn != null) &#xD;
			{&#xD;
				connectionDriver.getConnectionPool().returnConnection((JDCConnection)conn);&#xD;
			}&#xD;
		} catch (Exception e) {&#xD;
&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AdUQ8IJUEeGsv772wTim0Q" name="getConnection" method="_BAOwyIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvVOBoJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvVOAIJUEeGsv772wTim0Q" name="RageDB" method="_BAOwxIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AvVOA4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AvVOBIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AvVOAYJUEeGsv772wTim0Q" name="instance" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvVOAoJUEeGsv772wTim0Q" name="config" type="_AlCpkIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvVOBYJUEeGsv772wTim0Q" type="_AdSbwIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvWcIYJUEeGsv772wTim0Q" name="close" method="_BAPX0YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvWcIoJUEeGsv772wTim0Q" name="rs" type="_AvV1EYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvWcI4JUEeGsv772wTim0Q" name="preparedStatement" type="_AvV1E4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvWcJIJUEeGsv772wTim0Q" name="conn" type="_ECqnAIJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_AvMEEIJUEeGsv772wTim0Q" name="Driver"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvMrJIJUEeGsv772wTim0Q" name="ClassNotFoundException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvNSMYJUEeGsv772wTim0Q" name="InstantiationException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvNSM4JUEeGsv772wTim0Q" name="IllegalAccessException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvOgUIJUEeGsv772wTim0Q" name="Properties"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvPHYIJUEeGsv772wTim0Q" name="DriverPropertyInfo"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvPucYJUEeGsv772wTim0Q" name="Thread"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvQVgYJUEeGsv772wTim0Q" name="Vector"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvVOB4JUEeGsv772wTim0Q" name="SQLException"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvV1EYJUEeGsv772wTim0Q" name="ResultSet"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AvV1E4JUEeGsv772wTim0Q" name="PreparedStatement"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIIIhoJUEeGsv772wTim0Q" name="" memberEnd="_BIIIh4JUEeGsv772wTim0Q _A3fEdYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIIIh4JUEeGsv772wTim0Q" name="" type="_AdFncIJUEeGsv772wTim0Q" association="_BIIIhoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIIvkYJUEeGsv772wTim0Q" name="" memberEnd="_BIIvkoJUEeGsv772wTim0Q _A3frgIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIIvkoJUEeGsv772wTim0Q" name="" type="_AdLHAIJUEeGsv772wTim0Q" association="_BIIvkYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIIvlIJUEeGsv772wTim0Q" name="" memberEnd="_BIIvlYJUEeGsv772wTim0Q _A3gSkoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIIvlYJUEeGsv772wTim0Q" name="" type="_AdLuEIJUEeGsv772wTim0Q" association="_BIIvlIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIJWoIJUEeGsv772wTim0Q" name="" memberEnd="_BIJWoYJUEeGsv772wTim0Q _A3g5o4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIJWoYJUEeGsv772wTim0Q" name="" type="_AdLuEIJUEeGsv772wTim0Q" association="_BIJWoIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIJWo4JUEeGsv772wTim0Q" name="" memberEnd="_BIJWpIJUEeGsv772wTim0Q _A3g5pIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIJWpIJUEeGsv772wTim0Q" name="" type="_AdLuEIJUEeGsv772wTim0Q" association="_BIJWo4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIJWpoJUEeGsv772wTim0Q" name="" memberEnd="_BIJWp4JUEeGsv772wTim0Q _A3hgsoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIJWp4JUEeGsv772wTim0Q" name="" type="_AdKf8IJUEeGsv772wTim0Q" association="_BIJWpoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIJ9sYJUEeGsv772wTim0Q" name="" memberEnd="_BIJ9soJUEeGsv772wTim0Q _A3iHw4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIJ9soJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIJ9sYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIJ9tIJUEeGsv772wTim0Q" name="" memberEnd="_BIJ9tYJUEeGsv772wTim0Q _A3j88YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIJ9tYJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIJ9tIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIKkwIJUEeGsv772wTim0Q" name="" memberEnd="_BIKkwYJUEeGsv772wTim0Q _A3j884JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIKkwYJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIKkwIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIKkw4JUEeGsv772wTim0Q" name="" memberEnd="_BIKkxIJUEeGsv772wTim0Q _A3j89YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIKkxIJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIKkw4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIKkxoJUEeGsv772wTim0Q" name="" memberEnd="_BIKkx4JUEeGsv772wTim0Q _A3kkAYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIKkx4JUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIKkxoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BILL0YJUEeGsv772wTim0Q" name="" memberEnd="_BILL0oJUEeGsv772wTim0Q _A3kkA4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BILL0oJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BILL0YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BILL1IJUEeGsv772wTim0Q" name="" memberEnd="_BILL1YJUEeGsv772wTim0Q _A3kkBYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BILL1YJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BILL1IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BILy4IJUEeGsv772wTim0Q" name="" memberEnd="_BILy4YJUEeGsv772wTim0Q _A3lLEYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BILy4YJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BILy4IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BILy44JUEeGsv772wTim0Q" name="" memberEnd="_BILy5IJUEeGsv772wTim0Q _A3lLE4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BILy5IJUEeGsv772wTim0Q" name="" type="_AdSbwIJUEeGsv772wTim0Q" association="_BILy44JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_D_kPsIJUEeGsv772wTim0Q" name="JDCConnection" clientDependency="_EDuW8IJUEeGsv772wTim0Q">
              <ownedAttribute xmi:id="_EFkKAoJUEeGsv772wTim0Q" name="pool" visibility="private" type="_AvMrIoJUEeGsv772wTim0Q" association="_EGuAloJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFkKBIJUEeGsv772wTim0Q" name="conn" visibility="private" type="_ECqnAIJUEeGsv772wTim0Q" association="_EGunoYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFkxEYJUEeGsv772wTim0Q" name="inuse" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFkxE4JUEeGsv772wTim0Q" name="timestamp" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79dIJUEeGsv772wTim0Q" name="JDCConnection" specification="_EDu-AIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF79dYJUEeGsv772wTim0Q" name="conn" type="_ECqnAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF79doJUEeGsv772wTim0Q" name="pool" type="_AvMrIoJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF79d4JUEeGsv772wTim0Q" type="_D_kPsIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.conn=conn;&#xD;
     this.pool=pool;&#xD;
     this.inuse=false;&#xD;
     this.timestamp=0;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79eIJUEeGsv772wTim0Q" name="lease" specification="_D_k2wIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF79eYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(inuse)  {&#xD;
        return false;&#xD;
    } else {&#xD;
       inuse=true;&#xD;
       timestamp=System.currentTimeMillis();&#xD;
       return true;&#xD;
    }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79eoJUEeGsv772wTim0Q" name="validate" specification="_D_ld0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF79e4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>try {&#xD;
         conn.getMetaData();&#xD;
     }catch (Exception e) {&#xD;
	    return false;&#xD;
	}&#xD;
	return true;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79fIJUEeGsv772wTim0Q" name="inUse" specification="_D_ld0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF79fYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return inuse;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF79foJUEeGsv772wTim0Q" name="getLastUse" specification="_D_ld1IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8kgIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
                <language>java</language>
                <body>return timestamp;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kgYJUEeGsv772wTim0Q" name="close" specification="_D_ld1oJUEeGsv772wTim0Q">
                <language>java</language>
                <body>pool.returnConnection(this);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kgoJUEeGsv772wTim0Q" name="expireLease" specification="_D_ld14JUEeGsv772wTim0Q">
                <language>java</language>
                <body>inuse=false;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kg4JUEeGsv772wTim0Q" name="getConnection" specification="_D_mE4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8khIJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8khYJUEeGsv772wTim0Q" name="prepareStatement" specification="_D_mE4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8khoJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF8kh4JUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.prepareStatement(sql);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kiIJUEeGsv772wTim0Q" name="prepareStatement" specification="_D_mE44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8kiYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF8kioJUEeGsv772wTim0Q" name="autoGeneratedKeys">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF8ki4JUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.prepareStatement(sql, autoGeneratedKeys);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kjIJUEeGsv772wTim0Q" name="prepareCall" specification="_D_mr8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8kjYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF8kjoJUEeGsv772wTim0Q" type="_EEvDkIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.prepareCall(sql);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kj4JUEeGsv772wTim0Q" name="createStatement" specification="_D_mr8oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8kkIJUEeGsv772wTim0Q" type="_Al4XEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.createStatement();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF8kkYJUEeGsv772wTim0Q" name="nativeSQL" specification="_D_mr84JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF8kkoJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF8kk4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.nativeSQL(sql);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LkIJUEeGsv772wTim0Q" name="setAutoCommit" specification="_D_nTAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9LkYJUEeGsv772wTim0Q" name="autoCommit">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setAutoCommit(autoCommit);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LkoJUEeGsv772wTim0Q" name="getAutoCommit" specification="_D_nTAoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9Lk4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.getAutoCommit();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LlIJUEeGsv772wTim0Q" name="commit" specification="_D_nTBIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>conn.commit();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LlYJUEeGsv772wTim0Q" name="rollback" specification="_D_nTBYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>conn.rollback();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LloJUEeGsv772wTim0Q" name="isClosed" specification="_D_n6EIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9Ll4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.isClosed();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LmIJUEeGsv772wTim0Q" name="getMetaData" specification="_D_n6EoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9LmYJUEeGsv772wTim0Q" type="_EEvDk4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.getMetaData();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LmoJUEeGsv772wTim0Q" name="setReadOnly" specification="_D_n6E4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9Lm4JUEeGsv772wTim0Q" name="readOnly">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setReadOnly(readOnly);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LnIJUEeGsv772wTim0Q" name="isReadOnly" specification="_D_n6FYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9LnYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.isReadOnly();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9LnoJUEeGsv772wTim0Q" name="setCatalog" specification="_D_ohIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9Ln4JUEeGsv772wTim0Q" name="catalog">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setCatalog(catalog);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9yoIJUEeGsv772wTim0Q" name="getCatalog" specification="_D_ohIoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9yoYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.getCatalog();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9yooJUEeGsv772wTim0Q" name="setTransactionIsolation" specification="_D_ohJIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9yo4JUEeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>conn.setTransactionIsolation(level);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9ypIJUEeGsv772wTim0Q" name="getTransactionIsolation" specification="_D_pIMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9ypYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return conn.getTransactionIsolation();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9ypoJUEeGsv772wTim0Q" name="getWarnings" specification="_D_pIMoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9yp4JUEeGsv772wTim0Q" type="_EEvqooJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return conn.getWarnings();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9yqIJUEeGsv772wTim0Q" name="clearWarnings" specification="_D_pIM4JUEeGsv772wTim0Q">
                <language>java</language>
                <body>conn.clearWarnings();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9yqYJUEeGsv772wTim0Q" name="isWrapperFor" specification="_EEwRsYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9yqoJUEeGsv772wTim0Q" name="arg0" type="_EEvqpYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF9yq4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9yrIJUEeGsv772wTim0Q" name="unwrap" specification="_EEw4woJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9yrYJUEeGsv772wTim0Q" name="arg0" type="_EEvqpYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF9yroJUEeGsv772wTim0Q" type="_EEw4wIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF9yr4JUEeGsv772wTim0Q" name="createArrayOf" specification="_EEyG4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF9ysIJUEeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF9ysYJUEeGsv772wTim0Q" name="elements" type="_EExf04JUEeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EF9ysoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF9ys4JUEeGsv772wTim0Q" type="_EExf0YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZsIJUEeGsv772wTim0Q" name="createBlob" specification="_D_pvQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-ZsYJUEeGsv772wTim0Q" type="_EEyG5oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZsoJUEeGsv772wTim0Q" name="createClob" specification="_D_pvQYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-Zs4JUEeGsv772wTim0Q" type="_EEyt8oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZtIJUEeGsv772wTim0Q" name="createNClob" specification="_D_pvQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-ZtYJUEeGsv772wTim0Q" type="_EEyt9YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZtoJUEeGsv772wTim0Q" name="createSQLXML" specification="_D_pvQ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-Zt4JUEeGsv772wTim0Q" type="_EEzVAoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZuIJUEeGsv772wTim0Q" name="createStatement" specification="_D_qWUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-ZuYJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-ZuoJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-Zu4JUEeGsv772wTim0Q" type="_Al4XEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZvIJUEeGsv772wTim0Q" name="createStatement" specification="_D_qWU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-ZvYJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-ZvoJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-Zv4JUEeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-ZwIJUEeGsv772wTim0Q" type="_Al4XEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZwYJUEeGsv772wTim0Q" name="createStruct" specification="_EEz8EYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-ZwoJUEeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-Zw4JUEeGsv772wTim0Q" name="attributes" type="_EExf04JUEeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EF-ZxIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF-ZxYJUEeGsv772wTim0Q" type="_EEzVBYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF-ZxoJUEeGsv772wTim0Q" name="getClientInfo" specification="_D_q9YIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF-Zx4JUEeGsv772wTim0Q" type="_AvOgUIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_AwIJUEeGsv772wTim0Q" name="getClientInfo" specification="_D_q9YYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_AwYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_AwoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_Aw4JUEeGsv772wTim0Q" name="getHoldability" specification="_D_q9ZIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_AxIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_AxYJUEeGsv772wTim0Q" name="getTypeMap" specification="_D_rkcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_AxoJUEeGsv772wTim0Q" type="_Alk1EoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_Ax4JUEeGsv772wTim0Q" name="isValid" specification="_D_rkcoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_AyIJUEeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_AyYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_AyoJUEeGsv772wTim0Q" name="prepareCall" specification="_D_sLgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_Ay4JUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_AzIJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_AzYJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_AzoJUEeGsv772wTim0Q" type="_EEvDkIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_Az4JUEeGsv772wTim0Q" name="prepareCall" specification="_D_sLhIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_A0IJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_A0YJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_A0oJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_A04JUEeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_A1IJUEeGsv772wTim0Q" type="_EEvDkIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_A1YJUEeGsv772wTim0Q" name="prepareStatement" specification="_D_sykIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_A1oJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_A14JUEeGsv772wTim0Q" name="columnIndexes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EF_A2IJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_A2YJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_n0IJUEeGsv772wTim0Q" name="prepareStatement" specification="_D_sylIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_n0YJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n0oJUEeGsv772wTim0Q" name="columnNames">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EF_n04JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n1IJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_n1YJUEeGsv772wTim0Q" name="prepareStatement" specification="_D_tZooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_n1oJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n14JUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n2IJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n2YJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_n2oJUEeGsv772wTim0Q" name="prepareStatement" specification="_D_uAsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_n24JUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n3IJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n3YJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n3oJUEeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EF_n34JUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_n4IJUEeGsv772wTim0Q" name="releaseSavepoint" specification="_EE1KMYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_n4YJUEeGsv772wTim0Q" name="savepoint" type="_EE0jI4JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_n4oJUEeGsv772wTim0Q" name="rollback" specification="_EE1KM4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_n44JUEeGsv772wTim0Q" name="savepoint" type="_EE0jI4JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF_n5IJUEeGsv772wTim0Q" name="setClientInfo" specification="_EDxaQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF_n5YJUEeGsv772wTim0Q" name="properties" type="_AvOgUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGAO4IJUEeGsv772wTim0Q" name="setClientInfo" specification="_D_uAtYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGAO4YJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGAO4oJUEeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGAO44JUEeGsv772wTim0Q" name="setHoldability" specification="_D_unwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGAO5IJUEeGsv772wTim0Q" name="holdability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGAO5YJUEeGsv772wTim0Q" name="setSavepoint" specification="_D_unwoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGAO5oJUEeGsv772wTim0Q" type="_EE0jI4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGAO54JUEeGsv772wTim0Q" name="setSavepoint" specification="_D_unw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGAO6IJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGAO6YJUEeGsv772wTim0Q" type="_EE0jI4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGAO6oJUEeGsv772wTim0Q" name="setTypeMap" specification="_EDyBUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGAO64JUEeGsv772wTim0Q" name="map" type="_Alk1EoJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>// TODO Auto-generated method stub&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <interfaceRealization xmi:id="_EDuW8IJUEeGsv772wTim0Q" supplier="_ECqnAIJUEeGsv772wTim0Q" client="_D_kPsIJUEeGsv772wTim0Q" contract="_ECqnAIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_k2wIJUEeGsv772wTim0Q" name="lease" method="_EF79eIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_D_k2wYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_D_k2woJUEeGsv772wTim0Q" key="synchronized"/>
                </eAnnotations>
                <ownedParameter xmi:id="_D_k2w4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ld0IJUEeGsv772wTim0Q" name="validate" method="_EF79eoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ld0YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ld0oJUEeGsv772wTim0Q" name="inUse" method="_EF79fIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ld04JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ld1IJUEeGsv772wTim0Q" name="getLastUse" method="_EF79foJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ld1YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ld1oJUEeGsv772wTim0Q" name="close" method="_EF8kgYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_ld14JUEeGsv772wTim0Q" name="expireLease" visibility="protected" method="_EF8kgoJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_mE4IJUEeGsv772wTim0Q" name="getConnection" visibility="protected" method="_EF8kg4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EDu-BoJUEeGsv772wTim0Q" type="_ECqnAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_mE4YJUEeGsv772wTim0Q" name="prepareStatement" method="_EF8khYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_mE4oJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDvlEIJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_mE44JUEeGsv772wTim0Q" name="prepareStatement" method="_EF8kiIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_mE5IJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_mE5YJUEeGsv772wTim0Q" name="autoGeneratedKeys">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDvlEYJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_mr8IJUEeGsv772wTim0Q" name="prepareCall" method="_EF8kjIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_mr8YJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEvDkoJUEeGsv772wTim0Q" type="_EEvDkIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_mr8oJUEeGsv772wTim0Q" name="createStatement" method="_EF8kj4JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EDvlEoJUEeGsv772wTim0Q" type="_Al4XEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_mr84JUEeGsv772wTim0Q" name="nativeSQL" method="_EF8kkYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_mr9IJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_mr9YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_nTAIJUEeGsv772wTim0Q" name="setAutoCommit" method="_EF9LkIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_nTAYJUEeGsv772wTim0Q" name="autoCommit">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_nTAoJUEeGsv772wTim0Q" name="getAutoCommit" method="_EF9LkoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_nTA4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_nTBIJUEeGsv772wTim0Q" name="commit" method="_EF9LlIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_nTBYJUEeGsv772wTim0Q" name="rollback" method="_EF9LlYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_n6EIJUEeGsv772wTim0Q" name="isClosed" method="_EF9LloJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_n6EYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_n6EoJUEeGsv772wTim0Q" name="getMetaData" method="_EF9LmIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEvqoYJUEeGsv772wTim0Q" type="_EEvDk4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_n6E4JUEeGsv772wTim0Q" name="setReadOnly" method="_EF9LmoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_n6FIJUEeGsv772wTim0Q" name="readOnly">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_n6FYJUEeGsv772wTim0Q" name="isReadOnly" method="_EF9LnIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_n6FoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ohIIJUEeGsv772wTim0Q" name="setCatalog" method="_EF9LnoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ohIYJUEeGsv772wTim0Q" name="catalog">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ohIoJUEeGsv772wTim0Q" name="getCatalog" method="_EF9yoIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ohI4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_ohJIJUEeGsv772wTim0Q" name="setTransactionIsolation" method="_EF9yooJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_ohJYJUEeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_pIMIJUEeGsv772wTim0Q" name="getTransactionIsolation" method="_EF9ypIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_pIMYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_pIMoJUEeGsv772wTim0Q" name="getWarnings" method="_EF9ypoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEvqpIJUEeGsv772wTim0Q" type="_EEvqooJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_pIM4JUEeGsv772wTim0Q" name="clearWarnings" method="_EF9yqIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_D_pvQIJUEeGsv772wTim0Q" name="createBlob" method="_EF-ZsIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEyt8YJUEeGsv772wTim0Q" type="_EEyG5oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_pvQYJUEeGsv772wTim0Q" name="createClob" method="_EF-ZsoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEyt9IJUEeGsv772wTim0Q" type="_EEyt8oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_pvQoJUEeGsv772wTim0Q" name="createNClob" method="_EF-ZtIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEzVAYJUEeGsv772wTim0Q" type="_EEyt9YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_pvQ4JUEeGsv772wTim0Q" name="createSQLXML" method="_EF-ZtoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEzVBIJUEeGsv772wTim0Q" type="_EEzVAoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_qWUIJUEeGsv772wTim0Q" name="createStatement" method="_EF-ZuIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_qWUYJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_qWUoJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDwMIIJUEeGsv772wTim0Q" type="_Al4XEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_qWU4JUEeGsv772wTim0Q" name="createStatement" method="_EF-ZvIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_qWVIJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_qWVYJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_qWVoJUEeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDwMIYJUEeGsv772wTim0Q" type="_Al4XEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_q9YIJUEeGsv772wTim0Q" name="getClientInfo" method="_EF-ZxoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EDwzMIJUEeGsv772wTim0Q" type="_AvOgUIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_q9YYJUEeGsv772wTim0Q" name="getClientInfo" method="_EF_AwIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_q9YoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_q9Y4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_q9ZIJUEeGsv772wTim0Q" name="getHoldability" method="_EF_Aw4JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_q9ZYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_rkcIJUEeGsv772wTim0Q" name="getTypeMap" method="_EF_AxYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EDwzMYJUEeGsv772wTim0Q" type="_Alk1EoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_rkcoJUEeGsv772wTim0Q" name="isValid" method="_EF_Ax4JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_rkc4JUEeGsv772wTim0Q" name="timeout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_rkdIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_sLgIJUEeGsv772wTim0Q" name="prepareCall" method="_EF_AyoJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_sLgYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_sLgoJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_sLg4JUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EE0jIYJUEeGsv772wTim0Q" type="_EEvDkIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_sLhIJUEeGsv772wTim0Q" name="prepareCall" method="_EF_Az4JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_sLhYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_sLhoJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_sLh4JUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_sLiIJUEeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EE0jIoJUEeGsv772wTim0Q" type="_EEvDkIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_sykIJUEeGsv772wTim0Q" name="prepareStatement" method="_EF_A1YJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_sykYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_sykoJUEeGsv772wTim0Q" name="columnIndexes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_D_syk4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDwzMoJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_sylIJUEeGsv772wTim0Q" name="prepareStatement" method="_EF_n0IJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_sylYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_tZoIJUEeGsv772wTim0Q" name="columnNames">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_D_tZoYJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDwzM4JUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_tZooJUEeGsv772wTim0Q" name="prepareStatement" method="_EF_n1YJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_tZo4JUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_tZpIJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_tZpYJUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDwzNIJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_uAsIJUEeGsv772wTim0Q" name="prepareStatement" method="_EF_n2oJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_uAsYJUEeGsv772wTim0Q" name="sql">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_uAsoJUEeGsv772wTim0Q" name="resultSetType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_uAs4JUEeGsv772wTim0Q" name="resultSetConcurrency">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_uAtIJUEeGsv772wTim0Q" name="resultSetHoldability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EDwzNYJUEeGsv772wTim0Q" type="_AvV1E4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_uAtYJUEeGsv772wTim0Q" name="setClientInfo" method="_EGAO4IJUEeGsv772wTim0Q" raisedException="_EE1xQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_uAtoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_D_uAt4JUEeGsv772wTim0Q" name="value">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_unwIJUEeGsv772wTim0Q" name="setHoldability" method="_EGAO44JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_unwYJUEeGsv772wTim0Q" name="holdability">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_D_unwoJUEeGsv772wTim0Q" name="setSavepoint" method="_EGAO5YJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE1xQoJUEeGsv772wTim0Q" type="_EE0jI4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_unw4JUEeGsv772wTim0Q" name="setSavepoint" method="_EGAO54JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_vO0IJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EE1xQ4JUEeGsv772wTim0Q" type="_EE0jI4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EDu-AIJUEeGsv772wTim0Q" name="JDCConnection" method="_EF79dIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EDu-A4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EDu-BIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EDu-AYJUEeGsv772wTim0Q" name="conn" type="_ECqnAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EDu-AoJUEeGsv772wTim0Q" name="pool" type="_AvMrIoJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EDu-BYJUEeGsv772wTim0Q" type="_D_kPsIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EDxaQIJUEeGsv772wTim0Q" name="setClientInfo" method="_EF_n5IJUEeGsv772wTim0Q" raisedException="_EE1xQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EDxaQYJUEeGsv772wTim0Q" name="properties" type="_AvOgUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EDyBUIJUEeGsv772wTim0Q" name="setTypeMap" method="_EGAO6oJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EDyBUYJUEeGsv772wTim0Q" name="map" type="_Alk1EoJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEwRsYJUEeGsv772wTim0Q" name="isWrapperFor" method="_EF9yqYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEwRsoJUEeGsv772wTim0Q" name="arg0" type="_EEvqpYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEwRs4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEw4woJUEeGsv772wTim0Q" name="unwrap" method="_EF9yrIJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEw4w4JUEeGsv772wTim0Q" name="arg0" type="_EEvqpYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEw4xYJUEeGsv772wTim0Q" type="_EEw4wIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEyG4YJUEeGsv772wTim0Q" name="createArrayOf" method="_EF9yr4JUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEyG4oJUEeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEyG44JUEeGsv772wTim0Q" name="elements" type="_EExf04JUEeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EEyG5YJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEyG5IJUEeGsv772wTim0Q" type="_EExf0YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEz8EYJUEeGsv772wTim0Q" name="createStruct" method="_EF-ZwYJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEz8EoJUEeGsv772wTim0Q" name="typeName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEz8E4JUEeGsv772wTim0Q" name="attributes" type="_EExf04JUEeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EE0jIIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEz8FIJUEeGsv772wTim0Q" type="_EEzVBYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EE1KMYJUEeGsv772wTim0Q" name="releaseSavepoint" method="_EF_n4IJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE1KMoJUEeGsv772wTim0Q" name="savepoint" type="_EE0jI4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EE1KM4JUEeGsv772wTim0Q" name="rollback" method="_EF_n4oJUEeGsv772wTim0Q" raisedException="_AvVOB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE1KNIJUEeGsv772wTim0Q" name="savepoint" type="_EE0jI4JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_ECqnAIJUEeGsv772wTim0Q" name="Connection"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEvDkIJUEeGsv772wTim0Q" name="CallableStatement"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEvDk4JUEeGsv772wTim0Q" name="DatabaseMetaData"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEvqooJUEeGsv772wTim0Q" name="SQLWarning"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEvqpYJUEeGsv772wTim0Q" name="Class"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEw4wIJUEeGsv772wTim0Q" name="T"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EExf0YJUEeGsv772wTim0Q" name="Array"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EExf04JUEeGsv772wTim0Q" name="Object"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEyG5oJUEeGsv772wTim0Q" name="Blob"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEyt8oJUEeGsv772wTim0Q" name="Clob"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEyt9YJUEeGsv772wTim0Q" name="NClob"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEzVAoJUEeGsv772wTim0Q" name="SQLXML"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEzVBYJUEeGsv772wTim0Q" name="Struct"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EE0jI4JUEeGsv772wTim0Q" name="Savepoint"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EE1xQIJUEeGsv772wTim0Q" name="SQLClientInfoException"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGuAloJUEeGsv772wTim0Q" name="" memberEnd="_EGuAl4JUEeGsv772wTim0Q _EFkKAoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGuAl4JUEeGsv772wTim0Q" name="" type="_D_kPsIJUEeGsv772wTim0Q" association="_EGuAloJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGunoYJUEeGsv772wTim0Q" name="" memberEnd="_EGunooJUEeGsv772wTim0Q _EFkKBIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGunooJUEeGsv772wTim0Q" name="" type="_D_kPsIJUEeGsv772wTim0Q" association="_EGunoYJUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AW8jMYJUEeGsv772wTim0Q" name="text">
            <packagedElement xmi:type="uml:Class" xmi:id="_Aek1MIJUEeGsv772wTim0Q" name="Languages">
              <ownedAttribute xmi:id="_A_a4cIJUEeGsv772wTim0Q" name="languages" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIWK9IJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_a4coJUEeGsv772wTim0Q" value="new HashMap&lt;Integer, Language>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_a4dIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIWK94JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAczNoJUEeGsv772wTim0Q" name="Languages" specification="_AmYtYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAczN4JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAczOIJUEeGsv772wTim0Q" type="_Aek1MIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		languages = new HashMap&lt;Integer, Language>();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAczOYJUEeGsv772wTim0Q" name="loadDictionaries" specification="_AelcQIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>languages = plugin.database.npcQueries.loadDictionaries();	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAczOoJUEeGsv772wTim0Q" name="translate" specification="_AelcQYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAczO4JUEeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAczPIJUEeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAczPYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return languages.get(id_Language).translate(source);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAdaQIJUEeGsv772wTim0Q" name="getAbbreviation" specification="_AemDUYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAdaQYJUEeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAdaQoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>switch( id_Language )&#xD;
		{&#xD;
			case 1:&#xD;
				return &quot;Cr&quot;;&#xD;
			case 2:&#xD;
				return &quot;Gh&quot;;&#xD;
			case 3:&#xD;
				return &quot;Be&quot;;&#xD;
			case 4:&#xD;
				return &quot;Av&quot;;&#xD;
			default:&#xD;
				return &quot;XX&quot;;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AelcQIJUEeGsv772wTim0Q" name="loadDictionaries" method="_BAczOYJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AelcQYJUEeGsv772wTim0Q" name="translate" method="_BAczOoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AelcQoJUEeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AelcQ4JUEeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2TYs4JUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AemDUYJUEeGsv772wTim0Q" name="getAbbreviation" method="_BAdaQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AemDUoJUEeGsv772wTim0Q" name="id_Language">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AemDU4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AmYtYIJUEeGsv772wTim0Q" name="Languages" method="_BAczNoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AmYtYoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AmYtY4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AmYtYYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AmYtZIJUEeGsv772wTim0Q" type="_Aek1MIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ak0AEYJUEeGsv772wTim0Q" name="Message">
              <ownedAttribute xmi:id="_EFq3sYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGxq9IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFq3soJUEeGsv772wTim0Q" name="npcParsing" visibility="private" type="_EE3mcYJUEeGsv772wTim0Q" association="_EGxq94JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFq3s4JUEeGsv772wTim0Q" name="playerPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGySAoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFrewIJUEeGsv772wTim0Q" name="commandPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGySBYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFrewYJUEeGsv772wTim0Q" name="requiredPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGy5EIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFrewoJUEeGsv772wTim0Q" name="optionalPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGy5E4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFrew4JUEeGsv772wTim0Q" name="parenthesesPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGy5FoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFrexIJUEeGsv772wTim0Q" name="townPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGzgIIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFsF0IJUEeGsv772wTim0Q" name="numberPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGzgI4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFsF0YJUEeGsv772wTim0Q" name="DEFAULT_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EGzgJoJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFsF0oJUEeGsv772wTim0Q" value="ChatColor.GREEN"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFsF04JUEeGsv772wTim0Q" name="COLOR_NO" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG0HMIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFsF1IJUEeGsv772wTim0Q" value="ChatColor.DARK_RED"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFsF1YJUEeGsv772wTim0Q" name="BROADCAST_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG0HM4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFsF1oJUEeGsv772wTim0Q" value="ChatColor.DARK_GREEN"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFss4IJUEeGsv772wTim0Q" name="PLAYER_OWNER_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG0HNoJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFss4YJUEeGsv772wTim0Q" value="ChatColor.GOLD"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFss4oJUEeGsv772wTim0Q" name="PLAYER_ADMIN_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG0uQIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFss44JUEeGsv772wTim0Q" value="ChatColor.YELLOW"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFss5IJUEeGsv772wTim0Q" name="PLAYER_MOD_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG0uQ4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFss5YJUEeGsv772wTim0Q" value="ChatColor.DARK_GREEN"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFss5oJUEeGsv772wTim0Q" name="PLAYER_MERCHANT_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG0uRoJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFss54JUEeGsv772wTim0Q" value="ChatColor.WHITE"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFtT8IJUEeGsv772wTim0Q" name="PLAYER_RED_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG1VUIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFtT8YJUEeGsv772wTim0Q" value="ChatColor.RED"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFtT8oJUEeGsv772wTim0Q" name="PLAYER_BLUE_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG1VU4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFtT84JUEeGsv772wTim0Q" value="ChatColor.BLUE"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFtT9IJUEeGsv772wTim0Q" name="PLAYER_CITIZEN_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG1VVoJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFtT9YJUEeGsv772wTim0Q" value="ChatColor.GRAY"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFtT9oJUEeGsv772wTim0Q" name="NPC_NAME_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG18YYJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFtT94JUEeGsv772wTim0Q" value="ChatColor.AQUA"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFt7AIJUEeGsv772wTim0Q" name="NPC_TEXT_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG18ZIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFt7AYJUEeGsv772wTim0Q" value="ChatColor.DARK_AQUA"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFt7AoJUEeGsv772wTim0Q" name="NPC_FOREIGN_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG18Z4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFt7A4JUEeGsv772wTim0Q" value="ChatColor.GRAY"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFt7BIJUEeGsv772wTim0Q" name="LANGUAGE_NAME_COLOR" isStatic="true" type="_Ak-_MIJUEeGsv772wTim0Q" association="_EG2jcYJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFt7BYJUEeGsv772wTim0Q" value="ChatColor.DARK_GREEN"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGEgX4JUEeGsv772wTim0Q" name="Message" specification="_EEDHEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGEgYIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGEgYYJUEeGsv772wTim0Q" type="_Ak0AEYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.npcParsing = new NPCParsing(plugin);&#xD;
		&#xD;
		playerPattern = Pattern.compile(&quot;&lt;p(.)>(\\w+)&lt;/p.>&quot;);&#xD;
		townPattern = Pattern.compile(&quot;&lt;t(.)>(.+)&lt;/t.>&quot;);&#xD;
		 &#xD;
		commandPattern = Pattern.compile(&quot;([\\s'])(/[a-zA-Z]+)&quot;);&#xD;
		requiredPattern = Pattern.compile(&quot;(&lt;.+>)&quot;);&#xD;
		optionalPattern = Pattern.compile(&quot;(\\[.+\\])&quot;);&#xD;
		parenthesesPattern = Pattern.compile(&quot;([(]\\D+[)])&quot;);&#xD;
		numberPattern = Pattern.compile(&quot;(\\s)([\\d+,-\\.#]+( &quot; + plugin.config.CURRENCY_NAME + &quot;)?( &quot; + plugin.config.CURRENCY_MINOR + &quot;)?)&quot;);&#xD;
		 &#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHYIJUEeGsv772wTim0Q" name="parse" specification="_EEDuJIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHYYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHYoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>parse(player, message, DEFAULT_COLOR);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHY4JUEeGsv772wTim0Q" name="parseNo" specification="_EEDuKIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHZIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHZYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>parse(player, message, COLOR_NO);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHZoJUEeGsv772wTim0Q" name="parse" specification="_EEEVMYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHZ4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHaIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFHaYJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.sendMessage(process(message, color));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHaoJUEeGsv772wTim0Q" name="process" specification="_EEEVNoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHa4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFHbIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHbYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>message = color + message;&#xD;
		&#xD;
		// Process XML codes first &#xD;
		message = highlightPlayers(message, color);&#xD;
		message = highlightTowns(message, color);&#xD;
		&#xD;
		// Parse for basic text&#xD;
		message = highlightNumbers(message, color);&#xD;
		message = highlightCommands(message, color);&#xD;
		message = highlightRequired(message, color);&#xD;
		message = highlightOptional(message, color);&#xD;
		message = highlightParentheses(message, color);&#xD;
		&#xD;
		return message;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHboJUEeGsv772wTim0Q" name="send" specification="_EEE8QYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHb4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHcIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(DEFAULT_COLOR + message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHcYJUEeGsv772wTim0Q" name="send" specification="_EEE8RYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHcoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHc4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFHdIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.sendMessage(color + message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFHdYJUEeGsv772wTim0Q" name="sendNo" specification="_EEFjUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFHdoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFHd4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(COLOR_NO + message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFucIJUEeGsv772wTim0Q" name="broadcast" specification="_EAHCQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFucYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>broadcast(message, BROADCAST_COLOR);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFucoJUEeGsv772wTim0Q" name="broadcast" specification="_EEFjVIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFuc4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFudIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>message = process(message, color);&#xD;
		&#xD;
		for( Player onlinePlayer : plugin.getServer().getOnlinePlayers() )&#xD;
			onlinePlayer.sendMessage(message);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFudYJUEeGsv772wTim0Q" name="talk" specification="_EEFjWIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFudoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFud4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFueIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Trim off the color code from the NPC name&#xD;
		name = name.substring(2);&#xD;
		&#xD;
		wrap(player, process(NPC_NAME_COLOR + name + ChatColor.WHITE + &quot;: &quot; + NPC_TEXT_COLOR + message, NPC_TEXT_COLOR), NPC_TEXT_COLOR);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFueYJUEeGsv772wTim0Q" name="highlightPlayers" specification="_EEGKYoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFueoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFue4JUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFufIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = playerPattern.matcher(message);&#xD;
	    ChatColor playerColor = ChatColor.GRAY;		// bad code&#xD;
	    &#xD;
	    &#xD;
	    StringBuffer sb = new StringBuffer();&#xD;
     while( matcher.find() )&#xD;
     {&#xD;
     	if( matcher.group(1).equals(&quot;o&quot;) )		// owner&#xD;
	    		playerColor = ChatColor.GOLD;&#xD;
	    	else if( matcher.group(1).equals(&quot;a&quot;) )	// admin&#xD;
	    		playerColor = ChatColor.YELLOW;&#xD;
	    	else if( matcher.group(1).equals(&quot;m&quot;) )	// moderator&#xD;
	    		playerColor = ChatColor.DARK_GREEN;&#xD;
	    	else if( matcher.group(1).equals(&quot;e&quot;) )	// merchant&#xD;
	    		playerColor = ChatColor.WHITE;&#xD;
	    	else if( matcher.group(1).equals(&quot;b&quot;) )	// blue&#xD;
	    		playerColor = ChatColor.BLUE;&#xD;
	    	else if( matcher.group(1).equals(&quot;r&quot;) )	// red&#xD;
	    		playerColor = ChatColor.RED;&#xD;
	    	else if( matcher.group(1).equals(&quot;c&quot;) )	// citizen&#xD;
	    		playerColor = ChatColor.GRAY;&#xD;
	    	else if( matcher.group(1).equals(&quot;t&quot;) )	// tourist&#xD;
	    		playerColor = ChatColor.DARK_GRAY;&#xD;
	    	else if( matcher.group(1).equals(&quot;n&quot;) )	// NPC&#xD;
	    		playerColor = ChatColor.AQUA;&#xD;
     	&#xD;
     	matcher.appendReplacement(sb, playerColor + &quot;$2&quot; + color);&#xD;
     }&#xD;
     matcher.appendTail(sb);&#xD;
     &#xD;
     return sb.toString();&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFufYJUEeGsv772wTim0Q" name="highlightTowns" specification="_EEGKZ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFufoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFuf4JUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFugIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = townPattern.matcher(message);&#xD;
	    ChatColor townColor = ChatColor.WHITE;		// neutral/bad code&#xD;
	    if( matcher.find() )&#xD;
	    {&#xD;
	    	if( matcher.group(1).equals(&quot;b&quot;) )		// blue&#xD;
	    		townColor = ChatColor.BLUE;&#xD;
	    	else if( matcher.group(1).equals(&quot;r&quot;) )	// red&#xD;
	    		townColor = ChatColor.RED;&#xD;
	    	else if( matcher.group(1).equals(&quot;p&quot;) ) // npc&#xD;
	    		townColor = ChatColor.AQUA;&#xD;
	    	else if( matcher.group(1).equals(&quot;c&quot;) ) // Rage City&#xD;
	    		townColor = ChatColor.YELLOW;&#xD;
	    }&#xD;
	   &#xD;
	    return matcher.replaceAll(townColor + &quot;$2&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFugYJUEeGsv772wTim0Q" name="highlightNumbers" specification="_EEGxc4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFugoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFug4JUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFuhIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = numberPattern.matcher(message);&#xD;
	    return matcher.replaceAll(&quot;$1&quot; + ChatColor.WHITE + &quot;$2&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGFuhYJUEeGsv772wTim0Q" name="highlightCommands" specification="_EEGxeIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGFuhoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGFuh4JUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGFuiIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = commandPattern.matcher(message);&#xD;
	    return matcher.replaceAll(&quot;$1&quot; + ChatColor.DARK_GREEN + &quot;$2&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGGVgIJUEeGsv772wTim0Q" name="highlightRequired" specification="_EEHYgoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGGVgYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGGVgoJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGGVg4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = requiredPattern.matcher(message);&#xD;
	    return matcher.replaceAll(ChatColor.GOLD + &quot;$1&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGGVhIJUEeGsv772wTim0Q" name="highlightOptional" specification="_EEHYh4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGGVhYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGGVhoJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGGVh4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = optionalPattern.matcher(message);&#xD;
	    return matcher.replaceAll(ChatColor.YELLOW + &quot;$1&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGGViIJUEeGsv772wTim0Q" name="highlightParentheses" specification="_EEH_k4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGGViYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGGVioJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGGVi4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Matcher matcher = parenthesesPattern.matcher(message);&#xD;
	    return matcher.replaceAll(ChatColor.GRAY + &quot;$1&quot; + color);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGGVjIJUEeGsv772wTim0Q" name="languageUp" specification="_EEH_mIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGGVjYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGGVjoJUEeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGGVj4JUEeGsv772wTim0Q" name="increase">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGGVkIJUEeGsv772wTim0Q" name="languageSkill">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(ChatColor.GOLD + &quot;Language: &quot; + LANGUAGE_NAME_COLOR + plugin.config.NPC_LANGUAGE_NAMES.get(raceID) + &#xD;
							ChatColor.GREEN + &quot; skill &quot; + ChatColor.WHITE + &quot;+&quot; + increase + ChatColor.GRAY + &quot; (&quot; + languageSkill + &quot;/100)&quot;);&#xD;
		if( languageSkill == 100 )&#xD;
			player.sendMessage(ChatColor.YELLOW + &quot;Congratulations!  &quot; + DEFAULT_COLOR + &quot;You are now fluent in &quot; + LANGUAGE_NAME_COLOR + &#xD;
					plugin.config.NPC_LANGUAGE_NAMES.get(raceID) + &quot;!&quot;);	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGGVkYJUEeGsv772wTim0Q" name="wrap" specification="_EEImpIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGGVkoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGGVk4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGGVlIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>String[] split = message.split(&quot; &quot;);&#xD;
		int count = 0;&#xD;
		String currentLine = &quot;&quot;;&#xD;
		&#xD;
		for( int i = 0; i &lt; split.length; i++ )&#xD;
		{&#xD;
			currentLine += split[i] + &quot; &quot;;&#xD;
			count += ChatColor.stripColor(split[i]).length() + 1;&#xD;
			&#xD;
			// Wrap to new line if past length&#xD;
			if( count > 54 )&#xD;
			{&#xD;
				player.sendMessage(currentLine);&#xD;
				currentLine = &quot;   &quot; + color;&#xD;
				count = 3;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		if( ChatColor.stripColor(currentLine).trim().length() > 0 )&#xD;
			player.sendMessage(currentLine);&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGGVlYJUEeGsv772wTim0Q" name="messageNo" specification="_EEImqYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGGVloJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGGVl4JUEeGsv772wTim0Q" name="string">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>player.sendMessage(string);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_EAHCQIJUEeGsv772wTim0Q" name="broadcast" method="_EGFucIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAHCQYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEDHEIJUEeGsv772wTim0Q" name="Message" method="_EGEgX4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EEDuIIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EEDuIYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EEDHEYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEDuIoJUEeGsv772wTim0Q" type="_Ak0AEYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEDuJIJUEeGsv772wTim0Q" name="parse" method="_EGFHYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEDuJYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEDuJoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEDuKIJUEeGsv772wTim0Q" name="parseNo" method="_EGFHY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEDuKYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEDuKoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEEVMYJUEeGsv772wTim0Q" name="parse" method="_EGFHZoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEEVMoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEEVM4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEEVNIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEEVNoJUEeGsv772wTim0Q" name="process" visibility="private" method="_EGFHaoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEEVN4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEEVOIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEEVOYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEE8QYJUEeGsv772wTim0Q" name="send" method="_EGFHboJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEE8QoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEE8Q4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEE8RYJUEeGsv772wTim0Q" name="send" method="_EGFHcYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEE8RoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEE8R4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEE8SIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEFjUIJUEeGsv772wTim0Q" name="sendNo" method="_EGFHdYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEFjUYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEFjUoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEFjVIJUEeGsv772wTim0Q" name="broadcast" method="_EGFucoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEFjVYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEFjVoJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEFjWIJUEeGsv772wTim0Q" name="talk" method="_EGFudYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEFjWYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEFjWoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEGKYIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEGKYoJUEeGsv772wTim0Q" name="highlightPlayers" visibility="private" method="_EGFueYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEGKY4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEGKZIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEGKZYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEGKZ4JUEeGsv772wTim0Q" name="highlightTowns" visibility="private" method="_EGFufYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEGKaIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEGxcIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEGxcYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEGxc4JUEeGsv772wTim0Q" name="highlightNumbers" visibility="private" method="_EGFugYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEGxdIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEGxdYJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEGxdoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEGxeIJUEeGsv772wTim0Q" name="highlightCommands" visibility="private" method="_EGFuhYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEGxeYJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEGxeoJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEHYgIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEHYgoJUEeGsv772wTim0Q" name="highlightRequired" visibility="private" method="_EGGVgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEHYg4JUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEHYhIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEHYhYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEHYh4JUEeGsv772wTim0Q" name="highlightOptional" visibility="private" method="_EGGVhIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEHYiIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEH_kIJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEH_kYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEH_k4JUEeGsv772wTim0Q" name="highlightParentheses" visibility="private" method="_EGGViIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEH_lIJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEH_lYJUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEH_loJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEH_mIJUEeGsv772wTim0Q" name="languageUp" method="_EGGVjIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEH_mYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEImoIJUEeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEImoYJUEeGsv772wTim0Q" name="increase">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEImooJUEeGsv772wTim0Q" name="languageSkill">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEImpIJUEeGsv772wTim0Q" name="wrap" method="_EGGVkYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEImpYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEImpoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEImp4JUEeGsv772wTim0Q" name="color" type="_Ak-_MIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEImqYJUEeGsv772wTim0Q" name="messageNo" method="_EGGVlYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEImqoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEJNsIJUEeGsv772wTim0Q" name="string">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIWK9IJUEeGsv772wTim0Q" name="" memberEnd="_BIWK9YJUEeGsv772wTim0Q _A_a4cIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIWK9YJUEeGsv772wTim0Q" name="" type="_Aek1MIJUEeGsv772wTim0Q" association="_BIWK9IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIWK94JUEeGsv772wTim0Q" name="" memberEnd="_BIWK-IJUEeGsv772wTim0Q _A_a4dIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIWK-IJUEeGsv772wTim0Q" name="" type="_Aek1MIJUEeGsv772wTim0Q" association="_BIWK94JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EACJwIJUEeGsv772wTim0Q" name="Language">
              <ownedAttribute xmi:id="_EFqQoIJUEeGsv772wTim0Q" name="name" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFqQoYJUEeGsv772wTim0Q" name="dictionary" visibility="private" type="_AkYiQIJUEeGsv772wTim0Q" association="_EGxD5IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFqQo4JUEeGsv772wTim0Q" name="puncPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EGxD54JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFq3sIJUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_EGxq8YJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGD5TYJUEeGsv772wTim0Q" name="Language" specification="_EACw0YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGD5ToJUEeGsv772wTim0Q" type="_EACJwIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>// Temp - set up sample dictionary&#xD;
		name = &quot;Test Language&quot;;&#xD;
		puncPattern = Pattern.compile(&quot;([^\\.\\,\\!\\?\\;\\:]*)([\\.\\,\\!\\?\\;\\:]*)$&quot;);&#xD;
		random = new Random();&#xD;
		&#xD;
		dictionary = new ArrayList&lt;ArrayList&lt;String>>();&#xD;
		&#xD;
		// Set up banks for up to 12 letter words&#xD;
		for( int i = 0; i &lt; 12; i++ )&#xD;
		{&#xD;
			dictionary.add(new ArrayList&lt;String>());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGD5T4JUEeGsv772wTim0Q" name="addWord" specification="_EADX4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGD5UIJUEeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>addWord(word, word.length());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGEgUIJUEeGsv772wTim0Q" name="addWord" specification="_EADX44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGEgUYJUEeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGEgUoJUEeGsv772wTim0Q" name="length">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>dictionary.get(length - 1).add(word);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGEgU4JUEeGsv772wTim0Q" name="translate" specification="_EADX54JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGEgVIJUEeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGEgVYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>ArrayList&lt;String> result = new ArrayList&lt;String>();&#xD;
		String[] split = source.split(&quot; &quot;);&#xD;
		int total = split.length;&#xD;
		int wordIndex;&#xD;
		&#xD;
		// Add color prefixes to the English words&#xD;
		for( int i = 0; i &lt; split.length; i++ )&#xD;
			split[i] = Message.NPC_TEXT_COLOR + split[i];&#xD;
		&#xD;
		// Create an array of numbers that represents the words not translated yet&#xD;
		ArrayList&lt;Integer> toTranslate = new ArrayList&lt;Integer>();&#xD;
		for( int i = 0; i &lt; total; i++)&#xD;
			toTranslate.add(i);&#xD;
		&#xD;
		// Go through 4 passes to get 25%, 50%, 75%, and 100% translation&#xD;
		for( int i = 1; i &lt;= 4; i++ )&#xD;
		{&#xD;
			while( toTranslate.size() > (total * (1 - ((double)i / 4))) )&#xD;
			{&#xD;
				wordIndex = toTranslate.remove(random.nextInt(toTranslate.size()));&#xD;
				// Don't translate any of the codes&#xD;
				if( 	!split[wordIndex].equals(&quot;&lt;playerName/>&quot;) &amp;&amp; &#xD;
						!split[wordIndex].equals(&quot;&lt;selfName/>&quot;)	)&#xD;
					split[wordIndex] = Message.NPC_FOREIGN_COLOR + translateWord(split[wordIndex], random);&#xD;
			}&#xD;
			result.add(join(split, &quot; &quot;));&#xD;
		}&#xD;
		&#xD;
		return result;&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGEgVoJUEeGsv772wTim0Q" name="translateWord" specification="_EEB48YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGEgV4JUEeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGEgWIJUEeGsv772wTim0Q" name="random" type="_AkcMoIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGEgWYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>// Remove the color prefix&#xD;
		word = word.substring(2);&#xD;
		&#xD;
		Matcher matcher = puncPattern.matcher(word);&#xD;
&#xD;
	    if( matcher.find() )&#xD;
	    	word = matcher.group(1);	// Separate the word without the punctuation&#xD;
	    &#xD;
		// Find the length of the word at the specified index&#xD;
		int wordLength = word.length();&#xD;
		&#xD;
		if( wordLength > 0 )&#xD;
		{&#xD;
			// Cut all word lengths down to 12&#xD;
			if( wordLength > 12 )&#xD;
				wordLength = 12;&#xD;
			&#xD;
			// Pull a random word of that length from the dictionary&#xD;
			String newWord = dictionary.get(wordLength - 1).get(random.nextInt(dictionary.get(wordLength - 1).size()));&#xD;
			&#xD;
			// Test for capitalization&#xD;
			if( word.substring(0, 1).equals(word.substring(0, 1).toUpperCase()) )&#xD;
				newWord = newWord.substring(0, 1).toUpperCase() + newWord.substring(1);&#xD;
			&#xD;
			// Return the replaced and processed word&#xD;
			return newWord + matcher.group(2);		// Add the punctuation back	&#xD;
		}&#xD;
		else&#xD;
			return &quot;&quot;;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGEgWoJUEeGsv772wTim0Q" name="join" specification="_EAD-8oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGEgW4JUEeGsv772wTim0Q" name="array">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EGEgXIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGEgXYJUEeGsv772wTim0Q" name="delimiter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGEgXoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>List&lt;String> s = Arrays.asList(array);&#xD;
&#xD;
	    if (s == null || s.isEmpty()) return &quot;&quot;;&#xD;
	    Iterator&lt;String> iter = s.iterator();&#xD;
	    StringBuilder builder = new StringBuilder(iter.next());&#xD;
	    while( iter.hasNext() )&#xD;
	    {&#xD;
	        builder.append(delimiter).append(iter.next());&#xD;
	    }&#xD;
	    return builder.toString();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_EACw0YJUEeGsv772wTim0Q" name="Language" method="_EGD5TYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EACw0oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EACw04JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EACw1IJUEeGsv772wTim0Q" type="_EACJwIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EADX4IJUEeGsv772wTim0Q" name="addWord" method="_EGD5T4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EADX4YJUEeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EADX44JUEeGsv772wTim0Q" name="addWord" method="_EGEgUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EADX5IJUEeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EADX5YJUEeGsv772wTim0Q" name="length">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EADX54JUEeGsv772wTim0Q" name="translate" method="_EGEgU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EADX6IJUEeGsv772wTim0Q" name="source">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEB48IJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAD-8oJUEeGsv772wTim0Q" name="join" visibility="private" isStatic="true" method="_EGEgWoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAD-84JUEeGsv772wTim0Q" name="array">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EAEmAIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EAD-9IJUEeGsv772wTim0Q" name="delimiter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EAD-9YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEB48YJUEeGsv772wTim0Q" name="translateWord" visibility="private" method="_EGEgVoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEB48oJUEeGsv772wTim0Q" name="word">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEB484JUEeGsv772wTim0Q" name="random" type="_AkcMoIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEB49IJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EASocIJUEeGsv772wTim0Q" name="NPCParsing">
              <ownedAttribute xmi:id="_EFuiEIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EG2jdIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFuiEYJUEeGsv772wTim0Q" name="playerPattern" visibility="private" type="_EEBR4oJUEeGsv772wTim0Q" association="_EG2jd4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGG8kIJUEeGsv772wTim0Q" name="NPCParsing" specification="_EELC4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGG8kYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGG8koJUEeGsv772wTim0Q" type="_EASocIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		&#xD;
		playerPattern = Pattern.compile(&quot;&lt;playerName/>&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_EELC4IJUEeGsv772wTim0Q" name="NPCParsing" method="_EGG8kIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EELC4oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EELC44JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EELC4YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EELp8IJUEeGsv772wTim0Q" type="_EASocIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGxD5IJUEeGsv772wTim0Q" name="" memberEnd="_EGxD5YJUEeGsv772wTim0Q _EFqQoYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGxD5YJUEeGsv772wTim0Q" name="" type="_EACJwIJUEeGsv772wTim0Q" association="_EGxD5IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGxD54JUEeGsv772wTim0Q" name="" memberEnd="_EGxD6IJUEeGsv772wTim0Q _EFqQo4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGxD6IJUEeGsv772wTim0Q" name="" type="_EACJwIJUEeGsv772wTim0Q" association="_EGxD54JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGxq8YJUEeGsv772wTim0Q" name="" memberEnd="_EGxq8oJUEeGsv772wTim0Q _EFq3sIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGxq8oJUEeGsv772wTim0Q" name="" type="_EACJwIJUEeGsv772wTim0Q" association="_EGxq8YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGxq9IJUEeGsv772wTim0Q" name="" memberEnd="_EGxq9YJUEeGsv772wTim0Q _EFq3sYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGxq9YJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGxq9IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGxq94JUEeGsv772wTim0Q" name="" memberEnd="_EGySAIJUEeGsv772wTim0Q _EFq3soJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGySAIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGxq94JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGySAoJUEeGsv772wTim0Q" name="" memberEnd="_EGySA4JUEeGsv772wTim0Q _EFq3s4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGySA4JUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGySAoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGySBYJUEeGsv772wTim0Q" name="" memberEnd="_EGySBoJUEeGsv772wTim0Q _EFrewIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGySBoJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGySBYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGy5EIJUEeGsv772wTim0Q" name="" memberEnd="_EGy5EYJUEeGsv772wTim0Q _EFrewYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGy5EYJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGy5EIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGy5E4JUEeGsv772wTim0Q" name="" memberEnd="_EGy5FIJUEeGsv772wTim0Q _EFrewoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGy5FIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGy5E4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGy5FoJUEeGsv772wTim0Q" name="" memberEnd="_EGy5F4JUEeGsv772wTim0Q _EFrew4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGy5F4JUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGy5FoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGzgIIJUEeGsv772wTim0Q" name="" memberEnd="_EGzgIYJUEeGsv772wTim0Q _EFrexIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGzgIYJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGzgIIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGzgI4JUEeGsv772wTim0Q" name="" memberEnd="_EGzgJIJUEeGsv772wTim0Q _EFsF0IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGzgJIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGzgI4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGzgJoJUEeGsv772wTim0Q" name="" memberEnd="_EGzgJ4JUEeGsv772wTim0Q _EFsF0YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGzgJ4JUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EGzgJoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG0HMIJUEeGsv772wTim0Q" name="" memberEnd="_EG0HMYJUEeGsv772wTim0Q _EFsF04JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG0HMYJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG0HMIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG0HM4JUEeGsv772wTim0Q" name="" memberEnd="_EG0HNIJUEeGsv772wTim0Q _EFsF1YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG0HNIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG0HM4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG0HNoJUEeGsv772wTim0Q" name="" memberEnd="_EG0HN4JUEeGsv772wTim0Q _EFss4IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG0HN4JUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG0HNoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG0uQIJUEeGsv772wTim0Q" name="" memberEnd="_EG0uQYJUEeGsv772wTim0Q _EFss4oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG0uQYJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG0uQIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG0uQ4JUEeGsv772wTim0Q" name="" memberEnd="_EG0uRIJUEeGsv772wTim0Q _EFss5IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG0uRIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG0uQ4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG0uRoJUEeGsv772wTim0Q" name="" memberEnd="_EG0uR4JUEeGsv772wTim0Q _EFss5oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG0uR4JUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG0uRoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG1VUIJUEeGsv772wTim0Q" name="" memberEnd="_EG1VUYJUEeGsv772wTim0Q _EFtT8IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG1VUYJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG1VUIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG1VU4JUEeGsv772wTim0Q" name="" memberEnd="_EG1VVIJUEeGsv772wTim0Q _EFtT8oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG1VVIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG1VU4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG1VVoJUEeGsv772wTim0Q" name="" memberEnd="_EG1VV4JUEeGsv772wTim0Q _EFtT9IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG1VV4JUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG1VVoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG18YYJUEeGsv772wTim0Q" name="" memberEnd="_EG18YoJUEeGsv772wTim0Q _EFtT9oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG18YoJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG18YYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG18ZIJUEeGsv772wTim0Q" name="" memberEnd="_EG18ZYJUEeGsv772wTim0Q _EFt7AIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG18ZYJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG18ZIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG18Z4JUEeGsv772wTim0Q" name="" memberEnd="_EG18aIJUEeGsv772wTim0Q _EFt7AoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG18aIJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG18Z4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG2jcYJUEeGsv772wTim0Q" name="" memberEnd="_EG2jcoJUEeGsv772wTim0Q _EFt7BIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG2jcoJUEeGsv772wTim0Q" name="" type="_Ak0AEYJUEeGsv772wTim0Q" association="_EG2jcYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG2jdIJUEeGsv772wTim0Q" name="" memberEnd="_EG2jdYJUEeGsv772wTim0Q _EFuiEIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG2jdYJUEeGsv772wTim0Q" name="" type="_EASocIJUEeGsv772wTim0Q" association="_EG2jdIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG2jd4JUEeGsv772wTim0Q" name="" memberEnd="_EG2jeIJUEeGsv772wTim0Q _EFuiEYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG2jeIJUEeGsv772wTim0Q" name="" type="_EASocIJUEeGsv772wTim0Q" association="_EG2jd4JUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AXDQ4IJUEeGsv772wTim0Q" name="entity">
            <packagedElement xmi:type="uml:Class" xmi:id="_AdyLAIJUEeGsv772wTim0Q" name="Bounty">
              <ownedAttribute xmi:id="_A_OrMIJUEeGsv772wTim0Q" name="PlayerName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_OrMYJUEeGsv772wTim0Q" name="Amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_OrMoJUEeGsv772wTim0Q" name="global">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_OrM4JUEeGsv772wTim0Q" name="city">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_OrNIJUEeGsv772wTim0Q" name="bountyGiver">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedAttribute>
              <ownedOperation xmi:id="_AdyyEIJUEeGsv772wTim0Q" name="Bounty">
                <eAnnotations xmi:id="_AdyyEYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AdyyEoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AdyyFIJUEeGsv772wTim0Q" type="_AdyLAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdzZIIJUEeGsv772wTim0Q" name="BountySign">
              <ownedAttribute xmi:id="_A_PSQIJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q" association="_BIO2MYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_PSQoJUEeGsv772wTim0Q" name="bounty" type="_AvdJ0YJUEeGsv772wTim0Q" association="_BIO2NIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_P5UIJUEeGsv772wTim0Q" name="num">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_P5UoJUEeGsv772wTim0Q" name="owner" type="_AbhhMIJUEeGsv772wTim0Q" association="_BIPdQIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAU3YIJUEeGsv772wTim0Q" name="BountySign" specification="_Avdw4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAU3YYJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAU3YoJUEeGsv772wTim0Q" name="bounty" type="_AvdJ0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAU3Y4JUEeGsv772wTim0Q" name="Number">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAU3ZIJUEeGsv772wTim0Q" name="BH" type="_AbhhMIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAU3ZYJUEeGsv772wTim0Q" type="_AdzZIIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.block=block;&#xD;
		this.num=Number;&#xD;
		this.bounty=bounty;&#xD;
		this.owner=BH;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Avdw4IJUEeGsv772wTim0Q" name="BountySign" method="_BAU3YIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Avdw5YJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Avdw5oJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Avdw4YJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Avdw4oJUEeGsv772wTim0Q" name="bounty" type="_AvdJ0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Avdw44JUEeGsv772wTim0Q" name="Number">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Avdw5IJUEeGsv772wTim0Q" name="BH" type="_AbhhMIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Avdw54JUEeGsv772wTim0Q" type="_AdzZIIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIO2MYJUEeGsv772wTim0Q" name="" memberEnd="_BIO2MoJUEeGsv772wTim0Q _A_PSQIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIO2MoJUEeGsv772wTim0Q" name="" type="_AdzZIIJUEeGsv772wTim0Q" association="_BIO2MYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIO2NIJUEeGsv772wTim0Q" name="" memberEnd="_BIO2NYJUEeGsv772wTim0Q _A_PSQoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIO2NYJUEeGsv772wTim0Q" name="" type="_AdzZIIJUEeGsv772wTim0Q" association="_BIO2NIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIPdQIJUEeGsv772wTim0Q" name="" memberEnd="_BIPdQYJUEeGsv772wTim0Q _A_P5UoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIPdQYJUEeGsv772wTim0Q" name="" type="_AdzZIIJUEeGsv772wTim0Q" association="_BIPdQIJUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AXEfAIJUEeGsv772wTim0Q" name="commands">
            <packagedElement xmi:type="uml:Class" xmi:id="_Aa4A8IJUEeGsv772wTim0Q" name="BountyCommands">
              <ownedAttribute xmi:id="_A27q0YJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBZOZIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A28R4YJUEeGsv772wTim0Q" name="oab" visibility="private" type="_AckqEIJUEeGsv772wTim0Q" association="_BBZ1cIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A28R44JUEeGsv772wTim0Q" name="perms" visibility="private" type="_AkkvgYJUEeGsv772wTim0Q" association="_BBZ1c4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A28R5YJUEeGsv772wTim0Q" name="BlockCommands" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_BBZ1doJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A2848YJUEeGsv772wTim0Q" value="new HashMap&lt;String,String[]>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_voloJUEeGsv772wTim0Q" name="BountyCommands" specification="_AlANUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_vol4JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_vomIJUEeGsv772wTim0Q" type="_Aa4A8IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.oab = plugin.Bounties;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vomYJUEeGsv772wTim0Q" name="addSignIssue" specification="_AuLXcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_vomoJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_vom4JUEeGsv772wTim0Q" name="Command">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_vonIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.createsign&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty.signcreate&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;)) {&#xD;
			this.BlockCommands.put(Issuer.getName(),Command);&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;You may no right-click a sign.&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vonYJUEeGsv772wTim0Q" name="resultBlockIssue" specification="_AuLXdIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_vonoJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_von4JUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (!BlockCommands.containsKey((Issuer.getName()) == null)){&#xD;
			if (BlockCommands.get((Issuer.getName()))[0]== &quot;signcreate&quot;){&#xD;
				if (BlockCommands.get((Issuer.getName())).length > 1){&#xD;
					this.createsign(block, BlockCommands.get((Issuer.getName()))[1], Issuer);&#xD;
				}else{&#xD;
					this.createsign(block, Issuer);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_wPoIJUEeGsv772wTim0Q" name="createsign" specification="_AuL-gIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_wPoYJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_wPooJUEeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_wPo4JUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>//admin one&#xD;
		if (perms.playerHas(Issuer, &quot;ragemod.bounty.createsign&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;)) {&#xD;
			this.oab.getBH(city).addSign(block);						&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty-Sign successfully added!&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_wPpIJUEeGsv772wTim0Q" name="createsign" specification="_AuL-hIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_wPpYJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_wPpoJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.signcreate&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;)) {&#xD;
			this.oab.getBH(this.plugin.players.get(Issuer.getName()).townName).addSign(block);	&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty-Sign successfully added!&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_wPp4JUEeGsv772wTim0Q" name="updateall" specification="_Aa5PEIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>this.oab.updateallsigns();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_wPqIJUEeGsv772wTim0Q" name="addBounty" specification="_AuMlkoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_wPqYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_wPqoJUEeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_wPq4JUEeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_wPrIJUEeGsv772wTim0Q" name="City">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.add.normal&quot;) || perms.playerHas(Issuer, &quot;ragemod.bounty&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;)) {&#xD;
			Bounty temp = new Bounty();&#xD;
			EconomyResponse work = this.plugin.economy.bankWithdraw(Issuer.getName(),Double.parseDouble(Amount) );&#xD;
			if (work.type == EconomyResponse.ResponseType.SUCCESS){		&#xD;
			temp.setAmount(Double.parseDouble(Amount));&#xD;
			temp.setPlayerName(Target);&#xD;
			temp.setBountyGiver(Issuer.getName());&#xD;
			temp.setCity(City);&#xD;
			this.oab.getBH(City).addBounty(temp);&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty added!&quot;);&#xD;
			}else{&#xD;
				Issuer.sendMessage(&quot;You don't have enough money. You need to hunt him by yourself :(&quot;);	&#xD;
			}&#xD;
		} else if (Issuer instanceof Player ) {&#xD;
			Issuer.sendMessage(&quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_wPrYJUEeGsv772wTim0Q" name="addGlobalBounty" specification="_AuNMoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_wProJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_wPr4JUEeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_wPsIJUEeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.add.global&quot;) || perms.playerHas(Issuer,  &quot;ragemod.bounty&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;)) {&#xD;
			EconomyResponse work = this.plugin.economy.bankWithdraw(Issuer.getName(),Double.parseDouble(Amount) );&#xD;
			if (work.type == EconomyResponse.ResponseType.SUCCESS){	&#xD;
			Bounty temp = new Bounty();&#xD;
			temp.setAmount(Integer.parseInt(Amount));&#xD;
			temp.setPlayerName(Target);&#xD;
			temp.setBountyGiver(Issuer.getName());&#xD;
			temp.setCity(&quot;global&quot;);&#xD;
			this.oab.getBH(&quot;global&quot;).addBounty(temp);&#xD;
			Issuer.sendMessage(ChatColor.GREEN + &quot;Bounty added!&quot;);&#xD;
			}else{&#xD;
				Issuer.sendMessage(&quot;You don't have enough money. You need to hunt him by yourself :(&quot;);	&#xD;
			}&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_w2sIJUEeGsv772wTim0Q" name="removeAllBountys" specification="_AuNMpIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_w2sYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_w2soJUEeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (perms.playerHas(Issuer, &quot;ragemod.bounty.removeall&quot;) || perms.playerHas(Issuer, &quot;ragemod.*&quot;) || perms.playerHas(Issuer,  &quot;ragemod.bounty&quot;)) {&#xD;
			this.oab.removeallBountys(Target);&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;All Bountys removed!&quot;);&#xD;
		} else if (Issuer instanceof Player) {&#xD;
			Issuer.sendMessage(ChatColor.RED + &quot;You don't have permission to do that!&quot;);&#xD;
		} else {&#xD;
			Issuer.sendMessage(&quot;Non-players can't issue bounties!&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Aa5PEIJUEeGsv772wTim0Q" name="updateall" method="_A_wPp4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_AlANUIJUEeGsv772wTim0Q" name="BountyCommands" method="_A_voloJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlA0YYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlA0YoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlA0YIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlA0Y4JUEeGsv772wTim0Q" type="_Aa4A8IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuLXcIJUEeGsv772wTim0Q" name="addSignIssue" method="_A_vomYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuLXcYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuLXcoJUEeGsv772wTim0Q" name="Command">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuLXc4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuLXdIJUEeGsv772wTim0Q" name="resultBlockIssue" method="_A_vonYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuLXdYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuLXdoJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuL-gIJUEeGsv772wTim0Q" name="createsign" method="_A_wPoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuL-gYJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuL-goJUEeGsv772wTim0Q" name="city">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuL-g4JUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuL-hIJUEeGsv772wTim0Q" name="createsign" method="_A_wPpIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuMlkIJUEeGsv772wTim0Q" name="block" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuMlkYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuMlkoJUEeGsv772wTim0Q" name="addBounty" method="_A_wPqIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuMlk4JUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuMllIJUEeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuMllYJUEeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuMlloJUEeGsv772wTim0Q" name="City">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuNMoIJUEeGsv772wTim0Q" name="addGlobalBounty" method="_A_wPrYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuNMoYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuNMooJUEeGsv772wTim0Q" name="Amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuNMo4JUEeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuNMpIJUEeGsv772wTim0Q" name="removeAllBountys" method="_A_w2sIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuNMpYJUEeGsv772wTim0Q" name="Issuer" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuNMpoJUEeGsv772wTim0Q" name="Target">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Aa8SYIJUEeGsv772wTim0Q" name="Commands">
              <ownedAttribute xmi:id="_A28484JUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBacgYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_w2s4JUEeGsv772wTim0Q" name="Commands" specification="_AlD3sIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_w2tIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_w2tYJUEeGsv772wTim0Q" type="_Aa8SYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_w2toJUEeGsv772wTim0Q" name="zone" specification="_AuNzsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_w2t4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.message.parse(player, &quot;Your current zone is &quot; + plugin.zones.getName(player.getLocation()) &#xD;
				+ &quot; and distance from spawn is &quot; + (int)plugin.zones.getDistanceFromSpawn(player.getLocation()));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_w2uIJUEeGsv772wTim0Q" name="home" specification="_AuOawIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_w2uYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_w2uoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Timestamp now = new Timestamp(new Date().getTime());&#xD;
		Location destination;&#xD;
		&#xD;
		// Use /home clear to fix problems with beds&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;clear&quot;) )&#xD;
		{&#xD;
			if( playerData.getHome() == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You do not have a home to clear.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				// Remove any nearby beds to the home location&#xD;
				Build.clearNearbyBeds(playerData.getHome());&#xD;
				playerData.clearHome();&#xD;
				playerData.update();&#xD;
				plugin.message.send(player, &quot;Your home has now been cleared.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check permissions so only mods and admins can go to another player's home&#xD;
		if( targetPlayerData.id_Player != playerData.id_Player &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.referee.inspectspawn&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only mods and admins can teleport to other players' home points.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// See if player has an active membership&#xD;
		if( !playerData.isMember )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only active Rageland members can use /home.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check to see if home is on cooldown&#xD;
		if( playerData.home_LastUsed != null )&#xD;
		{&#xD;
			int secondsSinceLastUse = (int)((now.getTime() - playerData.home_LastUsed.getTime()) / 1000);&#xD;
			if( secondsSinceLastUse &lt; plugin.config.Cooldown_Home )&#xD;
			{&#xD;
				plugin.message.parseNo(player, &quot;Spell /home is not ready yet (&quot; + Util.formatCooldown(plugin.config.Cooldown_Home - secondsSinceLastUse) + &quot; left)&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// Make sure the player has set a home&#xD;
		if( targetPlayerData.getHome() == null )			&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You have not yet set a /home (place a bed inside your lot).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
		player.teleport(targetPlayerData.getHome());&#xD;
		playerData.home_LastUsed = now;&#xD;
		playerData.update();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_w2u4JUEeGsv772wTim0Q" name="spawn" specification="_AuOaxIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_w2vIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_w2vYJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Timestamp now = new Timestamp(new Date().getTime());&#xD;
		Location destination;&#xD;
		&#xD;
		// Use /home clear to fix problems with beds&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;clear&quot;) )&#xD;
		{&#xD;
			if( targetPlayerData.getSpawn() == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You do not have a spawn to clear.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				// Remove any nearby beds to the home location&#xD;
				Build.clearNearbyBeds(playerData.getSpawn());&#xD;
				playerData.clearSpawn();&#xD;
				playerData.update();&#xD;
				plugin.message.send(player, &quot;Your spawn has now been cleared.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check permissions so only mods and admins can go to another player's spawn&#xD;
		if( targetPlayerData.id_Player != playerData.id_Player &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.referee.inspectspawn&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only mods and admins can teleport to other players' spawn points.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Check to see if spawn is on cooldown&#xD;
		if( playerData.spawn_LastUsed != null )&#xD;
		{&#xD;
			int secondsSinceLastUse = (int)((now.getTime() - playerData.spawn_LastUsed.getTime()) / 1000);&#xD;
			if( secondsSinceLastUse &lt; plugin.config.Cooldown_Spawn )&#xD;
			{&#xD;
				plugin.message.parseNo(player, &quot;Spell /spawn is not ready yet (&quot; + Util.formatCooldown(plugin.config.Cooldown_Spawn - secondsSinceLastUse) + &quot; left)&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		if( targetPlayerData.getSpawn() != null )			&#xD;
			destination = targetPlayerData.getSpawn();&#xD;
		else&#xD;
			destination = plugin.zones.world.getSpawnLocation();&#xD;
		&#xD;
		plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
		player.teleport(destination);&#xD;
		playerData.spawn_LastUsed = now;&#xD;
		plugin.database.playerQueries.updatePlayer(playerData);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_w2voJUEeGsv772wTim0Q" name="language" specification="_AuPB0YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_w2v4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String skillText;&#xD;
		&#xD;
		plugin.message.send(player, ChatColor.GOLD + &quot;Language skill:&quot;);&#xD;
		&#xD;
		for(int i = 1; i &lt;= 4; i++ )&#xD;
		{&#xD;
			if( playerData.getLanguageSkill(i) == 100 )&#xD;
				skillText = ChatColor.WHITE + &quot;100/100&quot;;&#xD;
			else&#xD;
				skillText = ChatColor.GRAY + Integer.toString(playerData.getLanguageSkill(i)) + &quot;/100&quot;;&#xD;
			plugin.message.send(player, Message.LANGUAGE_NAME_COLOR + &quot;   &quot; + plugin.config.NPC_LANGUAGE_NAMES.get(i) + &quot;: &quot; + skillText);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_xdwIJUEeGsv772wTim0Q" name="affinity" specification="_AuPB1IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_xdwYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		HashMap&lt;Integer, Integer> affinities = new HashMap&lt;Integer, Integer>();&#xD;
		affinities.put(-2, 0);&#xD;
		affinities.put(-1, 0);&#xD;
		affinities.put(0, 0);&#xD;
		affinities.put(1, 0);&#xD;
		affinities.put(2, 0);&#xD;
		&#xD;
		for( float affinity : playerData.getAffinities().values() )&#xD;
		{&#xD;
			int affinityCode = Util.getAffinityCode(affinity);&#xD;
			affinities.put(affinityCode, affinities.get(affinityCode) + 1);&#xD;
		}&#xD;
		&#xD;
		plugin.message.send(player, ChatColor.GOLD + &quot;NPC affinity totals:&quot;);&#xD;
		for( int i = 2; i >= -2; i-- )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;   &quot; + plugin.config.NPC_AFFINITY_CODED_NAMES.get(i) + &quot;: &quot; + ChatColor.WHITE + affinities.get(i));&#xD;
		}&#xD;
		plugin.message.send(player, &quot;   &quot; + ChatColor.WHITE + &quot;Total: &quot; + playerData.getAffinities().size());&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlD3sIJUEeGsv772wTim0Q" name="Commands" method="_A_w2s4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlD3soJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlD3s4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlD3sYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlD3tIJUEeGsv772wTim0Q" type="_Aa8SYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuNzsIJUEeGsv772wTim0Q" name="zone" method="_A_w2toJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuNzsYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuOawIJUEeGsv772wTim0Q" name="home" method="_A_w2uIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuOawYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuOawoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuOaxIJUEeGsv772wTim0Q" name="spawn" method="_A_w2u4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuOaxYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuOaxoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuPB0YJUEeGsv772wTim0Q" name="language" method="_A_w2voJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuPB0oJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuPB1IJUEeGsv772wTim0Q" name="affinity" method="_A_xdwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuPB1YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Aa_8wIJUEeGsv772wTim0Q" name="CompassCommands">
              <ownedAttribute xmi:id="_A29gAIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBachIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_xdwoJUEeGsv772wTim0Q" name="CompassCommands" specification="_AlFF0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_xdw4JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_xdxIJUEeGsv772wTim0Q" type="_Aa_8wIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_xdxYJUEeGsv772wTim0Q" name="onCompassCommand" specification="_AuPo4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_xdxoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_xdx4JUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_xdyIJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_xdyYJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Compass commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /compass lot &lt;lot_code>   (points compass to specified lot)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /compass spawn   (points compass to world spawn)&quot;);&#xD;
			if( !plugin.config.PRE_RELEASE_MODE )&#xD;
			{&#xD;
				if( playerData.townName.equals(&quot;&quot;) )&#xD;
					plugin.message.parse(player, &quot;   /compass town &lt;town_name>   (points compass to specified town)&quot;);&#xD;
				else&#xD;
					plugin.message.parse(player, &quot;   /compass town [town_name]   (points compass to town)&quot;);&#xD;
			}	&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;lot&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.lot(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /compass lot &lt;lot_code>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawn&quot;) )&#xD;
		{&#xD;
			this.spawn(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;town&quot;) &amp;&amp; !plugin.config.PRE_RELEASE_MODE )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				this.town(player, playerData.townName);&#xD;
			else if( split.length == 3 )&#xD;
				this.town(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town info &lt;town_name>&quot;);&#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /compass to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_xdyoJUEeGsv772wTim0Q" name="lot" specification="_AuQP84JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_xdy4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_xdzIJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Lot lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// lot will be null if code is invalid&#xD;
		if( lot == null )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		player.setCompassTarget(lot.getCenter());&#xD;
		plugin.message.send(player, &quot;Compass target set to lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_xdzYJUEeGsv772wTim0Q" name="spawn" specification="_AuQ3AIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_xdzoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.setCompassTarget(player.getServer().getWorld(&quot;world&quot;).getSpawnLocation());&#xD;
		plugin.message.send(player, &quot;Compass target set to world spawn.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yE0IJUEeGsv772wTim0Q" name="town" specification="_AuQ3AoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yE0YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yE0oJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		player.setCompassTarget(town.getCenter());&#xD;
		plugin.message.parse(player, &quot;Compass target set to &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlFF0IJUEeGsv772wTim0Q" name="CompassCommands" method="_A_xdwoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlFs4IJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlFs4YJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlFF0YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlFs4oJUEeGsv772wTim0Q" type="_Aa_8wIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuPo4YJUEeGsv772wTim0Q" name="onCompassCommand" method="_A_xdxYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuPo4oJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuPo44JUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuQP8IJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuQP8YJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuQP84JUEeGsv772wTim0Q" name="lot" method="_A_xdyoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuQP9IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuQP9YJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuQ3AIJUEeGsv772wTim0Q" name="spawn" method="_A_xdzYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuQ3AYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuQ3AoJUEeGsv772wTim0Q" name="town" method="_A_yE0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuQ3A4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuQ3BIJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbCZAIJUEeGsv772wTim0Q" name="DebugCommands">
              <ownedAttribute xmi:id="_A29gAoJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBbDkIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A2-HEIJUEeGsv772wTim0Q" name="level" visibility="package">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yE04JUEeGsv772wTim0Q" name="DebugCommands" specification="_AlGT8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yE1IJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yE1YJUEeGsv772wTim0Q" type="_AbCZAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yE1oJUEeGsv772wTim0Q" name="onRmdebugCommand" specification="_AuReEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yE14JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yE2IJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yE2YJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_yE2oJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Debug commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug colors   (displays all chat colors)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug donation  (displays amount of donations)&quot;);&#xD;
			if( false )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug sanctum &lt;level> (attempts to build sanctum floor)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug setlang &lt;1-4> &lt;level> (sets your language skill)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug tptown &lt;town_name> (teleports to town)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug translate [text] (translates the entered text)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /rmdebug transcast &lt;#> &lt;text> (translates/broadcasts text)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;colors&quot;) )&#xD;
		{&#xD;
			this.colors(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;donation&quot;) )&#xD;
		{&#xD;
			this.donation(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;sanctum&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.sanctum(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /debug sanctum &lt;level>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;setlang&quot;) )&#xD;
		{&#xD;
			if( split.length == 4 )&#xD;
				this.setlang(player, split[2], split[3]); &#xD;
			else&#xD;
			{&#xD;
 			plugin.message.parse(player, &quot;Usage: /rmdebug setlang &lt;1-4> &lt;level>&quot;); &#xD;
				plugin.message.send(player, &quot;   Languages: 1-Creeptongue, 2-Gronuk, 3-Benali, 4-Avialese&quot;);&#xD;
			}&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;tptown&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.towntp(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /rmdebug tptown &lt;town_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;translate&quot;) )&#xD;
		{&#xD;
				this.translate(player, split); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;transcast&quot;) )&#xD;
		{&#xD;
			if( split.length > 3 )&#xD;
				this.transcast(player, split); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /rmdebug transcast 1-4 &lt;text>&quot;); &#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /rmdebug to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yE24JUEeGsv772wTim0Q" name="colors" specification="_AuSFIYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yE3IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>player.sendMessage(ChatColor.DARK_GRAY + &quot;Dark Gray: Player (Tourist)&quot;);&#xD;
		player.sendMessage(ChatColor.GRAY + &quot;Gray: Player (Neutral)&quot;);&#xD;
		player.sendMessage(ChatColor.WHITE + &quot;White: Town (Neutral), Player (Merchant)&quot;);&#xD;
		player.sendMessage(ChatColor.YELLOW + &quot;Yellow: Player (Admin)&quot;);&#xD;
		player.sendMessage(ChatColor.GOLD + &quot;Gold: Treasury messages, Player (Owner)&quot;);&#xD;
		player.sendMessage(ChatColor.RED + &quot;Red: Town (Red), Player (Red)&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_RED + &quot;Dark Red: Negative messages&quot;);&#xD;
		player.sendMessage(ChatColor.LIGHT_PURPLE + &quot;Light Purple: Battle messages&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_PURPLE + &quot;Dark Purple: Important battle messages&quot;);&#xD;
		player.sendMessage(ChatColor.BLUE + &quot;Blue: Player (Blue)&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_BLUE + &quot;Dark Blue: Unused (illegible)  :(&quot;);&#xD;
		player.sendMessage(ChatColor.AQUA + &quot;Aqua: NPC names, NPC towns&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_AQUA + &quot;Dark Aqua: NPC speech, Quest info&quot;);&#xD;
		player.sendMessage(ChatColor.GREEN + &quot;Green: Ragemod messages&quot;);&#xD;
		player.sendMessage(ChatColor.DARK_GREEN + &quot;Dark Green: Important messages, Broadcasts, Player (Moderator)&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yE3YJUEeGsv772wTim0Q" name="donation" specification="_AuSFJIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yE3oJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		int donation = plugin.database.playerQueries.getRecentDonations(playerData.id_Player);&#xD;
		&#xD;
		plugin.message.send(player, &quot;The database records you with a total donation of $&quot; + donation + &quot; in the last month.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yr4IJUEeGsv772wTim0Q" name="sanctum" specification="_AuSsMYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yr4YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yr4oJUEeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>//plugin.message.sendNo(player, &quot;This command has been disabled.&quot;);&#xD;
		//return;&#xD;
&#xD;
		World world = player.getWorld();&#xD;
		PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			level = Integer.parseInt(levelString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.text.messageNo(player, &quot;Invalid level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		if( level &lt; 1 || level > 5 )&#xD;
		{&#xD;
			plugin.text.messageNo(player, &quot;Invalid level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Pinpoint the top-left corner&#xD;
		int cornerX = (int)player.getLocation().getX() - 2; &#xD;
		int cornerY = (int)player.getLocation().getY() - 1;&#xD;
		int cornerZ = (int)player.getLocation().getZ() - 10; &#xD;
		&#xD;
		Build.sanctumFloor(plugin, world, cornerX, cornerY, cornerZ, level, playerData.id_Faction);	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yr44JUEeGsv772wTim0Q" name="setlang" specification="_AuSsNYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yr5IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yr5YJUEeGsv772wTim0Q" name="langString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_yr5oJUEeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		int id_Language;&#xD;
		int level;&#xD;
		&#xD;
		// Parse the language string&#xD;
		try&#xD;
		{&#xD;
			id_Language = Integer.parseInt(langString);&#xD;
			if( id_Language &lt; 1 || id_Language > 4 )&#xD;
				throw new Exception();&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid language (1-4).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Parse the level string&#xD;
		try&#xD;
		{&#xD;
			level = Integer.parseInt(levelString);&#xD;
			if( level &lt; 0 || level > 100 )&#xD;
				throw new Exception();&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid skill level (0-100).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Set the language skill&#xD;
		playerData.setLanguageSkill(id_Language, level);&#xD;
		playerData.update();&#xD;
		&#xD;
		plugin.message.send(player, &quot;Your &quot; + plugin.message.LANGUAGE_NAME_COLOR + plugin.config.NPC_LANGUAGE_NAMES.get(id_Language) + &#xD;
				plugin.message.DEFAULT_COLOR + &quot; skill is now &quot; + ChatColor.WHITE + level + &quot;.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yr54JUEeGsv772wTim0Q" name="towntp" specification="_AuUhY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yr6IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yr6YJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Teleport to the town&#xD;
		plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
		player.teleport(Util.findTeleportLocation(town.centerPoint));&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yr6oJUEeGsv772wTim0Q" name="translate" specification="_AuVIcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yr64JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yr7IJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_yr7YJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>String message = new String();&#xD;
		ArrayList&lt;String> results;&#xD;
		&#xD;
		if( split.length == 2 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Usage: /debug translate [text]&quot;);&#xD;
			plugin.message.parse(player, &quot;Translating sample message...&quot;);&#xD;
			message = &quot;Greetings, fellow traveler.  Would you like a cup of ale?&quot;;&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Pull the commands out of the string&#xD;
			for( int i = 2; i &lt; split.length; i++ )&#xD;
				message += split[i] + &quot; &quot;;&#xD;
		}&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			plugin.message.parse(player,  &quot;[En] &quot; + message);&#xD;
			&#xD;
			// Translate into all 4 languages&#xD;
			for( int i = 1; i &lt;= 4; i++ )&#xD;
			{&#xD;
				results = plugin.languages.translate(message, i);&#xD;
				plugin.message.parse(player,  &quot;[&quot; + plugin.languages.getAbbreviation(i) + &quot;] &quot; + results.get(3), ChatColor.DARK_AQUA);&#xD;
			}&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_yr7oJUEeGsv772wTim0Q" name="transcast" specification="_AuVIdYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_yr74JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_yr8IJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_yr8YJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String message = new String();&#xD;
		ArrayList&lt;String> results;&#xD;
		int id_Language;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			id_Language = Integer.parseInt(split[2]);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid language (1-4).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		if( id_Language &lt; 1 || id_Language > 4 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid language (1-4).&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Pull the commands out of the string&#xD;
		for( int i = 3; i &lt; split.length; i++ )&#xD;
			message += split[i] + &quot; &quot;;&#xD;
		&#xD;
		results = plugin.languages.translate(message, id_Language);&#xD;
		plugin.message.broadcast(playerData.getCodedName() + &quot; has initiated a translation test:&quot;);&#xD;
		plugin.message.broadcast(&quot;[En] &quot; + message, ChatColor.GREEN);&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			plugin.message.broadcast(&quot;[&quot; + plugin.languages.getAbbreviation(id_Language) + &quot;] &quot; + results.get(3), ChatColor.DARK_AQUA);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlGT8IJUEeGsv772wTim0Q" name="DebugCommands" method="_A_yE04JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlG7AIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlG7AYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlGT8YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlG7AoJUEeGsv772wTim0Q" type="_AbCZAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuReEIJUEeGsv772wTim0Q" name="onRmdebugCommand" method="_A_yE1oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuReEYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuReEoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuReE4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuSFIIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuSFIYJUEeGsv772wTim0Q" name="colors" visibility="private" method="_A_yE24JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuSFIoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuSFJIJUEeGsv772wTim0Q" name="donation" visibility="private" method="_A_yE3YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuSFJYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuSsMYJUEeGsv772wTim0Q" name="sanctum" visibility="private" method="_A_yr4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuSsMoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuSsM4JUEeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuSsNYJUEeGsv772wTim0Q" name="setlang" visibility="private" method="_A_yr44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuTTQIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuTTQYJUEeGsv772wTim0Q" name="langString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuTTQoJUEeGsv772wTim0Q" name="levelString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuUhY4JUEeGsv772wTim0Q" name="towntp" visibility="private" method="_A_yr54JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuUhZIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuUhZYJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuVIcIJUEeGsv772wTim0Q" name="translate" visibility="private" method="_A_yr6oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuVIcYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuVIcoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuVIdIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuVIdYJUEeGsv772wTim0Q" name="transcast" visibility="private" method="_A_yr7oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuVIdoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuVvgIJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuVvgoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbGqcIJUEeGsv772wTim0Q" name="FactionCommands">
              <ownedAttribute xmi:id="_A2-HEYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBbDk4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_zS8IJUEeGsv772wTim0Q" name="FactionCommands" specification="_AlIwMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_zS8YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_zS8oJUEeGsv772wTim0Q" type="_AbGqcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_zS84JUEeGsv772wTim0Q" name="onFactionCommand" specification="_AuWWkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_zS9IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_zS9YJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_zS9oJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_zS94JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Faction commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.id_Faction == 0 )&#xD;
				plugin.message.parse(player, &quot;   /faction join     (used to join a faction)&quot;);&#xD;
			if( playerData.id_Faction != 0 )&#xD;
				plugin.message.parse(player, &quot;   /faction leave    (leaves your faction)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /faction stats    (displays stats on each faction)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;join&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.join(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.join(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /faction join [faction_name]&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;leave&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.leave(player, false);&#xD;
 		else if( split.length == 3 &amp;&amp; split[2].equalsIgnoreCase(&quot;confirm&quot;))&#xD;
 			this.leave(player, true);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /faction leave [confirm]&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;stats&quot;) )&#xD;
		{&#xD;
			this.stats(player);&#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /faction to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_zS-IJUEeGsv772wTim0Q" name="join" specification="_AuWWloJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_zS-YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_zS-oJUEeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		int id_Faction;&#xD;
		&#xD;
		// Ensure the player is not already a member of a faction&#xD;
		if( playerData.id_Faction != 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You are already a member of a faction.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Calculate the cost to join each faction&#xD;
		HashMap&lt;Integer, Integer> populations = plugin.database.factionQueries.getFactionPopulations();&#xD;
		int lowestPopulation = 9999;&#xD;
		for( int faction : populations.keySet() )&#xD;
		{&#xD;
			if( lowestPopulation > populations.get(faction) )&#xD;
				lowestPopulation = populations.get(faction);&#xD;
		}&#xD;
		for( int faction : populations.keySet() )&#xD;
		{&#xD;
			populations.put(faction, (plugin.config.Faction_BaseJoinCost + ((populations.get(faction) - lowestPopulation) * plugin.config.Faction_JoinCostIncrease)));&#xD;
		}&#xD;
		&#xD;
		// If the player did not type a faction name, return the cost to join each faction&#xD;
		if( factionName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Current costs to join each faction (based on population):&quot;);&#xD;
			for( int faction : populations.keySet() )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   &quot; + plugin.factions.getCodedName(faction) + &quot;: &quot; + RageMod.econ.format(populations.get(faction)));&#xD;
			}&#xD;
			return;&#xD;
		}&#xD;
		// Check to make sure the typed faction exists&#xD;
		id_Faction = plugin.factions.getID(factionName);&#xD;
		if( id_Faction == 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Faction '&quot; + factionName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if the player has enough money to join the specified faction&#xD;
		if( populations.get(id_Faction) != null &amp;&amp; !RageMod.econ.has(factionName, populations.get(id_Faction)))&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You need at least &quot; + RageMod.econ.format(populations.get(id_Faction)) + &quot; to join the &quot; + plugin.factions.getCodedName(id_Faction) + &quot; faction.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Subtract from player balance&#xD;
		RageMod.econ.bankWithdraw(factionName, populations.get(id_Faction));&#xD;
		&#xD;
		// Set the player's faction&#xD;
		playerData.id_Faction = id_Faction;&#xD;
		plugin.database.playerQueries.updatePlayer(playerData);&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Congratulations, you are now a member of the &quot; + plugin.factions.getCodedName(id_Faction) + &quot; faction!&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_zS-4JUEeGsv772wTim0Q" name="leave" specification="_AuW9oYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_zS_IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_zS_YJUEeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Ensure the player is a member of a faction&#xD;
		if( playerData.id_Faction == 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You are not a member of a faction.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// See if the player typed &quot;confirm&quot; or not&#xD;
		if( !isConfirmed )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;Are you sure?  You will need to pay the join fee again if you change your mind.&quot;);&#xD;
			plugin.message.parse(player, &quot;Type /faction leave confirm to leave your faction.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Reset the player's faction&#xD;
			plugin.message.parse(player, &quot;You are no longer a member of the &quot; + plugin.factions.getCodedName(playerData.id_Faction) + &quot; faction.&quot;);&#xD;
			playerData.id_Faction = 0;&#xD;
			plugin.database.playerQueries.updatePlayer(playerData);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_zS_oJUEeGsv772wTim0Q" name="stats" specification="_AuW9pIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_zS_4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>HashMap&lt;Integer, Integer> populations = plugin.database.factionQueries.getFactionPopulations();&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Current faction populations (excluding inactive players):&quot;);&#xD;
		for( int faction : populations.keySet() )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;   &quot; + plugin.factions.getCodedName(faction) + &quot;: &quot; + populations.get(faction) + &quot; players&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlIwMIJUEeGsv772wTim0Q" name="FactionCommands" method="_A_zS8IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlIwMoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlIwM4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlIwMYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlIwNIJUEeGsv772wTim0Q" type="_AbGqcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuWWkIJUEeGsv772wTim0Q" name="onFactionCommand" method="_A_zS84JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuWWkYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuWWkoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuWWk4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuWWlIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuWWloJUEeGsv772wTim0Q" name="join" method="_A_zS-IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuWWl4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuW9oIJUEeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuW9oYJUEeGsv772wTim0Q" name="leave" method="_A_zS-4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuW9ooJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuW9o4JUEeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuW9pIJUEeGsv772wTim0Q" name="stats" method="_A_zS_oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuW9pYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbJGsIJUEeGsv772wTim0Q" name="LotCommands">
              <ownedAttribute xmi:id="_A2-uIIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBbDloJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_z6AIJUEeGsv772wTim0Q" name="LotCommands" specification="_AlJ-UYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_z6AYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_z6AoJUEeGsv772wTim0Q" type="_AbJGsIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_z6A4JUEeGsv772wTim0Q" name="onLotCommand" specification="_AuXksIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_z6BIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_z6BYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_z6BoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_z6B4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 4 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Lot commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot allow &lt;player_name> (allow player to build in your lots)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.lot.assign&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /lot assign &lt;lot_code> &lt;player_name>  (gives lot to player)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /lot check   (returns info on the current lot)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /lot claim [lot_code]   (claims the specified or current lot)&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot disallow &lt;player_name/all> (removes permissions)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.lot.evict&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /lot evict &lt;lot_code>   (sets specified lot to 'unclaimed')&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot list   (lists all lots you own)&quot;);&#xD;
			if( playerData.lots.size() > 0 )&#xD;
				plugin.message.parse(player, &quot;   /lot unclaim [lot_code]  (unclaims the specified lot)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;allow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.allow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot allow &lt;player_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;assign&quot;) )&#xD;
		{&#xD;
			if( split.length == 4 )&#xD;
				this.assign(player, split[2], split[3]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot assign &lt;lot_code> &lt;player_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;check&quot;) )&#xD;
		{&#xD;
			this.check(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;claim&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.claim(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.claim(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot claim [lot_code]&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;disallow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.disallow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot disallow &lt;player_name/all>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;evict&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.evict(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot evict &lt;lot_code>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			this.list(player);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;unclaim&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.unclaim(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.unclaim(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /lot unclaim [lot_code]&quot;); &#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /lot to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_z6CIJUEeGsv772wTim0Q" name="allow" specification="_AuYLwoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_z6CYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_z6CoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if the target player already has permission&#xD;
		if( playerData.lotPermissions.contains(targetPlayerData.name) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; already has permission to build in your lots.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - update the DB&#xD;
		plugin.database.lotQueries.allow(playerData.id_Player, targetPlayerData.id_Player);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.lotPermissions.add(targetPlayerData.name);&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now allowed to build in your lots.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has given you permission to build in his/her lots.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_z6C4JUEeGsv772wTim0Q" name="assign" specification="_AuYLxYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_z6DIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_z6DYJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_z6DoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Lot lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.lot.assign&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// lot will be null if code is invalid&#xD;
		if( lot == null )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// See if the lot is already claimed&#xD;
		if( !lot.owner.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Lot &quot; + lot.getLotCode() + &quot; is already owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - give the lot to the player&#xD;
		plugin.database.lotQueries.lotClaim(targetPlayerData, lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.lots.add(lot);&#xD;
		&#xD;
		// Update Lots to set the owner&#xD;
		lot.owner = targetPlayerData.name;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; now owns lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_z6D4JUEeGsv772wTim0Q" name="check" specification="_AuYy04JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_z6EIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>// Make sure the player is in the capitol&#xD;
		if( !plugin.zones.isInCapitol(player.getLocation()) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You must be in &quot; + plugin.config.Capitol_CodedName + &quot; to use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		Lot lot = plugin.lots.findCurrentLot(player.getLocation());&#xD;
		&#xD;
		if( lot != null )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;You are currently in lot &quot; + lot.getLotCode() + &quot; (&quot; + lot.getCategoryName() + &quot;).&quot;);&#xD;
			if( lot.owner.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;This lot is unowned - type /lot claim to claim it.&quot;);&#xD;
			else&#xD;
				plugin.message.parse(player, &quot;This lot is owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You are not standing inside of a lot.&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_0hEIJUEeGsv772wTim0Q" name="claim" specification="_AuYy1YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_0hEYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_0hEoJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		Lot lot;&#xD;
		&#xD;
		// Get the current lot, whether blank (current location) or typed&#xD;
		if( lotCode.equals(&quot;&quot;) )&#xD;
			lot = plugin.lots.findCurrentLot(player.getLocation());&#xD;
		else&#xD;
			lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// lot will be null if either of the above methods failed&#xD;
		if( lot == null )&#xD;
		{&#xD;
			if( lotCode.equals(&quot;&quot;) )&#xD;
				plugin.message.parseNo(player, &quot;You are not standing on a valid lot.  (consult the online map)&quot;);&#xD;
			else&#xD;
				plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// See if the lot is already claimed&#xD;
		if( !lot.owner.equals(&quot;&quot;) )&#xD;
		{&#xD;
			if( lot.owner.equals(playerData.name) )&#xD;
				plugin.message.sendNo(player, &quot;You already own this lot!&quot;);&#xD;
			else&#xD;
				plugin.message.parseNo(player, &quot;Lot &quot; + lot.getLotCode() + &quot; is already owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the player does not already own a lot of the current lot's category&#xD;
		for( Lot ownedLot : playerData.lots )&#xD;
		{&#xD;
			if( ownedLot.category == lot.category &amp;&amp; (lot.category == LotCategory.WARRENS || lot.category == LotCategory.MARKET) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You can only own one &quot; + lot.getCategoryName() + &quot; lot at a time.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			else if( (lot.category == LotCategory.COAL || lot.category == LotCategory.IRON || lot.category == LotCategory.GOLD || lot.category == LotCategory.DIAMOND) &amp;&amp;&#xD;
					 (ownedLot.category == LotCategory.COAL || ownedLot.category == LotCategory.IRON || ownedLot.category == LotCategory.GOLD || ownedLot.category == LotCategory.DIAMOND) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You can only own one member lot at a time.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// If the player is claiming a member lot, see if they have donated the appropriate amount&#xD;
		if( lot.isMemberLot() )&#xD;
		{&#xD;
			int donation = plugin.database.playerQueries.getRecentDonations(playerData.id_Player);&#xD;
			&#xD;
			if( donation &lt; lot.getPrice() )&#xD;
			{&#xD;
				plugin.message.send(player, &quot;To claim this lot you must be a &quot; + lot.getCategoryName() + &quot;-level &quot; + plugin.config.SERVER_NAME + &quot; member.&quot;, ChatColor.AQUA);&#xD;
				plugin.message.send(player, &quot;Visit http://www.rageland.net/donate for more details.&quot;, ChatColor.AQUA);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// See if the player has an active membership&#xD;
		if( lot.category == LotCategory.MARKET )&#xD;
		{&#xD;
			if( !playerData.isMember )&#xD;
			{&#xD;
				plugin.message.send(player, &quot;To claim a Market lot you must be an active &quot; + plugin.config.SERVER_NAME + &quot; member.&quot;, ChatColor.AQUA);&#xD;
				plugin.message.send(player, &quot;Visit http://www.rageland.net/donate for more details.&quot;, ChatColor.AQUA);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - give the lot to the player&#xD;
		plugin.database.lotQueries.lotClaim(playerData, lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.lots.add(lot);&#xD;
		&#xD;
		// Update Lots to set the owner&#xD;
		lot.owner = playerData.name;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.send(player, &quot;You now own lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_0hE4JUEeGsv772wTim0Q" name="disallow" specification="_AuZZ4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_0hFIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_0hFYJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;all&quot;) )&#xD;
		{&#xD;
			if( playerData.lotPermissions.size() == 0 )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You have no permissions to disallow.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.lotQueries.disallow(playerData.id_Player, 0);&#xD;
			&#xD;
			// Update the playerData&#xD;
			playerData.lotPermissions.clear();&#xD;
			&#xD;
			plugin.message.send(player, &quot;All of your lot permissions have been cleared.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
			&#xD;
			// Check to see if target player exists&#xD;
			if( targetPlayerData == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			// Check to see if the target player already has permission&#xD;
			if( !playerData.lotPermissions.contains(targetPlayerData.name) )&#xD;
			{&#xD;
				plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; does not have permission to build in your lots.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.lotQueries.disallow(playerData.id_Player, targetPlayerData.id_Player);&#xD;
			&#xD;
			// Update the playerData&#xD;
			playerData.lotPermissions.remove(targetPlayerData.name);&#xD;
			&#xD;
			plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is no longer allowed to build in your lots.&quot;);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_0hFoJUEeGsv772wTim0Q" name="evict" specification="_AuZZ5IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_0hF4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_0hGIJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Lot lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.lot.evict&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// lot will be null if invalid&#xD;
		if( lot == null )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the lot is already claimed&#xD;
		if( lot.owner.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Lot &quot; + lot.getLotCode() + &quot; is already unclaimed.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - remove the lot owner&#xD;
		plugin.database.lotQueries.lotUnclaim(lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		PlayerData targetPlayerData = plugin.players.get(lot.owner);&#xD;
		targetPlayerData.lots.remove(lot);&#xD;
		&#xD;
		// Update Lots to set the owner&#xD;
		lot.owner = &quot;&quot;;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; has been evicted from lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_0hGYJUEeGsv772wTim0Q" name="list" specification="_AuaA8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_0hGoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Make sure the player actually owns lots&#xD;
		if( playerData.lots.size() == 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not own any lots.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		plugin.message.send(player, &quot;You currently own the following lots:&quot;);&#xD;
		&#xD;
		for( Lot lot : playerData.lots )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;   &quot; + lot.getLotCode() + &quot; (&quot; + lot.getCategoryName() + &quot;)  &quot; + &#xD;
							   &quot;x: &quot; + (int)lot.region.nwCorner.getX() + &quot;  z: &quot; + (int)lot.region.nwCorner.getZ());&#xD;
		}&#xD;
		&#xD;
		// List all players allowed to build in their lots, if any&#xD;
		if( playerData.lotPermissions.size() > 0 )&#xD;
		{&#xD;
			plugin.message.send(player, &quot;The following players are allowed to build in your lots:&quot;);&#xD;
			String nameList = &quot;&quot;;&#xD;
			for( String name : playerData.lotPermissions )&#xD;
			{&#xD;
				if( nameList.equals(&quot;&quot;) )&#xD;
					nameList += plugin.players.get(name).getCodedName();&#xD;
				else&#xD;
					nameList += &quot;, &quot; + plugin.players.get(name).getCodedName();&#xD;
			}&#xD;
			plugin.message.parse(player, &quot;   &quot; + nameList);&#xD;
		}		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_0hG4JUEeGsv772wTim0Q" name="unclaim" specification="_AuaA8oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_0hHIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_0hHYJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		Lot lot;&#xD;
		boolean isLotOwned = false;&#xD;
		&#xD;
		lotCode = lotCode.toUpperCase();&#xD;
		&#xD;
		// Get the current lot, whether blank (current location) or typed&#xD;
		if( lotCode.equals(&quot;&quot;) )&#xD;
			lot = plugin.lots.findCurrentLot(player.getLocation());&#xD;
		else&#xD;
			lot = plugin.lots.get(lotCode);&#xD;
		&#xD;
		// lot will be null if either of the above methods failed&#xD;
		if( lot == null )&#xD;
		{&#xD;
			if( lotCode.equals(&quot;&quot;) )&#xD;
				plugin.message.parseNo(player, &quot;You are not standing on a valid lot.  (use /lot check and consult the online map)&quot;);&#xD;
			else&#xD;
				plugin.message.parseNo(player, lotCode + &quot; is not a valid lot code.  (consult the online map)&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the player owns the specified lot&#xD;
		for( Lot ownedLot : playerData.lots )&#xD;
		{&#xD;
			if( ownedLot.id_Lot == lot.id_Lot )&#xD;
				isLotOwned = true;&#xD;
		}&#xD;
		if( !isLotOwned )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not own lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - reset the lot owner&#xD;
		plugin.database.lotQueries.lotUnclaim(lot);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.lots.remove(lot);&#xD;
		&#xD;
		// Update Lots to remove the owner&#xD;
		lot.owner = &quot;&quot;;&#xD;
		plugin.lots.put(lot);&#xD;
		&#xD;
		plugin.message.send(player, &quot;You are no longer the owner of lot &quot; + lot.getLotCode() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlJ-UYJUEeGsv772wTim0Q" name="LotCommands" method="_A_z6AIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlKlYIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlKlYYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlJ-UoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlKlYoJUEeGsv772wTim0Q" type="_AbJGsIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuXksIJUEeGsv772wTim0Q" name="onLotCommand" method="_A_z6A4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuXksYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuXksoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuXks4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuYLwIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuYLwoJUEeGsv772wTim0Q" name="allow" method="_A_z6CIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuYLw4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuYLxIJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuYLxYJUEeGsv772wTim0Q" name="assign" method="_A_z6C4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuYy0IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuYy0YJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AuYy0oJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuYy04JUEeGsv772wTim0Q" name="check" method="_A_z6D4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuYy1IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuYy1YJUEeGsv772wTim0Q" name="claim" method="_A_0hEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuYy1oJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuZZ4IJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuZZ4YJUEeGsv772wTim0Q" name="disallow" method="_A_0hE4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuZZ4oJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuZZ44JUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuZZ5IJUEeGsv772wTim0Q" name="evict" method="_A_0hFoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuZZ5YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuZZ5oJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuaA8IJUEeGsv772wTim0Q" name="list" method="_A_0hGYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuaA8YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuaA8oJUEeGsv772wTim0Q" name="unclaim" method="_A_0hG4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuaA84JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuaA9IJUEeGsv772wTim0Q" name="lotCode">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbNYIIJUEeGsv772wTim0Q" name="NPCCommands">
              <ownedAttribute xmi:id="_A2-uIoJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBbqoYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A2_VMIJUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_BBbqpIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1IIIJUEeGsv772wTim0Q" name="NPCCommands" specification="_AlMakoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1IIYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_1IIoJUEeGsv772wTim0Q" type="_AbNYIIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
		this.random = new Random();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1II4JUEeGsv772wTim0Q" name="onNPCCommand" specification="_AuaoAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1IJIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_1IJYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_1IJoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_1IJ4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 5 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;NPC commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc create &lt;name> [raceID] [sex]  (creates a new NPC)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc despawnall   (clears all NPCs on server)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc list   (lists all active NPCs)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc listloc   (lists all NPCLocations)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc newloc   (creates a new NPCLocation at your point)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc spawn &lt;locID> [npcID]  (spawns an NPC at location)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc spawnq &lt;locID> &lt;q.type> [q.id]  (spawns quest NPC)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc spawnall   (forces server-wide NPC spawning)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npc tploc &lt;locID>  (teleports to the NPCLocation)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;create&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 ) &#xD;
				this.create(player, split[2], &quot;5&quot;, &quot;M&quot;); &#xD;
			else if( split.length == 4 )&#xD;
				this.create(player, split[2], split[3], &quot;M&quot;); &#xD;
			else if(split.length == 5) &#xD;
				this.create(player, split[2], split[3], split[4]); &#xD;
			else&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;Usage: /npc create &lt;name> [raceID] [gender]&quot;);&#xD;
				plugin.message.send(player, &quot;   Races: 1-Creep, 2-Pigman, 3-Benali, 4-Avian, 5-Human&quot;);&#xD;
			}&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;despawnall&quot;) )&#xD;
		{&#xD;
			this.despawnall(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;listloc&quot;) )&#xD;
		{&#xD;
			this.listloc(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			this.list(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;newloc&quot;) )&#xD;
		{&#xD;
			this.newloc(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawn&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.spawn(player, split[2], &quot;random&quot;); &#xD;
			else if(split.length == 4) &#xD;
				this.spawn(player, split[2], split[3]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npc spawn &lt;locID> [npcID]&quot;);  &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawnq&quot;) )&#xD;
		{&#xD;
			if(split.length == 5) &#xD;
			{&#xD;
				String name = split[2];&#xD;
				String questNpcType = split[3];&#xD;
				String questId = split[4];&#xD;
				createQuestNPC(player, name, questNpcType, questId);&#xD;
			}&#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npc spawn &lt;locID>&quot;);  &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;spawnall&quot;) )&#xD;
		{&#xD;
			this.spawnall(player); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;tploc&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.tploc(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npc tploc &lt;locID>&quot;);  &#xD;
		}&#xD;
&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /npc to see a list of available commands.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1IKIJUEeGsv772wTim0Q" name="createQuestNPC" specification="_AubPEoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1IKYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_1IKoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1IK4JUEeGsv772wTim0Q" name="questNpcType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1ILIJUEeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			if (name.length() > 14) &#xD;
			{&#xD;
				String tmp = name.substring(0, 14);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 14 characters,&quot;);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
				name = tmp;&#xD;
			}&#xD;
			&#xD;
			// Add the NPC to memory&#xD;
			NPCData npc = new NPCData();&#xD;
			npc.id_NPCRace = 5;		// temp: 5 for humans&#xD;
			npc.id_NPCTown = 0;		// 0 = no town&#xD;
			npc.name = name;&#xD;
			npc.isBilingual = false;&#xD;
			/*&#xD;
			npc.isQuestNPC = true;&#xD;
			npc.quest = plugin.questManager.quests.get(questId);&#xD;
			&#xD;
			if(questNpcType.equals(&quot;0&quot;))&#xD;
				npc.questNPCType = 0;&#xD;
			else if(questNpcType.equals(&quot;1&quot;))&#xD;
				npc.questNPCType = 1;&#xD;
			else&#xD;
				npc.questNPCType = 2;&#xD;
				*/&#xD;
			&#xD;
			plugin.npcManager.addNPC(npc);&#xD;
			&#xD;
			// Add the NPC to the database&#xD;
			int id_NPC = plugin.database.npcQueries.createNPC(npc, playerData.id_Player);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPC #&quot; + id_NPC + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1ILYJUEeGsv772wTim0Q" name="isSpawnCommand" specification="_AbOmQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1ILoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_1IL4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1IMIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length > 4 &amp;&amp; split.length &lt; 7)&#xD;
		{&#xD;
			if(split[1].equalsIgnoreCase(&quot;spawn&quot;))&#xD;
			{&#xD;
				if(split[2].equalsIgnoreCase(&quot;speechnpc&quot;) &amp;&amp; split.length == 5)&#xD;
				{&#xD;
					return true;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1vMIJUEeGsv772wTim0Q" name="isDespawnCommand" specification="_AbPNUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1vMYJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_1vMoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1vM4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length == 3 &amp;&amp; split[1].equalsIgnoreCase(&quot;despawn&quot;))&#xD;
		{&#xD;
			&#xD;
		}&#xD;
		return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1vNIJUEeGsv772wTim0Q" name="isAddSpeechCommand" specification="_AbPNVoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1vNYJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_1vNoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1vN4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length == 4 &amp;&amp; split[1].equalsIgnoreCase(&quot;addspeechmessage&quot;))&#xD;
			return true;&#xD;
		else&#xD;
			return false;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1vOIJUEeGsv772wTim0Q" name="newloc" specification="_Aub2IYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1vOYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			NPCLocation npcLocation = new NPCLocation(player.getLocation(), plugin);&#xD;
			int townID = 0;&#xD;
			&#xD;
			// See if the location is inside a town&#xD;
			Town town = plugin.towns.getCurrentTown(npcLocation);&#xD;
			if( town != null )&#xD;
			{&#xD;
				townID = town.getID();&#xD;
				town.addNPCLocation(npcLocation); &#xD;
			}&#xD;
			&#xD;
			// Add the NPCLocation to the database&#xD;
			int id_NPCLocation = plugin.database.npcQueries.createNPCLocation(player.getLocation(), townID, 0, playerData.id_Player);&#xD;
			&#xD;
			// Add the NPCLocation to memory&#xD;
			npcLocation.setIDs(id_NPCLocation, townID, 0);&#xD;
			plugin.npcManager.addLocation(npcLocation);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPCLocation #&quot; + id_NPCLocation + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1vOoJUEeGsv772wTim0Q" name="spawn" specification="_Aub2JIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1vO4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_1vPIJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1vPYJUEeGsv772wTim0Q" name="npcString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		NPCLocation location;&#xD;
		NPCData npc;&#xD;
		NPCInstance instance;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get the NPC location&#xD;
			location = plugin.npcManager.activateLocation(Integer.parseInt(id_NPCLocation));&#xD;
			if( location == null )&#xD;
				throw new Exception(id_NPCLocation + &quot; is already in use or is an invalid location ID.&quot;);&#xD;
			&#xD;
			System.out.println(&quot;Activated NPCLocation #&quot; + location.getID());&#xD;
			&#xD;
			// Activate a random NPC from the pool&#xD;
			if( npcString.equalsIgnoreCase(&quot;random&quot;) )&#xD;
				npc = plugin.npcManager.activateRandomFloatingNPC();&#xD;
			else&#xD;
				npc = plugin.npcManager.activateNPC(Integer.parseInt(npcString));&#xD;
			&#xD;
			if( npc == null )&#xD;
			{&#xD;
				plugin.npcManager.deactivateLocation(location);&#xD;
				throw new Exception(&quot;There are no more NPCs in the pool to activate.&quot;);&#xD;
			}&#xD;
			&#xD;
			System.out.println(&quot;Activated NPC #&quot; + npc.id_NPC);&#xD;
			&#xD;
			// Register the NPC instance and spawn the NPC&#xD;
			instance = plugin.database.npcQueries.createInstance(&#xD;
					npc.id_NPC, location.getID(), 30, playerData.id_Player, NPCType.SPEECH);&#xD;
			instance.setData(npc, location);&#xD;
			instance.spawn();&#xD;
					&#xD;
			plugin.message.parse(player, &quot;Successfully spawned &quot; + instance.getCodedName() + &quot; at location #&quot; + location.getID() + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
			return;&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_1vPoJUEeGsv772wTim0Q" name="create" specification="_AucdMYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_1vP4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_1vQIJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1vQYJUEeGsv772wTim0Q" name="race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_1vQoJUEeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>int raceID = Integer.parseInt(race);&#xD;
		if( raceID &lt; 1 || raceID > 5 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid race ID (1-5)&quot;);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		NPCCommands.newNPC(plugin, player, name, raceID, gender, 0);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_2WQIJUEeGsv772wTim0Q" name="newNPC" specification="_AudEQYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_2WQYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_2WQoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_2WQ4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_2WRIJUEeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_2WRYJUEeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_2WRoJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		boolean isMale;&#xD;
		&#xD;
		Random random = new Random();&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			isMale = gender.equalsIgnoreCase(&quot;M&quot;);&#xD;
			&#xD;
			if (name.length() > 14) &#xD;
			{&#xD;
				String tmp = name.substring(0, 14);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 14 characters,&quot;);&#xD;
				plugin.getServer().getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
				name = tmp;&#xD;
			}&#xD;
			&#xD;
			// Add the NPC to memory&#xD;
			NPCData npc = new NPCData();&#xD;
			npc.id_NPCRace = raceID;&#xD;
			npc.id_NPCTown = id_NPCTown;		// 0 = no town&#xD;
			npc.name = name;&#xD;
			npc.isBilingual = false;&#xD;
			npc.isMale = isMale;&#xD;
			&#xD;
			// Determine the default affinity randomly&#xD;
			int affinityRoll = random.nextInt(100);&#xD;
			if( affinityRoll &lt; 10 )&#xD;
				npc.defaultAffinityCode = -2;&#xD;
			else if( affinityRoll &lt; 30 )&#xD;
				npc.defaultAffinityCode = -1;&#xD;
			else if( affinityRoll &lt; 50 )&#xD;
				npc.defaultAffinityCode = 1;&#xD;
			else&#xD;
				npc.defaultAffinityCode = 0;&#xD;
			&#xD;
			// Add the NPC to the database&#xD;
			npc.id_NPC = plugin.database.npcQueries.createNPC(npc, playerData.id_Player);&#xD;
			&#xD;
			plugin.npcManager.addNPC(npc);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPC #&quot; + npc.id_NPC + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_2WR4JUEeGsv772wTim0Q" name="listloc" specification="_AudrUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_2WSIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.message.send(player, &quot;List of all non-town NPC locations:&quot;);&#xD;
		&#xD;
		for( NPCLocation location : plugin.npcManager.getAllLocations() )&#xD;
		{&#xD;
			if( location.getTown() == null )&#xD;
				plugin.message.parse(player, &quot; &quot; + location.getID() + &quot;: &quot; + plugin.zones.getName(location.getZone()) + &quot; (&quot; + &#xD;
						location.getQuadrant().toString() + &quot;) &quot; + &#xD;
						(location.isActivated() ? ChatColor.GOLD + &quot;ACTIVE&quot; : &quot;&quot;));&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_2WSYJUEeGsv772wTim0Q" name="tploc" specification="_AudrU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_2WSoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_2WS4JUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCLocation location;&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Get the NPC location&#xD;
			location = plugin.npcManager.getLocation(Integer.parseInt(id_NPCLocation));&#xD;
			if( location == null )&#xD;
				throw new Exception(id_NPCLocation + &quot; is an invalid location ID.&quot;);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Teleporting...&quot;);&#xD;
			player.teleport(location);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
			return;&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_2WTIJUEeGsv772wTim0Q" name="list" specification="_AueSYYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_2WTYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>ArrayList&lt;NPCInstance> instances = plugin.npcManager.getAllInstances();&#xD;
		&#xD;
		if( instances.size() == 0 )&#xD;
			plugin.message.send(player, &quot;There are no currently active NPCs.&quot;);&#xD;
		else&#xD;
		{&#xD;
			plugin.message.send(player, &quot;List of all active NPCs:&quot;);&#xD;
			&#xD;
			for( NPCInstance instance : plugin.npcManager.getAllInstances() )&#xD;
			{&#xD;
				String locationStr;&#xD;
				Town town = plugin.towns.getCurrentTown(instance.getLocation());&#xD;
				if( town != null )&#xD;
					locationStr = town.getCodedName();&#xD;
				else&#xD;
					locationStr = plugin.zones.getName(instance.getLocation().getZone()) + &quot; (&quot; + &#xD;
							instance.getLocation().getQuadrant().toString() + &quot;)&quot;;&#xD;
				plugin.message.parse(player, &quot; &quot; + instance.getCodedName() + &quot;: Loc. &quot; + instance.getLocation().getID() + &quot;, &quot; + locationStr);&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_2WToJUEeGsv772wTim0Q" name="spawnall" specification="_AueSZIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_2WT4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.tasks.spawnNPCs();&#xD;
		 plugin.message.send(player, &quot;Spawned &quot; + plugin.npcManager.getAllInstances().size() + &quot; NPCs.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_2WUIJUEeGsv772wTim0Q" name="despawnall" specification="_Aue5cYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_2WUYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>plugin.npcManager.despawnAll(true);&#xD;
		plugin.message.send(player, &quot;Cleared all NPCs.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AbOmQIJUEeGsv772wTim0Q" name="isSpawnCommand" visibility="private" method="_A_1ILYJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAoZY4JUEeGsv772wTim0Q">
                  <body>To be a valid spawn command, format is:&#xD;
	 * &#xD;
	 * npc spawn &lt;npctype> &lt;npcname> [questid]&#xD;
	 * @param split&#xD;
	 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_AbOmQYJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AbOmRIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbOmQoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbPNUIJUEeGsv772wTim0Q" name="isDespawnCommand" visibility="private" method="_A_1vMIJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAoZZIJUEeGsv772wTim0Q">
                  <body>To be a valid despawn command format is:&#xD;
	 * &#xD;
	 * npc despawn &lt;npcname>&#xD;
	 * @param split&#xD;
	 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_AbPNUYJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AbPNVIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbPNUoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AbPNVoJUEeGsv772wTim0Q" name="isAddSpeechCommand" visibility="private" method="_A_1vNIJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAoZZYJUEeGsv772wTim0Q">
                  <body>Command format: /npc addspeechmessage &lt;npcname> &lt;message></body>
                </ownedComment>
                <ownedParameter xmi:id="_AbPNV4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AbP0YoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AbP0YIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AlMakoJUEeGsv772wTim0Q" name="NPCCommands" method="_A_1IIIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlMalIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlNBoIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlMak4JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlNBoYJUEeGsv772wTim0Q" type="_AbNYIIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuaoAIJUEeGsv772wTim0Q" name="onNPCCommand" method="_A_1II4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuaoAYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuaoAoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuaoA4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AubPEYJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AubPEoJUEeGsv772wTim0Q" name="createQuestNPC" visibility="private" method="_A_1IKIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AubPE4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AubPFIJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AubPFYJUEeGsv772wTim0Q" name="questNpcType">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AubPFoJUEeGsv772wTim0Q" name="questId">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Aub2IYJUEeGsv772wTim0Q" name="newloc" visibility="private" method="_A_1vOIJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAoZZoJUEeGsv772wTim0Q">
                  <body>Creates a new NPCLocation and adds it to the database</body>
                </ownedComment>
                <ownedParameter xmi:id="_Aub2IoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aub2JIJUEeGsv772wTim0Q" name="spawn" visibility="private" method="_A_1vOoJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAoZZ4JUEeGsv772wTim0Q">
                  <body>Spawns a new NPC at the specified location&#xD;
	 * @param player&#xD;
	 * @param id_NPCLocation</body>
                </ownedComment>
                <ownedParameter xmi:id="_Aub2JYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aub2JoJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Aub2J4JUEeGsv772wTim0Q" name="npcString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AucdMYJUEeGsv772wTim0Q" name="create" visibility="private" method="_A_1vPoJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAoZaIJUEeGsv772wTim0Q">
                  <body>Creates a new NPC record in the database&#xD;
	 * @param player&#xD;
	 * @param name</body>
                </ownedComment>
                <ownedParameter xmi:id="_AucdMoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AucdM4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AucdNIJUEeGsv772wTim0Q" name="race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AucdNYJUEeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AudEQYJUEeGsv772wTim0Q" name="newNPC" isStatic="true" method="_A_2WQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AudEQoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AudEQ4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AudERIJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AudERYJUEeGsv772wTim0Q" name="raceID">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AudERoJUEeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AudER4JUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AudrUIJUEeGsv772wTim0Q" name="listloc" visibility="private" method="_A_2WR4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AudrUYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AudrU4JUEeGsv772wTim0Q" name="tploc" visibility="private" method="_A_2WSYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AudrVIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AudrVYJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AueSYYJUEeGsv772wTim0Q" name="list" visibility="private" method="_A_2WTIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AueSYoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AueSZIJUEeGsv772wTim0Q" name="spawnall" visibility="private" method="_A_2WToJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AueSZYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aue5cYJUEeGsv772wTim0Q" name="despawnall" visibility="private" method="_A_2WUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aue5coJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbVT8IJUEeGsv772wTim0Q" name="NPCTownCommands">
              <ownedAttribute xmi:id="_A2_VMYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBbqp4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_29UIJUEeGsv772wTim0Q" name="NPCTownCommands" specification="_AlO20IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_29UYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_29UoJUEeGsv772wTim0Q" type="_AbVT8IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_29U4JUEeGsv772wTim0Q" name="onNPCTownCommand" specification="_AufggIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_29VIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_29VYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_29VoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_29V4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 5 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;NPCTown commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown allow &lt;player> (allow player to build in your town)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.npctown&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /npctown create &lt;name> &lt;raceID> &lt;x,z,x,z>   (new NPCTown)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown disallow &lt;player/all> (removes permissions)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npctown list   (lists all NPCTowns)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /npctown info [town_name]   (gives info on NPCTown)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown newloc  (creates a new NPC)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown newphrase &lt;phrase>  (adds a new phrase)&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /npctown resident &lt;name> [sex]  (creates a new NPC)&quot;);&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.npctown&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /npctown setsteward &lt;town> &lt;player>   (sets steward)&quot;);&#xD;
			&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;allow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.allow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown allow &lt;player_name>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;create&quot;) )&#xD;
		{&#xD;
			if( split.length == 5 )&#xD;
				this.create(player, split[2], split[3], split[4]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown create &lt;name> &lt;lvl> &lt;x,z,x,z>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;disallow&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.disallow(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown disallow &lt;player_name/all>&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;info&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.npcTownName.equals(&quot;&quot;) )&#xD;
				this.info(player, playerData.npcTownName);&#xD;
			else if( split.length == 3 )&#xD;
				this.info(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown info &lt;town_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			this.list(player, &quot;&quot;);&#xD;
 	}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;newloc&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.newloc(player);&#xD;
//			else if( split.length == 3 )&#xD;
//				this.newloc(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown newloc&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;newphrase&quot;) )&#xD;
		{&#xD;
			if( split.length > 2 )&#xD;
				this.newphrase(player, split);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown newphrase &lt;phrase>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;resident&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 ) &#xD;
				this.resident(player, split[2], &quot;M&quot;); &#xD;
			else if( split.length == 4 )&#xD;
				this.resident(player, split[2], split[3]); &#xD;
			else&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;Usage: /npctown resident &lt;name> [gender]&quot;);&#xD;
			}&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;setsteward&quot;) )&#xD;
		{&#xD;
			if( split.length == 4 )&#xD;
 			this.setsteward(player, split[2], split[3]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /npctown setsteward &lt;town_name> &lt;player_name>&quot;);&#xD;
		}&#xD;
&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /npctown to see a list of available commands.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_29WIJUEeGsv772wTim0Q" name="allow" specification="_AufghYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_29WYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_29WoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
&#xD;
		// Make sure the player is a steward&#xD;
		if( !playerData.isSteward )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
		&#xD;
		// Check to see if the target player already has permission&#xD;
		if( town.buildPermissions.contains(targetPlayerData.name) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; already has permission to build in &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - update the DB&#xD;
		plugin.database.npcTownQueries.allow(town.getID(), targetPlayerData.id_Player);&#xD;
		&#xD;
		// Update the town data&#xD;
		town.buildPermissions.add(targetPlayerData.name);&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now allowed to build in &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has given you permission to build in &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_29W4JUEeGsv772wTim0Q" name="create" specification="_AugHkoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_29XIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_29XYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_29XoJUEeGsv772wTim0Q" name="raceString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_29X4JUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			int id_Race = Integer.parseInt(raceString);&#xD;
			if( id_Race &lt; 1 || id_Race > 5 )&#xD;
				throw new Exception(&quot;Invalid Race ID (1-5)&quot;);&#xD;
			&#xD;
			int id_NPCTown = plugin.database.npcTownQueries.create(player, name, &#xD;
					Integer.parseInt(split[0]), Integer.parseInt(split[1]), Integer.parseInt(split[2]), Integer.parseInt(split[3]),&#xD;
					1, id_Race);&#xD;
			&#xD;
			NPCTown town = new NPCTown(plugin, id_NPCTown, name, player.getLocation().getWorld(), &quot;&quot;);&#xD;
			town.id_NPCRace = id_Race;	&#xD;
 		town.townLevel = plugin.config.townLevels.get(1);&#xD;
 		&#xD;
			town.createRegion(coords);&#xD;
			plugin.towns.add(town);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully created NPCTown &quot; + name + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
			return;&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_3kYIJUEeGsv772wTim0Q" name="disallow" specification="_AuguoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_3kYYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_3kYoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Make sure the player is a steward&#xD;
		if( !playerData.isSteward )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
&#xD;
		if( targetPlayerName.equalsIgnoreCase(&quot;all&quot;) )&#xD;
		{&#xD;
			if( town.buildPermissions.size() == 0 )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You have no permissions to disallow.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.npcTownQueries.disallow(town.getID(), 0);&#xD;
			&#xD;
			// Update the town&#xD;
			town.buildPermissions.clear();&#xD;
			&#xD;
			plugin.message.send(player, &quot;All of your NPCTown build permissions have been cleared.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
			&#xD;
			// Check to see if target player exists&#xD;
			if( targetPlayerData == null )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			// Check to see if the target player already has permission&#xD;
			if( !town.buildPermissions.contains(targetPlayerData.name) )&#xD;
			{&#xD;
				plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; does not have permission to build in your NPCTown.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// All checks have succeeded - update the database&#xD;
			plugin.database.npcTownQueries.disallow(town.getID(), targetPlayerData.id_Player);&#xD;
			&#xD;
			// Update the town&#xD;
			town.buildPermissions.remove(targetPlayerData.name);&#xD;
			&#xD;
			plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is no longer allowed to build in your NPCTown.&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_3kY4JUEeGsv772wTim0Q" name="info" specification="_Auguo4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_3kZIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_3kZYJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		if( town instanceof PlayerTown )&#xD;
		{&#xD;
			plugin.message.parseNo(player, town.getCodedName() + &quot; is a Player Town (use /town info).&quot;);&#xD;
		}&#xD;
		else if( town instanceof NPCTown )&#xD;
		{&#xD;
			NPCTown npcTown = (NPCTown)town;&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Info for &quot; + npcTown.getCodedName() + &quot;:&quot;);&#xD;
			plugin.message.parse(player, &quot;   Race: &quot; + plugin.config.NPC_RACE_NAMES.get(npcTown.id_NPCRace));&#xD;
			plugin.message.parse(player, &quot;   Level: &quot; + npcTown.townLevel.name + &quot; (&quot; + npcTown.townLevel.level + &quot;)&quot;);&#xD;
			if( !npcTown.steward.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   Steward: &quot; + plugin.players.get(npcTown.steward).getCodedName());&#xD;
			&#xD;
			// List the allowed builders&#xD;
			String builders = &quot;&quot;;&#xD;
			for( String builder : npcTown.buildPermissions )&#xD;
				builders += &quot;, &quot; + plugin.players.get(builder).getCodedName();&#xD;
			if( !builders.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   Builders: &quot; + builders.substring(2));&#xD;
			&#xD;
			// List the NPC residents&#xD;
			String residents = &quot;&quot;;&#xD;
			for( NPCData npc : plugin.npcManager.getAllResidents(town.getID()) )&#xD;
				residents += &quot;, #&quot; + npc.id_NPC + &quot;: &quot; + npc.getCodedName() + &quot; (&quot; + (npc.isMale ? 'M' : 'F') + &quot;, &quot; + &#xD;
						plugin.config.NPC_AFFINITY_NAMES.get(npc.defaultAffinityCode) + &quot;)&quot;;&#xD;
			if( !residents.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   Residents: &quot; + residents.substring(2));&#xD;
				&#xD;
			if( RageMod.perms.has(player, &quot;ragemod.npctown&quot;) || playerData.npcTownName.equalsIgnoreCase(town.getName()) )&#xD;
			{&#xD;
				for( NPCLocation location : npcTown.getNPCLocations() )&#xD;
				{&#xD;
					plugin.message.parse(player, &quot;   Loc. #&quot; + location.getID() + &#xD;
							&quot; (&quot; + (int)location.getX() + &quot;, &quot; + (int)location.getY() + &quot;, &quot; + (int)location.getZ() + &quot;)&quot; +&#xD;
							&quot; &quot; + (location.isActivated() ? location.getInstance().getCodedName() : &quot;&quot;));&#xD;
				}	&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_3kZoJUEeGsv772wTim0Q" name="newloc" specification="_AuhVsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_3kZ4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			NPCLocation npcLocation = new NPCLocation(player.getLocation(), plugin);&#xD;
			int townID = 0;&#xD;
			&#xD;
			// Make sure the player is a steward&#xD;
			if( !playerData.isSteward || playerData.npcTownName.equals(&quot;&quot;) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// See if the location is inside a town&#xD;
			Town town = plugin.towns.getCurrentTown(npcLocation);&#xD;
			if( town == null || !playerData.npcTownName.equalsIgnoreCase(town.getName()) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;You can only create NPCLocations inside your own NPCTown.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// I like unicorns&#xD;
			townID = town.getID();&#xD;
			town.addNPCLocation(npcLocation); &#xD;
			&#xD;
			// Add the NPCLocation to the database&#xD;
			int id_NPCLocation = plugin.database.npcQueries.createNPCLocation(player.getLocation(), townID, 0, playerData.id_Player);&#xD;
			&#xD;
			// Add the NPCLocation to memory&#xD;
			npcLocation.setIDs(id_NPCLocation, townID, 0);&#xD;
			plugin.npcManager.addLocation(npcLocation);&#xD;
			&#xD;
			plugin.message.send(player, &quot;Successfully added NPCLocation #&quot; + id_NPCLocation + &quot;.&quot;);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_3kaIJUEeGsv772wTim0Q" name="newphrase" specification="_AuhVsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_3kaYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_3kaoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_3ka4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String message = new String();&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Make sure the player is a steward&#xD;
			if( !playerData.isSteward || playerData.npcTownName.equals(&quot;&quot;) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			// Pull the phrase out of the string&#xD;
			for( int i = 2; i &lt; split.length; i++ )&#xD;
				message += split[i] + &quot; &quot;;&#xD;
			&#xD;
			NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
			&#xD;
			if( plugin.database.npcQueries.submitPhrase(town, playerData, message) )&#xD;
				plugin.message.send(player, &quot;Phrase submitted for approval.&quot;);&#xD;
			else&#xD;
				plugin.message.send(player, &quot;Error submitting phrase.&quot;);&#xD;
			&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_3kbIJUEeGsv772wTim0Q" name="resident" specification="_Auh8wYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_3kbYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_3kboJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_3kb4JUEeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		// Make sure the player is a steward&#xD;
		if( !playerData.isSteward || playerData.npcTownName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only NPCTown Stewards can use this command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown town = (NPCTown)plugin.towns.get(playerData.npcTownName);&#xD;
		NPCCommands.newNPC(plugin, player, name, town.id_NPCRace, gender, town.getID());&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4LcIJUEeGsv772wTim0Q" name="setsteward" specification="_Auh8xYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4LcYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4LcoJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A_4Lc4JUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.npctown&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// town will be null if name is invalid&#xD;
		if( town == null || !(town instanceof NPCTown) )&#xD;
		{	&#xD;
			plugin.message.parseNo(player, townName + &quot; is not a valid NPCTown.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		NPCTown npcTown = (NPCTown) town;&#xD;
		&#xD;
		// Clear the existing steward, if any&#xD;
		if( !npcTown.steward.equals(&quot;&quot;) )&#xD;
		{&#xD;
			PlayerData stewardData = plugin.players.get(npcTown.steward);&#xD;
			stewardData.isSteward = false;&#xD;
			stewardData.npcTownName = &quot;&quot;;&#xD;
			stewardData.update();&#xD;
		}&#xD;
		&#xD;
		// Update the NPCTown&#xD;
		npcTown.steward = targetPlayerData.name;&#xD;
		npcTown.update();&#xD;
		&#xD;
		// Update the player&#xD;
		targetPlayerData.isSteward = true;&#xD;
		targetPlayerData.npcTownName = town.getName();&#xD;
		targetPlayerData.update();&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now the Steward of &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has assigned you as the Steward of &quot; + town.getCodedName() + &quot;.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4LdIJUEeGsv772wTim0Q" name="list" specification="_Auij0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4LdYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4LdoJUEeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>ArrayList&lt;NPCTown> npcTowns = plugin.towns.getAllNPCTowns();&#xD;
		&#xD;
		// TODO: Implement page # functionality &#xD;
		&#xD;
		plugin.message.send(player, &quot;List of all NPC Towns:&quot;);&#xD;
		for( NPCTown town : npcTowns )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;   &quot; + town.getCodedName() + &quot; &quot; + ChatColor.YELLOW + town.getQuadrant().toString() + &#xD;
					 &quot; (&quot; + town.townLevel.name + &quot;) &quot; +&#xD;
					 town.getNPCLocations().size() + ChatColor.WHITE + &quot; locations&quot;);&#xD;
		}&#xD;
		return;&#xD;
	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlO20IJUEeGsv772wTim0Q" name="NPCTownCommands" method="_A_29UIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlO20oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlO204JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlO20YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlPd4IJUEeGsv772wTim0Q" type="_AbVT8IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AufggIJUEeGsv772wTim0Q" name="onNPCTownCommand" method="_A_29U4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AufggYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AufggoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aufgg4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AufghIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AufghYJUEeGsv772wTim0Q" name="allow" visibility="private" method="_A_29WIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AugHkIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AugHkYJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AugHkoJUEeGsv772wTim0Q" name="create" visibility="private" method="_A_29W4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AugHk4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AugHlIJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AugHlYJUEeGsv772wTim0Q" name="raceString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AugHloJUEeGsv772wTim0Q" name="coords">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuguoIJUEeGsv772wTim0Q" name="disallow" visibility="private" method="_A_3kYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuguoYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuguooJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Auguo4JUEeGsv772wTim0Q" name="info" method="_A_3kY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AugupIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AugupYJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuhVsIJUEeGsv772wTim0Q" name="newloc" visibility="private" method="_A_3kZoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuhVsYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AuhVsoJUEeGsv772wTim0Q" name="newphrase" visibility="private" method="_A_3kaIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuhVs4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuhVtIJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AuhVtYJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Auh8wYJUEeGsv772wTim0Q" name="resident" visibility="private" method="_A_3kbIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Auh8woJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Auh8w4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Auh8xIJUEeGsv772wTim0Q" name="gender">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Auh8xYJUEeGsv772wTim0Q" name="setsteward" visibility="private" method="_A_4LcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Auh8xoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Auij0IJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Auij0YJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Auij0oJUEeGsv772wTim0Q" name="list" method="_A_4LdIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Auij04JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Auij1IJUEeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbZlYIJUEeGsv772wTim0Q" name="PermitCommands">
              <ownedAttribute xmi:id="_A2_8QIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBcRsoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A2_8QoJUEeGsv772wTim0Q" name="DEFAULT_LENGTH" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A2_8Q4JUEeGsv772wTim0Q" value="7"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4Ld4JUEeGsv772wTim0Q" name="PermitCommands" specification="_AlQsAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4LeIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4LeYJUEeGsv772wTim0Q" type="_AbZlYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4LeoJUEeGsv772wTim0Q" name="onCommand" specification="_AujK4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4Le4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4LfIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4LfYJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_4LfoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Permit commands: &lt;required> [optional]&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /permit capitol &lt;player_name>   (edit city infrastructure)&quot;);	&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;capitol&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.capitol(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /permit capitol &lt;player_name>&quot;); &#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /permit to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4ygIJUEeGsv772wTim0Q" name="capitol" specification="_Aujx8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4ygYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4ygoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		&#xD;
		// Make sure the player has permission to perform this command&#xD;
		if( !RageMod.perms.has(player, &quot;ragemod.permit.capitol&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// All checks have succeeded - assign the permit&#xD;
		plugin.database.playerQueries.grantPermit(playerData.id_Player, targetPlayerData.id_Player, &quot;CAPITOL&quot;, DEFAULT_LENGTH);&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.permits.capitol = true;&#xD;
		&#xD;
		// Notify both players&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; has been granted a one-week permit to build in the city.&quot;);&#xD;
		Player targetPlayer = plugin.getServer().getPlayer(targetPlayerData.name);&#xD;
		if( targetPlayer != null &amp;&amp; targetPlayer.isOnline() )&#xD;
			plugin.message.parse(targetPlayer, playerData.getCodedName() + &quot; has granted you a one-week permit to build in the city.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlQsAIJUEeGsv772wTim0Q" name="PermitCommands" method="_A_4Ld4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlRTEIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlRTEYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlQsAYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlRTEoJUEeGsv772wTim0Q" type="_AbZlYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AujK4IJUEeGsv772wTim0Q" name="onCommand" method="_A_4LeoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AujK4YJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AujK4oJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AujK44JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Aujx8IJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Aujx8YJUEeGsv772wTim0Q" name="capitol" method="_A_4ygIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aujx8oJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aujx84JUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbbakIJUEeGsv772wTim0Q" name="QuestCommands">
              <ownedAttribute xmi:id="_A3AjUIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBcRtYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4yg4JUEeGsv772wTim0Q" name="QuestCommands" specification="_AlR6IIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4yhIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4yhYJUEeGsv772wTim0Q" type="_AbbakIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4yhoJUEeGsv772wTim0Q" name="onQuestCommand" specification="_AukZAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4yh4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4yiIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4yiYJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_4yioJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if(split.length != 2) &#xD;
		{&#xD;
			plugin.message.send(player, &quot;Quest commands: &quot;);&#xD;
			plugin.message.parse(player, &quot;    /quest abandon (Abandons your current quest)&quot;);&#xD;
			plugin.message.parse(player, &quot;    /quest view    (Views your current quest)&quot;);&#xD;
		}&#xD;
		else if(split[1].equalsIgnoreCase(&quot;abandon&quot;)) &#xD;
		{&#xD;
			if(playerData.activeQuestData.isPlayerOnQuest()) &#xD;
			{&#xD;
				plugin.message.send(player, &quot;Quest &quot; + &#xD;
						playerData.activeQuestData.getQuest().getQuestData().getName() + &#xD;
						&quot; abandoned. You currently have no active quest.&quot;);&#xD;
				playerData.activeQuestData.endQuest();&#xD;
			} &#xD;
			else&#xD;
				plugin.message.sendNo(player, &quot;ERROR: You're not currently on a quest.&quot;);&#xD;
		} &#xD;
		else if(split[1].equalsIgnoreCase(&quot;view&quot;))&#xD;
		{&#xD;
			if(playerData.activeQuestData.isPlayerOnQuest())&#xD;
			{&#xD;
				plugin.message.send(player, &quot;Active quest: &quot; + playerData.activeQuestData.getQuest().getQuestData().getName());&#xD;
				plugin.message.send(player, &quot;Quest text: &quot;);&#xD;
				plugin.message.send(player, playerData.activeQuestData.getQuest().getQuestData().getStartText());&#xD;
				&#xD;
			}&#xD;
			else &#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;ERROR: You're not currently on a quest.&quot;);&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlR6IIJUEeGsv772wTim0Q" name="QuestCommands" method="_A_4yg4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlR6IoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlR6I4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlR6IYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlR6JIJUEeGsv772wTim0Q" type="_AbbakIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AukZAIJUEeGsv772wTim0Q" name="onQuestCommand" method="_A_4yhoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AukZAYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AukZAoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AukZA4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AukZBIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AbcosIJUEeGsv772wTim0Q" name="TownCommands">
              <ownedAttribute xmi:id="_A3AjUoJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BBc4wYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_4yi4JUEeGsv772wTim0Q" name="TownCommands" specification="_AlTvUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_4yjIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_4yjYJUEeGsv772wTim0Q" type="_AbcosIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_5ZkIJUEeGsv772wTim0Q" name="onTownCommand" specification="_AulAEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_5ZkYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5ZkoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5Zk4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_5ZlIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 || split.length > 3 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Town commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town add &lt;player_name>   (adds a new resident)&quot;);&#xD;
			if( playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town create [town_name]   (creates a new town)&quot;);&#xD;
			if( !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town deposit &lt;amount>   (deposits into town treasury)&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;))&#xD;
				plugin.message.parse(player, &quot;   /town evict &lt;player_name>   (removes a resident)&quot;);&#xD;
			if( playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town info &lt;town_name>   (gives info on selected town)&quot;);&#xD;
			else&#xD;
				plugin.message.parse(player, &quot;   /town info [town_name]   (gives info on selected town)&quot;);&#xD;
			if( !playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town leave   (leaves your current town)&quot;);&#xD;
			if( true )&#xD;
				plugin.message.parse(player, &quot;   /town list [npc/faction]   (lists all towns in the world)&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town minimum &lt;amount>   (sets the min. treasury balance)&quot;);&#xD;
			if( playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town residents &lt;town_name>   (lists all residents of town)&quot;);&#xD;
			else&#xD;
				plugin.message.parse(player, &quot;   /town residents [town_name]   (lists all residents of town)&quot;);&#xD;
			if( playerData.isMayor &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town upgrade [confirm]   (upgrades your town)&quot;);&#xD;
			if( !playerData.townName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, &quot;   /town withdrawl &lt;amount>   (withdrawls from town treasury)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;add&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
 			this.add(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town add &lt;player_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;create&quot;) )&#xD;
		{&#xD;
	&#xD;
			// TODO: Support 2+ word town names&#xD;
			&#xD;
			if( split.length == 2 )&#xD;
				this.create(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.create(player, split[2]); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town create [town_name] (use 'quotes' for multiple-word town names)&quot;); &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;deposit&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.deposit(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town deposit &lt;amount>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;evict&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.evict(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town evict &lt;player_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;info&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				this.info(player, playerData.townName);&#xD;
			else if( split.length == 3 )&#xD;
				this.info(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town info &lt;town_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;leave&quot;) )&#xD;
		{&#xD;
			this.leave(player); 	 &#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;list&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
				this.list(player, &quot;&quot;);&#xD;
			else if( split.length == 3 )&#xD;
				this.list(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town list [faction]&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;minimum&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.minimum(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town minimum &lt;amount>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;residents&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 &amp;&amp; !playerData.townName.equals(&quot;&quot;) )&#xD;
				this.residents(player, playerData.townName);&#xD;
			else if( split.length == 3 )&#xD;
				this.residents(player, split[2]);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town residents &lt;town_name>&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;upgrade&quot;) )&#xD;
		{&#xD;
			if( split.length == 2 )&#xD;
 			this.upgrade(player, false);&#xD;
 		else if( split.length == 3 &amp;&amp; split[2].equalsIgnoreCase(&quot;confirm&quot;))&#xD;
 			this.upgrade(player, true);&#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town upgrade [confirm]&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;withdrawl&quot;) )&#xD;
		{&#xD;
			if( split.length == 3 )&#xD;
				this.withdrawl(player, split[2]); &#xD;
 		else&#xD;
 			plugin.message.parse(player, &quot;Usage: /town withdrawl &lt;amount>&quot;);&#xD;
		}&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /town to see a list of available commands.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_5ZlYJUEeGsv772wTim0Q" name="add" specification="_AulAFYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_5ZloJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5Zl4JUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerTown == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only town mayors can use '/town add'.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the target player is not currently a resident of a town&#xD;
		if( !targetPlayerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; is already a resident of '&quot; + playerTown.getCodedName() + &quot;'.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the target player is the same faction as the mayor&#xD;
		if( playerData.id_Faction != targetPlayerData.id_Faction )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You can only add players that are the same faction as you.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		if( playerTown.isFull() )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Your town already has the maximum number of residents for its level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Add the target to the player's town&#xD;
		plugin.database.townQueries.townAdd(targetPlayerName, playerData.townName);&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.townName = playerData.townName;&#xD;
		// This will give the player's balance back if they were a previous resident of the town&#xD;
		targetPlayerData.treasuryBalance = plugin.database.playerQueries.getPlayerTreasuryBalance(targetPlayerData.id_Player, playerTown.getID());&#xD;
		&#xD;
		playerTown.residents.add(targetPlayerData.name);&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is now a resident of &quot; + playerTown.getCodedName() + &quot;.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_5ZmIJUEeGsv772wTim0Q" name="create" specification="_AulnIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_5ZmYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5ZmoJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		HashMap&lt;String, Integer> nearbyTowns = plugin.towns.checkForNearbyTowns(player.getLocation());&#xD;
		int cost = plugin.config.townLevels.get(1).initialCost;&#xD;
&#xD;
		// Ensure that the player is not currently a resident of a town&#xD;
		if( !playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You are already a resident of '&quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot;'; you must use '/town leave' before you can create a new town.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the town name is not taken&#xD;
		if( plugin.towns.get(townName) != null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;A town named &quot; + townName + &quot; already exists!&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the current zone is allowed to create towns&#xD;
		if( !plugin.zones.checkPermission(player.getLocation(), Action.TOWN_CREATE) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You cannot create a town in this zone.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check for any towns that are too close to the current point - list all&#xD;
		if( nearbyTowns.size() > 0 )&#xD;
		{&#xD;
			String message = &quot;You are too close to the following towns: &quot;;&#xD;
			for( String nearbyTownName : nearbyTowns.keySet() )&#xD;
			{&#xD;
				message += plugin.towns.get(nearbyTownName).getCodedName() + &quot; (&quot; + nearbyTowns.get(nearbyTownName) + &quot;m) &quot;;&#xD;
			}&#xD;
			plugin.message.parseNo(player, message);&#xD;
			plugin.message.parse(player, &quot;Towns must be a minimum distance of &quot; + plugin.config.Town_MIN_DISTANCE_BETWEEN + &quot;m apart.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Check to see if the player has enough money to join the specified faction&#xD;
		if( !RageMod.econ.has(townName, cost) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You need at least &quot; + RageMod.econ.format(cost) + &quot; to create a &quot; + plugin.config.townLevels.get(1).name + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// TODO: Check against NPC town names&#xD;
		&#xD;
		// Create the town if name selected, otherwise return message&#xD;
		if( !townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			// Add the new town to the database&#xD;
			int townID = plugin.database.townQueries.townCreate(player, townName);&#xD;
			&#xD;
			// Update PlayerTowns&#xD;
			PlayerTown playerTown = new PlayerTown(plugin, townID, townName, player.getWorld());&#xD;
			playerTown.centerPoint = player.getLocation();&#xD;
					&#xD;
			playerTown.id_Faction = playerData.id_Faction;&#xD;
			playerTown.bankruptDate = null;&#xD;
			playerTown.townLevel = plugin.config.townLevels.get(1);&#xD;
			playerTown.treasuryBalance = plugin.config.townLevels.get(1).minimumBalance;&#xD;
			playerTown.minimumBalance = plugin.config.townLevels.get(1).minimumBalance;&#xD;
			playerTown.mayor = playerData.name;&#xD;
			playerTown.residents.add(playerData.name);&#xD;
			&#xD;
			playerTown.createRegions();&#xD;
			playerTown.build();&#xD;
			&#xD;
			plugin.towns.add(playerTown);&#xD;
			&#xD;
			// Update the playerData&#xD;
			playerData.townName = townName;&#xD;
			playerData.isMayor = true;&#xD;
			playerData.currentTown = playerTown;&#xD;
			playerData.treasuryBalance = cost;&#xD;
			&#xD;
			// Subtract from player balance&#xD;
			RageMod.econ.bankWithdraw(townName, cost);&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Congratulations, you are the new mayor of &quot; + playerTown.getCodedName() + &quot;!&quot;);		&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;This location is valid for a new town - to create one for &quot; + RageMod.econ.format(cost) + &quot;, type '/town create &lt;town_name>'&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_5Zm4JUEeGsv772wTim0Q" name="deposit" specification="_AulnI4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_5ZnIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5ZnYJUEeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		double amount;&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Make sure the player is a resident of a town&#xD;
		if( playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only town residents can use the deposit command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the typed amount is a valid number&#xD;
		try&#xD;
		{&#xD;
			amount = Double.parseDouble(amountString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the amount is greater than 0 (no sneaky withdrawls!)&#xD;
		if( amount &lt;= 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;	&#xD;
		}&#xD;
		// Make sure the player has enough money to make the deposit&#xD;
		if( !RageMod.econ.has(amountString, amount) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You don't have enough money!&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Subtract the amount from the player's balance&#xD;
		RageMod.econ.bankWithdraw(amountString, amount);&#xD;
		&#xD;
		// Update the database&#xD;
		plugin.database.townQueries.townDeposit(playerTown.getID(), playerData.id_Player, amount);&#xD;
		&#xD;
		// Update the town data&#xD;
		playerTown.treasuryBalance += amount; &#xD;
		plugin.towns.add(playerTown);&#xD;
		&#xD;
		// Update the player data&#xD;
		playerData.treasuryBalance += amount;&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Deposited &quot; + RageMod.econ.format(amount) + &quot; into town treasury.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_5ZnoJUEeGsv772wTim0Q" name="evict" specification="_AumOMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_5Zn4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5ZoIJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerData targetPlayerData = plugin.players.get(targetPlayerName);&#xD;
		&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only town mayors can use /town evict.&quot;);&#xD;
			return;&#xD;
		}	&#xD;
		// Check to see if target player exists&#xD;
		if( targetPlayerData == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Player &quot; + targetPlayerName + &quot; does not exist.&quot;);&#xD;
			return;&#xD;
		}	&#xD;
		// Ensure that the target player is a resident of the mayor's town&#xD;
		if( !targetPlayerData.townName.equals(playerData.townName) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, targetPlayerData.getCodedName() + &quot; is not a resident of &quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Remove the target from the player's town&#xD;
		plugin.database.townQueries.townLeave(targetPlayerName);&#xD;
		&#xD;
		// TODO: This causes two updates to the same table in the database.  Expand updatePlayer() to include town info&#xD;
		&#xD;
		// Update the playerData&#xD;
		targetPlayerData.townName = &quot;&quot;;&#xD;
		targetPlayerData.clearSpawn();&#xD;
		targetPlayerData.logonMessageQueue += &quot;You have been evicted from &quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot; by &quot; + &#xD;
				playerData.getCodedName() + &quot;.&lt;br>&quot;;&#xD;
		targetPlayerData.update();&#xD;
		&#xD;
		plugin.message.parse(player, targetPlayerData.getCodedName() + &quot; is no longer a resident of &quot; + plugin.towns.get(playerData.townName).getCodedName() + &quot;.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_5ZoYJUEeGsv772wTim0Q" name="info" specification="_AumOM4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_5ZooJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_5Zo4JUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
		Town town = plugin.towns.get(townName);&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( town == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		if( town instanceof PlayerTown )&#xD;
		{&#xD;
			PlayerTown playerTown = (PlayerTown)town;&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Info for &quot; + playerTown.getCodedName() + &quot;:&quot;);&#xD;
			plugin.message.parse(player, &quot;   Faction: &quot; + plugin.factions.getName(playerTown.id_Faction));&#xD;
			plugin.message.parse(player, &quot;   Level: &quot; + playerTown.getLevel().name + &quot; (&quot; + playerTown.townLevel.level + &quot;)&quot;);&#xD;
			plugin.message.parse(player, &quot;   Mayor: &quot; + plugin.players.get(playerTown.mayor).getCodedName());&#xD;
			if( playerData.townName.equalsIgnoreCase(townName) )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   Total Balance: &quot; + RageMod.econ.format(playerTown.treasuryBalance));&#xD;
				plugin.message.parse(player, &quot;   Minimum Balance:  &quot; + RageMod.econ.format(playerTown.minimumBalance));&#xD;
				plugin.message.parse(player, &quot;   Your Balance:  &quot; + RageMod.econ.format(playerData.treasuryBalance));&#xD;
			}&#xD;
		}&#xD;
		else if( town instanceof NPCTown )&#xD;
		{&#xD;
			plugin.message.parseNo(player, town.getCodedName() + &quot; is an NPCTown (use /npctown info).&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6AoIJUEeGsv772wTim0Q" name="leave" specification="_Aum1QYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6AoYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String townName = playerData.townName;&#xD;
&#xD;
		// Ensure that the player is currently a resident of a town&#xD;
		if( townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;You do not have a town to leave.&quot;);&#xD;
			return;&#xD;
		}		&#xD;
		// Ensure that the player is not the mayor&#xD;
		if( playerData.isMayor )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Town mayors cannot use '/town leave'; contact an admin to shut down your town.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Remove the player from the town in the database&#xD;
		plugin.database.townQueries.townLeave(playerData.name);&#xD;
		&#xD;
		// Update the playerData&#xD;
		playerData.townName = &quot;&quot;;&#xD;
		playerData.isMayor = false;&#xD;
		playerData.clearSpawn();&#xD;
		playerData.treasuryBalance = 0;&#xD;
		&#xD;
		plugin.message.parse(player, &quot;You are no longer a resident of &quot; + plugin.towns.get(townName).getCodedName() + &quot;.&quot;);		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6AooJUEeGsv772wTim0Q" name="list" specification="_Aum1Q4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6Ao4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_6ApIJUEeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>ArrayList&lt;PlayerTown> playerTowns = plugin.towns.getAllPlayerTowns();&#xD;
		&#xD;
		// TODO: Implement page # functionality &#xD;
		&#xD;
		// Sorts the towns by level&#xD;
		Collections.sort(playerTowns);&#xD;
		&#xD;
		if( factionName.equals(&quot;&quot;) )&#xD;
			plugin.message.parse(player, &quot;List of all player towns: (&quot; + playerTowns.size() + &quot;)&quot;);&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;List of all towns for &quot; + factionName + &quot; faction:&quot;);&#xD;
		&#xD;
		for( PlayerTown town : playerTowns )&#xD;
		{&#xD;
			if( plugin.factions.getName(town.id_Faction).equalsIgnoreCase(factionName) || factionName.equals(&quot;&quot;) )&#xD;
				plugin.message.parse(player, town.getCodedName() + &quot; (&quot; + town.getLevel().name + &quot;)&quot;);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6ApYJUEeGsv772wTim0Q" name="minimum" specification="_AuncUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6ApoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_6Ap4JUEeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		double amount;&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only town mayors can use /town minimum.&quot;);&#xD;
			return;&#xD;
		}	&#xD;
		// Ensure that the typed amount is a valid number&#xD;
		try&#xD;
		{&#xD;
			amount = Double.parseDouble(amountString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the amount is greater than 0&#xD;
		if( amount &lt;= 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;	&#xD;
		}&#xD;
		// Make sure the amount is not lower than the server-defined minimum balances&#xD;
		if( amount &lt; playerTown.townLevel.minimumBalance )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;The lowest minimum balance allowed for a &quot; + playerTown.townLevel.name + &quot; is &quot; + &#xD;
								RageMod.econ.format(playerTown.townLevel.minimumBalance) + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Update the database&#xD;
		plugin.database.townQueries.townSetMinimumBalance(playerTown.getID(), amount);&#xD;
		&#xD;
		// Update the town data&#xD;
		playerTown.minimumBalance = amount; &#xD;
		plugin.towns.add(playerTown);&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Your town's treasury minimum balance is now &quot; + RageMod.econ.format(amount) + &quot;.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6AqIJUEeGsv772wTim0Q" name="residents" specification="_AuncU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6AqYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_6AqoJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerTown playerTown = (PlayerTown)plugin.towns.get(townName);&#xD;
		boolean isMayor = true;&#xD;
		&#xD;
		// Check to see if specified town exists&#xD;
		if( playerTown == null )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;The town '&quot; + townName + &quot;' does not exist.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Residents of &quot; + playerTown.getCodedName() + &quot;:&quot;);&#xD;
		&#xD;
		for( String resident : playerTown.residents )&#xD;
		{&#xD;
			if( isMayor )&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   &quot; + plugin.players.get(resident).getCodedName() + &quot; (mayor)&quot;);&#xD;
				isMayor = false;&#xD;
			}&#xD;
			else&#xD;
			{&#xD;
				plugin.message.parse(player, &quot;   &quot; + plugin.players.get(resident).getCodedName());&#xD;
			}&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6Aq4JUEeGsv772wTim0Q" name="upgrade" specification="_AuoDYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6ArIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_6ArYJUEeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Ensure that the current player is the mayor&#xD;
		if( !playerData.isMayor || playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;Only town mayors can use '/town upgrade'.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the town is not at its maximum level&#xD;
		if( playerTown.isAtMaxLevel() )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Your town is already at its maximum level.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Load the data for the target town level&#xD;
		TownLevel targetLevel = plugin.config.townLevels.get(playerTown.townLevel.level + 1);&#xD;
		&#xD;
		// If the upgrade would make the current town a capitol...&#xD;
		if( targetLevel.isCapitol )&#xD;
		{&#xD;
			// ...check to see if the player's faction already has a capitol...&#xD;
			if( plugin.towns.doesFactionCapitolExist(playerData.id_Faction) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Your faction already has a capitol; your town cannot be upgraded further.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			// ...and make sure it is not too close to enemy capitols.&#xD;
			if( plugin.towns.areEnemyCapitolsTooClose(playerTown) )&#xD;
			{&#xD;
				plugin.message.sendNo(player, &quot;Your town is ineligible to be your faction's capitol; it is too close to an enemy capitol.&quot;);&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		// Check treasury balance&#xD;
		if( playerTown.treasuryBalance &lt; targetLevel.initialCost )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You need at least &quot; + RageMod.econ.format(targetLevel.initialCost) + &quot; in your treasury to upgrade your town to a &quot; + targetLevel.name + &quot;.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Make the updates if confirm was typed&#xD;
		if( isConfirmed ) &#xD;
		{&#xD;
			// Update PlayerTowns; subtract balance from treasury; also add minimum balance&#xD;
			playerTown.townLevel = plugin.config.townLevels.get(playerTown.townLevel.level + 1);&#xD;
			playerTown.treasuryBalance = playerTown.treasuryBalance - targetLevel.initialCost + targetLevel.minimumBalance;&#xD;
			playerTown.minimumBalance = targetLevel.minimumBalance;&#xD;
			playerTown.createRegions();&#xD;
			playerTown.build();&#xD;
			plugin.towns.add(playerTown);&#xD;
			&#xD;
			plugin.database.townQueries.townUpgrade(playerTown.getName(), (targetLevel.initialCost - targetLevel.minimumBalance));&#xD;
			&#xD;
			plugin.message.parse(player, &quot;Congratulations, &quot; + playerTown.getCodedName() + &quot; has been upgraded to a &quot; + targetLevel.name + &quot;!&quot;);&#xD;
			plugin.message.parse(player, &quot; &quot; + RageMod.econ.format(targetLevel.initialCost) + &quot; has been deducted from the town treasury.&quot;);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Your town is ready to be upgraded to a &quot; + targetLevel.name + &quot; for &quot; + RageMod.econ.format(targetLevel.initialCost) + &#xD;
					&quot;; type '/town upgrade confirm' to complete the upgrade.&quot;);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_6AroJUEeGsv772wTim0Q" name="withdrawl" specification="_AuoDY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A_6Ar4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A_6AsIJUEeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		double amount;&#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(playerData.townName);&#xD;
		&#xD;
		// Make sure the player is a resident of a town&#xD;
		if( playerData.townName.equals(&quot;&quot;) )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Only town residents can use the deposit command.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the typed amount is a valid number&#xD;
		try&#xD;
		{&#xD;
			amount = Double.parseDouble(amountString);&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Ensure that the amount is greater than 0&#xD;
		if( amount &lt;= 0 )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Invalid amount.&quot;);&#xD;
			return;	&#xD;
		}&#xD;
		// Make sure the player has a high enough balance to make the withdrawl&#xD;
		if( playerData.treasuryBalance &lt; amount )&#xD;
		{&#xD;
			plugin.message.parseNo(player, &quot;You only have &quot; + RageMod.econ.format(playerData.treasuryBalance) + &quot; in the treasury.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		// Make sure the withdrawl wouldn't put the town below its minimum balance&#xD;
		if( playerTown.treasuryBalance - amount &lt; playerTown.minimumBalance )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;This transaction would put the town below its minimum balance.&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// Add the amount to the player's balance&#xD;
		RageMod.econ.bankDeposit(amountString, amount);&#xD;
		&#xD;
		// Update the database&#xD;
		plugin.database.townQueries.townDeposit(playerTown.getID(), playerData.id_Player, (amount * -1));&#xD;
		&#xD;
		// Update the town data&#xD;
		playerTown.treasuryBalance -= amount; &#xD;
		plugin.towns.add(playerTown);&#xD;
		&#xD;
		// Update the player data&#xD;
		playerData.treasuryBalance -= amount;&#xD;
		&#xD;
		plugin.message.parse(player, &quot;Withdrew &quot; + RageMod.econ.format(amount) + &quot; from town treasury.&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AlTvUIJUEeGsv772wTim0Q" name="TownCommands" method="_A_4yi4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AlTvUoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AlTvU4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_AlTvUYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AlTvVIJUEeGsv772wTim0Q" type="_AbcosIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AulAEIJUEeGsv772wTim0Q" name="onTownCommand" method="_A_5ZkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AulAEYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AulAEoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AulAE4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AulAFIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AulAFYJUEeGsv772wTim0Q" name="add" method="_A_5ZlYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AulAFoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AulAF4JUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AulnIIJUEeGsv772wTim0Q" name="create" method="_A_5ZmIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AulnIYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AulnIoJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AulnI4JUEeGsv772wTim0Q" name="deposit" method="_A_5Zm4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AulnJIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AulnJYJUEeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AumOMIJUEeGsv772wTim0Q" name="evict" method="_A_5ZnoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AumOMYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AumOMoJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AumOM4JUEeGsv772wTim0Q" name="info" method="_A_5ZoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AumONIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aum1QIJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Aum1QYJUEeGsv772wTim0Q" name="leave" method="_A_6AoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aum1QoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aum1Q4JUEeGsv772wTim0Q" name="list" method="_A_6AooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aum1RIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Aum1RYJUEeGsv772wTim0Q" name="factionName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuncUIJUEeGsv772wTim0Q" name="minimum" method="_A_6ApYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuncUYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuncUoJUEeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuncU4JUEeGsv772wTim0Q" name="residents" method="_A_6AqIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuncVIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuncVYJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuoDYIJUEeGsv772wTim0Q" name="upgrade" method="_A_6Aq4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuoDYYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuoDYoJUEeGsv772wTim0Q" name="isConfirmed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AuoDY4JUEeGsv772wTim0Q" name="withdrawl" method="_A_6AroJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AuoDZIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AuoDZYJUEeGsv772wTim0Q" name="amountString">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBZOZIJUEeGsv772wTim0Q" name="" memberEnd="_BBZOZYJUEeGsv772wTim0Q _A27q0YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBZOZYJUEeGsv772wTim0Q" name="" type="_Aa4A8IJUEeGsv772wTim0Q" association="_BBZOZIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBZ1cIJUEeGsv772wTim0Q" name="" memberEnd="_BBZ1cYJUEeGsv772wTim0Q _A28R4YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBZ1cYJUEeGsv772wTim0Q" name="" type="_Aa4A8IJUEeGsv772wTim0Q" association="_BBZ1cIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBZ1c4JUEeGsv772wTim0Q" name="" memberEnd="_BBZ1dIJUEeGsv772wTim0Q _A28R44JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBZ1dIJUEeGsv772wTim0Q" name="" type="_Aa4A8IJUEeGsv772wTim0Q" association="_BBZ1c4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBZ1doJUEeGsv772wTim0Q" name="" memberEnd="_BBZ1d4JUEeGsv772wTim0Q _A28R5YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBZ1d4JUEeGsv772wTim0Q" name="" type="_Aa4A8IJUEeGsv772wTim0Q" association="_BBZ1doJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBacgYJUEeGsv772wTim0Q" name="" memberEnd="_BBacgoJUEeGsv772wTim0Q _A28484JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBacgoJUEeGsv772wTim0Q" name="" type="_Aa8SYIJUEeGsv772wTim0Q" association="_BBacgYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBachIJUEeGsv772wTim0Q" name="" memberEnd="_BBachYJUEeGsv772wTim0Q _A29gAIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBachYJUEeGsv772wTim0Q" name="" type="_Aa_8wIJUEeGsv772wTim0Q" association="_BBachIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBbDkIJUEeGsv772wTim0Q" name="" memberEnd="_BBbDkYJUEeGsv772wTim0Q _A29gAoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBbDkYJUEeGsv772wTim0Q" name="" type="_AbCZAIJUEeGsv772wTim0Q" association="_BBbDkIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBbDk4JUEeGsv772wTim0Q" name="" memberEnd="_BBbDlIJUEeGsv772wTim0Q _A2-HEYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBbDlIJUEeGsv772wTim0Q" name="" type="_AbGqcIJUEeGsv772wTim0Q" association="_BBbDk4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBbDloJUEeGsv772wTim0Q" name="" memberEnd="_BBbDl4JUEeGsv772wTim0Q _A2-uIIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBbDl4JUEeGsv772wTim0Q" name="" type="_AbJGsIJUEeGsv772wTim0Q" association="_BBbDloJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBbqoYJUEeGsv772wTim0Q" name="" memberEnd="_BBbqooJUEeGsv772wTim0Q _A2-uIoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBbqooJUEeGsv772wTim0Q" name="" type="_AbNYIIJUEeGsv772wTim0Q" association="_BBbqoYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBbqpIJUEeGsv772wTim0Q" name="" memberEnd="_BBbqpYJUEeGsv772wTim0Q _A2_VMIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBbqpYJUEeGsv772wTim0Q" name="" type="_AbNYIIJUEeGsv772wTim0Q" association="_BBbqpIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBbqp4JUEeGsv772wTim0Q" name="" memberEnd="_BBcRsIJUEeGsv772wTim0Q _A2_VMYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBcRsIJUEeGsv772wTim0Q" name="" type="_AbVT8IJUEeGsv772wTim0Q" association="_BBbqp4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBcRsoJUEeGsv772wTim0Q" name="" memberEnd="_BBcRs4JUEeGsv772wTim0Q _A2_8QIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBcRs4JUEeGsv772wTim0Q" name="" type="_AbZlYIJUEeGsv772wTim0Q" association="_BBcRsoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBcRtYJUEeGsv772wTim0Q" name="" memberEnd="_BBcRtoJUEeGsv772wTim0Q _A3AjUIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBcRtoJUEeGsv772wTim0Q" name="" type="_AbbakIJUEeGsv772wTim0Q" association="_BBcRtYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BBc4wYJUEeGsv772wTim0Q" name="" memberEnd="_BBc4woJUEeGsv772wTim0Q _A3AjUoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BBc4woJUEeGsv772wTim0Q" name="" type="_AbcosIJUEeGsv772wTim0Q" association="_BBc4wYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_D_XbYIJUEeGsv772wTim0Q" name="RageCommands">
              <ownedAttribute xmi:id="_EFZx8oJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGpIEIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46IIJUEeGsv772wTim0Q" name="RageCommands" specification="_ECirMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF46IYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF46IoJUEeGsv772wTim0Q" type="_D_XbYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46I4JUEeGsv772wTim0Q" name="onCommand" specification="_ECjSQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF46JIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF46JYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF46JoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EF46J4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>if( split.length &lt; 2 )&#xD;
		{&#xD;
			plugin.message.parse(player, &quot;Rage commands: &lt;required> [optional]&quot;);&#xD;
			if( playerData.isSteward )&#xD;
				plugin.message.parse(player, &quot;   /rage addphrase &lt;phrase> (adds a new NPC phrase)&quot;);&#xD;
		}&#xD;
		else if( split[1].equalsIgnoreCase(&quot;addphrase&quot;) )&#xD;
		{&#xD;
			if( split.length > 2 )&#xD;
				this.addphrase(player, split); &#xD;
			else&#xD;
 			plugin.message.parse(player, &quot;Usage: /rage addphrase &lt;phrase>&quot;); &#xD;
		}&#xD;
		&#xD;
		else&#xD;
			plugin.message.parse(player, &quot;Type /npctown to see a list of available commands.&quot;);&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF46KIJUEeGsv772wTim0Q" name="addphrase" specification="_ECjSRYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EF46KYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EF46KoJUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EF46K4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
		String message = new String();&#xD;
		&#xD;
		try&#xD;
		{&#xD;
			// Pull the phrase out of the string&#xD;
			for( int i = 2; i &lt; split.length; i++ )&#xD;
				message += split[i] + &quot; &quot;;&#xD;
			&#xD;
			if( plugin.database.npcQueries.submitPhrase(null, playerData, message) )&#xD;
				plugin.message.send(player, &quot;Phrase submitted for approval.&quot;);&#xD;
			else&#xD;
				plugin.message.send(player, &quot;Error submitting phrase.&quot;);&#xD;
			&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			plugin.message.sendNo(player, &quot;Error: &quot; + ex.getMessage());&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_ECirMIJUEeGsv772wTim0Q" name="RageCommands" method="_EF46IIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECirMoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECirM4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ECirMYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECirNIJUEeGsv772wTim0Q" type="_D_XbYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ECjSQIJUEeGsv772wTim0Q" name="onCommand" method="_EF46I4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECjSQYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECjSQoJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECjSQ4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ECjSRIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ECjSRYJUEeGsv772wTim0Q" name="addphrase" visibility="private" method="_EF46KIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ECjSRoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ECjSR4JUEeGsv772wTim0Q" name="split">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ECjSSIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGpIEIJUEeGsv772wTim0Q" name="" memberEnd="_EGpIEYJUEeGsv772wTim0Q _EFZx8oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGpIEYJUEeGsv772wTim0Q" name="" type="_D_XbYIJUEeGsv772wTim0Q" association="_EGpIEIJUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AXTvkIJUEeGsv772wTim0Q" name="RageZones">
            <packagedElement xmi:type="uml:Class" xmi:id="_EClHcIJUEeGsv772wTim0Q" name="Zone"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AXWL0IJUEeGsv772wTim0Q" name="utilities">
            <packagedElement xmi:type="uml:Class" xmi:id="_AenRcIJUEeGsv772wTim0Q" name="Simple_Quicksort">
              <ownedAttribute xmi:id="_A_bfgYJUEeGsv772wTim0Q" name="a" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_bfgoJUEeGsv772wTim0Q" value="*"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAdaQ4JUEeGsv772wTim0Q" name="Simple_Quicksort" specification="_Aen4gIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAdaRIJUEeGsv772wTim0Q" type="_AenRcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.a = new int[0];&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAdaRYJUEeGsv772wTim0Q" name="exchange" specification="_Aen4hIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAdaRoJUEeGsv772wTim0Q" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAdaR4JUEeGsv772wTim0Q" name="j">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>int t = a[i];&#xD;
		a[i] = a[j];&#xD;
		a[j] = t;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAdaSIJUEeGsv772wTim0Q" name="quicksort" specification="_AeofkoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAdaSYJUEeGsv772wTim0Q" name="low">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAdaSoJUEeGsv772wTim0Q" name="high">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>int i = low, j = high;&#xD;
		int x = a[(low + high) >>> 1];&#xD;
		while (i &lt;= j) {&#xD;
			while (a[i] &lt; x) {&#xD;
				i++;&#xD;
			}&#xD;
			while (a[j] > x) {&#xD;
				j--;&#xD;
			}&#xD;
			if (i &lt;= j) {&#xD;
				exchange(i, j);&#xD;
				i++;&#xD;
				j--;&#xD;
			}&#xD;
		}&#xD;
		if (low &lt; j) {&#xD;
			quicksort(low, j);&#xD;
		}&#xD;
		if (i &lt; high) {&#xD;
			quicksort(i, high);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAdaS4JUEeGsv772wTim0Q" name="sort" specification="_AepGoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeBUIJUEeGsv772wTim0Q" name="k">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BAeBUYJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAeBUoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BAeBU4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>this.a = k.clone();&#xD;
		quicksort(0, a.length - 1);&#xD;
		return a.clone();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Aen4gIJUEeGsv772wTim0Q" name="Simple_Quicksort" method="_BAdaQ4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Aen4gYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Aen4goJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Aen4g4JUEeGsv772wTim0Q" type="_AenRcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Aen4hIJUEeGsv772wTim0Q" name="exchange" visibility="private" method="_BAdaRYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AeofkIJUEeGsv772wTim0Q" name="i">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AeofkYJUEeGsv772wTim0Q" name="j">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AeofkoJUEeGsv772wTim0Q" name="quicksort" visibility="private" method="_BAdaSIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aeofk4JUEeGsv772wTim0Q" name="low">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AeoflIJUEeGsv772wTim0Q" name="high">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AepGoIJUEeGsv772wTim0Q" name="sort" method="_BAdaS4JUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAt484JUEeGsv772wTim0Q">
                  <body>&#xD;
	 * Ein einfach Quicksort&#xD;
	 * &#xD;
	 * @param a&#xD;
	 *            das zu sortierende Array&#xD;
	 * @return das sortierte Array</body>
                </ownedComment>
                <ownedParameter xmi:id="_AepGoYJUEeGsv772wTim0Q" name="k">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AepGpYJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AepGooJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_AepGo4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AX_sEIJUEeGsv772wTim0Q" name="dbqueries">
            <packagedElement xmi:type="uml:Class" xmi:id="_AdXUQIJUEeGsv772wTim0Q" name="FactionQueries">
              <ownedAttribute xmi:id="_A3lyIIJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_BILy5oJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3lyIYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIMZ8YJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAPX1YJUEeGsv772wTim0Q" name="FactionQueries" specification="_Al160YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAPX1oJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAPX14JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAPX2IJUEeGsv772wTim0Q" type="_AdXUQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAPX2YJUEeGsv772wTim0Q" name="getFactionPopulations" specification="_AdYiYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAPX2oJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashMap&lt;Integer, Integer> populations = new HashMap&lt;Integer, Integer>();&#xD;
		Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
     		&quot;SELECT p.ID_Faction, COUNT(*) as Population FROM Factions f &quot; +&#xD;
     		&quot;INNER JOIN Players p ON p.ID_Faction = f.ID_Faction &quot; +&#xD;
     		&quot;WHERE DATE_SUB(CURDATE(),INTERVAL 30 DAY) &lt;= p.LastLogin &quot; +&#xD;
     		&quot;GROUP BY f.ID_Faction&quot;);&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		populations.put(rs.getInt(&quot;ID_Faction&quot;), rs.getInt(&quot;Population&quot;));       		&#xD;
     	}&#xD;
     	&#xD;
     	// Account for 0 populations&#xD;
     	if( !populations.containsKey(1) )&#xD;
     		populations.put(1, 0);&#xD;
     	if( !populations.containsKey(2) )&#xD;
     		populations.put(2, 0);&#xD;
     	&#xD;
     	&#xD;
     	return populations;&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in FactionQueries.getFactionPopulations(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AdYiYIJUEeGsv772wTim0Q" name="getFactionPopulations" method="_BAPX2YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvXDMIJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Al160YJUEeGsv772wTim0Q" name="FactionQueries" method="_BAPX1YJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Al161IJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Al161YJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Al160oJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al1604JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al161oJUEeGsv772wTim0Q" type="_AdXUQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdZwgIJUEeGsv772wTim0Q" name="LotQueries">
              <ownedComment xmi:id="_BAsDwYJUEeGsv772wTim0Q">
                <body>Contains the lot queries used for database communication.&#xD;
@author Jorgen&#xD;
 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_A3lyIoJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIMZ9IJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3mZMIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIMZ94JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAPX24JUEeGsv772wTim0Q" name="LotQueries" specification="_Al3I8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAPX3IJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAPX3YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAPX3oJUEeGsv772wTim0Q" type="_AdZwgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAP-4IJUEeGsv772wTim0Q" name="getLots" specification="_Ada-oIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAP-4YJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAP-4oJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;  &#xD;
		ArrayList&lt;Lot> playerLots = new ArrayList&lt;Lot>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT ID_Lot FROM Lots WHERE ID_Player = &quot; + id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		playerLots.add(plugin.lots.get(rs.getInt(&quot;ID_Lot&quot;)));	// We already have the lot info in memory; save the DB some work&#xD;
     	}&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.getLots(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return playerLots;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAP-44JUEeGsv772wTim0Q" name="getLotPermissions" specification="_AdblsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAP-5IJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAP-5YJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		ArrayList&lt;String> lotPermissions = new ArrayList&lt;String>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT p.Name as Name FROM LotPermissions lp &quot; +&#xD;
     		&quot;INNER JOIN Players p ON p.ID_Player = lp.ID_Player_Builder &quot; +&#xD;
     		&quot;WHERE lp.ID_Player_Owner = &quot; + id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
         while( rs.next() )&#xD;
     	{&#xD;
     		lotPermissions.add(rs.getString(&quot;Name&quot;));	&#xD;
     	}&#xD;
         return lotPermissions;&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.getLotPermissions(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAP-5oJUEeGsv772wTim0Q" name="loadLots" specification="_AdcMwYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAP-54JUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		HashMap&lt;String, Lot> lots = new HashMap&lt;String, Lot>();&#xD;
		Lot currentLot = null;&#xD;
		int mult = plugin.config.Lot_MULTIPLIER;&#xD;
		World world = plugin.getServer().getWorld(&quot;world&quot;);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
     		&quot;SELECT l.ID_Lot, l.Category, l.Number, IFNULL(p.Name, '') as Owner, l.XCoord, l.ZCoord, &quot; +&#xD;
     		&quot;l.Width, l.Height &quot; +&#xD;
     		&quot;FROM Lots l &quot; +&#xD;
     		&quot;LEFT JOIN Players p ON l.ID_Player = p.ID_Player&quot;);	&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		currentLot = new Lot(plugin);&#xD;
     		&#xD;
     		currentLot.id_Lot = rs.getInt(&quot;ID_Lot&quot;);&#xD;
     		currentLot.setCategory(rs.getString(&quot;Category&quot;));&#xD;
     		currentLot.number = rs.getInt(&quot;Number&quot;);&#xD;
     		currentLot.owner = rs.getString(&quot;Owner&quot;);&#xD;
     		// X and Z are reversed >:(&#xD;
     		currentLot.region = new Region2D(world, &#xD;
     				((rs.getInt(&quot;ZCoord&quot;)-1) * mult) + plugin.config.Lot_X_OFFSET,&#xD;
     				((rs.getInt(&quot;XCoord&quot;)-1) * mult * -1) + plugin.config.Lot_Z_OFFSET,&#xD;
     				((rs.getInt(&quot;ZCoord&quot;)-1) * mult) + plugin.config.Lot_X_OFFSET + (rs.getInt(&quot;Height&quot;) * mult),&#xD;
     				((rs.getInt(&quot;XCoord&quot;)-1) * mult * -1) + plugin.config.Lot_Z_OFFSET - (rs.getInt(&quot;Width&quot;) * mult));&#xD;
 	        &#xD;
     		lots.put(currentLot.getLotCode(), currentLot);	        		&#xD;
     	}&#xD;
     		&#xD;
     	return lots;				&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in RageDB.loadLots(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAP-6IJUEeGsv772wTim0Q" name="lotClaim" specification="_AvXqQ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAP-6YJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAP-6oJUEeGsv772wTim0Q" name="lot" type="_AbsgUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the Lots table to assign the owner&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Lots SET ID_Player = &quot; + playerData.id_Player + &quot;, DateClaimed = NOW() WHERE ID_Lot = &quot; + lot.id_Lot);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.lotClaim(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAP-64JUEeGsv772wTim0Q" name="lotUnclaim" specification="_Al3wA4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAP-7IJUEeGsv772wTim0Q" name="lot" type="_AbsgUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the Lots table to assign the owner&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Lots SET ID_Player = NULL, DateClaimed = NULL WHERE ID_Lot = &quot; + lot.id_Lot);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.LotUnclaim(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAP-7YJUEeGsv772wTim0Q" name="allow" specification="_Adcz0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAP-7oJUEeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAP-74JUEeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO LotPermissions (ID_Player_Owner, ID_Player_Builder) VALUES (&quot; + id_Player_Owner + &quot;, &quot; + id_Player_Builder + &quot;)&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.allow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAQl8IJUEeGsv772wTim0Q" name="disallow" specification="_Adcz04JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAQl8YJUEeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl8oJUEeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			// An ID of 0 indicates all players&#xD;
			if( id_Player_Builder == 0 )&#xD;
 		{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM LotPermissions WHERE ID_Player_Owner = &quot; + id_Player_Owner);&#xD;
 		}&#xD;
			else&#xD;
			{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM LotPermissions WHERE ID_Player_Owner = &quot; + id_Player_Owner + &quot; AND ID_Player_Builder = &quot; + id_Player_Builder);&#xD;
			}&#xD;
			&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.disallow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Ada-oIJUEeGsv772wTim0Q" name="getLots" method="_BAP-4IJUEeGsv772wTim0Q">
                <ownedComment xmi:id="_BAsDwoJUEeGsv772wTim0Q">
                  <body> Make a separate query to get all lots owned by the player</body>
                </ownedComment>
                <ownedParameter xmi:id="_Ada-oYJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvXqQIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdblsIJUEeGsv772wTim0Q" name="getLotPermissions" method="_BAP-44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdblsYJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvXqQYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdcMwYJUEeGsv772wTim0Q" name="loadLots" method="_BAP-5oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvXqQoJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Adcz0IJUEeGsv772wTim0Q" name="allow" method="_BAP-7YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Adcz0YJUEeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Adcz0oJUEeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Adcz04JUEeGsv772wTim0Q" name="disallow" method="_BAQl8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Adcz1IJUEeGsv772wTim0Q" name="id_Player_Owner">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Adcz1YJUEeGsv772wTim0Q" name="id_Player_Builder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Al3I8YJUEeGsv772wTim0Q" name="LotQueries" method="_BAPX24JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Al3wAIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Al3wAYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Al3I8oJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al3I84JUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al3wAoJUEeGsv772wTim0Q" type="_AdZwgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Al3wA4JUEeGsv772wTim0Q" name="lotUnclaim" method="_BAP-64JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Al3wBIJUEeGsv772wTim0Q" name="lot" type="_AbsgUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvXqQ4JUEeGsv772wTim0Q" name="lotClaim" method="_BAP-6IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvXqRIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvXqRYJUEeGsv772wTim0Q" name="lot" type="_AbsgUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdepAIJUEeGsv772wTim0Q" name="NPCTownQueries">
              <ownedAttribute xmi:id="_A3mZMoJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_BINBAYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3mZNIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BINBBIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAQl84JUEeGsv772wTim0Q" name="NPCTownQueries" specification="_Al4-IYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAQl9IJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAQl9YJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAQl9oJUEeGsv772wTim0Q" type="_AdepAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAQl94JUEeGsv772wTim0Q" name="create" specification="_AvYRUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAQl-IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAQl-YJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl-oJUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl-4JUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl_IJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl_YJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl_oJUEeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQl_4JUEeGsv772wTim0Q" name="id_Race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAQmAIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCTowns (Name, XCoordA, ZCoordA, XCoordB, ZCoordB, ID_NPCRace, TownLevel) &quot; +&#xD;
 				&quot;VALUES ('&quot; + name + &quot;', &quot; + x1 + &quot;, &quot; + z1 + &quot;, &quot; + x2 + &quot;, &quot; + z2 + &quot;, &quot; + id_Race + &quot;, &quot; + level + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int townID = rs.getInt(1);&#xD;
 		&#xD;
    		return townID;&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.create(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAQmAYJUEeGsv772wTim0Q" name="loadAll" specification="_Adf3IIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAQmAoJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;String, NPCTown> towns = new HashMap&lt;String, NPCTown>();&#xD;
	    &#xD;
		NPCTown currentTown = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT n.ID_NPCTown, IFNULL(p.Name, '') as Steward, n.Name, n.XCoordA, n.ZCoordA, n.XCoordB, n.ZCoordB, n.ID_NPCRace, n.TownLevel &quot; +&#xD;
				&quot;FROM NPCTowns n &quot; +&#xD;
				&quot;LEFT JOIN Players p ON p.ID_Player = n.ID_Player_Steward&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		currentTown = new NPCTown(plugin, rs.getInt(&quot;ID_NPCTown&quot;), rs.getString(&quot;Name&quot;), plugin.getServer().getWorld(&quot;world&quot;), &#xD;
     									rs.getString(&quot;Steward&quot;));&#xD;
     		currentTown.id_NPCRace = rs.getInt(&quot;ID_NPCRace&quot;);&#xD;
     		currentTown.townLevel = plugin.config.townLevels.get(rs.getInt(&quot;TownLevel&quot;));&#xD;
     		&#xD;
     		currentTown.createRegion((double)rs.getInt(&quot;XCoordA&quot;), (double)rs.getInt(&quot;ZCoordA&quot;),&#xD;
     				(double)rs.getInt(&quot;XCoordB&quot;),(double)rs.getInt(&quot;ZCoordB&quot;));&#xD;
     		&#xD;
     		currentTown.buildPermissions = this.loadBuildPermissions(currentTown.getID());&#xD;
     		&#xD;
     		towns.put(currentTown.getName().toLowerCase(), currentTown);&#xD;
     	}			&#xD;
     	&#xD;
     	return towns;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.loadAll(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BARNAIJUEeGsv772wTim0Q" name="loadBuildPermissions" specification="_AdgeMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BARNAYJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BARNAoJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		ArrayList&lt;String> buildPermissions = new ArrayList&lt;String>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT p.Name as Name FROM NPCTownPermissions np &quot; +&#xD;
     		&quot;INNER JOIN Players p ON p.ID_Player = np.ID_Player &quot; +&#xD;
     		&quot;WHERE np.ID_NPCTown = &quot; + id_NPCTown;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
         while( rs.next() )&#xD;
     	{&#xD;
         	buildPermissions.add(rs.getString(&quot;Name&quot;));	&#xD;
     	}&#xD;
         return buildPermissions;&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.loadBuildPermissions(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BARNA4JUEeGsv772wTim0Q" name="update" specification="_Al5lNIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BARNBIJUEeGsv772wTim0Q" name="npcTown" type="_AcfxkIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update all town info&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE NPCTowns SET &quot; +&#xD;
 				&quot;ID_Player_Steward = &quot; + plugin.players.get(npcTown.steward).id_Player + &quot;, &quot; + &#xD;
 				&quot;ID_NPCRace = &quot; + npcTown.id_NPCRace + &quot;, &quot; + &#xD;
 				&quot;TownLevel = &quot; + (npcTown.townLevel.level) + &quot; &quot; + &#xD;
 				&quot;WHERE ID_NPCTown = &quot; + npcTown.getID());&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.update(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BARNBYJUEeGsv772wTim0Q" name="allow" specification="_AdhFQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BARNBoJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BARNB4JUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCTownPermissions (ID_NPCTown, ID_Player) VALUES (&quot; + id_NPCTown + &quot;, &quot; + id_Player + &quot;)&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCTownQueries.allow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BARNCIJUEeGsv772wTim0Q" name="disallow" specification="_AdhFQ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BARNCYJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BARNCoJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			// An ID of 0 indicates all players&#xD;
			if( id_Player == 0 )&#xD;
 		{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM NPCTownPermissions WHERE ID_NPCTown = &quot; + id_NPCTown);&#xD;
 		}&#xD;
			else&#xD;
			{&#xD;
				preparedStatement = conn.prepareStatement(&#xD;
	    				&quot;DELETE FROM NPCTownPermissions WHERE ID_NPCTown = &quot; + id_NPCTown + &quot; AND ID_Player = &quot; + id_Player);&#xD;
			}&#xD;
			&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in LotQueries.disallow(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Adf3IIJUEeGsv772wTim0Q" name="loadAll" method="_BAQmAYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvZfcIJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdgeMIJUEeGsv772wTim0Q" name="loadBuildPermissions" visibility="private" method="_BARNAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdgeMYJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvZfcYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdhFQIJUEeGsv772wTim0Q" name="allow" method="_BARNBYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdhFQYJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdhFQoJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdhFQ4JUEeGsv772wTim0Q" name="disallow" method="_BARNCIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdhFRIJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdhFRYJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Al4-IYJUEeGsv772wTim0Q" name="NPCTownQueries" method="_BAQl84JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Al5lMYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Al5lMoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Al4-IoJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al5lMIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al5lM4JUEeGsv772wTim0Q" type="_AdepAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Al5lNIJUEeGsv772wTim0Q" name="update" method="_BARNA4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Al5lNYJUEeGsv772wTim0Q" name="npcTown" type="_AcfxkIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvYRUIJUEeGsv772wTim0Q" name="create" method="_BAQl94JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvYRUYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvYRUoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvYRU4JUEeGsv772wTim0Q" name="x1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvY4YIJUEeGsv772wTim0Q" name="z1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvY4YYJUEeGsv772wTim0Q" name="x2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvY4YoJUEeGsv772wTim0Q" name="z2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvY4Y4JUEeGsv772wTim0Q" name="level">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvY4ZIJUEeGsv772wTim0Q" name="id_Race">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvY4ZYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Adi6cIJUEeGsv772wTim0Q" name="PlayerQueries">
              <ownedAttribute xmi:id="_A3nAQYJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_BINoEIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3nAQ4JUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BINoE4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3nnUYJUEeGsv772wTim0Q" name="playerQuery" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A3nnUoJUEeGsv772wTim0Q" value="&quot;SELECT p.ID_Player, p.Name, IFNULL(p.ID_Faction, 0) as ID_Faction, p.IsMember, p.MemberExpiration, p.Bounty, p.ExtraBounty, &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;   (p.Home_XCoord IS NOT NULL) AS Home_IsSet, p.Home_XCoord, p.Home_YCoord, p.Home_ZCoord, p.Home_LastUsed, &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;&#x9;(p.Spawn_XCoord IS NOT NULL) AS Spawn_IsSet, p.Spawn_XCoord, p.Spawn_YCoord, p.Spawn_ZCoord, p.Spawn_LastUsed, &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;&#x9;IFNULL(pt.TownName, '') as TownName, p.IsMayor, IFNULL(p.LogonMessageQueue, '') as LogonMessageQueue, p.TreasuryBlocks,&quot; +&#xD;&#xA;    &#x9;&#x9;&quot;&#x9;p.LanguageSkill1, p.LanguageSkill2, p.LanguageSkill3, p.LanguageSkill4, IFNULL(nt.Name, '') as NPCTown &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;FROM Players p &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;LEFT JOIN PlayerTowns pt ON p.ID_PlayerTown = pt.ID_PlayerTown &quot; +&#xD;&#xA;    &#x9;&#x9;&quot;LEFT JOIN NPCTowns nt ON p.ID_Player = nt.ID_Player_Steward &quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BARNC4JUEeGsv772wTim0Q" name="PlayerQueries" specification="_Al6zUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BARNDIJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BARNDYJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BARNDoJUEeGsv772wTim0Q" type="_Adi6cIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BARND4JUEeGsv772wTim0Q" name="playerLogin" specification="_AdjhgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BARNEIJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BARNEYJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		PlayerData playerData = null;  		&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = playerQuery +&#xD;
     		&quot;WHERE p.Name = '&quot; + playerName + &quot;'&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	// Test to see if result set was empty&#xD;
     	if( rs.next() )&#xD;
     	{&#xD;
     		playerData = fillPlayerData(rs);&#xD;
     		&#xD;
     		// Set LastLogin time  TODO: Does the playerLog table deprecate this?  I'm thinking yes...&#xD;
     		preparedStatement = conn.prepareStatement(&quot;UPDATE Players SET LastLogin = NOW() WHERE Name = '&quot; + playerName + &quot;'&quot;);&#xD;
     		preparedStatement.executeUpdate();&#xD;
     	}&#xD;
     	else&#xD;
     	{&#xD;
     		// Insert new data into DB - default DB values will take care of the data&#xD;
     		preparedStatement = conn.prepareStatement(&quot;INSERT INTO Players (Name, LastLogin) VALUES ('&quot; + playerName + &quot;', NOW())&quot;);&#xD;
     		preparedStatement.executeUpdate();&#xD;
     		&#xD;
     		// Pull the DB-created defaults into memory&#xD;
     		preparedStatement = conn.prepareStatement(selectQuery);		&#xD;
     		rs = preparedStatement.executeQuery();&#xD;
     		&#xD;
     		rs.next();&#xD;
     		playerData = fillPlayerData(rs);&#xD;
     	}	        	&#xD;
     	&#xD;
     	// Log the player's logon time&#xD;
     	preparedStatement = conn.prepareStatement(&quot;INSERT INTO PlayerLog (ID_Player, LogonTime) VALUES ('&quot; + playerData.id_Player + &quot;', NOW())&quot;);&#xD;
 		preparedStatement.executeUpdate();&#xD;
     	&#xD;
     	return playerData;				&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.PlayerLogin(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAR0EIJUEeGsv772wTim0Q" name="fillPlayerData" specification="_AvaGgYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAR0EYJUEeGsv772wTim0Q" name="rs" type="_Al1Tw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAR0EoJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = new PlayerData(plugin);&#xD;
		&#xD;
		// Load basic values&#xD;
		playerData.id_Player = rs.getInt(&quot;ID_Player&quot;);&#xD;
		playerData.name = rs.getString(&quot;Name&quot;);&#xD;
		playerData.id_Faction = rs.getInt(&quot;ID_Faction&quot;);&#xD;
		playerData.memberExpiration = rs.getDate(&quot;MemberExpiration&quot;);&#xD;
		playerData.bounty = rs.getFloat(&quot;Bounty&quot;);&#xD;
		playerData.extraBounty = rs.getFloat(&quot;ExtraBounty&quot;);&#xD;
		playerData.townName = rs.getString(&quot;TownName&quot;);&#xD;
		playerData.isMayor = rs.getBoolean(&quot;IsMayor&quot;);&#xD;
		playerData.treasuryBlocks = rs.getInt(&quot;TreasuryBlocks&quot;);&#xD;
		playerData.home_LastUsed = rs.getTimestamp(&quot;Home_LastUsed&quot;);&#xD;
		playerData.spawn_LastUsed = rs.getTimestamp(&quot;Spawn_LastUsed&quot;);&#xD;
		playerData.logonMessageQueue = rs.getString(&quot;LogonMessageQueue&quot;);&#xD;
		&#xD;
		// Set the player's isMember boolean based on the expiration date&#xD;
		if( playerData.memberExpiration == null )&#xD;
			playerData.isMember = false;&#xD;
		else&#xD;
			playerData.isMember = playerData.memberExpiration.getTime() > Util.now().getTime();&#xD;
		&#xD;
		if( rs.getBoolean(&quot;Home_IsSet&quot;) )&#xD;
		{&#xD;
			playerData.setHome(new Location(plugin.getServer().getWorld(&quot;world&quot;), rs.getInt(&quot;Home_XCoord&quot;) + .5, rs.getInt(&quot;Home_YCoord&quot;), rs.getInt(&quot;Home_ZCoord&quot;) + .5));&#xD;
		}&#xD;
		if( rs.getBoolean(&quot;Spawn_IsSet&quot;) )&#xD;
		{&#xD;
			playerData.setSpawn(new Location(plugin.getServer().getWorld(&quot;world&quot;), rs.getInt(&quot;Spawn_XCoord&quot;) + .5, rs.getInt(&quot;Spawn_YCoord&quot;), rs.getInt(&quot;Spawn_ZCoord&quot;) + .5));&#xD;
		}&#xD;
		&#xD;
		// Load NPCTown, if any&#xD;
		if( !rs.getString(&quot;NPCTown&quot;).equals(&quot;&quot;) )&#xD;
		{&#xD;
			playerData.isSteward = true;&#xD;
			playerData.npcTownName = rs.getString(&quot;NPCTown&quot;);&#xD;
		}&#xD;
		&#xD;
		// Load arrays of data&#xD;
		playerData.lots = rageDB.lotQueries.getLots(playerData.id_Player);&#xD;
     playerData.lotPermissions = rageDB.lotQueries.getLotPermissions(playerData.id_Player);&#xD;
     playerData.permits = getPermits(playerData.id_Player);&#xD;
     playerData.setInteractions(getInteractions(playerData.id_Player));&#xD;
     playerData.setAffinities(getAffinities(playerData.id_Player));&#xD;
     &#xD;
     // Load language skill&#xD;
     playerData.setLanguageSkill(1, rs.getInt(&quot;LanguageSkill1&quot;));&#xD;
     playerData.setLanguageSkill(2, rs.getInt(&quot;LanguageSkill2&quot;));&#xD;
     playerData.setLanguageSkill(3, rs.getInt(&quot;LanguageSkill3&quot;));&#xD;
     playerData.setLanguageSkill(4, rs.getInt(&quot;LanguageSkill4&quot;));&#xD;
     playerData.setLanguageSkill(5, 100);		// Because everyone can speak English! :D&#xD;
     &#xD;
		&#xD;
		if( playerData.townName.equals(&quot;&quot;) )&#xD;
			playerData.treasuryBalance = 0;&#xD;
		else&#xD;
		{&#xD;
			if(plugin.towns.get(playerData.townName) != null)&#xD;
				playerData.treasuryBalance = this.getPlayerTreasuryBalance(playerData.id_Player, plugin.towns.get(playerData.townName).getID());&#xD;
			else &#xD;
			{&#xD;
				playerData.townName = &quot;&quot;;&#xD;
				playerData.treasuryBalance = 0;&#xD;
			}	&#xD;
		}&#xD;
		&#xD;
 	return playerData;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAR0E4JUEeGsv772wTim0Q" name="getPlayerTreasuryBalance" specification="_AdkIkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAR0FIJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAR0FYJUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAR0FoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;    &#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT SUM(Amount) as Amount FROM TreasuryTransactions WHERE ID_Player = &quot; + id_Player + &quot; AND ID_PlayerTown = &quot; + id_PlayerTown;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
         rs.next();&#xD;
     	return rs.getDouble(&quot;Amount&quot;);	&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getPlayerTreasuryBalance(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAR0F4JUEeGsv772wTim0Q" name="getPermits" specification="_AdkIlIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAR0GIJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAR0GYJUEeGsv772wTim0Q" type="_AcntYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
	    Permits permits = new Permits();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT Type FROM Permits WHERE ID_Player_Holder = &quot; + id_Player + &quot; AND Expiration > NOW()&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		if( rs.getString(&quot;Type&quot;).equals(&quot;CAPITOL&quot;) )&#xD;
     			permits.capitol = true;&#xD;
     	}	&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getPermits(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return permits;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAR0GoJUEeGsv772wTim0Q" name="getInteractions" specification="_AdkvoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAR0G4JUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAR0HIJUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
	    HashSet&lt;Integer> interactions = new HashSet&lt;Integer>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT pni.ID_NPCInstance FROM Player_NPCInstance pni &quot; +&#xD;
     		&quot;INNER JOIN NPCInstances ni &quot; +&#xD;
     		&quot;WHERE pni.ID_Player = &quot; + id_Player + &#xD;
     		&quot; AND (ni.DespawnTime IS NULL OR ni.DespawnTime > NOW()) AND ni.IsDisabled = 0&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     		interactions.add(rs.getInt(&quot;ID_NPCInstance&quot;));&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getInteractions(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return interactions;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAR0HYJUEeGsv772wTim0Q" name="getAffinities" specification="_AdlWsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAR0HoJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAR0H4JUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
	    HashMap&lt;Integer, Float> affinities = new HashMap&lt;Integer, Float>();&#xD;
	&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	String selectQuery = &#xD;
     		&quot;SELECT pn.ID_NPC, pn.Affinity FROM Player_NPC pn &quot; +&#xD;
     		&quot;INNER JOIN NPCs n ON n.ID_NPC = pn.ID_NPC &quot; +			// the inner join prevents deleted NPCs from being loaded&#xD;
     		&quot;WHERE pn.ID_Player = &quot; + id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     		affinities.put(rs.getInt(&quot;ID_NPC&quot;), rs.getFloat(&quot;Affinity&quot;));&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getAffinities(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return affinities;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAR0IIJUEeGsv772wTim0Q" name="playerFetch" specification="_Adl9wIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAR0IYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAR0IoJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>PlayerData playerData = null;&#xD;
		Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;		&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		String selectQuery = playerQuery +&#xD;
         		&quot;WHERE p.Name = '&quot; + playerName + &quot;'&quot;;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(selectQuery);	        		        	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	// Test to see if result set was empty - return null if not &#xD;
     	if( rs.next() )&#xD;
     	{&#xD;
     		playerData = fillPlayerData(rs);&#xD;
	        	return playerData;&#xD;
     	}&#xD;
     		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.PlayerFetch(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BASbIIJUEeGsv772wTim0Q" name="updatePlayer" specification="_Avatk4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BASbIYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    Location home = playerData.getHome();&#xD;
	    Location spawn = playerData.getSpawn();&#xD;
		&#xD;
		String updateString = &quot;&quot;;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the Players table to create the town association&#xD;
 		updateString = &#xD;
				&quot;UPDATE Players SET &quot; +&#xD;
				&quot;ID_Faction = &quot; + (playerData.id_Faction == 0 ? &quot;null&quot; : playerData.id_Faction) + &quot;, &quot; +&#xD;
				&quot;Bounty = &quot; + playerData.bounty + &quot;, &quot; +&#xD;
				&quot;ExtraBounty = &quot; + playerData.extraBounty + &quot;, &quot; +&#xD;
				&quot;LogonMessageQueue = '&quot; + playerData.logonMessageQueue + &quot;', &quot; +&#xD;
				&quot;TreasuryBlocks = &quot; + playerData.treasuryBlocks + &quot;, &quot; +&#xD;
				&quot;LanguageSkill1 = &quot; + playerData.getLanguageSkill(1) + &quot;, &quot; +&#xD;
				&quot;LanguageSkill2 = &quot; + playerData.getLanguageSkill(2) + &quot;, &quot; +&#xD;
				&quot;LanguageSkill3 = &quot; + playerData.getLanguageSkill(3) + &quot;, &quot; +&#xD;
				&quot;LanguageSkill4 = &quot; + playerData.getLanguageSkill(4) + &quot;, &quot; +&#xD;
				&#xD;
 			&quot;Home_LastUsed = &quot; + (playerData.home_LastUsed == null ? &quot;null&quot; : &quot;'&quot; + playerData.home_LastUsed + &quot;'&quot;) + &quot;, &quot; +&#xD;
 			&quot;Spawn_LastUsed = &quot; + (playerData.spawn_LastUsed == null ? &quot;null&quot; : &quot;'&quot; + playerData.spawn_LastUsed + &quot;'&quot;) + &quot;, &quot;;&#xD;
 		&#xD;
 		if( home != null )&#xD;
 		{&#xD;
 			updateString += &quot;Home_XCoord = &quot; + (int)(home.getX()-.1) + &quot;, &quot; +		// The -.1 is to keep .5 from rounding up over and over&#xD;
					&quot;Home_YCoord = &quot; + (int)(home.getY()-.1) + &quot;, &quot; +&#xD;
					&quot;Home_ZCoord = &quot; + (int)(home.getZ()-.1) + &quot;, &quot;;&#xD;
 		}&#xD;
 		else&#xD;
 		{&#xD;
 			updateString += &quot;Home_XCoord = NULL, &quot; +&#xD;
					&quot;Home_YCoord = NULL, &quot; +&#xD;
					&quot;Home_ZCoord = NULL, &quot;;&#xD;
 		}&#xD;
 		if( spawn != null )&#xD;
 		{&#xD;
 			updateString += &quot;Spawn_XCoord = &quot; + (int)(spawn.getX()-.1) + &quot;, &quot; +&#xD;
					&quot;Spawn_YCoord = &quot; + (int)(spawn.getY()-.1) + &quot;, &quot; +&#xD;
					&quot;Spawn_ZCoord = &quot; + (int)(spawn.getZ()-.1) + &quot; &quot;;&#xD;
 		}&#xD;
 		else&#xD;
 		{&#xD;
 			updateString += &quot;Spawn_XCoord = NULL, &quot; +&#xD;
					&quot;Spawn_YCoord = NULL, &quot; +&#xD;
					&quot;Spawn_ZCoord = NULL &quot;;&#xD;
 		}&#xD;
 		&#xD;
 		updateString += &quot;WHERE ID_Player = &quot; + playerData.id_Player;&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(updateString);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.updatePlayer(): &quot; + e.getMessage());&#xD;
 		System.out.println(&quot;updateString: &quot; + updateString);&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BASbIoJUEeGsv772wTim0Q" name="getSpawnLocations" specification="_Adl9woJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BASbI4JUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BASbJIJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;   &#xD;
		HashMap&lt;String, Location> spawns = new HashMap&lt;String, Location>();&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT p.Name, p.Spawn_XCoord, p.Spawn_YCoord, p.Spawn_ZCoord &quot; +&#xD;
 				&quot;FROM Players p &quot; +&#xD;
 				&quot;WHERE p.Spawn_XCoord IS NOT NULL AND ID_PlayerTown = &quot; + id_PlayerTown);&#xD;
 		rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        	&#xD;
     		spawns.put(rs.getString(&quot;Name&quot;), &#xD;
     				new Location(plugin.getServer().getWorld(&quot;world&quot;), &#xD;
     						rs.getInt(&quot;Spawn_XCoord&quot;),&#xD;
     						rs.getInt(&quot;Spawn_YCoord&quot;),&#xD;
     						rs.getInt(&quot;Spawn_ZCoord&quot;)));	        		&#xD;
     	}&#xD;
     		&#xD;
     	return spawns;	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getSpawnLocations(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BASbJYJUEeGsv772wTim0Q" name="getRecentDonations" specification="_Admk0YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BASbJoJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BASbJ4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
     		&quot;SELECT SUM(Amount) as Amount FROM Donations WHERE ID_Player = &quot; + id_Player + &#xD;
     		&quot; AND DATE_SUB(CURDATE(),INTERVAL 30 DAY) &lt;= Date&quot;);&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	rs.next();&#xD;
     	&#xD;
     	return rs.getInt(&quot;Amount&quot;);  			        	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.getRecentDonations(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BASbKIJUEeGsv772wTim0Q" name="playerLogoff" specification="_Admk1IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BASbKYJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
			&#xD;
			// Get the ID of the latest entry&#xD;
			preparedStatement = conn.prepareStatement(&#xD;
	        		&quot;SELECT ID_PlayerLog FROM PlayerLog WHERE ID_Player = &quot; + id_Player + &quot; ORDER BY ID_PlayerLog DESC LIMIT 1&quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	rs.next();&#xD;
     	int id_PlayerLog = rs.getInt(&quot;ID_PlayerLog&quot;);&#xD;
			&#xD;
     	// Update the database&#xD;
     	preparedStatement = conn.prepareStatement(&quot;UPDATE PlayerLog SET LogoffTime = NOW() WHERE ID_PlayerLog = &quot; + id_PlayerLog);&#xD;
 		preparedStatement.executeUpdate();       	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.playerLogoff(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BASbKoJUEeGsv772wTim0Q" name="grantPermit" specification="_AdnL4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BASbK4JUEeGsv772wTim0Q" name="id_Player_Granter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BASbLIJUEeGsv772wTim0Q" name="id_Player_Holder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BASbLYJUEeGsv772wTim0Q" name="type">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BASbLoJUEeGsv772wTim0Q" name="numberOfDays">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO Permits (ID_Player_Holder, ID_Player_Granter, Type, Expiration) VALUES (&quot; +&#xD;
 				id_Player_Holder + &quot;, &quot; + id_Player_Granter + &quot;, '&quot; + type + &quot;', ADDDATE(NOW(), &quot; + numberOfDays + &quot;))&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.grantPermit(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BASbL4JUEeGsv772wTim0Q" name="recordInstances" specification="_AvbUoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BASbMIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    boolean firstEntry = true;&#xD;
	    String query = &quot;&quot;;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			// If there are no new interactions, no need for update&#xD;
			if( playerData.getNewInteractions().size() == 0 )&#xD;
				return;&#xD;
			&#xD;
			conn = rageDB.getConnection();&#xD;
			query = &quot;INSERT INTO Player_NPCInstance (ID_Player, ID_NPCInstance, Timestamp) VALUES &quot;;&#xD;
			&#xD;
			// Build a list of all new interactions&#xD;
			for( int instanceID : playerData.getNewInteractions() )&#xD;
			{&#xD;
				if( !firstEntry )&#xD;
					query += &quot;, &quot;;&#xD;
				else&#xD;
					firstEntry = false;&#xD;
				query += &quot;(&quot; + playerData.id_Player + &quot;, &quot; + instanceID + &quot;, NOW())&quot;;&#xD;
			}&#xD;
			&#xD;
 		preparedStatement = conn.prepareStatement(query);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.recordInstances(): &quot; + e.getMessage() + &quot; Query: &quot; + query);&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATCMIJUEeGsv772wTim0Q" name="recordAffinity" specification="_AvbUo4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATCMYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    boolean firstEntry = true;&#xD;
	    String query = &quot;&quot;;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			// If there is no affinity, no need for update&#xD;
			if( playerData.getAffinities().size() == 0 )&#xD;
				return;&#xD;
			&#xD;
			conn = rageDB.getConnection();&#xD;
			&#xD;
			// Clear the existing affinity data&#xD;
			preparedStatement = conn.prepareStatement(&quot;DELETE FROM Player_NPC WHERE ID_Player = &quot; + playerData.id_Player);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
			&#xD;
			query = &quot;INSERT INTO Player_NPC (ID_Player, ID_NPC, Affinity) VALUES &quot;;&#xD;
			&#xD;
			// Build a list of all new interactions&#xD;
			for( int npcID : playerData.getAffinities().keySet() )&#xD;
			{&#xD;
				if( !firstEntry )&#xD;
					query += &quot;, &quot;;&#xD;
				else&#xD;
					firstEntry = false;&#xD;
				query += &quot;(&quot; + playerData.id_Player + &quot;, &quot; + npcID + &quot;, &quot; + playerData.getAffinities().get(npcID) + &quot;)&quot;;&#xD;
			}&#xD;
			&#xD;
 		preparedStatement = conn.prepareStatement(query);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in PlayerQueries.recordAffinity(): &quot; + e.getMessage() + &quot; Query: &quot; + query);&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AdjhgIJUEeGsv772wTim0Q" name="playerLogin" method="_BARND4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdjhgYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvaGgIJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdkIkIJUEeGsv772wTim0Q" name="getPlayerTreasuryBalance" method="_BAR0E4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdkIkYJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdkIkoJUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdkIk4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdkIlIJUEeGsv772wTim0Q" name="getPermits" method="_BAR0F4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdkvoIJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Al7aYIJUEeGsv772wTim0Q" type="_AcntYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdkvoYJUEeGsv772wTim0Q" name="getInteractions" method="_BAR0GoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdkvooJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvatkIJUEeGsv772wTim0Q" type="_Alf8kIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdlWsIJUEeGsv772wTim0Q" name="getAffinities" method="_BAR0HYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdlWsYJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvatkYJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Adl9wIJUEeGsv772wTim0Q" name="playerFetch" method="_BAR0IIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Adl9wYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvatkoJUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Adl9woJUEeGsv772wTim0Q" name="getSpawnLocations" method="_BASbIoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Adl9w4JUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvbUoIJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Admk0YJUEeGsv772wTim0Q" name="getRecentDonations" method="_BASbJYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Admk0oJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Admk04JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Admk1IJUEeGsv772wTim0Q" name="playerLogoff" method="_BASbKIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdnL4IJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdnL4YJUEeGsv772wTim0Q" name="grantPermit" method="_BASbKoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdnL4oJUEeGsv772wTim0Q" name="id_Player_Granter">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdnL44JUEeGsv772wTim0Q" name="id_Player_Holder">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdnL5IJUEeGsv772wTim0Q" name="type">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdnL5YJUEeGsv772wTim0Q" name="numberOfDays">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Al6zUIJUEeGsv772wTim0Q" name="PlayerQueries" method="_BARNC4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Al6zU4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Al6zVIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Al6zUYJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al6zUoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al6zVYJUEeGsv772wTim0Q" type="_Adi6cIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvaGgYJUEeGsv772wTim0Q" name="fillPlayerData" visibility="private" method="_BAR0EIJUEeGsv772wTim0Q" raisedException="_Al2h4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvaGgoJUEeGsv772wTim0Q" name="rs" type="_Al1Tw4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvaGg4JUEeGsv772wTim0Q" type="_AkeB0YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Avatk4JUEeGsv772wTim0Q" name="updatePlayer" method="_BASbIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvatlIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvbUoYJUEeGsv772wTim0Q" name="recordInstances" method="_BASbL4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvbUooJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvbUo4JUEeGsv772wTim0Q" name="recordAffinity" method="_BATCMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvbUpIJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdqPMIJUEeGsv772wTim0Q" name="QuestQueries">
              <ownedAttribute xmi:id="_A3oOYIJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_BINoFoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3oOYYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIOPIYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATCMoJUEeGsv772wTim0Q" name="QuestQueries" specification="_Al92oIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATCM4JUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BATCNIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BATCNYJUEeGsv772wTim0Q" type="_AdqPMIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATCNoJUEeGsv772wTim0Q" name="loadAllQuests" specification="_Adq2QIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATCN4JUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;Integer, Quest> quests = new HashMap&lt;Integer, Quest>();&#xD;
	    Quest quest;&#xD;
	    QuestData questData;&#xD;
	    QuestRequirements questReq;&#xD;
	    RewardData rewardData;&#xD;
	    Flags flags;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&quot;&quot; +&#xD;
     			&quot;SELECT q.ID_Quest, q.Name, q.Type, IFNULL(q.ID_QuestSource, 0) as ID_QuestSource, q.ID_NPCInstance_Source, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Target, 0) as ID_NPCInstance_Target, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Aux1, 0) as ID_NPCInstance_Aux1, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Aux2, 0) as ID_NPCInstance_Aux2, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_NPCInstance_Aux3, 0) as ID_NPCInstance_Aux3, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_Player_Target, 0) as ID_Player_Target, &quot; +&#xD;
     			&quot;		IFNULL(q.ID_Quest_Prereq, 0) as ID_Quest_Prereq, &quot; +&#xD;
     			&quot;		IFNULL(q.Required_Affinity, -10) as Required_Affinity, &quot; +&#xD;
     			&quot;		IFNULL(q.Required_Reputation, 0) as Required_Reputation, &quot; +&#xD;
     			&quot;		IFNULL(q.Required_Rank, 0) as Required_Rank, &quot; +&#xD;
     			&quot;		q.Reward_Money, &quot; +&#xD;
     			&quot;		IFNULL(q.Reward_ItemID, 0) as Reward_ItemID, &quot; +&#xD;
     			&quot;		IFNULL(q.Reward_ItemAmount, 0) as Reward_ItemAmount, &quot; +&#xD;
     			&quot;		q.Reward_Exp, q.Reward_Affinity, q.Reward_Reputation, &quot; +&#xD;
     			&quot;		q.Phrase_Start, q.Phrase_Finish, q.Phrase_Unfinished, &quot; +&#xD;
     			&quot;		q.IsNonExclusive, q.IsReserved, q.IsTimed, q.TimeLimit_Seconds &quot; +&#xD;
     			&quot;FROM Quests q &quot; +&#xD;
     			&quot;INNER JOIN NPCInstances ni ON ni.ID_NPCInstance = q.ID_NPCInstance_Source &quot; +&#xD;
     			&quot;WHERE (ni.DespawnTime > NOW() OR ni.DespawnTime IS NULL) &quot;);&#xD;
     			&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		questData = new QuestData(rs.getString(&quot;Name&quot;), rs.getInt(&quot;ID_Quest&quot;), rs.getString(&quot;Phrase_Start&quot;), &#xD;
     				rs.getString(&quot;Phrase_End&quot;), &#xD;
     				new QuestRequirements(rs.getInt(&quot;ID_Quest_Prereq&quot;), rs.getInt(&quot;Required_Rank&quot;), &#xD;
     									  rs.getInt(&quot;Required_Affinity&quot;), rs.getInt(&quot;Required_Reputation&quot;)), &#xD;
     				0);&#xD;
     		rewardData = new RewardData(new ItemStack(34), rs.getInt(&quot;Reward_ItemAmount&quot;), (double)rs.getInt(&quot;Reward_Money&quot;));&#xD;
     		flags = new Flags(rs.getBoolean(&quot;IsNonExclusive&quot;), rs.getBoolean(&quot;IsReserved&quot;));&#xD;
     		&#xD;
     		switch( rs.getInt(&quot;Type&quot;) )&#xD;
     		{&#xD;
     			case Quest.TYPE_REWARD:&#xD;
     				quest = new RewardQuest(questData, rewardData, flags, rs.getInt(&quot;ID_NPCInstance_Source&quot;));&#xD;
     				break;&#xD;
     			default:&#xD;
     				quest = null;&#xD;
     				System.out.println(&quot;Error: Quest ID &quot; + rs.getInt(&quot;ID_Quest&quot;) + &quot; is of invalid type.&quot;);&#xD;
     		}&#xD;
     		&#xD;
     		quests.put(rs.getInt(&quot;ID_Quest&quot;), quest);&#xD;
     	}&#xD;
     	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in QuestQueries.loadAllQuests(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return quests;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATCOIJUEeGsv772wTim0Q" name="setComplete" specification="_AdrdUoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATCOYJUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO Tasks (Name, Timestamp) VALUES ('&quot; + taskName + &quot;',NOW())&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.setComplete(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Adq2QIJUEeGsv772wTim0Q" name="loadAllQuests" method="_BATCNoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Avb7sIJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdrdUoJUEeGsv772wTim0Q" name="setComplete" method="_BATCOIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdrdU4JUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Al92oIJUEeGsv772wTim0Q" name="QuestQueries" method="_BATCMoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Al92o4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Al92pIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Al92oYJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al92ooJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al92pYJUEeGsv772wTim0Q" type="_AdqPMIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AdtSgIJUEeGsv772wTim0Q" name="TownQueries">
              <ownedAttribute xmi:id="_A3oOYoJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_BIOPJIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A3oOZIJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_BIOPJ4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATCOoJUEeGsv772wTim0Q" name="TownQueries" specification="_Al-dsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATCO4JUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BATCPIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BATCPYJUEeGsv772wTim0Q" type="_AdtSgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATpQIJUEeGsv772wTim0Q" name="loadPlayerTowns" specification="_Adt5kIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATpQYJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;String, PlayerTown> towns = new HashMap&lt;String, PlayerTown>();&#xD;
	    &#xD;
		PlayerTown currentTown = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT pt.ID_PlayerTown, pt.TownName, pt.XCoord, pt.YCoord, pt.ZCoord, &quot; +&#xD;
				&quot;	pt.TownLevel, &quot; +&#xD;
				&quot;	IFNULL(f.ID_Faction, 0) as ID_Faction, pt.TreasuryBalance, pt.MinimumBalance, pt.BankruptDate, p.Name AS Mayor &quot; +&#xD;
				&quot;FROM PlayerTowns pt &quot; +&#xD;
				&quot;LEFT JOIN Factions f ON pt.ID_Faction = f.ID_Faction &quot; +&#xD;
				&quot;INNER JOIN Players p ON pt.ID_PlayerTown = p.ID_PlayerTown &quot; +&#xD;
				&quot;WHERE p.IsMayor = 1 AND pt.IsDeleted = 0&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		currentTown = new PlayerTown(plugin, rs.getInt(&quot;ID_PlayerTown&quot;), rs.getString(&quot;TownName&quot;), plugin.getServer().getWorld(&quot;world&quot;));&#xD;
     		currentTown.centerPoint = new Location(plugin.getServer().getWorld(&quot;world&quot;), rs.getInt(&quot;XCoord&quot;), rs.getInt(&quot;YCoord&quot;), rs.getInt(&quot;ZCoord&quot;));&#xD;
     		currentTown.id_Faction = rs.getInt(&quot;ID_Faction&quot;);&#xD;
     		currentTown.treasuryBalance = rs.getFloat(&quot;TreasuryBalance&quot;);&#xD;
     		currentTown.minimumBalance = rs.getFloat(&quot;MinimumBalance&quot;);&#xD;
     		currentTown.bankruptDate = rs.getTimestamp(&quot;BankruptDate&quot;);&#xD;
     		currentTown.townLevel = plugin.config.townLevels.get(rs.getInt(&quot;TownLevel&quot;));&#xD;
     		currentTown.mayor = rs.getString(&quot;Mayor&quot;);&#xD;
     		currentTown.residents = getTownResidents(currentTown.getID());&#xD;
     		&#xD;
     		currentTown.createRegions();	 &#xD;
     		&#xD;
     		if(currentTown.getName() != null)&#xD;
     			towns.put(currentTown.getName().toLowerCase(), currentTown);	 &#xD;
     		else&#xD;
     			System.out.println(&quot;Town name was null for &quot; + rs.getInt(&quot;ID_PlayerTown&quot;) + &quot; in loadPlayerTowns()&quot;);&#xD;
     	}			&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.LoadPlayerTowns: &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return towns;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATpQoJUEeGsv772wTim0Q" name="townAdd" specification="_AdugoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATpQ4JUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BATpRIJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		PlayerData playerData = plugin.players.get(targetPlayerName);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Update the Players table to create the town association&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Players SET ID_PlayerTown = &quot; +&#xD;
 				&quot;	(SELECT ID_PlayerTown FROM PlayerTowns WHERE TownName = '&quot; + townName + &quot;') &quot; +&#xD;
 				&quot;, IsMayor = 0 WHERE ID_Player = &quot; + playerData.id_Player);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownAdd(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATpRYJUEeGsv772wTim0Q" name="townCreate" specification="_AvciwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATpRoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BATpR4JUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BATpSIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		PlayerData playerData = plugin.players.get(player.getName());&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO PlayerTowns (TownName, XCoord, YCoord, ZCoord, ID_Faction, TreasuryBalance, MinimumBalance, TownLevel, DateCreated) &quot; +&#xD;
 				&quot;VALUES ('&quot; + townName + &quot;', &quot; + (int)player.getLocation().getX() + &quot;, &quot; + (int)player.getLocation().getY() + &quot;, &quot; + &#xD;
 						(int)player.getLocation().getZ() + &quot;, &quot; +  &#xD;
 				&quot;(SELECT ID_Faction FROM Players WHERE ID_Player = &quot; + playerData.id_Player + &quot;), &quot; + &#xD;
 				plugin.config.townLevels.get(1).minimumBalance + &quot;, &quot; + plugin.config.townLevels.get(1).minimumBalance + &quot;, 1, NOW())&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int townID = rs.getInt(1);&#xD;
 		&#xD;
 		// Update the Players table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Players SET ID_PlayerTown = &quot; + townID + &quot;, IsMayor = 1 &quot; +&#xD;
 				&quot;WHERE ID_Player = &quot; + playerData.id_Player);        		&#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		return townID;&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownCreate(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: RageDB.TownCreate() returned -1&quot;);&#xD;
 	return -1;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATpSYJUEeGsv772wTim0Q" name="townLeave" specification="_AdvHsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATpSoJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		PlayerData playerData = plugin.players.get(playerName);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Update the Players table to remove the town association&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE Players SET ID_PlayerTown = NULL, IsMayor = 0, Spawn_XCoord = NULL WHERE ID_Player = &quot; + playerData.id_Player);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownLeave(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BATpS4JUEeGsv772wTim0Q" name="townUpgrade" specification="_AdvHsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BATpTIJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BATpTYJUEeGsv772wTim0Q" name="cost">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Update the Players table to remove the town association&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET TownLevel = (TownLevel + 1), TreasuryBalance = (TreasuryBalance - &quot; + cost + &quot;) &quot; +&#xD;
 				&quot;WHERE TownName = '&quot; + townName + &quot;'&quot; +&#xD;
 				&quot;&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.TownUpgrade(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAUQUIJUEeGsv772wTim0Q" name="countResidents" specification="_AdvHtYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAUQUYJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAUQUoJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null; &#xD;
		PlayerTown playerTown = (PlayerTown)plugin.towns.get(townName);&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT COUNT(*) FROM Players WHERE ID_PlayerTown = &quot; + playerTown.getID());&#xD;
 		rs = preparedStatement.executeQuery();&#xD;
 		rs.next();&#xD;
 		return rs.getInt(1);&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.CountResidents(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: RageDB.CountResidents() returned -1&quot;);&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAUQU4JUEeGsv772wTim0Q" name="getTownResidents" specification="_AdvuwoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAUQVIJUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAUQVYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		ArrayList&lt;String> residents = new ArrayList&lt;String>();&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT Name FROM Players p &quot; +&#xD;
 				&quot;WHERE ID_PlayerTown = &quot; + id_PlayerTown + &quot; &quot; +&#xD;
 				&quot;ORDER BY IsMayor DESC &quot;);&#xD;
 		rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        	&#xD;
     		residents.add(rs.getString(&quot;Name&quot;));	        		&#xD;
     	}&#xD;
     		&#xD;
     		&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.ListTownResidents(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		    return residents;&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
			&#xD;
		}    &#xD;
		return residents;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAUQVoJUEeGsv772wTim0Q" name="townDeposit" specification="_AdwV0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAUQV4JUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAUQWIJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAUQWYJUEeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    &#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the treasury balance&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET TreasuryBalance = (TreasuryBalance + &quot; + amount + &quot;) WHERE ID_PlayerTown = &quot; + id_PlayerTown);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 		&#xD;
 		// Record the player's deposit&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO TreasuryTransactions (ID_PlayerTown, ID_Player, Amount, Timestamp) VALUES (&quot; +&#xD;
 				id_PlayerTown + &quot;, &quot; + id_Player + &quot;, &quot; + amount + &quot;, NOW() )&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.townDeposit(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAUQWoJUEeGsv772wTim0Q" name="townSetMinimumBalance" specification="_AdwV1IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAUQW4JUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAUQXIJUEeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update the treasury balance&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET MinimumBalance = &quot; + amount + &quot; WHERE ID_PlayerTown = &quot; + id_PlayerTown);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.townSetMinimumBalance(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAUQXYJUEeGsv772wTim0Q" name="update" specification="_Al_ExIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAUQXoJUEeGsv772wTim0Q" name="playerTown" type="_AcoUcIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		// Update all town info&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE PlayerTowns SET &quot; +&#xD;
 				&quot;TreasuryBalance = &quot; + playerTown.treasuryBalance + &quot;, &quot; + &#xD;
 				&quot;MinimumBalance = &quot; + playerTown.minimumBalance + &quot;, &quot; + &#xD;
 				&quot;BankruptDate = &quot; + (playerTown.bankruptDate == null ? &quot;null&quot; : &quot;'&quot; + playerTown.bankruptDate + &quot;'&quot;) + &quot;, &quot; +&#xD;
 				&quot;IsDeleted = &quot; + playerTown.isDeleted + &quot; &quot; + &#xD;
 				&quot;WHERE ID_PlayerTown = &quot; + playerTown.getID());&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in TownQueries.update(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Adt5kIJUEeGsv772wTim0Q" name="loadPlayerTowns" method="_BATpQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Avb7sYJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdugoIJUEeGsv772wTim0Q" name="townAdd" method="_BATpQoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdugoYJUEeGsv772wTim0Q" name="targetPlayerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdugooJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdvHsIJUEeGsv772wTim0Q" name="townLeave" method="_BATpSYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdvHsYJUEeGsv772wTim0Q" name="playerName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdvHsoJUEeGsv772wTim0Q" name="townUpgrade" method="_BATpS4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdvHs4JUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdvHtIJUEeGsv772wTim0Q" name="cost">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdvHtYJUEeGsv772wTim0Q" name="countResidents" method="_BAUQUIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdvuwIJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdvuwYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdvuwoJUEeGsv772wTim0Q" name="getTownResidents" method="_BAUQU4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Advuw4JUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AvcixIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AdwV0IJUEeGsv772wTim0Q" name="townDeposit" method="_BAUQVoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdwV0YJUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdwV0oJUEeGsv772wTim0Q" name="id_Player">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AdwV04JUEeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AdwV1IJUEeGsv772wTim0Q" name="townSetMinimumBalance" method="_BAUQWoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AdwV1YJUEeGsv772wTim0Q" name="id_PlayerTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Adw84IJUEeGsv772wTim0Q" name="amount">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Al-dsIJUEeGsv772wTim0Q" name="TownQueries" method="_BATCOoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_Al_EwYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Al_EwoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Al-dsYJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al_EwIJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_Al_Ew4JUEeGsv772wTim0Q" type="_AdtSgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Al_ExIJUEeGsv772wTim0Q" name="update" method="_BAUQXYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Al_ExYJUEeGsv772wTim0Q" name="playerTown" type="_AcoUcIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AvciwIJUEeGsv772wTim0Q" name="townCreate" method="_BATpRYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AvciwYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_AvciwoJUEeGsv772wTim0Q" name="townName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Avciw4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AlyQcIJUEeGsv772wTim0Q" name="NPCQueries">
              <ownedAttribute xmi:id="_EFlYIIJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_EGunpIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFl_MYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGunp4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFl_M4JUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_EGvOsYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGA18IJUEeGsv772wTim0Q" name="NPCQueries" specification="_ED1EoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGA18YJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGA18oJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGA184JUEeGsv772wTim0Q" type="_AlyQcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
		this.random = new Random();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGA19IJUEeGsv772wTim0Q" name="loadDictionaries" specification="_D_0uYIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGA19YJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    HashMap&lt;Integer, Language> languages = new HashMap&lt;Integer, Language>();&#xD;
	    Language currentLanguage = null;&#xD;
	    int id_Language = 0;&#xD;
	    &#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT ID_Language, Word, Length FROM Words ORDER BY ID_Language, Length, Word&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	&#xD;
     		if( id_Language != rs.getInt(&quot;ID_Language&quot;) )&#xD;
     		{&#xD;
     			// New language&#xD;
     			if( currentLanguage != null )&#xD;
     				languages.put(id_Language, currentLanguage);&#xD;
     			&#xD;
     			currentLanguage = new Language();&#xD;
     			id_Language = rs.getInt(&quot;ID_Language&quot;);&#xD;
     		}&#xD;
     		&#xD;
     		currentLanguage.addWord(rs.getString(&quot;Word&quot;), rs.getInt(&quot;Length&quot;));&#xD;
     	}			&#xD;
     	&#xD;
     	// Add the last language&#xD;
     	languages.put(id_Language, currentLanguage);&#xD;
     	&#xD;
     	return languages;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadDictionaries: &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGA19oJUEeGsv772wTim0Q" name="loadNPCLocations" specification="_D_1VcYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGA194JUEeGsv772wTim0Q" type="_AcDssIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    NPCLocationPool locationPool = new NPCLocationPool();&#xD;
		NPCLocation location = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT ID_NPCLocation, ID_NPCTown, ID_NPCRace, XCoord, YCoord, ZCoord, Yaw, Pitch &quot; +&#xD;
				&quot;FROM NPCLocations&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		location = new NPCLocation(plugin.zones.world, &#xD;
     				rs.getDouble(&quot;XCoord&quot;),&#xD;
     				rs.getDouble(&quot;YCoord&quot;),&#xD;
     				rs.getDouble(&quot;ZCoord&quot;),&#xD;
     				rs.getFloat(&quot;Yaw&quot;),&#xD;
     				rs.getFloat(&quot;Pitch&quot;), plugin);&#xD;
     		&#xD;
     		location.setIDs(rs.getInt(&quot;ID_NPCLocation&quot;), rs.getInt(&quot;ID_NPCTown&quot;), rs.getInt(&quot;ID_NPCRace&quot;));&#xD;
     		locationPool.add(location);&#xD;
     	}			&#xD;
     	&#xD;
     	return locationPool;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadNPCLocations: &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGA1-IJUEeGsv772wTim0Q" name="createNPCLocation" specification="_ED1rs4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGA1-YJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGA1-oJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGA1-4JUEeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGA1_IJUEeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGA1_YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCLocations (ID_NPCTown, ID_NPCRace, XCoord, YCoord, ZCoord, Yaw, Pitch, CreateDate, ID_Player_Creator) &quot; +&#xD;
 				&quot;VALUES (&quot; + id_NPCTown + &quot;, &quot; + id_NPCRace + &quot;, &quot; + location.getX() + &quot;, &quot; + location.getY() + &quot;, &quot; +&#xD;
 						location.getZ() + &quot;, &quot; +  location.getYaw() + &quot;, &quot; + location.getPitch() + &quot;, NOW(), &quot; + &#xD;
 				id_Player_Creator + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int locationID = rs.getInt(1);&#xD;
 		&#xD;
 		return locationID;&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.createNPCLocation(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: NPCQueries.createNPCLocation() returned -1&quot;);&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGA1_oJUEeGsv772wTim0Q" name="loadNPCs" specification="_D_1VcoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGA1_4JUEeGsv772wTim0Q" type="_Aca5EIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    NPCPool npcs = new NPCPool();&#xD;
		NPCData npc = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT n.ID_NPC, n.ID_NPCRace, n.Name, n.IsBilingual, n.ID_NPCTown, n.Gender, s.Filename, n.DefaultAffinity &quot; +&#xD;
				&quot;FROM NPCs n &quot; +&#xD;
				&quot;LEFT JOIN Skins s ON n.ID_Skin = s.ID_Skin&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		npc = new NPCData();&#xD;
     		npc.id_NPC = rs.getInt(&quot;ID_NPC&quot;);&#xD;
     		npc.id_NPCRace = rs.getInt(&quot;ID_NPCRace&quot;);&#xD;
     		npc.name = rs.getString(&quot;Name&quot;);&#xD;
     		npc.isBilingual = rs.getBoolean(&quot;IsBilingual&quot;);&#xD;
     		npc.id_NPCTown = rs.getInt(&quot;ID_NPCTown&quot;);&#xD;
     		npc.isMale = rs.getString(&quot;Gender&quot;).equalsIgnoreCase(&quot;M&quot;);&#xD;
     		npc.skinPath = rs.getString(&quot;Filename&quot;);&#xD;
     		npc.defaultAffinityCode = rs.getInt(&quot;DefaultAffinity&quot;);&#xD;
     		&#xD;
     		npcs.add(npc);&#xD;
     	}			&#xD;
     	&#xD;
     	return npcs;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadNPCs(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGA2AIJUEeGsv772wTim0Q" name="createNPC" specification="_ED2SwYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGA2AYJUEeGsv772wTim0Q" name="npc" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGA2AoJUEeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGA2A4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    int skinID;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		// Insert the new town into the PlayerTowns table&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCs (ID_NPCRace, Name, IsBilingual, ID_NPCTown, CreateDate, ID_Player_Creator, Gender, DefaultAffinity) &quot; +&#xD;
 				&quot;VALUES (&quot; + npc.id_NPCRace + &quot;, '&quot; + npc.name + &quot;', &quot; + npc.isBilingual + &quot;, &quot; +&#xD;
 					npc.id_NPCTown + &quot;, NOW(), &quot; + id_Player_Creator + &quot;, &quot; +&#xD;
 					(npc.isMale ? &quot;'M'&quot; : &quot;'F'&quot;) + &quot;, &quot; + npc.defaultAffinityCode + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int npcID = rs.getInt(1);&#xD;
 		&#xD;
 		// Find a new skin for the NPC&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT s.ID_Skin, s.Filename FROM Skins s &quot; +&#xD;
 				&quot;LEFT JOIN NPCs n ON n.ID_Skin = s.ID_Skin &quot; +&#xD;
 				&quot;WHERE s.ID_NPCRace = &quot; + npc.id_NPCRace + &quot; AND s.Gender = &quot; + (npc.isMale ? &quot;'M'&quot; : &quot;'F'&quot;) + &quot;&quot; +&#xD;
 				&quot;GROUP BY s.ID_Skin &quot; +&#xD;
 				&quot;ORDER BY COUNT(n.ID_NPC) LIMIT 1&quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	if( rs.next() ) &#xD;
     	{	        		&#xD;
     		npc.skinPath = rs.getString(&quot;Filename&quot;);&#xD;
     		skinID = rs.getInt(&quot;ID_Skin&quot;);&#xD;
     		&#xD;
     		// Update the skin in the DB&#xD;
     		preparedStatement = conn.prepareStatement(&#xD;
     				&quot;UPDATE NPCs SET ID_Skin = &quot; + skinID + &quot; WHERE ID_NPC = &quot; + npcID);   &#xD;
     		preparedStatement.executeUpdate();&#xD;
     	}		&#xD;
     	else&#xD;
     		throw new Exception(&quot;Could not locate a suitable skin for &quot; + npc.name);&#xD;
 		&#xD;
 		return npcID;&#xD;
     		        		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.createNPC(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	System.out.println(&quot;Error: NPCQueries.createNPC() returned -1&quot;);&#xD;
 	return -1;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGBdAIJUEeGsv772wTim0Q" name="createInstance" specification="_ED2SxYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGBdAYJUEeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGBdAoJUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGBdA4JUEeGsv772wTim0Q" name="ttlMinutes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGBdBIJUEeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGBdBYJUEeGsv772wTim0Q" name="type" type="_AlMakIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGBdBoJUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    NPCInstance instance = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		if( id_NPC == 0 )&#xD;
 			throw new Exception(&quot;Attempted to create instance with NPC ID 0&quot;);&#xD;
 		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCInstances (ID_NPC, ID_NPCLocation, SpawnTime, DespawnTime, ID_Player_Creator, Type) &quot; +&#xD;
 				&quot;VALUES (&quot; + id_NPC + &quot;, '&quot; + id_NPCLocation + &quot;', NOW(), NOW() + INTERVAL &quot; + ttlMinutes + &quot; MINUTE, &quot; +&#xD;
 						id_Player_Creator + &quot;, &quot; + type.getValue() + &quot;)&quot;,&#xD;
 				Statement.RETURN_GENERATED_KEYS);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Retrieve the new auto-increment town ID &#xD;
 		rs = preparedStatement.getGeneratedKeys();&#xD;
 		rs.next();&#xD;
 		int instanceID = rs.getInt(1);&#xD;
 		&#xD;
 		instance = new NPCInstance(plugin, instanceID, type, Util.minutesFromNow(ttlMinutes));&#xD;
 		&#xD;
 		return instance;&#xD;
     		        		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.createInstance(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGBdB4JUEeGsv772wTim0Q" name="loadInstances" specification="_D_18gIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGBdCIJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    ArrayList&lt;NPCInstance> instances = new ArrayList&lt;NPCInstance>();&#xD;
		NPCInstance instance = null;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT ID_NPCInstance, ID_NPC, ID_NPCLocation, DespawnTime, Type &quot; +&#xD;
				&quot;FROM NPCInstances &quot; +&#xD;
				&quot;WHERE (DespawnTime IS NULL OR DespawnTime > NOW()) AND IsDisabled = 0&quot;);&#xD;
     	&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while ( rs.next() ) &#xD;
     	{	        		&#xD;
     		instance = new NPCInstance(plugin, rs.getInt(&quot;ID_NPCInstance&quot;), NPCType.getType(rs.getInt(&quot;Type&quot;)), rs.getTimestamp(&quot;DespawnTime&quot;));&#xD;
&#xD;
     		if( instance.activate(rs.getInt(&quot;ID_NPC&quot;), rs.getInt(&quot;ID_NPCLocation&quot;)) )&#xD;
     			instances.add(instance);&#xD;
     		else&#xD;
     			System.out.println(&quot;ERROR: Could not activate NPC instance #&quot; + instance.getID());&#xD;
     	}			&#xD;
     	&#xD;
     	return instances;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.loadInstances(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGBdCYJUEeGsv772wTim0Q" name="getPhrases" specification="_ED250oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGBdCoJUEeGsv772wTim0Q" name="npcData" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGBdC4JUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGBdDIJUEeGsv772wTim0Q" type="_AeQsIIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    ArrayList&lt;NPCPhrase> phrases = new ArrayList&lt;NPCPhrase>();&#xD;
	    ArrayList&lt;NPCPhrase> phrasePool = new ArrayList&lt;NPCPhrase>();&#xD;
	    NPCPhrase greeting;&#xD;
	    HashMap&lt;Integer, NPCPhrase> followups = new HashMap&lt;Integer, NPCPhrase>();&#xD;
	    String updateQuery = &quot;&quot;;&#xD;
	    SpeechData speechData;&#xD;
		&#xD;
 	try&#xD;
 	{&#xD;
 		conn = rageDB.getConnection();&#xD;
 		String whereClause = &quot;(np.ID_NPCRace = 0 OR np.ID_NPCRace = &quot; + npcData.id_NPCRace + &quot;) AND &quot; +&#xD;
						&quot;(np.ID_NPCTown = 0 OR np.ID_NPCTown = &quot; + id_NPCTown + &quot;) AND &quot; +&#xD;
						&quot;(np.ID_NPC = 0 OR np.ID_NPC = &quot; + npcData.id_NPC + &quot;) AND &quot; +&#xD;
						&quot;(np.IsApproved = 1) &quot;;&#xD;
 		&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
				&quot;SELECT np.ID_NPCPhrase, np.Text, np.IsDynamic &quot; +&#xD;
				&quot;FROM NPCPhrases np &quot; +&#xD;
				&quot;WHERE &quot; + whereClause + &quot; AND &quot; +&#xD;
						&quot;np.GreetingType = 0 AND np.Affinity = 0 &quot; +	// TODO: Figure out how affinity will work with normal messages, if at all&#xD;
				&quot;ORDER BY np.Uses &quot; +&#xD;
				&quot;LIMIT &quot; + plugin.config.NPC_PHRASE_POOL);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	// Load all possible phrases into the pool for random selection&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		phrasePool.add(new NPCPhrase(rs.getString(&quot;Text&quot;), rs.getInt(&quot;ID_NPCPhrase&quot;), &#xD;
     				plugin, rs.getBoolean(&quot;IsDynamic&quot;), npcData));&#xD;
     	}&#xD;
     	&#xD;
     	// Choose a specified number of phrases from the pool to use in game&#xD;
     	for( int i = 0; i &lt; plugin.config.NPC_PHRASES; i++ )&#xD;
     	{&#xD;
     		if( phrasePool.size() > 0 )&#xD;
     		{&#xD;
     			NPCPhrase phrase = phrasePool.remove(random.nextInt(phrasePool.size()));&#xD;
     			phrases.add(phrase);&#xD;
     			if( i == 0 )&#xD;
     				updateQuery = &quot;ID_NPCPhrase = &quot; + String.valueOf(phrase.getID());&#xD;
     			else&#xD;
     				updateQuery += &quot; OR ID_NPCPhrase = &quot; + String.valueOf(phrase.getID());&#xD;
     		}&#xD;
     	}&#xD;
     	&#xD;
     	// Get the initial greeting&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT np.ID_NPCPhrase, np.Text, np.IsDynamic &quot; +&#xD;
 				&quot;FROM NPCPhrases np &quot; +&#xD;
 				&quot;WHERE &quot; + whereClause + &quot; AND &quot; +&#xD;
 						&quot;np.GreetingType = 1 AND np.Affinity = (SELECT DefaultAffinity FROM NPCs WHERE ID_NPC = &quot; + npcData.id_NPC + &quot;) &quot; +&#xD;
 				&quot;ORDER BY Uses &quot; +&#xD;
 				&quot;LIMIT 1&quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	rs.next();&#xD;
     	greeting = new NPCPhrase(rs.getString(&quot;Text&quot;), rs.getInt(&quot;ID_NPCPhrase&quot;), &#xD;
     			plugin, rs.getBoolean(&quot;IsDynamic&quot;), npcData);&#xD;
     	updateQuery += &quot; OR ID_NPCPhrase = &quot; + rs.getInt(&quot;ID_NPCPhrase&quot;);&#xD;
     	&#xD;
     	// Get the followup greetings&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
 				&quot;SELECT np.ID_NPCPhrase, np.Text, np.Affinity, np.IsDynamic &quot; +&#xD;
 				&quot;FROM ( &quot; +&#xD;
 				&quot;	SELECT Affinity, MIN(Uses) as MinUses &quot; +&#xD;
				    &quot;	FROM NPCPhrases np WHERE &quot; + whereClause + &quot; AND GreetingType = 2 GROUP BY Affinity &quot; +&#xD;
     			&quot;	) AS x INNER JOIN NPCPhrases np ON np.Affinity = x.Affinity AND np.Uses = x.MinUses &quot; +&#xD;
 				&quot;WHERE &quot; + whereClause + &quot; AND &quot; +&#xD;
 						&quot;np.GreetingType = 2 &quot; +&#xD;
 				&quot;GROUP BY np.Affinity &quot;);&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	&#xD;
     	while( rs.next() )&#xD;
     	{&#xD;
     		followups.put(rs.getInt(&quot;Affinity&quot;), new NPCPhrase(rs.getString(&quot;Text&quot;), rs.getInt(&quot;ID_NPCPhrase&quot;), &#xD;
     				plugin, rs.getBoolean(&quot;IsDynamic&quot;), npcData));&#xD;
     		updateQuery += &quot; OR ID_NPCPhrase = &quot; + rs.getInt(&quot;ID_NPCPhrase&quot;);&#xD;
     		//System.out.println(&quot;Loaded followup greeting (Aff. &quot; + rs.getInt(&quot;Affinity&quot;) + &quot;): &quot; + rs.getString(&quot;Text&quot;));&#xD;
     	}&#xD;
&#xD;
 		// Update the database to show that the phrases have been used&#xD;
     	preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE NPCPhrases SET Uses = Uses + 1 WHERE &quot; + updateQuery);&#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		// Build the SpeechData object&#xD;
 		speechData = new SpeechData(phrases, greeting, followups, npcData, plugin);&#xD;
 		&#xD;
 		return speechData;&#xD;
     		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.getPhrases(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGBdDYJUEeGsv772wTim0Q" name="disableInstance" specification="_D_18goJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGBdDoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;UPDATE NPCInstances SET IsDisabled = 1 WHERE ID_NPCInstance = &quot; + id);;   &#xD;
 		preparedStatement.executeUpdate();&#xD;
     		        		        	&#xD;
 	} catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.disableInstance(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGBdD4JUEeGsv772wTim0Q" name="submitPhrase" specification="_ED251oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGBdEIJUEeGsv772wTim0Q" name="town" type="_AcfxkIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGBdEYJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGBdEoJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGBdE4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
	    int id_NPCTown;&#xD;
		&#xD;
 	try&#xD;
 	{    		&#xD;
 		// Make sure there is proper capitalization and punctuation&#xD;
			message = message.trim();&#xD;
			message = message.substring(0, 1).toUpperCase() + message.substring(1);&#xD;
			if( !message.substring(message.length()-1).equals(&quot;.&quot;) &amp;&amp; &#xD;
				!message.substring(message.length()-1).equals(&quot;?&quot;) &amp;&amp;&#xD;
				!message.substring(message.length()-1).equals(&quot;!&quot;))&#xD;
				message += &quot;.&quot;;&#xD;
 					&#xD;
 		if( town == null )&#xD;
 			id_NPCTown = 0;&#xD;
 		else&#xD;
 			id_NPCTown = town.getID();&#xD;
 		&#xD;
 		conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO NPCPhrases (Text, ID_NPCTown, IsApproved, ID_Player_Writer, Timestamp) &quot; +&#xD;
 				&quot;VALUES ('&quot; + message.replace(&quot;'&quot;, &quot;''&quot;) + &quot;', &quot; + id_NPCTown + &quot;, 0, &quot; + playerData.id_Player + &quot;, NOW())&quot;);   &#xD;
 		preparedStatement.executeUpdate();&#xD;
 		&#xD;
 		return true;&#xD;
     		        		        	&#xD;
 	} catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in NPCQueries.submitPhrase(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
 	&#xD;
 	return false;&#xD;
 	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_0uYIJUEeGsv772wTim0Q" name="loadDictionaries" method="_EGA19IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED1rsYJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_1VcYJUEeGsv772wTim0Q" name="loadNPCLocations" method="_EGA19oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED1rsoJUEeGsv772wTim0Q" type="_AcDssIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_1VcoJUEeGsv772wTim0Q" name="loadNPCs" method="_EGA1_oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED2SwIJUEeGsv772wTim0Q" type="_Aca5EIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_18gIJUEeGsv772wTim0Q" name="loadInstances" method="_EGBdB4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED250YJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_18goJUEeGsv772wTim0Q" name="disableInstance" method="_EGBdDYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_18g4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED1EoIJUEeGsv772wTim0Q" name="NPCQueries" method="_EGA18IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ED1Eo4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ED1EpIJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ED1EoYJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED1EooJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED1rsIJUEeGsv772wTim0Q" type="_AlyQcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED1rs4JUEeGsv772wTim0Q" name="createNPCLocation" method="_EGA1-IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED1rtIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED1rtYJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED1rtoJUEeGsv772wTim0Q" name="id_NPCRace">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED1rt4JUEeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED1ruIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED2SwYJUEeGsv772wTim0Q" name="createNPC" method="_EGA2AIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED2SwoJUEeGsv772wTim0Q" name="npc" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED2Sw4JUEeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED2SxIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED2SxYJUEeGsv772wTim0Q" name="createInstance" method="_EGBdAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED2SxoJUEeGsv772wTim0Q" name="id_NPC">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED2Sx4JUEeGsv772wTim0Q" name="id_NPCLocation">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED2SyIJUEeGsv772wTim0Q" name="ttlMinutes">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED2SyYJUEeGsv772wTim0Q" name="id_Player_Creator">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED2SyoJUEeGsv772wTim0Q" name="type" type="_AlMakIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED250IJUEeGsv772wTim0Q" type="_AbzOAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED250oJUEeGsv772wTim0Q" name="getPhrases" method="_EGBdCYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED2504JUEeGsv772wTim0Q" name="npcData" type="_AbwxwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED251IJUEeGsv772wTim0Q" name="id_NPCTown">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED251YJUEeGsv772wTim0Q" type="_AeQsIIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_ED251oJUEeGsv772wTim0Q" name="submitPhrase" method="_EGBdD4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED2514JUEeGsv772wTim0Q" name="town" type="_AcfxkIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED3g4IJUEeGsv772wTim0Q" name="playerData" type="_AkeB0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED3g4YJUEeGsv772wTim0Q" name="message">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_ED3g4oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Aly3gYJUEeGsv772wTim0Q" name="TaskQueries">
              <ownedAttribute xmi:id="_EFmmQIJUEeGsv772wTim0Q" name="rageDB" visibility="private" type="_AdSbwIJUEeGsv772wTim0Q" association="_EGvOtIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFmmQYJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_AalGAIJUEeGsv772wTim0Q" association="_EGvOt4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEEIJUEeGsv772wTim0Q" name="TaskQueries" specification="_ED4H8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEEYJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCEEoJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGCEE4JUEeGsv772wTim0Q" type="_Aly3gYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.rageDB = rageDB;&#xD;
		this.plugin = plugin;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEFIJUEeGsv772wTim0Q" name="loadTaskTimes" specification="_D_4YwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEFYJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>HashMap&lt;String, Timestamp> tasks = new HashMap&lt;String, Timestamp>();&#xD;
		&#xD;
		Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
     	preparedStatement = conn.prepareStatement(&quot;SELECT Name, MAX(Timestamp) as Timestamp FROM Tasks GROUP BY Name&quot;);&#xD;
     		&#xD;
     	rs = preparedStatement.executeQuery();&#xD;
     	while ( rs.next() ) &#xD;
     	{&#xD;
     		tasks.put(rs.getString(&quot;Name&quot;), rs.getTimestamp(&quot;Timestamp&quot;));       		&#xD;
     	}&#xD;
     	return tasks;&#xD;
     	&#xD;
 	} &#xD;
		catch (Exception e) {&#xD;
 		System.out.println(&quot;Error in RageDB.loadTaskTimes(): &quot; + e.getMessage());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGCEFoJUEeGsv772wTim0Q" name="setComplete" specification="_D_4Yw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGCEF4JUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>Connection conn = null;&#xD;
	    PreparedStatement preparedStatement = null;&#xD;
	    ResultSet rs = null;&#xD;
		try&#xD;
 	{&#xD;
			conn = rageDB.getConnection();&#xD;
 		preparedStatement = conn.prepareStatement(&#xD;
 				&quot;INSERT INTO Tasks (Name, Timestamp) VALUES ('&quot; + taskName + &quot;',NOW())&quot;);&#xD;
 		preparedStatement.executeUpdate();	&#xD;
 	} &#xD;
 	catch (SQLException e) {&#xD;
 		System.out.println(&quot;Error in RageDB.setComplete(): &quot; + e.getMessage());&#xD;
		    System.out.println(&quot;SQLState: &quot; + e.getSQLState());&#xD;
		    System.out.println(&quot;VendorError: &quot; + e.getErrorCode());&#xD;
		} finally {&#xD;
			rageDB.close(rs, preparedStatement, conn);&#xD;
		}	&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_D_4YwIJUEeGsv772wTim0Q" name="loadTaskTimes" method="_EGCEFIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_ED4vAIJUEeGsv772wTim0Q" type="_AkkIcYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_D_4Yw4JUEeGsv772wTim0Q" name="setComplete" method="_EGCEFoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_D_4YxIJUEeGsv772wTim0Q" name="taskName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_ED4H8IJUEeGsv772wTim0Q" name="TaskQueries" method="_EGCEEIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ED4H84JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ED4H9IJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_ED4H8YJUEeGsv772wTim0Q" name="rageDB" type="_AdSbwIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED4H8oJUEeGsv772wTim0Q" name="plugin" type="_AalGAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_ED4H9YJUEeGsv772wTim0Q" type="_Aly3gYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BILy5oJUEeGsv772wTim0Q" name="" memberEnd="_BILy54JUEeGsv772wTim0Q _A3lyIIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BILy54JUEeGsv772wTim0Q" name="" type="_AdXUQIJUEeGsv772wTim0Q" association="_BILy5oJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIMZ8YJUEeGsv772wTim0Q" name="" memberEnd="_BIMZ8oJUEeGsv772wTim0Q _A3lyIYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIMZ8oJUEeGsv772wTim0Q" name="" type="_AdXUQIJUEeGsv772wTim0Q" association="_BIMZ8YJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIMZ9IJUEeGsv772wTim0Q" name="" memberEnd="_BIMZ9YJUEeGsv772wTim0Q _A3lyIoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIMZ9YJUEeGsv772wTim0Q" name="" type="_AdZwgIJUEeGsv772wTim0Q" association="_BIMZ9IJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIMZ94JUEeGsv772wTim0Q" name="" memberEnd="_BIMZ-IJUEeGsv772wTim0Q _A3mZMIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIMZ-IJUEeGsv772wTim0Q" name="" type="_AdZwgIJUEeGsv772wTim0Q" association="_BIMZ94JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BINBAYJUEeGsv772wTim0Q" name="" memberEnd="_BINBAoJUEeGsv772wTim0Q _A3mZMoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BINBAoJUEeGsv772wTim0Q" name="" type="_AdepAIJUEeGsv772wTim0Q" association="_BINBAYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BINBBIJUEeGsv772wTim0Q" name="" memberEnd="_BINBBYJUEeGsv772wTim0Q _A3mZNIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BINBBYJUEeGsv772wTim0Q" name="" type="_AdepAIJUEeGsv772wTim0Q" association="_BINBBIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BINoEIJUEeGsv772wTim0Q" name="" memberEnd="_BINoEYJUEeGsv772wTim0Q _A3nAQYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BINoEYJUEeGsv772wTim0Q" name="" type="_Adi6cIJUEeGsv772wTim0Q" association="_BINoEIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BINoE4JUEeGsv772wTim0Q" name="" memberEnd="_BINoFIJUEeGsv772wTim0Q _A3nAQ4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BINoFIJUEeGsv772wTim0Q" name="" type="_Adi6cIJUEeGsv772wTim0Q" association="_BINoE4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BINoFoJUEeGsv772wTim0Q" name="" memberEnd="_BINoF4JUEeGsv772wTim0Q _A3oOYIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BINoF4JUEeGsv772wTim0Q" name="" type="_AdqPMIJUEeGsv772wTim0Q" association="_BINoFoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIOPIYJUEeGsv772wTim0Q" name="" memberEnd="_BIOPIoJUEeGsv772wTim0Q _A3oOYYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIOPIoJUEeGsv772wTim0Q" name="" type="_AdqPMIJUEeGsv772wTim0Q" association="_BIOPIYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIOPJIJUEeGsv772wTim0Q" name="" memberEnd="_BIOPJYJUEeGsv772wTim0Q _A3oOYoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIOPJYJUEeGsv772wTim0Q" name="" type="_AdtSgIJUEeGsv772wTim0Q" association="_BIOPJIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIOPJ4JUEeGsv772wTim0Q" name="" memberEnd="_BIOPKIJUEeGsv772wTim0Q _A3oOZIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIOPKIJUEeGsv772wTim0Q" name="" type="_AdtSgIJUEeGsv772wTim0Q" association="_BIOPJ4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGunpIJUEeGsv772wTim0Q" name="" memberEnd="_EGunpYJUEeGsv772wTim0Q _EFlYIIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGunpYJUEeGsv772wTim0Q" name="" type="_AlyQcIJUEeGsv772wTim0Q" association="_EGunpIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGunp4JUEeGsv772wTim0Q" name="" memberEnd="_EGunqIJUEeGsv772wTim0Q _EFl_MYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGunqIJUEeGsv772wTim0Q" name="" type="_AlyQcIJUEeGsv772wTim0Q" association="_EGunp4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGvOsYJUEeGsv772wTim0Q" name="" memberEnd="_EGvOsoJUEeGsv772wTim0Q _EFl_M4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGvOsoJUEeGsv772wTim0Q" name="" type="_AlyQcIJUEeGsv772wTim0Q" association="_EGvOsYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGvOtIJUEeGsv772wTim0Q" name="" memberEnd="_EGvOtYJUEeGsv772wTim0Q _EFmmQIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGvOtYJUEeGsv772wTim0Q" name="" type="_Aly3gYJUEeGsv772wTim0Q" association="_EGvOtIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EGvOt4JUEeGsv772wTim0Q" name="" memberEnd="_EGvOuIJUEeGsv772wTim0Q _EFmmQYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EGvOuIJUEeGsv772wTim0Q" name="" type="_Aly3gYJUEeGsv772wTim0Q" association="_EGvOt4JUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AaWcgIJUEeGsv772wTim0Q" name="Build">
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_qwEIJUEeGsv772wTim0Q" name="sanctumFloor" specification="_At64wYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_qwEYJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_qwEoJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_qwE4JUEeGsv772wTim0Q" name="cornerX">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_qwFIJUEeGsv772wTim0Q" name="cornerY">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_qwFYJUEeGsv772wTim0Q" name="cornerZ">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_qwFoJUEeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_qwF4JUEeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>Block currentBlock;&#xD;
		&#xD;
		// Store a list of blocks to light with fire to activate portals (this needs to be done last)&#xD;
		ArrayList&lt;Block> portalBlocks = new ArrayList&lt;Block>();&#xD;
		&#xD;
		ArrayList&lt;String> layout = RageConfig.buildSanctumFloor(level);&#xD;
		&#xD;
		//		c: Cobblestone&#xD;
	    //		d: Dirt&#xD;
	    //		p: Wood Planks&#xD;
	    //		s: Stone&#xD;
	    //		t: Tile (slab)&#xD;
	    //		o: Obsidian&#xD;
		//		O: Obsidian stack 2-high w/ glowstone on top&#xD;
	    //		g: Glowstone&#xD;
		//		G: Glowstone stack 2-high&#xD;
	    //		w: Wool (of appropriate color)&#xD;
	    //		-: Portal (inside)&#xD;
	    //		|: Portal (outside)&#xD;
	    //		b: Bedrock&#xD;
	    //		L: Liquid (water/lava)&#xD;
	    //		n: Snow&#xD;
	    //		i: Iron Block&#xD;
	    //		S: Special faction block (lapis/netherrack)&#xD;
		for( int x = 0; x &lt; 20; x++ )&#xD;
		{&#xD;
			for( int z = 0; z &lt; 20; z++ )&#xD;
			{&#xD;
				currentBlock = world.getBlockAt(cornerX + x, cornerY, cornerZ + z);&#xD;
				&#xD;
				// Clear the air above the floor&#xD;
				if( level == 1 )&#xD;
				{&#xD;
					world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 4, cornerZ + z).setType(Material.AIR);&#xD;
					world.getBlockAt(cornerX + x, cornerY + 5, cornerZ + z).setType(Material.AIR);&#xD;
				}&#xD;
				&#xD;
				// Create bedrock below the floor, to hold liquids&#xD;
				world.getBlockAt(cornerX + x, cornerY - 1, cornerZ + z).setType(Material.BEDROCK);&#xD;
				world.getBlockAt(cornerX + x, cornerY - 2, cornerZ + z).setType(Material.BEDROCK);&#xD;
				&#xD;
				// Set the floor block(s)&#xD;
				switch( layout.get(x).charAt(z) )&#xD;
				{&#xD;
					case 'c':&#xD;
						currentBlock.setType(Material.COBBLESTONE); break;&#xD;
					case 'd':&#xD;
						currentBlock.setType(Material.DIRT); break;&#xD;
					case 'p':&#xD;
						currentBlock.setType(Material.WOOD); break;&#xD;
					case 's':&#xD;
						currentBlock.setType(Material.STONE); break;&#xD;
					case 't':&#xD;
						currentBlock.setType(Material.DOUBLE_STEP); break;&#xD;
					case 'o':&#xD;
						currentBlock.setType(Material.OBSIDIAN); break;&#xD;
					case 'O':&#xD;
						currentBlock.setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						break;&#xD;
					case 'g':&#xD;
						currentBlock.setType(Material.GLOWSTONE); break;&#xD;
					case 'G':&#xD;
						currentBlock.setType(Material.GLOWSTONE); &#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.GLOWSTONE);&#xD;
						break;&#xD;
					case 'w':&#xD;
						currentBlock.setType(Material.WOOL); &#xD;
						currentBlock.setData((byte) Byte.valueOf(String.valueOf(Factions.getWoolColor(id_Faction))));&#xD;
						break;&#xD;
					case '-':&#xD;
						currentBlock.setType(Material.OBSIDIAN); &#xD;
						portalBlocks.add(world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z));&#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.AIR);	// Any existing portal blocks must be removed&#xD;
						world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.AIR);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.AIR);		&#xD;
						world.getBlockAt(cornerX + x, cornerY + 4, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						break;&#xD;
					case '|':&#xD;
						currentBlock.setType(Material.OBSIDIAN); &#xD;
						world.getBlockAt(cornerX + x, cornerY + 1, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 2, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 3, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						world.getBlockAt(cornerX + x, cornerY + 4, cornerZ + z).setType(Material.OBSIDIAN);&#xD;
						break;&#xD;
					case 'b':&#xD;
						currentBlock.setType(Material.BEDROCK); break;&#xD;
					case 'L':&#xD;
						currentBlock.setType(Material.GLASS);&#xD;
						world.getBlockAt(cornerX + x, cornerY - 1, cornerZ + z).setType(plugin.factions.getLiquidBlock(id_Faction));&#xD;
						break;&#xD;
					case 'n':&#xD;
						currentBlock.setType(Material.SNOW_BLOCK); break;&#xD;
					case 'i':&#xD;
						currentBlock.setType(Material.IRON_BLOCK); break;&#xD;
					case 'S':&#xD;
						currentBlock.setType(plugin.factions.getSpecialBlock(id_Faction)); break;&#xD;
						&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// Light the portal blocks, now that all the obsidian is in place&#xD;
		for( Block portalBlock : portalBlocks )&#xD;
		{&#xD;
			portalBlock.setType(Material.FIRE);&#xD;
			break;		// only one block is needed, trying to light more of them causes the portal to break&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_qwGIJUEeGsv772wTim0Q" name="clearNearbyBeds" specification="_At7f0IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_qwGYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Block currentBlock;&#xD;
		int locX = (int)(location.getX());&#xD;
		int locY = (int)(location.getY());&#xD;
		int locZ = (int)(location.getZ());&#xD;
		&#xD;
		&#xD;
		for( int x = locX - 2; x &lt; locX + 2; x++ )&#xD;
		{&#xD;
			for( int y = locY - 2; y &lt; locY + 2; y++ )&#xD;
			{&#xD;
				for( int z = locZ - 2; z &lt; locZ + 2; z++ )&#xD;
				{&#xD;
					currentBlock = location.getWorld().getBlockAt(x, y, z);&#xD;
					if( currentBlock.getType() == Material.BED_BLOCK )&#xD;
						currentBlock.setType(Material.AIR);	&#xD;
				}&#xD;
			}&#xD;
		}	&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_qwGoJUEeGsv772wTim0Q" name="travelNode" specification="_At7f0oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_qwG4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_qwHIJUEeGsv772wTim0Q" name="size">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_qwHYJUEeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>Block currentBlock;&#xD;
		int locX = (int)(location.getX());&#xD;
		int locY = (int)(location.getY());&#xD;
		int locZ = (int)(location.getZ());&#xD;
		int offset = (int)(size / 16);			// 1/8 scale for nether, divided by 2 for distance from center&#xD;
		&#xD;
		&#xD;
		for( int x = locX - offset; x &lt; locX + offset; x++ )&#xD;
		{&#xD;
			for( int z = locZ - offset; z &lt; locZ + offset; z++ )&#xD;
			{&#xD;
				currentBlock = location.getWorld().getBlockAt(x, locY, z);&#xD;
				currentBlock.setType(Material.WOOL); &#xD;
				currentBlock.setData((byte) Byte.valueOf(String.valueOf(Factions.getWoolColor(id_Faction))));	&#xD;
			}&#xD;
		}	&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_At64wYJUEeGsv772wTim0Q" name="sanctumFloor" isStatic="true" method="_A_qwEIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At64woJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At64w4JUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At64xIJUEeGsv772wTim0Q" name="cornerX">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At64xYJUEeGsv772wTim0Q" name="cornerY">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At64xoJUEeGsv772wTim0Q" name="cornerZ">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At64x4JUEeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At64yIJUEeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At7f0IJUEeGsv772wTim0Q" name="clearNearbyBeds" isStatic="true" method="_A_qwGIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At7f0YJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_At7f0oJUEeGsv772wTim0Q" name="travelNode" isStatic="true" method="_A_qwGoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At7f04JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At7f1IJUEeGsv772wTim0Q" name="size">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At7f1YJUEeGsv772wTim0Q" name="id_Faction">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AaZf0IJUEeGsv772wTim0Q" name="InventoryUtilities">
            <ownedAttribute xmi:id="_A20WEIJUEeGsv772wTim0Q" name="notEnoughSpaceMessage" isStatic="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_A20WEYJUEeGsv772wTim0Q" value="&quot;$dERROR: $6Not enough free space in your inventory. Clear out some space and try again.&quot;"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_rXIIJUEeGsv772wTim0Q" name="checkFreeSpace" specification="_At8G4IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_rXIYJUEeGsv772wTim0Q" name="contents" type="_Aka-goJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_rXIoJUEeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_rXI4JUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_rXJIJUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_rXJYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Material itemType = item.getType();&#xD;
		short durability = item.getDurability();&#xD;
		int maxStack = item.getType().getMaxStackSize();&#xD;
		int spaceAvailable = 0;&#xD;
&#xD;
		ItemStack[] arrayOfItemStack = contents;&#xD;
		int j = contents.length;&#xD;
		for (int i = 0; i &lt; j; i++) {&#xD;
			ItemStack curItem = arrayOfItemStack[i];&#xD;
			if (spaceAvailable >= spaceNeeded) {&#xD;
				return true;&#xD;
			}&#xD;
			if (curItem == null) {&#xD;
				spaceAvailable += maxStack;&#xD;
			} else {&#xD;
				if ((curItem.getType() != itemType)&#xD;
						|| ((curItem.getDurability() != durability) &amp;&amp; (curItem&#xD;
								.getDurability() != -1))) {&#xD;
					continue;&#xD;
				}&#xD;
				int amount = curItem.getAmount();&#xD;
				if (amount &lt; maxStack) {&#xD;
					spaceAvailable += maxStack - amount;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return spaceAvailable >= spaceNeeded;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_rXJoJUEeGsv772wTim0Q" name="checkFreeSpace" specification="_At8t8IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_rXJ4JUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_rXKIJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_rXKYJUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_rXKoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return checkFreeSpace(inv.getContents(), item, spaceNeeded);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_rXK4JUEeGsv772wTim0Q" name="addItemToInventory" specification="_At9VAIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_rXLIJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_rXLYJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_rXLoJUEeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int maxStackSize = item.getType().getMaxStackSize();&#xD;
		int iterations = amount / maxStackSize;&#xD;
		int amountLeft = amount;&#xD;
&#xD;
		for (int i = 0; i &lt;= iterations; i++) {&#xD;
			if (amountLeft &lt; maxStackSize) {&#xD;
				item.setAmount(amountLeft);&#xD;
			} else {&#xD;
				item.setAmount(maxStackSize);&#xD;
				amountLeft -= maxStackSize;&#xD;
			}&#xD;
			inv.addItem(new ItemStack[] { item });&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_rXL4JUEeGsv772wTim0Q" name="checkHasEnoughOfItem" specification="_At9VBIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_rXMIJUEeGsv772wTim0Q" name="contents" type="_Aka-goJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_rXMYJUEeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_rXMoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_rXM4JUEeGsv772wTim0Q" name="amountNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_rXNIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Material itemType = item.getType();&#xD;
		int countedAmount = 0;&#xD;
		double durability = item.getDurability();&#xD;
		&#xD;
		int j = contents.length;&#xD;
		ItemStack[] arrayOfItemStack = contents;&#xD;
		&#xD;
		for(int i = 0; i &lt; j; i++) {&#xD;
			ItemStack curItem = arrayOfItemStack[i];&#xD;
			if(countedAmount >= amountNeeded) {&#xD;
				return true;&#xD;
			}&#xD;
			if(curItem == null) {&#xD;
				continue;&#xD;
			} else {&#xD;
				if((curItem.getType() != itemType)&#xD;
						|| ((curItem.getDurability() != durability) &amp;&amp; (curItem&#xD;
								.getDurability() != -1))) {&#xD;
					continue;&#xD;
				} else {&#xD;
					countedAmount += curItem.getAmount();&#xD;
				}	&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		return false;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_r-MIJUEeGsv772wTim0Q" name="removeItemFromInventory" specification="_At98EoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_r-MYJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-MoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-M4JUEeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int removedAmount = 0;&#xD;
		Material itemType = item.getType();&#xD;
		&#xD;
		while(removedAmount &lt; amount) {&#xD;
			int indexToRemove = inv.first(itemType);&#xD;
			removedAmount += inv.getItem(indexToRemove).getAmount();&#xD;
			inv.clear(indexToRemove);&#xD;
		}		&#xD;
		addItemToInventory(inv, item, removedAmount - amount);		&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_At8G4IJUEeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_A_rXIIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At8G4YJUEeGsv772wTim0Q" name="contents" type="_Aka-goJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_At8G5YJUEeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At8G4oJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At8G44JUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At8G5IJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At8t8IJUEeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_A_rXJoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At8t8YJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At8t8oJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At8t84JUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At8t9IJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At9VAIJUEeGsv772wTim0Q" name="addItemToInventory" isStatic="true" method="_A_rXK4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At9VAYJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At9VAoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At9VA4JUEeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At9VBIJUEeGsv772wTim0Q" name="checkHasEnoughOfItem" isStatic="true" method="_A_rXL4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At9VBYJUEeGsv772wTim0Q" name="contents" type="_Aka-goJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_At98EYJUEeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At9VBoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At9VB4JUEeGsv772wTim0Q" name="amountNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At98EIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At98EoJUEeGsv772wTim0Q" name="removeItemFromInventory" isStatic="true" method="_A_r-MIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At98E4JUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At98FIJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At98FYJUEeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AadKMIJUEeGsv772wTim0Q" name="NPCUtilities">
            <ownedAttribute xmi:id="_A20WE4JUEeGsv772wTim0Q" name="notEnoughSpaceMessage" isStatic="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_A209IIJUEeGsv772wTim0Q" value="&quot;$dERROR: $6Not enough free space in your inventory. Clear out some space and try again.&quot;"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_r-NIJUEeGsv772wTim0Q" name="checkFreeSpace" specification="_At-jIIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_r-NYJUEeGsv772wTim0Q" name="contents" type="_Aka-goJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_r-NoJUEeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_r-N4JUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-OIJUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_r-OYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Material itemType = item.getType();&#xD;
		short durability = item.getDurability();&#xD;
		int maxStack = item.getType().getMaxStackSize();&#xD;
		int spaceAvailable = 0;&#xD;
		System.out.println(&quot;ItemType: &quot; + itemType.getId() + &quot; Dur: &quot;&#xD;
				+ durability + &quot; spaceNeeded: &quot; + spaceNeeded + &quot; MaxStack: &quot;&#xD;
				+ maxStack);&#xD;
&#xD;
		ItemStack[] arrayOfItemStack = contents;&#xD;
		int j = contents.length;&#xD;
		for (int i = 0; i &lt; j; i++) {&#xD;
			ItemStack curItem = arrayOfItemStack[i];&#xD;
			System.out.println(&quot;Space Avail: &quot; + spaceAvailable);&#xD;
			if (spaceAvailable >= spaceNeeded) {&#xD;
				return true;&#xD;
			}&#xD;
			if (curItem == null) {&#xD;
				spaceAvailable += maxStack;&#xD;
			} else {&#xD;
				if ((curItem.getType() != itemType)&#xD;
						|| ((curItem.getDurability() != durability) &amp;&amp; (curItem&#xD;
								.getDurability() != -1))) {&#xD;
					continue;&#xD;
				}&#xD;
				int amount = curItem.getAmount();&#xD;
				if (amount &lt; maxStack) {&#xD;
					spaceAvailable += maxStack - amount;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return spaceAvailable >= spaceNeeded;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_r-OoJUEeGsv772wTim0Q" name="checkFreeSpace" specification="_At_KMIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_r-O4JUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-PIJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-PYJUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_r-PoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return checkFreeSpace(inv.getContents(), item, spaceNeeded);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_r-P4JUEeGsv772wTim0Q" name="addItemToInventory" specification="_At_KNYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_r-QIJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-QYJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-QoJUEeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int maxStackSize = item.getType().getMaxStackSize();&#xD;
		int iterations = amount / maxStackSize;&#xD;
		int amountLeft = amount;&#xD;
&#xD;
		for (int i = 0; i &lt;= iterations; i++) {&#xD;
			if (amountLeft &lt; maxStackSize) {&#xD;
				item.setAmount(amountLeft);&#xD;
			} else {&#xD;
				item.setAmount(maxStackSize);&#xD;
				amountLeft -= maxStackSize;&#xD;
			}&#xD;
			inv.addItem(new ItemStack[] { item });&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_r-Q4JUEeGsv772wTim0Q" name="findValidRandomNPCSpawnInLocation" specification="_At_xQoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_r-RIJUEeGsv772wTim0Q" name="min" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-RYJUEeGsv772wTim0Q" name="max" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_r-RoJUEeGsv772wTim0Q" name="standardHeight">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_r-R4JUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>int maxRetries = 20;&#xD;
		Random rand = new Random();&#xD;
		if(min.getWorld() == max.getWorld()) &#xD;
		{&#xD;
			World world = min.getWorld();&#xD;
			int randomX = rand.nextInt(max.getBlockX() - min.getBlockX()) + min.getBlockX();&#xD;
			int randomZ = rand.nextInt(max.getBlockZ() - min.getBlockZ()) + min.getBlockZ();&#xD;
			&#xD;
			@SuppressWarnings(&quot;unused&quot;)&#xD;
			Location possibleLocation;&#xD;
			&#xD;
			for(int i = 0; i &lt; maxRetries; i++) {&#xD;
				possibleLocation = new Location(world, randomX, standardHeight, randomZ);&#xD;
				&#xD;
				&#xD;
				for(int x = -1; x &lt; 2; i++)&#xD;
				{					&#xD;
					for(int y = -1; y &lt; 2; y++) &#xD;
					{&#xD;
						for(int z = -1; z &lt; 2; z++)&#xD;
						{&#xD;
//							if(possibleLocation.getBlock().getRelative(x, y, z).isEmpty())  // TODO: Commented out by Icarus, preventing compilation&#xD;
							{&#xD;
								&#xD;
							}&#xD;
						}&#xD;
					}					&#xD;
				}&#xD;
				&#xD;
				&#xD;
			}	&#xD;
			&#xD;
			return new Location(min.getWorld(), 2, 2, 2);&#xD;
		}&#xD;
		else&#xD;
		{&#xD;
			// Cannot find position between different worlds&#xD;
			return null;&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_At-jIIJUEeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_A_r-NIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At-jIYJUEeGsv772wTim0Q" name="contents" type="_Aka-goJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_At-jJYJUEeGsv772wTim0Q" value="*"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At-jIoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At-jI4JUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At-jJIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At_KMIJUEeGsv772wTim0Q" name="checkFreeSpace" isStatic="true" method="_A_r-OoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At_KMYJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At_KMoJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At_KM4JUEeGsv772wTim0Q" name="spaceNeeded">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At_KNIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At_KNYJUEeGsv772wTim0Q" name="addItemToInventory" isStatic="true" method="_A_r-P4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At_KNoJUEeGsv772wTim0Q" name="inv" type="_Aka-gIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At_xQIJUEeGsv772wTim0Q" name="item" type="_Aka-goJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At_xQYJUEeGsv772wTim0Q" name="amount">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_At_xQoJUEeGsv772wTim0Q" name="findValidRandomNPCSpawnInLocation" isStatic="true" method="_A_r-Q4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_At_xQ4JUEeGsv772wTim0Q" name="min" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At_xRIJUEeGsv772wTim0Q" name="max" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_At_xRYJUEeGsv772wTim0Q" name="standardHeight">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_At_xRoJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AagNgIJUEeGsv772wTim0Q" name="RMEntityListener" clientDependency="_AuAYUIJUEeGsv772wTim0Q">
            <ownedComment xmi:id="_BAnLQIJUEeGsv772wTim0Q">
              <body>RageMod entity listener&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <ownedAttribute xmi:id="_A209IoJUEeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_At6RtoJUEeGsv772wTim0Q" isReadOnly="true" association="_BBSgsIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A209I4JUEeGsv772wTim0Q" name="random" visibility="private" type="_AkcMoIJUEeGsv772wTim0Q" association="_BBTHwIJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_slQIJUEeGsv772wTim0Q" name="RMEntityListener" specification="_AuA_YIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_slQYJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A_slQoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A_slQ4JUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_A_slRIJUEeGsv772wTim0Q" type="_AagNgIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
     this.random = new Random();&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_slRYJUEeGsv772wTim0Q" name="onEntityDamage" specification="_AuA_aIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_slRoJUEeGsv772wTim0Q" name="rawEvent" type="_AkgeE4JUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Entity defenderEntity = rawEvent.getEntity();&#xD;
 	&#xD;
 	// Makes NPC invulnerable&#xD;
     if (defenderEntity instanceof HumanEntity) &#xD;
     {			&#xD;
			if (RageNPCManager.isNPC(defenderEntity)) &#xD;
			{				&#xD;
				rawEvent.setCancelled(true);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
 	&#xD;
 	if(rawEvent instanceof EntityDamageByEntityEvent)&#xD;
 	{&#xD;
 		EntityDamageByEntityEvent edbeEvent = (EntityDamageByEntityEvent)rawEvent;&#xD;
     	&#xD;
     	Entity attackerEntity = edbeEvent.getDamager();  &#xD;
     	&#xD;
     	// If defender is NPC, the event is already cancelled, must check if it is a leftClickAction from player.&#xD;
     	if (RageNPCManager.isNPC(defenderEntity)) &#xD;
			{				&#xD;
     		if (attackerEntity instanceof Player) &#xD;
 			{						&#xD;
 				RageEntity npcEntity = RageNPCManager.getNPCFromEntity(defenderEntity);&#xD;
 				npcEntity.leftClickAction((Player) attackerEntity);&#xD;
 			}&#xD;
				return;&#xD;
			}&#xD;
     	&#xD;
         // Handle PvP&#xD;
         if( attackerEntity instanceof Player &amp;&amp; defenderEntity instanceof Player &amp;&amp; !plugin.config.PRE_RELEASE_MODE ) &#xD;
         {&#xD;
         	Player attacker = (Player)attackerEntity;&#xD;
         	Player defender = (Player)defenderEntity;&#xD;
         	PlayerData attackerData = plugin.players.get(attacker.getName());&#xD;
         	PlayerData defenderData = plugin.players.get(defender.getName());&#xD;
         	&#xD;
         	// Always prevent allies from harming each other&#xD;
 			if( attackerData.id_Faction == defenderData.id_Faction )&#xD;
 			{&#xD;
 				edbeEvent.setCancelled(true);&#xD;
     			plugin.message.parseNo(attacker, plugin.players.get(defenderData.name).getCodedName() + &quot; is your ally!&quot;);&#xD;
     			return;&#xD;
 			}&#xD;
         	&#xD;
         	// Use the defender's position to determine behavior&#xD;
         	// *** ZONE A (Neutral Zone) ***&#xD;
         	if( plugin.zones.isInZoneA(defender.getLocation()) )&#xD;
         	{&#xD;
         		// No PvP in capitol&#xD;
         		if( plugin.zones.isInCapitol(defender.getLocation()) )&#xD;
         		{&#xD;
         			edbeEvent.setCancelled(true);&#xD;
         			plugin.message.parseNo(attacker, &quot;PvP is not allowed inside &quot; + plugin.config.Capitol_CodedName + &quot;.&quot;);&#xD;
         			return;&#xD;
         		}&#xD;
         		else&#xD;
         		{&#xD;
         			// Only faction-faction PvP is allowed in neutral zone&#xD;
         			if( defenderData.id_Faction == 0 )&#xD;
         			{&#xD;
         				edbeEvent.setCancelled(true);&#xD;
             			plugin.message.sendNo(attacker, &quot;You cannot attack neutral players in &quot; + plugin.config.Zone_NAME_A + &quot;.&quot;);&#xD;
             			return;&#xD;
         			}&#xD;
         			else if( attackerData.id_Faction == 0 )&#xD;
         			{&#xD;
         				edbeEvent.setCancelled(true);&#xD;
             			plugin.message.sendNo(attacker, &quot;Neutral players cannot attack in &quot; + plugin.config.Zone_NAME_A + &quot;.&quot;);&#xD;
             			return;&#xD;
         			}&#xD;
         		}&#xD;
         	}&#xD;
         	// *** ZONE B (War Zone) ***&#xD;
         	else if( plugin.zones.isInZoneB(defender.getLocation()) )&#xD;
         	{&#xD;
         		PlayerTown playerTown = (PlayerTown)plugin.towns.getCurrentTown(defender.getLocation());&#xD;
         		&#xD;
         		// Keep referees from participating in combat&#xD;
         		if(RageMod.perms.has(attacker, &quot;ragemod.referee.blockpvp&quot;) )&#xD;
         		{&#xD;
         			edbeEvent.setCancelled(true);&#xD;
         			plugin.message.sendNo(attacker, &quot;Referees may not participate in combat.&quot;);&#xD;
         			return;&#xD;
         		}&#xD;
         		// Protect referees &#xD;
         		else if( RageMod.perms.has(defender, &quot;ragemod.referee.blockpvp&quot;) )&#xD;
         		{&#xD;
         			edbeEvent.setCancelled(true);&#xD;
         			plugin.message.sendNo(attacker, &quot;You cannot harm a referee.&quot;);&#xD;
         			return;&#xD;
         		}&#xD;
         		// Handle combat inside of towns&#xD;
         		else if( playerTown != null )&#xD;
         		{&#xD;
 	        		// Protect neutral players inside all towns&#xD;
 	        		if( defenderData.id_Faction == 0 )&#xD;
 	        		{&#xD;
 	        			edbeEvent.setCancelled(true);&#xD;
 	        			plugin.message.sendNo(attacker, &quot;You cannot harm neutral players inside of towns.&quot;);&#xD;
 	        			return;&#xD;
 	        		}&#xD;
 	        		// Keep neutral players from harming any players&#xD;
 	        		if( attackerData.id_Faction == 0 )&#xD;
 	        		{&#xD;
 	        			edbeEvent.setCancelled(true);&#xD;
 	        			plugin.message.sendNo(attacker, &quot;Neutral players cannot attack inside of towns.&quot;);&#xD;
 	        			return;&#xD;
 	        		}&#xD;
 	        		// Protect faction players inside of their own and allied towns&#xD;
 	        		if( defenderData.id_Faction == playerTown.id_Faction )&#xD;
 	        		{&#xD;
 	        			edbeEvent.setCancelled(true);&#xD;
 	        			plugin.message.parseNo(attacker, &quot;You cannot harm &quot; + plugin.factions.getCodedName(defenderData.id_Faction) + &quot; inside of their own towns.&quot;);&#xD;
 	        			return;&#xD;
 	        		}&#xD;
         		}&#xD;
         	}&#xD;
         }&#xD;
         else if( defenderEntity instanceof Player &amp;&amp; attackerEntity instanceof Creature)&#xD;
         {&#xD;
         	Player defenderPlayer = (Player) defenderEntity;&#xD;
         	if( RageMod.perms.has(defenderPlayer, &quot;ragemod.admin.smitemobs&quot;) )&#xD;
         	{&#xD;
         		// Automatically kill monsters who attack admins&#xD;
             	Creature creature = (Creature)attackerEntity;&#xD;
             	creature.setFireTicks(1);&#xD;
             	creature.damage(100);&#xD;
         	}&#xD;
         } &#xD;
         // Defender is Creature, Attacker is Player&#xD;
         else if(defenderEntity instanceof Creature &amp;&amp; attackerEntity instanceof Player &amp;&amp; !plugin.config.PRE_RELEASE_MODE)&#xD;
         {&#xD;
         	Creature defenderCreature = (Creature)defenderEntity;&#xD;
         	Player attackerPlayer = (Player) attackerEntity;&#xD;
         	PlayerData playerData = plugin.players.get(attackerPlayer.getName());&#xD;
         	&#xD;
         	// Creature dies from attack&#xD;
         	if(defenderCreature.getHealth() &lt;= edbeEvent.getDamage())&#xD;
         	{&#xD;
         		// Player is on a quest, quest is of KillCreatureQuest type&#xD;
         		if(playerData.isOnKillQuest())&#xD;
         		{&#xD;
         			KillCreatureQuest kcQuest = (KillCreatureQuest) playerData.activeQuestData.getQuest();&#xD;
         			CreatureType entityCreatureType = Util.getCreatureTypeFromEntity(defenderCreature);&#xD;
         			&#xD;
         			if(entityCreatureType == kcQuest.getCreatureToBeKilled())&#xD;
         			{&#xD;
         				playerData.activeQuestData.incrementObjectiveCounter();&#xD;
         				playerData.activeQuestData.getQuest().statusUpdate(attackerPlayer, playerData);&#xD;
         			}&#xD;
         		}&#xD;
         	}&#xD;
         }&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_slR4JUEeGsv772wTim0Q" name="onCreatureSpawn" specification="_AuBmcYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_slSIJUEeGsv772wTim0Q" name="event" type="_Akf3BYJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>// Don't process code if event was cancelled by another plugin&#xD;
 	if (event.isCancelled()) &#xD;
         return;&#xD;
 	&#xD;
 	// Don't let monsters spawn inside player towns or the capitol&#xD;
 	if( (event.getCreatureType() == CreatureType.CREEPER || event.getCreatureType() == CreatureType.SKELETON ||&#xD;
 			event.getCreatureType() == CreatureType.ZOMBIE || event.getCreatureType() == CreatureType.SPIDER ||&#xD;
 			event.getCreatureType() == CreatureType.SQUID || event.getCreatureType() == CreatureType.ENDERMAN) &amp;&amp; &#xD;
 			(plugin.zones.isInCapitol(event.getLocation()) || plugin.towns.getCurrentTown(event.getLocation()) != null) )&#xD;
 		event.setCancelled(true);&#xD;
 	&#xD;
 	// Don't let monsters spawn inside the travel zone&#xD;
 	else if( plugin.zones.isInTravelZone(event.getLocation()) )&#xD;
 		event.setCancelled(true);&#xD;
 	&#xD;
 	// Change colors of sheep spawned inside faction towns&#xD;
 	else if( event.getCreatureType() == CreatureType.SHEEP )&#xD;
 	{&#xD;
 		Town town = plugin.towns.getCurrentTown(event.getLocation());&#xD;
 		if( town != null &amp;&amp; town instanceof PlayerTown )&#xD;
 		{&#xD;
 			PlayerTown playerTown = (PlayerTown)town;&#xD;
 			if( playerTown.id_Faction != 0 &amp;&amp; random.nextInt(100) &lt; plugin.config.Town_COLORED_SHEEP_CHANCE )&#xD;
 			{&#xD;
 				Sheep s = (Sheep) event.getEntity();&#xD;
 				s.setColor(plugin.factions.getDyeColor(playerTown.id_Faction, random.nextBoolean()));&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_slSYJUEeGsv772wTim0Q" name="onEntityTarget" specification="_AuBmdIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_slSoJUEeGsv772wTim0Q" name="event" type="_AkhFIYJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>if ((event instanceof NPCTargetEvent)) &#xD;
		{			&#xD;
			NPCTargetEvent netEvent = (NPCTargetEvent) event;&#xD;
			if (((netEvent.getTarget() instanceof Player))) &#xD;
			{				&#xD;
				RageEntity npcEntity = RageNPCManager.getNPCFromEntity(netEvent.getEntity());&#xD;
				npcEntity.rightClickAction((Player) event.getTarget());&#xD;
			}&#xD;
		}		&#xD;
	</body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_AuAYUIJUEeGsv772wTim0Q" supplier="_Akf3A4JUEeGsv772wTim0Q" client="_AagNgIJUEeGsv772wTim0Q" contract="_Akf3A4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AuA_YIJUEeGsv772wTim0Q" name="RMEntityListener" method="_A_slQIJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_AuA_YoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_AuA_Y4JUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_AuA_YYJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AuA_ZoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuA_Z4JUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_AuA_ZIJUEeGsv772wTim0Q" type="_AagNgIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AuA_aIJUEeGsv772wTim0Q" name="onEntityDamage" method="_A_slRYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuA_aYJUEeGsv772wTim0Q" name="rawEvent" type="_AkgeE4JUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AuBmcYJUEeGsv772wTim0Q" name="onCreatureSpawn" method="_A_slR4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuBmcoJUEeGsv772wTim0Q" name="event" type="_Akf3BYJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AuBmdIJUEeGsv772wTim0Q" name="onEntityTarget" method="_A_slSYJUEeGsv772wTim0Q">
              <ownedComment xmi:id="_BAnyUIJUEeGsv772wTim0Q">
                <body> Called on entityTarget. Used for detecting right clicks on the NPC</body>
              </ownedComment>
              <ownedParameter xmi:id="_AuBmdYJUEeGsv772wTim0Q" name="event" type="_AkhFIYJUEeGsv772wTim0Q"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AajQ0IJUEeGsv772wTim0Q" name="RMServerListener" clientDependency="_AuCNgIJUEeGsv772wTim0Q">
            <ownedAttribute xmi:id="_A21kMIJUEeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_At6RtoJUEeGsv772wTim0Q" isReadOnly="true" association="_BBTHw4JUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tMUIJUEeGsv772wTim0Q" name="RMServerListener" specification="_AuCNgYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_tMUYJUEeGsv772wTim0Q" name="instance" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_tMUoJUEeGsv772wTim0Q" type="_AajQ0IJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = instance;&#xD;
	</body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_AuCNgIJUEeGsv772wTim0Q" supplier="_Akf3A4JUEeGsv772wTim0Q" client="_AajQ0IJUEeGsv772wTim0Q" contract="_Akf3A4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AuCNgYJUEeGsv772wTim0Q" name="RMServerListener" method="_A_tMUIJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_AuC0kIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_AuC0kYJUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_AuCNgoJUEeGsv772wTim0Q" name="instance" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuC0koJUEeGsv772wTim0Q" type="_AajQ0IJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AalGAIJUEeGsv772wTim0Q" name="RageMod">
            <ownedComment xmi:id="_BAnyUoJUEeGsv772wTim0Q">
              <body>RageMod for Bukkit&#xD;
 *&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <generalization xmi:id="_AuHGB4JUEeGsv772wTim0Q" general="_Ak1OMYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A21kMYJUEeGsv772wTim0Q" name="playerListener" visibility="private" type="_AuC0lIJUEeGsv772wTim0Q" association="_BBTHxoJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A22LQIJUEeGsv772wTim0Q" name="blockListener" visibility="private" type="_AuDboYJUEeGsv772wTim0Q" association="_BBTu0YJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A22LQoJUEeGsv772wTim0Q" name="serverListener" visibility="private" type="_AuECsIJUEeGsv772wTim0Q" association="_BBTu1IJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A22LRIJUEeGsv772wTim0Q" name="entityListener" visibility="private" type="_AuECsoJUEeGsv772wTim0Q" association="_BBTu14JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A22yUIJUEeGsv772wTim0Q" name="plugin" visibility="private" isStatic="true" type="_At6RtoJUEeGsv772wTim0Q" association="_BBUV4YJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A22yUoJUEeGsv772wTim0Q" name="debugees" visibility="private" isLeaf="true" type="_AkkIcYJUEeGsv772wTim0Q" isReadOnly="true" association="_BBUV5IJUEeGsv772wTim0Q">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_A22yVIJUEeGsv772wTim0Q" value="new HashMap&lt;Player, Boolean>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_A23ZYYJUEeGsv772wTim0Q" name="server" visibility="private" type="_Ak0AE4JUEeGsv772wTim0Q" association="_BBU88YJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A23ZY4JUEeGsv772wTim0Q" name="pluginManager" visibility="private" type="_Ak0nIYJUEeGsv772wTim0Q" association="_BBU89IJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A23ZZYJUEeGsv772wTim0Q" name="perms" isStatic="true" type="_AkkvgYJUEeGsv772wTim0Q" association="_BBU894JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A24AcYJUEeGsv772wTim0Q" name="econ" isStatic="true" type="_AkkIc4JUEeGsv772wTim0Q" association="_BBVkAYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A24Ac4JUEeGsv772wTim0Q" name="economy" type="_AkkIc4JUEeGsv772wTim0Q" association="_BBVkBIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A24AdYJUEeGsv772wTim0Q" name="text" type="_Ak0AEYJUEeGsv772wTim0Q" association="_BBVkB4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A24ngYJUEeGsv772wTim0Q" name="mainDirectory" isStatic="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_A24ngoJUEeGsv772wTim0Q" value="&quot;plugins/RageMod&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_A24nhIJUEeGsv772wTim0Q" name="file" type="_AkjhYIJUEeGsv772wTim0Q" association="_BBWLEYJUEeGsv772wTim0Q">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_A24nhYJUEeGsv772wTim0Q" value="new File(mainDirectory + File.separator + &quot;config.yml&quot;)"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_A24nh4JUEeGsv772wTim0Q" name="lots" type="_Akkvg4JUEeGsv772wTim0Q" association="_BBWLFIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A25OkYJUEeGsv772wTim0Q" name="players" type="_AcvpMIJUEeGsv772wTim0Q" association="_BBWyIIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A25Ok4JUEeGsv772wTim0Q" name="towns" type="_Ac_g0IJUEeGsv772wTim0Q" association="_BBWyI4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A25OlYJUEeGsv772wTim0Q" name="tasks" type="_AklWkYJUEeGsv772wTim0Q" association="_BBWyJoJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A251oYJUEeGsv772wTim0Q" name="factions" type="_AblyoIJUEeGsv772wTim0Q" association="_BBXZMYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A251o4JUEeGsv772wTim0Q" name="languages" type="_Aek1MIJUEeGsv772wTim0Q" association="_BBXZNIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A251pYJUEeGsv772wTim0Q" name="Bounties" type="_AckqEIJUEeGsv772wTim0Q" association="_BBXZN4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A26csYJUEeGsv772wTim0Q" name="config" type="_AuFQ0IJUEeGsv772wTim0Q" association="_BBYAQYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A26cs4JUEeGsv772wTim0Q" name="database" type="_AdSbwIJUEeGsv772wTim0Q" association="_BBYARIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A26ctYJUEeGsv772wTim0Q" name="zones" type="_AuFQ0oJUEeGsv772wTim0Q" association="_BBYnUIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A27DwYJUEeGsv772wTim0Q" name="message" type="_Ak0AEYJUEeGsv772wTim0Q" association="_BBYnU4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A27Dw4JUEeGsv772wTim0Q" name="npcManager" type="_AeANcIJUEeGsv772wTim0Q" association="_BBYnVoJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_A27DxYJUEeGsv772wTim0Q" name="questManager" type="_AedgcIJUEeGsv772wTim0Q" association="_BBZOYYJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tMU4JUEeGsv772wTim0Q" name="getInstance" specification="_AaoJUIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_tMVIJUEeGsv772wTim0Q" type="_At6RtoJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>if(plugin == null)&#xD;
 		plugin = new RageMod(); &#xD;
 	&#xD;
 	return plugin;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tMVYJUEeGsv772wTim0Q" name="onEnable" specification="_AaoJUYJUEeGsv772wTim0Q">
              <language>java</language>
              <body>plugin = this;&#xD;
     initializeVariables();&#xD;
     registerEvents();        &#xD;
     setupPermissions();   &#xD;
     loadDatabaseData();        &#xD;
     startScheduledTasks();        &#xD;
     runDebugTests();      &#xD;
     &#xD;
     System.out.println( &quot;RageMod is enabled!!!&quot; );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tMVoJUEeGsv772wTim0Q" name="creatingNPCTemp" specification="_AaoJUoJUEeGsv772wTim0Q">
              <language>java</language>
              <body>/*&#xD;
 	this.npcManager.spawnNPC(&quot;TraderNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 96.0D), &quot;1&quot;, NPCManager.TRADERNPC);&#xD;
		this.npcManager.spawnNPC(&quot;QuestStartNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 94.0D), &quot;2&quot;, NPCManager.QUESTSTARTNPC);&#xD;
		this.npcManager.spawnNPC(&quot;QuestEndNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 92.0D), &quot;3&quot;, NPCManager.QUESTENDNPC);&#xD;
		this.npcManager.spawnNPC(&quot;QuestNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D,90.0D), &quot;4&quot;, 3);&#xD;
		this.npcManager.spawnNPC(&quot;RewardNPC&quot;, new Location(getServer().getWorld(&quot;world&quot;), -10.0D, 64.0D, 88.0D), &quot;5&quot;, 5);&#xD;
		NPCManager.npcs.get(&quot;5&quot;).setQuest((Quest) QuestManager.quests.get(Integer.valueOf(1)));&#xD;
		*/&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tMV4JUEeGsv772wTim0Q" name="onDisable" specification="_AaoJU4JUEeGsv772wTim0Q">
              <language>java</language>
              <body>// this.npcManager.despawnAll();&#xD;
     System.out.println(&quot;Goodbye world!&quot;);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tMWIJUEeGsv772wTim0Q" name="load" specification="_AaoJVIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_tzYIJUEeGsv772wTim0Q" type="_AuF34oJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>try {&#xD;
         Configuration config = new Configuration(plugin, &quot;config.yml&quot;);&#xD;
         config.load();&#xD;
         return config;&#xD;
&#xD;
     } catch (Exception e) {&#xD;
         e.printStackTrace();&#xD;
     }&#xD;
     return null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tzYYJUEeGsv772wTim0Q" name="isDebugging" specification="_AuGe8oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_tzYoJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A_tzY4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A_tzZIJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_A_tzZYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>if (debugees.containsKey(player)) {&#xD;
         return debugees.get(player);&#xD;
     } else {&#xD;
         return false;&#xD;
     }&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tzZoJUEeGsv772wTim0Q" name="setDebugging" specification="_AuHGAIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_tzZ4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A_tzaIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A_tzaYJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_A_tzaoJUEeGsv772wTim0Q" name="value">
                <eAnnotations xmi:id="_A_tza4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A_tzbIJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>debugees.put(player, value);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tzbYJUEeGsv772wTim0Q" name="setupPermissions" specification="_AaowYIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_tzboJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>RegisteredServiceProvider&lt;Permission> rsp = getServer().getServicesManager().getRegistration(Permission.class);&#xD;
     perms = rsp.getProvider();&#xD;
     return perms != null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tzb4JUEeGsv772wTim0Q" name="runDebugTests" specification="_AapXcIJUEeGsv772wTim0Q">
              <language>java</language>
              <body>System.out.println(&quot;Number of lots:&quot; + lots.getAll().size());    	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tzcIJUEeGsv772wTim0Q" name="registerEvents" specification="_AapXcYJUEeGsv772wTim0Q">
              <language>java</language>
              <body>pluginManager.registerEvents(serverListener, this);&#xD;
     &#xD;
     pluginManager.registerEvents(playerListener, this);&#xD;
     &#xD;
     pluginManager.registerEvents(blockListener, this);&#xD;
     &#xD;
     pluginManager.registerEvents(entityListener, this);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_tzcYJUEeGsv772wTim0Q" name="initializeVariables" specification="_AapXcoJUEeGsv772wTim0Q">
              <language>java</language>
              <body>serverListener = new RMServerListener(this);&#xD;
 	playerListener = new RMPlayerListener(this);&#xD;
 	blockListener = new RMBlockListener(this);  &#xD;
 	entityListener = new RMEntityListener(this);&#xD;
 	config = new RageConfig(this);&#xD;
     database = new RageDB(this, config);&#xD;
     &#xD;
     lots = new Lots(this);&#xD;
     players = new Players(this);&#xD;
     towns = new Towns(this);&#xD;
     tasks = new Tasks(this);&#xD;
     factions = new Factions();&#xD;
     languages = new Languages(this);&#xD;
     &#xD;
 	server = this.getServer();&#xD;
 	zones = new RageZones(this, config);&#xD;
     pluginManager = server.getPluginManager();&#xD;
     npcManager = new RageNPCManager(this);&#xD;
     questManager = new QuestManager();&#xD;
     message = new Message(this);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_uacIJUEeGsv772wTim0Q" name="loadDatabaseData" specification="_AapXc4JUEeGsv772wTim0Q">
              <language>java</language>
              <body>towns.loadTowns();&#xD;
     lots.loadLots();&#xD;
     tasks.loadTaskTimes();&#xD;
     languages.loadDictionaries();&#xD;
     npcManager.associateLocations();&#xD;
     npcManager.spawnAllInstances();&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_uacYJUEeGsv772wTim0Q" name="startScheduledTasks" specification="_AapXdIJUEeGsv772wTim0Q">
              <language>java</language>
              <body>this.getServer().getScheduler().scheduleSyncRepeatingTask(this, new RageTimer(this), 20, 20);&#xD;
 </body>
            </ownedBehavior>
            <ownedOperation xmi:id="_AaniQIJUEeGsv772wTim0Q" name="RageMod">
              <eAnnotations xmi:id="_AaniQYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_AaniQoJUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_AaniRIJUEeGsv772wTim0Q" type="_AalGAIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AaoJUIJUEeGsv772wTim0Q" name="getInstance" isStatic="true" method="_A_tMU4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuF34YJUEeGsv772wTim0Q" type="_At6RtoJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AaoJUYJUEeGsv772wTim0Q" name="onEnable" method="_A_tMVYJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AaoJUoJUEeGsv772wTim0Q" name="creatingNPCTemp" method="_A_tMVoJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AaoJU4JUEeGsv772wTim0Q" name="onDisable" method="_A_tMV4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AaoJVIJUEeGsv772wTim0Q" name="load" method="_A_tMWIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuGe8YJUEeGsv772wTim0Q" type="_AuF34oJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AaowYIJUEeGsv772wTim0Q" name="setupPermissions" visibility="private" method="_A_tzbYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AaowYYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_AapXcIJUEeGsv772wTim0Q" name="runDebugTests" visibility="private" method="_A_tzb4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AapXcYJUEeGsv772wTim0Q" name="registerEvents" visibility="private" method="_A_tzcIJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AapXcoJUEeGsv772wTim0Q" name="initializeVariables" visibility="private" method="_A_tzcYJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AapXc4JUEeGsv772wTim0Q" name="loadDatabaseData" visibility="private" method="_A_uacIJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AapXdIJUEeGsv772wTim0Q" name="startScheduledTasks" visibility="private" method="_A_uacYJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_AuGe8oJUEeGsv772wTim0Q" name="isDebugging" method="_A_tzYYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuGe84JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AuGe9YJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuGe9oJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_AuGe9IJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_AuHGAIJUEeGsv772wTim0Q" name="setDebugging" method="_A_tzZoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuHGAYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_AuHGA4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuHGBIJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_AuHGAoJUEeGsv772wTim0Q" name="value">
                <eAnnotations xmi:id="_AuHGBYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_AuHGBoJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AaxTQIJUEeGsv772wTim0Q" name="Util">
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_uacoJUEeGsv772wTim0Q" name="formatCooldown" specification="_Aax6UIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_uac4JUEeGsv772wTim0Q" name="totalSeconds">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_uadIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>int minutes, seconds;&#xD;
		&#xD;
		minutes = totalSeconds / 60;&#xD;
		seconds = totalSeconds % 60;&#xD;
		&#xD;
		java.text.DecimalFormat nft = new java.text.DecimalFormat(&quot;#00.###&quot;);&#xD;
		nft.setDecimalSeparatorAlwaysShown(false);&#xD;
		&#xD;
		return minutes + &quot;:&quot; + nft.format(seconds);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_uadYJUEeGsv772wTim0Q" name="now" specification="_Aax6VIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_uadoJUEeGsv772wTim0Q" type="_Ak44kIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>Date today = new java.util.Date();&#xD;
		Timestamp now = new java.sql.Timestamp(today.getTime());&#xD;
		return now;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_uad4JUEeGsv772wTim0Q" name="daysBetween" specification="_AuI7MIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_uaeIJUEeGsv772wTim0Q" name="time1" type="_Ak44kIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_uaeYJUEeGsv772wTim0Q" name="time2" type="_Ak44kIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_uaeoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return (int)((time1.getTime() - time2.getTime()) / 86400000);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vBgIJUEeGsv772wTim0Q" name="secondsSince" specification="_AuI7NYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vBgYJUEeGsv772wTim0Q" name="timestamp" type="_Ak44kIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_vBgoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return (int)((now().getTime() - timestamp.getTime()) / 1000);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vBg4JUEeGsv772wTim0Q" name="minutesFromNow" specification="_AayhYYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vBhIJUEeGsv772wTim0Q" name="minutes">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBhYJUEeGsv772wTim0Q" type="_Ak44kIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>return new Timestamp(now().getTime() + (minutes * 60000));&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vBhoJUEeGsv772wTim0Q" name="getCreatureTypeFromEntity" specification="_AuJiQ4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vBh4JUEeGsv772wTim0Q" name="creature" type="_Akeo4IJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_vBiIJUEeGsv772wTim0Q" type="_Akeo4oJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>if(creature instanceof Spider)&#xD;
		{&#xD;
			return CreatureType.SPIDER;&#xD;
		}&#xD;
		else if(creature instanceof Wolf)&#xD;
		{&#xD;
			return CreatureType.WOLF;&#xD;
		}&#xD;
		else if(creature instanceof Creeper)&#xD;
		{&#xD;
			return CreatureType.CREEPER;&#xD;
		}&#xD;
		else if(creature instanceof Slime)&#xD;
		{&#xD;
			return CreatureType.SLIME;&#xD;
		}&#xD;
		else if(creature instanceof Skeleton)&#xD;
		{&#xD;
			return CreatureType.SKELETON;&#xD;
		}&#xD;
		else if(creature instanceof Zombie)&#xD;
		{&#xD;
			return CreatureType.ZOMBIE;&#xD;
		}&#xD;
		else if(creature instanceof PigZombie)&#xD;
		{&#xD;
			return CreatureType.PIG_ZOMBIE;&#xD;
		}&#xD;
		else if(creature instanceof Squid)&#xD;
		{&#xD;
			return CreatureType.SQUID;&#xD;
		}&#xD;
		else if(creature instanceof Chicken)&#xD;
		{&#xD;
			return CreatureType.CHICKEN;&#xD;
		}&#xD;
		else if(creature instanceof Cow)&#xD;
		{&#xD;
			return CreatureType.COW;&#xD;
		}&#xD;
		else if(creature instanceof Ghast)&#xD;
		{&#xD;
			return CreatureType.GHAST;&#xD;
		}&#xD;
		else if(creature instanceof Pig)&#xD;
		{&#xD;
			return CreatureType.PIG;&#xD;
		}&#xD;
		else if(creature instanceof Sheep)&#xD;
		{&#xD;
			return CreatureType.SHEEP;&#xD;
		}&#xD;
&#xD;
		else if(creature instanceof Giant)&#xD;
		{&#xD;
			return CreatureType.GIANT;&#xD;
		}&#xD;
		else if (creature instanceof EnderDragon)&#xD;
		{&#xD;
			return CreatureType.ENDER_DRAGON;&#xD;
		} else if (creature instanceof Enderman) {&#xD;
			return CreatureType.ENDERMAN;&#xD;
		} else {&#xD;
			return CreatureType.valueOf(&quot;Unknown&quot;);&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vBiYJUEeGsv772wTim0Q" name="getLocationFromCoords" specification="_AuKJUIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vBioJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_vBi4JUEeGsv772wTim0Q" name="coords">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBjIJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>String[] split = coords.split(&quot;,&quot;);&#xD;
		try&#xD;
		{&#xD;
			return new Location(world, Double.parseDouble(split[0]), Double.parseDouble(split[1]), Double.parseDouble(split[2]));&#xD;
		}&#xD;
		catch( Exception ex )&#xD;
		{&#xD;
			System.out.println(&quot;ERROR: Invalid coordinate string passed to Util.getLocationFromCoords(): &quot; + coords);&#xD;
			return null;&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vBjYJUEeGsv772wTim0Q" name="between" specification="_AazvgIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vBjoJUEeGsv772wTim0Q" name="x1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBj4JUEeGsv772wTim0Q" name="x2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBkIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <language>java</language>
              <body>return x1 - ((x1 - x2) / 2) ;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vBkYJUEeGsv772wTim0Q" name="isBetween" specification="_AazvhYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vBkoJUEeGsv772wTim0Q" name="test">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBk4JUEeGsv772wTim0Q" name="a1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBlIJUEeGsv772wTim0Q" name="a2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_vBlYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return (test >= a1 &amp;&amp; test &lt;= a2) || (test &lt;= a1 &amp;&amp; test >= a2);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vokIJUEeGsv772wTim0Q" name="findTeleportLocation" specification="_AuKJVYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_vokYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_A_vokoJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>Block blockA, blockB;&#xD;
		&#xD;
		for( int i = (int)location.getY(); i &lt; 127; i++ )&#xD;
		{&#xD;
			blockA = location.getWorld().getBlockAt(new Location(location.getWorld(), location.getX(), i, location.getZ()));&#xD;
			blockB = location.getWorld().getBlockAt(new Location(location.getWorld(), location.getX(), i-1, location.getZ()));&#xD;
			&#xD;
			if( blockA.getType() == Material.AIR &amp;&amp; blockB.getType() == Material.AIR )&#xD;
				return new Location(location.getWorld(), location.getX(), i-1, location.getZ());&#xD;
		}&#xD;
		&#xD;
		return null;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_A_vok4JUEeGsv772wTim0Q" name="getAffinityCode" specification="_Aa0WlIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_A_volIJUEeGsv772wTim0Q" name="affinity">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedParameter>
              <ownedParameter xmi:id="_A_volYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>int affinityCode = Math.round(affinity / 4);&#xD;
		if( affinityCode > 2 )&#xD;
			affinityCode = 2;&#xD;
		else if( affinityCode &lt; -2 )&#xD;
			affinityCode = -2;&#xD;
		&#xD;
		return affinityCode;&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Aax6UIJUEeGsv772wTim0Q" name="formatCooldown" isStatic="true" method="_A_uacoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_Aax6UYJUEeGsv772wTim0Q" name="totalSeconds">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_Aax6UoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Aax6VIJUEeGsv772wTim0Q" name="now" isStatic="true" method="_A_uadYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuIUIIJUEeGsv772wTim0Q" type="_Ak44kIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AayhYYJUEeGsv772wTim0Q" name="minutesFromNow" isStatic="true" method="_A_vBg4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AazIcIJUEeGsv772wTim0Q" name="minutes">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_AuJiQoJUEeGsv772wTim0Q" type="_Ak44kIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AazvgIJUEeGsv772wTim0Q" name="between" isStatic="true" method="_A_vBjYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AazvgYJUEeGsv772wTim0Q" name="x1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_AazvgoJUEeGsv772wTim0Q" name="x2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_Aazvg4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_AazvhYJUEeGsv772wTim0Q" name="isBetween" isStatic="true" method="_A_vBkYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AazvhoJUEeGsv772wTim0Q" name="test">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_Aa0WkIJUEeGsv772wTim0Q" name="a1">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_Aa0WkYJUEeGsv772wTim0Q" name="a2">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <ownedParameter xmi:id="_Aa0WkoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Aa0WlIJUEeGsv772wTim0Q" name="getAffinityCode" isStatic="true" method="_A_vok4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_Aa0WlYJUEeGsv772wTim0Q" name="affinity">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              </ownedParameter>
              <ownedParameter xmi:id="_Aa0WloJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_AuI7MIJUEeGsv772wTim0Q" name="daysBetween" isStatic="true" method="_A_uad4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuI7MYJUEeGsv772wTim0Q" name="time1" type="_Ak44kIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuI7MoJUEeGsv772wTim0Q" name="time2" type="_Ak44kIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuI7M4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_AuI7NYJUEeGsv772wTim0Q" name="secondsSince" isStatic="true" method="_A_vBgIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuI7NoJUEeGsv772wTim0Q" name="timestamp" type="_Ak44kIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuJiQIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_AuJiQ4JUEeGsv772wTim0Q" name="getCreatureTypeFromEntity" isStatic="true" method="_A_vBhoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuJiRIJUEeGsv772wTim0Q" name="creature" type="_Akeo4IJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuJiRYJUEeGsv772wTim0Q" type="_Akeo4oJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AuKJUIJUEeGsv772wTim0Q" name="getLocationFromCoords" isStatic="true" method="_A_vBiYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuKJUYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuKJUoJUEeGsv772wTim0Q" name="coords">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_AuKJU4JUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_AuKJVYJUEeGsv772wTim0Q" name="findTeleportLocation" isStatic="true" method="_A_vokIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_AuKwYIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_AuKwYYJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AlCpkIJUEeGsv772wTim0Q" name="RageConfig">
            <ownedAttribute xmi:id="_EFFB0IJUEeGsv772wTim0Q" name="pluginConfig" visibility="private" type="_AuF34oJUEeGsv772wTim0Q" association="_EGk2pIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFFo4IJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_At6RtoJUEeGsv772wTim0Q" association="_EGk2p4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFFo4oJUEeGsv772wTim0Q" name="SERVER_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFFo44JUEeGsv772wTim0Q" value="&quot;Rageland&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFFo5YJUEeGsv772wTim0Q" name="PRE_RELEASE_MODE">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFGP8IJUEeGsv772wTim0Q" name="OWNER_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFGP8YJUEeGsv772wTim0Q" value="&quot;TheIcarusKid&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFGP84JUEeGsv772wTim0Q" name="DB_URL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFGP9YJUEeGsv772wTim0Q" name="DB_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFGP94JUEeGsv772wTim0Q" name="DB_DRIVER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFG3AYJUEeGsv772wTim0Q" name="DB_USER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFG3A4JUEeGsv772wTim0Q" name="DB_PASSWORD">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFG3BYJUEeGsv772wTim0Q" name="DB_TIMEOUT">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFHeEYJUEeGsv772wTim0Q" name="Town_MIN_DISTANCE_BETWEEN">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFHeEoJUEeGsv772wTim0Q" value="400"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFHeFIJUEeGsv772wTim0Q" name="Town_MIN_DISTANCE_ENEMY_CAPITOL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFHeFYJUEeGsv772wTim0Q" value="2000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFHeF4JUEeGsv772wTim0Q" name="Town_MIN_DISTANCE_SPAWN">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFHeGIJUEeGsv772wTim0Q" value="1000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFIFIYJUEeGsv772wTim0Q" name="Town_MAX_LEVEL_NEUTRAL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFIFIoJUEeGsv772wTim0Q" value="4"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFIFJIJUEeGsv772wTim0Q" name="Town_MAX_LEVEL_FACTION">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFIFJYJUEeGsv772wTim0Q" value="5"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFIFJ4JUEeGsv772wTim0Q" name="Town_DISTANCE_BETWEEN_BEDS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFIsMIJUEeGsv772wTim0Q" value="6"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFIsMoJUEeGsv772wTim0Q" name="Town_UPKEEP_PER_PLAYER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFIsM4JUEeGsv772wTim0Q" value="1.00"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFIsNYJUEeGsv772wTim0Q" name="Town_MAX_BANKRUPT_DAYS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFIsNoJUEeGsv772wTim0Q" value="7"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFIsOIJUEeGsv772wTim0Q" name="Town_COLORED_SHEEP_CHANCE">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFJTQIJUEeGsv772wTim0Q" value="20"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFJTQoJUEeGsv772wTim0Q" name="CURRENCY_NAME">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFJTQ4JUEeGsv772wTim0Q" value="&quot;Silver&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFJTRYJUEeGsv772wTim0Q" name="CURRENCY_MINOR">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFJTRoJUEeGsv772wTim0Q" value="&quot;Copper&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFJ6UIJUEeGsv772wTim0Q" name="PRICE_GOLD">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFJ6UYJUEeGsv772wTim0Q" value="2"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFJ6U4JUEeGsv772wTim0Q" name="INCOME_PER_BLOCK">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFJ6VIJUEeGsv772wTim0Q" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFJ6VoJUEeGsv772wTim0Q" name="DEFAULT_PORTAL_COST">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFJ6V4JUEeGsv772wTim0Q" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFKhYIJUEeGsv772wTim0Q" name="townLevels" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGldsYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFKhY4JUEeGsv772wTim0Q" name="Zone_NAME_A">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFKhZIJUEeGsv772wTim0Q" value="&quot;the Neutral Zone&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFKhZoJUEeGsv772wTim0Q" name="Zone_BORDER_A">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFLIcIJUEeGsv772wTim0Q" value="1000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFLIcoJUEeGsv772wTim0Q" name="Zone_NAME_B">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFLIc4JUEeGsv772wTim0Q" value="&quot;the War Zone&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFLIdYJUEeGsv772wTim0Q" name="Zone_BORDER_B">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFLIdoJUEeGsv772wTim0Q" value="2000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFLvgIJUEeGsv772wTim0Q" name="Zone_NAME_C">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFLvgYJUEeGsv772wTim0Q" value="&quot;The Wilds&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFLvg4JUEeGsv772wTim0Q" name="Zone_BORDER_C">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFLvhIJUEeGsv772wTim0Q" value="2500"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFLvhoJUEeGsv772wTim0Q" name="Zone_TZ_CENTER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFLvh4JUEeGsv772wTim0Q" value="&quot;-489,10,702&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFMWkIJUEeGsv772wTim0Q" name="Zone_TZ_REGION">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFMWkYJUEeGsv772wTim0Q" value="&quot;-229,127,1042,-749,1,522&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFMWk4JUEeGsv772wTim0Q" name="Lot_X_OFFSET">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFMWlYJUEeGsv772wTim0Q" name="Lot_Z_OFFSET">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFM9oIJUEeGsv772wTim0Q" name="Lot_MULTIPLIER">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFM9oYJUEeGsv772wTim0Q" value="16"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFM9o4JUEeGsv772wTim0Q" name="Lot_PRICE_COAL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFM9pIJUEeGsv772wTim0Q" value="10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFM9poJUEeGsv772wTim0Q" name="Lot_PRICE_IRON">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFM9p4JUEeGsv772wTim0Q" value="20"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFNksIJUEeGsv772wTim0Q" name="Lot_PRICE_GOLD">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFNksYJUEeGsv772wTim0Q" value="30"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFNks4JUEeGsv772wTim0Q" name="Lot_PRICE_DIAMOND">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFNktIJUEeGsv772wTim0Q" value="40"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFNktoJUEeGsv772wTim0Q" name="Capitol_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFOLwYJUEeGsv772wTim0Q" name="Capitol_CodedName">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFOLwoJUEeGsv772wTim0Q" value="&quot;&lt;tc>Rage City&lt;/tc>&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFOLxIJUEeGsv772wTim0Q" name="Capitol_X1a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFOLxoJUEeGsv772wTim0Q" name="Capitol_Z1a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFOy0YJUEeGsv772wTim0Q" name="Capitol_X2a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFOy04JUEeGsv772wTim0Q" name="Capitol_Z2a">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFOy1YJUEeGsv772wTim0Q" name="Capitol_X1b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFPZ4YJUEeGsv772wTim0Q" name="Capitol_Z1b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFPZ44JUEeGsv772wTim0Q" name="Capitol_X2b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFPZ5YJUEeGsv772wTim0Q" name="Capitol_Z2b">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFQA8IJUEeGsv772wTim0Q" name="Capitol_SANDLOT">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFQA8oJUEeGsv772wTim0Q" name="Capitol_SANDLOT_GOLD_ODDS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFQA84JUEeGsv772wTim0Q" value="50000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFQA9YJUEeGsv772wTim0Q" name="Capitol_SANDLOT_DIAMOND_ODDS">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFQA9oJUEeGsv772wTim0Q" value="500000"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFQoAYJUEeGsv772wTim0Q" name="Capitol_PORTAL_LOCATION">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFQoAoJUEeGsv772wTim0Q" value="&quot;-73,68,-56&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFQoBIJUEeGsv772wTim0Q" name="Cooldown_Spawn">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFQoBYJUEeGsv772wTim0Q" value="30"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFQoB4JUEeGsv772wTim0Q" name="Cooldown_Home">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFQoCIJUEeGsv772wTim0Q" value="30"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFRPEYJUEeGsv772wTim0Q" name="Faction_BaseJoinCost">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFRPEoJUEeGsv772wTim0Q" value="100"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFRPFIJUEeGsv772wTim0Q" name="Faction_JoinCostIncrease">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFRPFYJUEeGsv772wTim0Q" value="10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFRPF4JUEeGsv772wTim0Q" name="Task_TOWN_UPKEEP">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFR2IIJUEeGsv772wTim0Q" value="86400"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFR2IoJUEeGsv772wTim0Q" name="Task_FILL_SANDLOT">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFR2I4JUEeGsv772wTim0Q" value="86400"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFR2JYJUEeGsv772wTim0Q" name="NPC_TOTAL_FLOATING">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFR2J4JUEeGsv772wTim0Q" name="NPC_TTL_MIN">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFSdMIJUEeGsv772wTim0Q" value="360"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFSdMoJUEeGsv772wTim0Q" name="NPC_TTL_MAX">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFSdM4JUEeGsv772wTim0Q" value="4320"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFSdNYJUEeGsv772wTim0Q" name="NPC_PHRASES">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFSdNoJUEeGsv772wTim0Q" value="2"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFTEQIJUEeGsv772wTim0Q" name="NPC_PHRASE_POOL">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFTEQYJUEeGsv772wTim0Q" value="8"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFTEQ4JUEeGsv772wTim0Q" name="NPCTOWN_GUEST_CHANCE">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFTERIJUEeGsv772wTim0Q" value="33"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFTERoJUEeGsv772wTim0Q" name="CUSTOM_SKIN_PATH">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFTER4JUEeGsv772wTim0Q" value="&quot;http://www.rageland.net/skins/&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFTrUYJUEeGsv772wTim0Q" name="NPC_HUMAN_ID">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFTrUoJUEeGsv772wTim0Q" value="5"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFTrVIJUEeGsv772wTim0Q" name="NPC_AFFINITY_MAX">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFTrVYJUEeGsv772wTim0Q" value="10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFTrV4JUEeGsv772wTim0Q" name="NPC_MIN_AFFINITY">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFTrWIJUEeGsv772wTim0Q" value="-10"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFUSYYJUEeGsv772wTim0Q" name="NPC_AFFINITY_GAIN_TALK">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFUSYoJUEeGsv772wTim0Q" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFUSZIJUEeGsv772wTim0Q" name="NPC_LANGUAGE_NAMES" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGldtIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFU5cYJUEeGsv772wTim0Q" name="NPC_RACE_NAMES" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGmEwIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFU5dIJUEeGsv772wTim0Q" name="NPC_AFFINITY_NAMES" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGmEw4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFVggYJUEeGsv772wTim0Q" name="NPC_AFFINITY_CODED_NAMES" type="_AkkIcYJUEeGsv772wTim0Q" association="_EGmExoJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF2d4IJUEeGsv772wTim0Q" name="RageConfig" specification="_ECavYIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF2d4YJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF2d4oJUEeGsv772wTim0Q" type="_AlCpkIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
 	&#xD;
 	loadConfigValues();	&#xD;
 	loadDefaultTownLevels();&#xD;
 	&#xD;
 	NPC_LANGUAGE_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_LANGUAGE_NAMES.put(1, &quot;Creeptongue&quot;);&#xD;
 	NPC_LANGUAGE_NAMES.put(2, &quot;Gronuk&quot;);&#xD;
 	NPC_LANGUAGE_NAMES.put(3, &quot;Benali&quot;);&#xD;
 	NPC_LANGUAGE_NAMES.put(4, &quot;Avialese&quot;);&#xD;
 	&#xD;
 	NPC_RACE_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_RACE_NAMES.put(0, &quot;None&quot;);&#xD;
 	NPC_RACE_NAMES.put(1, &quot;Creep&quot;);&#xD;
 	NPC_RACE_NAMES.put(2, &quot;Pigman&quot;);&#xD;
 	NPC_RACE_NAMES.put(3, &quot;Benali&quot;);&#xD;
 	NPC_RACE_NAMES.put(4, &quot;Avian&quot;);&#xD;
 	NPC_RACE_NAMES.put(5, &quot;Human&quot;);&#xD;
 	&#xD;
 	NPC_AFFINITY_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_AFFINITY_NAMES.put(-2, &quot;Dislike&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(-1, &quot;Aversion&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(0, &quot;Neutral&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(1, &quot;Friendship&quot;);&#xD;
 	NPC_AFFINITY_NAMES.put(2, &quot;Trust&quot;);&#xD;
 	&#xD;
 	NPC_AFFINITY_CODED_NAMES = new HashMap&lt;Integer, String>();&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(-2, ChatColor.DARK_RED + &quot;Dislike&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(-1, ChatColor.RED + &quot;Aversion&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(0, ChatColor.GRAY + &quot;Neutral&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(1, ChatColor.GREEN + &quot;Friendship&quot;);&#xD;
 	NPC_AFFINITY_CODED_NAMES.put(2, ChatColor.DARK_GREEN + &quot;Trust&quot;);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF2d44JUEeGsv772wTim0Q" name="loadConfigValues" specification="_D_McQIJUEeGsv772wTim0Q">
              <language>java</language>
              <body>pluginConfig = plugin.getConfig();&#xD;
 	&#xD;
 	PRE_RELEASE_MODE = pluginConfig.getBoolean(&quot;general.pre_release_mode&quot;, true);&#xD;
		if( PRE_RELEASE_MODE )&#xD;
			System.out.println(&quot;Activating Pre-release mode.&quot;);&#xD;
 	&#xD;
 	DB_URL = pluginConfig.getString(&quot;database.url&quot;);&#xD;
		DB_NAME = pluginConfig.getString(&quot;database.name&quot;);&#xD;
		DB_DRIVER = pluginConfig.getString(&quot;database.driver&quot;);&#xD;
		DB_USER = pluginConfig.getString(&quot;database.user&quot;);&#xD;
		DB_PASSWORD = pluginConfig.getString(&quot;database.password&quot;); &#xD;
		DB_TIMEOUT = pluginConfig.getInt(&quot;database.timeout&quot;, 20000000);&#xD;
		&#xD;
		this.Lot_X_OFFSET = pluginConfig.getInt(&quot;lots.x_offset&quot;, -384); &#xD;
		this.Lot_Z_OFFSET = pluginConfig.getInt(&quot;lots.z_offset&quot;, 416); &#xD;
		&#xD;
		Capitol_Name = pluginConfig.getString(&quot;capitol.name&quot;, &quot;Rage City&quot;);&#xD;
	    Capitol_X1a = pluginConfig.getInt(&quot;capitol.x1a&quot;, -386);			// The NW corner of region A for capitol&#xD;
	    Capitol_Z1a = pluginConfig.getInt(&quot;capitol.z1a&quot;, 146);&#xD;
	    Capitol_X2a = pluginConfig.getInt(&quot;capitol.x2a&quot;, -82);			// The SE corner of region A for capitol&#xD;
	    Capitol_Z2a = pluginConfig.getInt(&quot;capitol.z2a&quot;, -261);&#xD;
	    Capitol_X1b = pluginConfig.getInt(&quot;capitol.x1b&quot;, -83);			// The NW corner of region B for capitol&#xD;
	    Capitol_Z1b = pluginConfig.getInt(&quot;capitol.z1b&quot;, 418);&#xD;
	    Capitol_X2b = pluginConfig.getInt(&quot;capitol.x2b&quot;, 513);			// The SE corner of region B for capitol&#xD;
	    Capitol_Z2b = pluginConfig.getInt(&quot;capitol.z2b&quot;, -261);&#xD;
	    Capitol_SANDLOT = pluginConfig.getString(&quot;capitol.sandlot&quot;, &quot;114,60,-19,141,68,-46&quot;);&#xD;
	    &#xD;
	    NPC_TOTAL_FLOATING = pluginConfig.getInt(&quot;npc.total_floating&quot;, 5);&#xD;
		&#xD;
		System.out.println(&quot;Connecting to &quot; + DB_URL + &quot;...&quot;);		// Debug&#xD;
		&#xD;
		&#xD;
		&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF2d5IJUEeGsv772wTim0Q" name="loadDefaultTownLevels" specification="_D_McQYJUEeGsv772wTim0Q">
              <language>java</language>
              <body>townLevels = new HashMap&lt;Integer, TownLevel>();&#xD;
 	&#xD;
 	TownLevel townLevel = new TownLevel();&#xD;
 	townLevel.level = 1;&#xD;
 	townLevel.name = &quot;Settlement&quot;;&#xD;
 	townLevel.size = 80;&#xD;
 	townLevel.initialCost = 1000;&#xD;
 	townLevel.upkeepCost = 5;&#xD;
 	townLevel.minimumBalance = 100;&#xD;
 	townLevel.maxResidents = 5;&#xD;
 	townLevel.maxNPCs = 1;&#xD;
 	townLevel.treasuryLevel = 0;&#xD;
 	townLevel.sanctumFloor = buildSanctumFloor(townLevel.level);&#xD;
 	townLevels.put(1, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 2;&#xD;
 	townLevel.name = &quot;Village&quot;;&#xD;
 	townLevel.size = 120;&#xD;
 	townLevel.initialCost = 2000;&#xD;
 	townLevel.upkeepCost = 10;&#xD;
 	townLevel.minimumBalance = 200;&#xD;
 	townLevel.maxResidents = 10;&#xD;
 	townLevel.maxNPCs = 2;&#xD;
 	townLevel.treasuryLevel = 1;&#xD;
 	townLevels.put(2, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 3;&#xD;
 	townLevel.name = &quot;Town&quot;;&#xD;
 	townLevel.size = 180;&#xD;
 	townLevel.initialCost = 3000;&#xD;
 	townLevel.upkeepCost = 15;&#xD;
 	townLevel.minimumBalance = 300;&#xD;
 	townLevel.maxResidents = 15;&#xD;
 	townLevel.maxNPCs = 3;&#xD;
 	townLevel.treasuryLevel = 2;&#xD;
 	townLevels.put(3, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 4;&#xD;
 	townLevel.name = &quot;City&quot;;&#xD;
 	townLevel.size = 270;&#xD;
 	townLevel.initialCost = 5000;&#xD;
 	townLevel.upkeepCost = 25;&#xD;
 	townLevel.minimumBalance = 500;&#xD;
 	townLevel.maxResidents = 25;&#xD;
 	townLevel.maxNPCs = 4;&#xD;
 	townLevel.treasuryLevel = 2;&#xD;
 	townLevels.put(4, townLevel);&#xD;
 	&#xD;
 	townLevel = new TownLevel();&#xD;
 	townLevel.level = 5;&#xD;
 	townLevel.name = &quot;Capitol&quot;;&#xD;
 	townLevel.size = 400;&#xD;
 	townLevel.initialCost = 10000;&#xD;
 	townLevel.upkeepCost = 50;&#xD;
 	townLevel.minimumBalance = 1000;&#xD;
 	townLevel.maxResidents = 50;&#xD;
 	townLevel.maxNPCs = 6;&#xD;
 	townLevel.treasuryLevel = 3;&#xD;
 	townLevel.isCapitol = true;&#xD;
 	townLevels.put(5, townLevel);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF2d5YJUEeGsv772wTim0Q" name="buildSanctumFloor" specification="_D_McQoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF2d5oJUEeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_EF2d54JUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>ArrayList&lt;String> floor = new ArrayList&lt;String>();&#xD;
 	&#xD;
 	if( level == 1 )&#xD;
 	{&#xD;
 		floor.add(&quot;cccccccccccccccccccc&quot;); &#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); // 5&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); &#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cdddddccccccccdddddc&quot;);&#xD;
 		floor.add(&quot;cdddddcwwwwwwcdddddc&quot;);&#xD;
 		floor.add(&quot;cccccccwoggowccccccc&quot;); // 10&#xD;
 		floor.add(&quot;cccccccwoggowccccccc&quot;); &#xD;
 		floor.add(&quot;cdddddcwwwwwwcdddddc&quot;);&#xD;
 		floor.add(&quot;cdddddccccccccdddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); // 15&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;); &#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cddddddddccddddddddc&quot;);&#xD;
 		floor.add(&quot;cccccccccccccccccccc&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 2 )&#xD;
 	{&#xD;
 		floor.add(&quot;ssssssssssssssssssss&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;); // 5&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;spppppssssssssppppps&quot;);&#xD;
 		floor.add(&quot;sppppsswwwwwwsspppps&quot;);&#xD;
 		floor.add(&quot;sppppswwwwwwwwspppps&quot;);&#xD;
 		floor.add(&quot;sssssswgOggOgwssssss&quot;); // 10&#xD;
 		floor.add(&quot;sssssswgOggOgwssssss&quot;);&#xD;
 		floor.add(&quot;sppppswwwwwwwwspppps&quot;);&#xD;
 		floor.add(&quot;sppppsswwwwwwsspppps&quot;);&#xD;
 		floor.add(&quot;spppppssssssssppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;); // 15&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;sppppppppsspppppppps&quot;);&#xD;
 		floor.add(&quot;ssssssssssssssssssss&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 3 )&#xD;
 	{&#xD;
 		floor.add(&quot;bbbbbbbbbbbbbbbbbbbb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;); // 5&#xD;
 		floor.add(&quot;bsssssbbbbbbbbsssssb&quot;);&#xD;
 		floor.add(&quot;bssssbbwwwwwwbbssssb&quot;);&#xD;
 		floor.add(&quot;bsssbbwwwwwwwwbbsssb&quot;);&#xD;
 		floor.add(&quot;bsssbwwwggggwwwbsssb&quot;);&#xD;
 		floor.add(&quot;bbbbbwwg|--|gwwbbbbb&quot;); // 10&#xD;
 		floor.add(&quot;bbbbbwwg|--|gwwbbbbb&quot;);&#xD;
 		floor.add(&quot;bsssbwwwggggwwwbsssb&quot;);&#xD;
 		floor.add(&quot;bsssbbwwwwwwwwbbsssb&quot;);&#xD;
 		floor.add(&quot;bssssbbwwwwwwbbssssb&quot;);&#xD;
 		floor.add(&quot;bsssssbbbbbbbbsssssb&quot;); // 15&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bssssssssbbssssssssb&quot;);&#xD;
 		floor.add(&quot;bbbbbbbbbbbbbbbbbbbb&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 4 )&#xD;
 	{&#xD;
 		floor.add(&quot;tttttttttttttttttttt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnntttwwtttnnnnnt&quot;); // 5&#xD;
 		floor.add(&quot;tnnnnttwwwwwwttnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnttwwwwwwwwttnnnt&quot;);&#xD;
 		floor.add(&quot;tnnttwwwwwwwwwtttnnt&quot;);&#xD;
 		floor.add(&quot;ttttwwwggggggwwwtttt&quot;);&#xD;
 		floor.add(&quot;twwwwwwg|--|gwwwwwwt&quot;); // 10&#xD;
 		floor.add(&quot;twwwwwwg|--|gwwwwwwt&quot;);&#xD;
 		floor.add(&quot;ttttwwwggggggwwwtttt&quot;);&#xD;
 		floor.add(&quot;tnnttwwwwwwwwwwttnnt&quot;);&#xD;
 		floor.add(&quot;tnnnttwwwwwwwwttnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnttwwwwwwttnnnnt&quot;); // 15&#xD;
 		floor.add(&quot;tnnnnntttwwtttnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tnnnnnnntwwtnnnnnnnt&quot;);&#xD;
 		floor.add(&quot;tttttttttttttttttttt&quot;); // 20&#xD;
 	}&#xD;
 	else if( level == 5 )&#xD;
 	{&#xD;
 		floor.add(&quot;iiiiiiiiiiiiiiiiiiii&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLiiiwwiiiLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLiiwwwwwwiiLLLLi&quot;); // 5&#xD;
 		floor.add(&quot;iLLLiiwwwwwwwwiiLLLi&quot;);&#xD;
 		floor.add(&quot;iLLiiwwwwwwwwwwiiLLi&quot;);&#xD;
 		floor.add(&quot;iLiiwwggggggggwwiiLi&quot;);&#xD;
 		floor.add(&quot;iiiwwwgSSSSSSgwwwiii&quot;);&#xD;
 		floor.add(&quot;iwwwwwgS|--|Sgwwwwwi&quot;); // 10&#xD;
 		floor.add(&quot;iwwwwwgS|--|Sgwwwwwi&quot;);&#xD;
 		floor.add(&quot;iiiwwwgSSSSSSgwwwiii&quot;);&#xD;
 		floor.add(&quot;iLiiwwggggggggwwiiLi&quot;);&#xD;
 		floor.add(&quot;iLLiiwwwwwwwwwwiiLLi&quot;);&#xD;
 		floor.add(&quot;iLLLiiwwwwwwwwiiLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLiiwwwwwwiiLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLiiiwwiiiLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iLLLLLLLiwwiLLLLLLLi&quot;);&#xD;
 		floor.add(&quot;iiiiiiiiiiiiiiiiiiii&quot;);&#xD;
 		&#xD;
 	}&#xD;
 	&#xD;
 	return floor;&#xD;
 </body>
            </ownedBehavior>
            <ownedOperation xmi:id="_D_McQIJUEeGsv772wTim0Q" name="loadConfigValues" visibility="private" method="_EF2d44JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_D_McQYJUEeGsv772wTim0Q" name="loadDefaultTownLevels" visibility="private" method="_EF2d5IJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_D_McQoJUEeGsv772wTim0Q" name="buildSanctumFloor" isStatic="true" method="_EF2d5YJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_D_McQ4JUEeGsv772wTim0Q" name="level">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_ECavZYJUEeGsv772wTim0Q" type="_AkYiQIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECavYIJUEeGsv772wTim0Q" name="RageConfig" method="_EF2d4IJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_ECavYoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_ECavY4JUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_ECavYYJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECavZIJUEeGsv772wTim0Q" type="_AlCpkIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AlDQoYJUEeGsv772wTim0Q" name="RageZones">
            <ownedAttribute xmi:id="_EFWuooJUEeGsv772wTim0Q" name="ZoneA_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFWupIJUEeGsv772wTim0Q" name="ZoneA_Border">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFXVsYJUEeGsv772wTim0Q" name="ZoneB_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFXVs4JUEeGsv772wTim0Q" name="ZoneB_Border">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFXVtYJUEeGsv772wTim0Q" name="ZoneC_Name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFX8wIJUEeGsv772wTim0Q" name="ZoneC_Border">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_EFX8woJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q" association="_EGmr04JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFX8xIJUEeGsv772wTim0Q" name="nether" type="_AkZwYYJUEeGsv772wTim0Q" association="_EGmr1oJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFX8xoJUEeGsv772wTim0Q" name="worldSpawn" type="_AbqEEIJUEeGsv772wTim0Q" association="_EGnS4YJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFYj0YJUEeGsv772wTim0Q" name="Capitol_RegionA" visibility="private" type="_AcysgIJUEeGsv772wTim0Q" association="_EGnS5IJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFYj04JUEeGsv772wTim0Q" name="Capitol_RegionB" visibility="private" type="_AcysgIJUEeGsv772wTim0Q" association="_EGnS54JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFYj1YJUEeGsv772wTim0Q" name="Capitol_SandLot" isStatic="true" type="_Ac2W4IJUEeGsv772wTim0Q" association="_EGn58YJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFZK4YJUEeGsv772wTim0Q" name="Capitol_Portal" type="_AkZJUIJUEeGsv772wTim0Q" association="_EGn59IJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFZK44JUEeGsv772wTim0Q" name="TZ_Center" type="_AkZJUIJUEeGsv772wTim0Q" association="_EGn594JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFZK5YJUEeGsv772wTim0Q" name="TZ_Region" type="_Ac2W4IJUEeGsv772wTim0Q" association="_EGohAYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFZx8IJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_At6RtoJUEeGsv772wTim0Q" association="_EGohBIJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3E9oJUEeGsv772wTim0Q" name="RageZones" specification="_ECfA0IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3E94JUEeGsv772wTim0Q" name="ragemod" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3E-IJUEeGsv772wTim0Q" name="config" type="_AuFQ0IJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3E-YJUEeGsv772wTim0Q" type="_AlDQoYJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>plugin = ragemod;&#xD;
 	world = plugin.getServer().getWorld(&quot;world&quot;);&#xD;
 	nether = plugin.getServer().getWorld(&quot;world_nether&quot;);&#xD;
 	&#xD;
 	ZoneA_Name = config.Zone_NAME_A;&#xD;
 	ZoneA_Border = config.Zone_BORDER_A;&#xD;
 	ZoneB_Name = config.Zone_NAME_B;&#xD;
 	ZoneB_Border = config.Zone_BORDER_B;&#xD;
 	ZoneC_Name = config.Zone_NAME_C;&#xD;
 	ZoneC_Border = config.Zone_BORDER_C;&#xD;
 	&#xD;
 	// Load the capitol regions&#xD;
 	Capitol_RegionA = new Region2D(world, config.Capitol_X1a, config.Capitol_Z1a, config.Capitol_X2a, config.Capitol_Z2a);&#xD;
 	Capitol_RegionB = new Region2D(world, config.Capitol_X1b, config.Capitol_Z1b, config.Capitol_X2b, config.Capitol_Z2b);&#xD;
 	Capitol_SandLot = new Region3D(world, config.Capitol_SANDLOT);&#xD;
 	Capitol_Portal = Util.getLocationFromCoords(world, config.Capitol_PORTAL_LOCATION);&#xD;
 	&#xD;
 	// Load the Travel Zone&#xD;
 	TZ_Center = Util.getLocationFromCoords(nether, config.Zone_TZ_CENTER);&#xD;
 	TZ_Region = new Region3D(nether, config.Zone_TZ_REGION);&#xD;
 	&#xD;
 	worldSpawn = new Location2D(world.getSpawnLocation());&#xD;
 	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3E-oJUEeGsv772wTim0Q" name="getName" specification="_ECfA1oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3E-4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3E_IJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>if( location.getWorld().getName().equals(&quot;world&quot;) )&#xD;
 	{&#xD;
 		double distanceFromSpawn = worldSpawn.distance(location);&#xD;
     	&#xD;
     	if( distanceFromSpawn >= 0 &amp;&amp; distanceFromSpawn &lt;= ZoneA_Border )&#xD;
     		return ZoneA_Name;&#xD;
     	else if( distanceFromSpawn &lt;= ZoneB_Border )&#xD;
     		return ZoneB_Name;&#xD;
     	else if( distanceFromSpawn &lt;= ZoneC_Border )&#xD;
     		return ZoneC_Name;&#xD;
     	else if( distanceFromSpawn > ZoneC_Border )&#xD;
     		return &quot;Outside All Zones&quot;;&#xD;
     	else&#xD;
     		return &quot;Error: Distance from spawn returned negative&quot;;&#xD;
 	}&#xD;
 	else&#xD;
 	{&#xD;
 		if( isInTravelZone(location) )&#xD;
 			return &quot;Travel Zone&quot;;&#xD;
 		else&#xD;
 			return location.getWorld().getName();&#xD;
 	}&#xD;
 	&#xD;
 	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3E_YJUEeGsv772wTim0Q" name="getName" specification="_EEqLEYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3E_oJUEeGsv772wTim0Q" name="zone" type="_EEpkAIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3E_4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>if( zone == Zone.A )&#xD;
 		return ZoneA_Name;&#xD;
 	else if( zone == Zone.CAPITOL )&#xD;
 		return plugin.config.Capitol_Name;&#xD;
 	else if( zone == Zone.B )&#xD;
     		return ZoneB_Name;&#xD;
 	else if( zone == Zone.C )&#xD;
 		return ZoneC_Name;&#xD;
 	else if( zone == Zone.OUTSIDE )&#xD;
 		return &quot;Outside All Zones&quot;;&#xD;
 	else if( zone == Zone.UNKNOWN)&#xD;
 		return &quot;Unknown&quot;;&#xD;
 	else&#xD;
 		return &quot;Error: Zone unrecognized&quot;;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sAIJUEeGsv772wTim0Q" name="getZone" specification="_ECfn4YJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sAYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sAoJUEeGsv772wTim0Q" type="_EEpkAIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>if(!(location.getWorld().getName().equals(&quot;world&quot;)))&#xD;
 		return Zone.UNKNOWN;&#xD;
 	&#xD;
		double distanceFromSpawn = worldSpawn.distance(location);&#xD;
 	&#xD;
 	if( distanceFromSpawn >= 0 &amp;&amp; distanceFromSpawn &lt;= ZoneA_Border )&#xD;
 		return Zone.A;&#xD;
 	else if( distanceFromSpawn &lt;= ZoneB_Border )&#xD;
 		return Zone.B;&#xD;
 	else if( distanceFromSpawn &lt;= ZoneC_Border )&#xD;
 		return Zone.C;&#xD;
 	else if( distanceFromSpawn > ZoneC_Border )&#xD;
 		return Zone.OUTSIDE;&#xD;
 	else&#xD;
 		return null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sA4JUEeGsv772wTim0Q" name="getQuadrant" specification="_ECfn44JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sBIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sBYJUEeGsv772wTim0Q" type="_EEqLFYJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>double x = location.getX() - worldSpawn.getX();&#xD;
 	double z = location.getZ() - worldSpawn.getZ();&#xD;
 	&#xD;
 	if( z >= 0 &amp;&amp; x &lt; 0 )&#xD;
 		return Quadrant.NW;&#xD;
 	else if( z &lt; 0 &amp;&amp; x &lt; 0 )&#xD;
 		return Quadrant.NE;&#xD;
 	else if( z >= 0 &amp;&amp; x >= 0 )&#xD;
 		return Quadrant.SW;&#xD;
 	else if( z &lt; 0 &amp;&amp; x >= 0 )&#xD;
 		return Quadrant.SE;&#xD;
 	else&#xD;
 		return null;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sBoJUEeGsv772wTim0Q" name="getDistanceFromSpawn" specification="_ECfn5YJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sB4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sCIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
              <language>java</language>
              <body>return worldSpawn.distance(location);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sCYJUEeGsv772wTim0Q" name="isInZoneA" specification="_ECgO8YJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sCoJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sC4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return ( location.getWorld().getName().equals(&quot;world&quot;) &amp;&amp; &#xD;
				worldSpawn.distance(location) >= 0 &amp;&amp; &#xD;
				worldSpawn.distance(location) &lt;= ZoneA_Border );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sDIJUEeGsv772wTim0Q" name="isOutsideZoneA" specification="_ECgO9IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sDYJUEeGsv772wTim0Q" name="region" type="_AcysgIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sDoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return (worldSpawn.distance(region.nwCorner) > 1000 || &#xD;
 			worldSpawn.distance(region.seCorner) > 1000 ||&#xD;
 			worldSpawn.distance(new Location2D(region.nwCorner.getX(), region.seCorner.getZ())) > 1000 ||&#xD;
 			worldSpawn.distance(new Location2D(region.nwCorner.getZ(), region.seCorner.getX())) > 1000 );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sD4JUEeGsv772wTim0Q" name="isInZoneB" specification="_ECgO94JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sEIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sEYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return ( location.getWorld().getName().equals(&quot;world&quot;) &amp;&amp; &#xD;
				worldSpawn.distance(location) > ZoneA_Border &amp;&amp; &#xD;
				worldSpawn.distance(location) &lt;= ZoneB_Border );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sEoJUEeGsv772wTim0Q" name="isInZoneC" specification="_ECg2AIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sE4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sFIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return ( location.getWorld().getName().equals(&quot;world&quot;) &amp;&amp; &#xD;
				worldSpawn.distance(location) > ZoneB_Border &amp;&amp; &#xD;
				worldSpawn.distance(location) &lt;= ZoneC_Border );&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3sFYJUEeGsv772wTim0Q" name="isInCapitol" specification="_ECg2A4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3sFoJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF3sF4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return Capitol_RegionA.isInside(location) || Capitol_RegionB.isInside(location);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF4TEIJUEeGsv772wTim0Q" name="checkPermission" specification="_EEqyJIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF4TEYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF4TEoJUEeGsv772wTim0Q" name="action" type="_EEqyIoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF4TE4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>// Put the most frequently called checks at the beginning.  On that note, would it be &#xD;
 	// better to split this method into multiple methods to prevent having to do so many comparisons?&#xD;
 	if(action == Action.TOWN_CREATE)&#xD;
 		return (isInZoneB(location));&#xD;
 	&#xD;
 	// If we haven't recognized the action, return false.  Should this throw an exception?&#xD;
 	return false;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF4TFIJUEeGsv772wTim0Q" name="isInSandlot" specification="_ECg2BoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF4TFYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF4TFoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return Capitol_SandLot.isInside(location);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF4TF4JUEeGsv772wTim0Q" name="isInTravelZone" specification="_ECg2CYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF4TGIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF4TGYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.TZ_Region.isInside(location);    	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF4TGoJUEeGsv772wTim0Q" name="getTravelNode" specification="_EChdEoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF4TG4JUEeGsv772wTim0Q" name="centerPoint" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF4THIJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>return new Location(this.nether, &#xD;
 			((centerPoint.getX() - worldSpawn.getX()) / 8) + TZ_Center.getX(),&#xD;
 			TZ_Center.getY(),&#xD;
 			((centerPoint.getZ() - worldSpawn.getZ()) / 8) + TZ_Center.getZ());&#xD;
 </body>
            </ownedBehavior>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_AlTIQYJUEeGsv772wTim0Q" name="Action"/>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_AleHYoJUEeGsv772wTim0Q" name="Zone"/>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_AleHYIJUEeGsv772wTim0Q" name="Quadrant"/>
            <ownedOperation xmi:id="_ECfA0IJUEeGsv772wTim0Q" name="RageZones" method="_EF3E9oJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_ECfA04JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_ECfA1IJUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_ECfA0YJUEeGsv772wTim0Q" name="ragemod" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECfA0oJUEeGsv772wTim0Q" name="config" type="_AuFQ0IJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECfA1YJUEeGsv772wTim0Q" type="_AlDQoYJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECfA1oJUEeGsv772wTim0Q" name="getName" method="_EF3E-oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECfA14JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECfn4IJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECfn4YJUEeGsv772wTim0Q" name="getZone" method="_EF3sAIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECfn4oJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EEqLFIJUEeGsv772wTim0Q" type="_EEpkAIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECfn44JUEeGsv772wTim0Q" name="getQuadrant" method="_EF3sA4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECfn5IJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EEqyIYJUEeGsv772wTim0Q" type="_EEqLFYJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECfn5YJUEeGsv772wTim0Q" name="getDistanceFromSpawn" method="_EF3sBoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECfn5oJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECgO8IJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECgO8YJUEeGsv772wTim0Q" name="isInZoneA" method="_EF3sCYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECgO8oJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECgO84JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECgO9IJUEeGsv772wTim0Q" name="isOutsideZoneA" method="_EF3sDIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECgO9YJUEeGsv772wTim0Q" name="region" type="_AcysgIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECgO9oJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECgO94JUEeGsv772wTim0Q" name="isInZoneB" method="_EF3sD4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECgO-IJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECgO-YJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECg2AIJUEeGsv772wTim0Q" name="isInZoneC" method="_EF3sEoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECg2AYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECg2AoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECg2A4JUEeGsv772wTim0Q" name="isInCapitol" method="_EF3sFYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECg2BIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECg2BYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECg2BoJUEeGsv772wTim0Q" name="isInSandlot" method="_EF4TFIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECg2B4JUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECg2CIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECg2CYJUEeGsv772wTim0Q" name="isInTravelZone" method="_EF4TF4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EChdEIJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EChdEYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_EChdEoJUEeGsv772wTim0Q" name="getTravelNode" method="_EF4TGoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EChdE4JUEeGsv772wTim0Q" name="centerPoint" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EChdFIJUEeGsv772wTim0Q" type="_AkZJUIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEqLEYJUEeGsv772wTim0Q" name="getName" method="_EF3E_YJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEqLEoJUEeGsv772wTim0Q" name="zone" type="_EEpkAIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EEqLE4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_EEqyJIJUEeGsv772wTim0Q" name="checkPermission" method="_EF4TEIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEqyJYJUEeGsv772wTim0Q" name="location" type="_AkZJUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EEqyJoJUEeGsv772wTim0Q" name="action" type="_EEqyIoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EEqyJ4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBSgsIJUEeGsv772wTim0Q" name="" memberEnd="_BBSgsYJUEeGsv772wTim0Q _A209IoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBSgsYJUEeGsv772wTim0Q" name="" type="_AagNgIJUEeGsv772wTim0Q" association="_BBSgsIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBTHwIJUEeGsv772wTim0Q" name="" memberEnd="_BBTHwYJUEeGsv772wTim0Q _A209I4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBTHwYJUEeGsv772wTim0Q" name="" type="_AagNgIJUEeGsv772wTim0Q" association="_BBTHwIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBTHw4JUEeGsv772wTim0Q" name="" memberEnd="_BBTHxIJUEeGsv772wTim0Q _A21kMIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBTHxIJUEeGsv772wTim0Q" name="" type="_AajQ0IJUEeGsv772wTim0Q" association="_BBTHw4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBTHxoJUEeGsv772wTim0Q" name="" memberEnd="_BBTHx4JUEeGsv772wTim0Q _A21kMYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBTHx4JUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBTHxoJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBTu0YJUEeGsv772wTim0Q" name="" memberEnd="_BBTu0oJUEeGsv772wTim0Q _A22LQIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBTu0oJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBTu0YJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBTu1IJUEeGsv772wTim0Q" name="" memberEnd="_BBTu1YJUEeGsv772wTim0Q _A22LQoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBTu1YJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBTu1IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBTu14JUEeGsv772wTim0Q" name="" memberEnd="_BBTu2IJUEeGsv772wTim0Q _A22LRIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBTu2IJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBTu14JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBUV4YJUEeGsv772wTim0Q" name="" memberEnd="_BBUV4oJUEeGsv772wTim0Q _A22yUIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBUV4oJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBUV4YJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBUV5IJUEeGsv772wTim0Q" name="" memberEnd="_BBUV5YJUEeGsv772wTim0Q _A22yUoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBUV5YJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBUV5IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBU88YJUEeGsv772wTim0Q" name="" memberEnd="_BBU88oJUEeGsv772wTim0Q _A23ZYYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBU88oJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBU88YJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBU89IJUEeGsv772wTim0Q" name="" memberEnd="_BBU89YJUEeGsv772wTim0Q _A23ZY4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBU89YJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBU89IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBU894JUEeGsv772wTim0Q" name="" memberEnd="_BBU8-IJUEeGsv772wTim0Q _A23ZZYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBU8-IJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBU894JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBVkAYJUEeGsv772wTim0Q" name="" memberEnd="_BBVkAoJUEeGsv772wTim0Q _A24AcYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBVkAoJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBVkAYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBVkBIJUEeGsv772wTim0Q" name="" memberEnd="_BBVkBYJUEeGsv772wTim0Q _A24Ac4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBVkBYJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBVkBIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBVkB4JUEeGsv772wTim0Q" name="" memberEnd="_BBVkCIJUEeGsv772wTim0Q _A24AdYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBVkCIJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBVkB4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBWLEYJUEeGsv772wTim0Q" name="" memberEnd="_BBWLEoJUEeGsv772wTim0Q _A24nhIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBWLEoJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBWLEYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBWLFIJUEeGsv772wTim0Q" name="" memberEnd="_BBWLFYJUEeGsv772wTim0Q _A24nh4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBWLFYJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBWLFIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBWyIIJUEeGsv772wTim0Q" name="" memberEnd="_BBWyIYJUEeGsv772wTim0Q _A25OkYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBWyIYJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBWyIIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBWyI4JUEeGsv772wTim0Q" name="" memberEnd="_BBWyJIJUEeGsv772wTim0Q _A25Ok4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBWyJIJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBWyI4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBWyJoJUEeGsv772wTim0Q" name="" memberEnd="_BBWyJ4JUEeGsv772wTim0Q _A25OlYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBWyJ4JUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBWyJoJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBXZMYJUEeGsv772wTim0Q" name="" memberEnd="_BBXZMoJUEeGsv772wTim0Q _A251oYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBXZMoJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBXZMYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBXZNIJUEeGsv772wTim0Q" name="" memberEnd="_BBXZNYJUEeGsv772wTim0Q _A251o4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBXZNYJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBXZNIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBXZN4JUEeGsv772wTim0Q" name="" memberEnd="_BBXZOIJUEeGsv772wTim0Q _A251pYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBXZOIJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBXZN4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBYAQYJUEeGsv772wTim0Q" name="" memberEnd="_BBYAQoJUEeGsv772wTim0Q _A26csYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBYAQoJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBYAQYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBYARIJUEeGsv772wTim0Q" name="" memberEnd="_BBYARYJUEeGsv772wTim0Q _A26cs4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBYARYJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBYARIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBYnUIJUEeGsv772wTim0Q" name="" memberEnd="_BBYnUYJUEeGsv772wTim0Q _A26ctYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBYnUYJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBYnUIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBYnU4JUEeGsv772wTim0Q" name="" memberEnd="_BBYnVIJUEeGsv772wTim0Q _A27DwYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBYnVIJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBYnU4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBYnVoJUEeGsv772wTim0Q" name="" memberEnd="_BBYnV4JUEeGsv772wTim0Q _A27Dw4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBYnV4JUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBYnVoJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_BBZOYYJUEeGsv772wTim0Q" name="" memberEnd="_BBZOYoJUEeGsv772wTim0Q _A27DxYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_BBZOYoJUEeGsv772wTim0Q" name="" type="_AalGAIJUEeGsv772wTim0Q" association="_BBZOYYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_D_BdIIJUEeGsv772wTim0Q" name="Configuration">
            <ownedAttribute xmi:id="_EFClkIJUEeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_Ak1OMYJUEeGsv772wTim0Q" isReadOnly="true" association="_EGbssIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFClkYJUEeGsv772wTim0Q" name="file" visibility="private" isLeaf="true" type="_AkjhYIJUEeGsv772wTim0Q" isReadOnly="true" association="_EGbss4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFClkoJUEeGsv772wTim0Q" name="config" visibility="private" type="_ECSzkoJUEeGsv772wTim0Q" association="_EGcTwYJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF0osIJUEeGsv772wTim0Q" name="Configuration" specification="_ECTaoIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF0osYJUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EF0osoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EF0os4JUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_EF0otIJUEeGsv772wTim0Q" name="fileName">
                <eAnnotations xmi:id="_EF0otYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EF0otoJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_EF0ot4JUEeGsv772wTim0Q" type="_D_BdIIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
		file = new File(plugin.getDataFolder(), fileName);	&#xD;
		reload();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF0ouIJUEeGsv772wTim0Q" name="reload" specification="_D_CrQIJUEeGsv772wTim0Q">
              <language>java</language>
              <body>if (!checkMemberVariables())&#xD;
			throw new IllegalStateException(&quot;Neither plugin nor the file to be used must be null!&quot;);&#xD;
			&#xD;
		config = YamlConfiguration.loadConfiguration(file);&#xD;
		 &#xD;
		final InputStream defaultStream = plugin.getResource(file.getName());&#xD;
	    if (defaultStream != null) {&#xD;
	        final YamlConfiguration defConfig = YamlConfiguration.loadConfiguration(defaultStream);&#xD;
	 &#xD;
	        config.setDefaults(defConfig);&#xD;
	    }&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF0ouYJUEeGsv772wTim0Q" name="save" specification="_D_CrQoJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF0ouoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>if (!checkMemberVariables())&#xD;
			throw new IllegalStateException(&quot;Neither plugin nor the file to be used must be null.&quot;);&#xD;
		&#xD;
		try {&#xD;
	        config.save(file);&#xD;
	        return true;&#xD;
	    } catch (IOException ex) {&#xD;
	    	Bukkit.getLogger().log(Level.SEVERE, new StringBuilder(&quot;[&quot;).append(plugin.toString()).append(&quot;] Failed saving configuration to &quot;).append(file.toString()).toString(), ex);&#xD;
	        return false;&#xD;
	    }&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF0ou4JUEeGsv772wTim0Q" name="load" specification="_D_CrRYJUEeGsv772wTim0Q">
              <language>java</language>
              <body>if (!checkMemberVariables())&#xD;
			throw new IllegalStateException(&quot;Neither plugin nor the file to be used must be null!&quot;);&#xD;
		&#xD;
		config = YamlConfiguration.loadConfiguration(file);&#xD;
		&#xD;
		final InputStream defaultStream = plugin.getResource(file.getName());&#xD;
		if (defaultStream != null) {&#xD;
			final YamlConfiguration defConfig = YamlConfiguration.loadConfiguration(defaultStream);		&#xD;
			config.setDefaults(defConfig);&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF0ovIJUEeGsv772wTim0Q" name="getYamlConfig" specification="_D_DSUYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF0ovYJUEeGsv772wTim0Q" type="_ECSzkoJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>return config;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF1PwIJUEeGsv772wTim0Q" name="checkMemberVariables" specification="_D_DSU4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1PwYJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return (plugin != null &amp;&amp; file != null);&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_D_CrQIJUEeGsv772wTim0Q" name="reload" method="_EF0ouIJUEeGsv772wTim0Q">
              <ownedComment xmi:id="_EGMcIoJUEeGsv772wTim0Q">
                <body>Reloads the configuration from disk.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_D_CrQoJUEeGsv772wTim0Q" name="save" method="_EF0ouYJUEeGsv772wTim0Q">
              <ownedComment xmi:id="_EGMcI4JUEeGsv772wTim0Q">
                <body>Saves the configuration to the disk.&#xD;
	 * @return true if successful</body>
              </ownedComment>
              <ownedParameter xmi:id="_D_CrQ4JUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_D_CrRYJUEeGsv772wTim0Q" name="load" method="_EF0ou4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_D_DSUYJUEeGsv772wTim0Q" name="getYamlConfig" method="_EF0ovIJUEeGsv772wTim0Q">
              <ownedComment xmi:id="_EGMcJIJUEeGsv772wTim0Q">
                <body>Returns the YamlConfiguration.&#xD;
	 * @return the YamlConfiguration</body>
              </ownedComment>
              <ownedParameter xmi:id="_EEek4IJUEeGsv772wTim0Q" type="_ECSzkoJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_D_DSU4JUEeGsv772wTim0Q" name="checkMemberVariables" visibility="private" method="_EF1PwIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_D_DSVIJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_ECTaoIJUEeGsv772wTim0Q" name="Configuration" method="_EF0osIJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_ECTao4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_ECTapIJUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_EGMcIYJUEeGsv772wTim0Q">
                <body>Creates a new configuration together with its own file.&#xD;
	 * @param plugin the plugin the configuration belongs to&#xD;
	 * @param fileName the name of the file, should end with .yml</body>
              </ownedComment>
              <ownedParameter xmi:id="_ECTaoYJUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECTap4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECTaqIJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_ECTaooJUEeGsv772wTim0Q" name="fileName">
                <eAnnotations xmi:id="_ECTaqYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECTaqoJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_ECTapYJUEeGsv772wTim0Q" type="_D_BdIIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_D_EgcIJUEeGsv772wTim0Q" name="RMBlockListener" clientDependency="_ECUBsIJUEeGsv772wTim0Q">
            <ownedComment xmi:id="_EGMcJYJUEeGsv772wTim0Q">
              <body>RageMod block listener&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <ownedAttribute xmi:id="_EFDMoIJUEeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_At6RtoJUEeGsv772wTim0Q" isReadOnly="true" association="_EGcTxIJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF1PwoJUEeGsv772wTim0Q" name="RMBlockListener" specification="_ECUowIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1Pw4JUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EF1PxIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EF1PxYJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_EF1PxoJUEeGsv772wTim0Q" type="_D_EgcIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF1Px4JUEeGsv772wTim0Q" name="onBlockBreak" specification="_ECUox4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1PyIJUEeGsv772wTim0Q" name="event" type="_AlmqQIJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Block block = event.getBlock();&#xD;
 	&#xD;
 	if (event.isCancelled()) &#xD;
     {&#xD;
         return;&#xD;
     }&#xD;
&#xD;
 	// Perform generic edit permission handling&#xD;
 	if( !canEditBlock(event, player) )&#xD;
 	{&#xD;
 		event.setCancelled(true);&#xD;
 		return;&#xD;
 	}&#xD;
 	&#xD;
 	// *** DISABLE ALL FURTHER CODE FOR LOT RELEASE ***&#xD;
 	if( plugin.config.PRE_RELEASE_MODE )&#xD;
 		return;&#xD;
 	&#xD;
 	&#xD;
 	// Bed breaking - clear spawn and home&#xD;
 	if( block.getType() == Material.BED_BLOCK )&#xD;
 	{&#xD;
 		// /home: bed inside capitol lot&#xD;
			if( plugin.zones.isInZoneA(block.getLocation()) )&#xD;
			{&#xD;
				for( Lot lot : playerData.lots )&#xD;
				{&#xD;
					if( lot.canSetHome() &amp;&amp; lot.isInside(block.getLocation()) )&#xD;
					{&#xD;
						playerData.clearHome();&#xD;
		    			plugin.message.send(player, &quot;You no longer have a home point.&quot;);&#xD;
		    			// Update both memory and database&#xD;
		    			plugin.database.playerQueries.updatePlayer(playerData);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			// /spawn: for beds in player towns&#xD;
			else if( plugin.zones.isInZoneB(block.getLocation()) )&#xD;
			{&#xD;
				PlayerTown playerTown = (PlayerTown)plugin.towns.getCurrentTown(block.getLocation());&#xD;
&#xD;
	    		if( playerTown != null )&#xD;
	    		{&#xD;
	    			if( playerData.getSpawn() != null &amp;&amp; playerData.getSpawn().distance(block.getLocation()) &lt; plugin.config.Town_DISTANCE_BETWEEN_BEDS )&#xD;
	    			{&#xD;
		    			plugin.message.send(player, &quot;You no longer have a spawn point.&quot;);&#xD;
	    				playerData.clearSpawn();&#xD;
		    			playerData.update();&#xD;
	    			}&#xD;
	    			else&#xD;
	    			{&#xD;
	    				plugin.message.sendNo(player, &quot;You can only move your own bed.&quot;);&#xD;
	    				event.setCancelled(true);&#xD;
	    			}&#xD;
	    		}&#xD;
			}&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF1PyYJUEeGsv772wTim0Q" name="onBlockPlace" specification="_ECUoyYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1PyoJUEeGsv772wTim0Q" name="event" type="_AlnRUoJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Block block = event.getBlock();&#xD;
 	Location location = block.getLocation();&#xD;
 	&#xD;
 	if (event.isCancelled()) &#xD;
     {&#xD;
         return;&#xD;
     }&#xD;
 	&#xD;
 	// Perform generic edit permission handling&#xD;
 	if( !canEditBlock(event, player) )&#xD;
 	{&#xD;
 		event.setCancelled(true);&#xD;
 		return;&#xD;
 	}&#xD;
 	&#xD;
 	// *** DISABLE ALL FURTHER CODE FOR LOT RELEASE ***&#xD;
 	if( plugin.config.PRE_RELEASE_MODE )&#xD;
 		return;&#xD;
 	&#xD;
 	// *** ZONE A (Neutral Zone) ***&#xD;
 	if( plugin.zones.isInZoneA(location) )&#xD;
 	{&#xD;
 		// Bed placement - set spawn and home&#xD;
     	if( block.getType() == Material.BED_BLOCK )&#xD;
     	{&#xD;
     		// /home: bed inside capitol lot&#xD;
 			if( playerData.isMember )&#xD;
 			{&#xD;
 				for( Lot lot : playerData.lots )&#xD;
 				{&#xD;
 					if( lot.canSetHome() &amp;&amp; lot.isInside(block.getLocation()) )&#xD;
 					{&#xD;
 						if( playerData.getHome() != null )&#xD;
 						{&#xD;
 							plugin.message.sendNo(player, &quot;You already have a bed inside your lot (use /home clear to fix errors).&quot;);&#xD;
 							event.setCancelled(true);&#xD;
 							return;&#xD;
 						}&#xD;
 						&#xD;
 						Location loc = block.getLocation();&#xD;
 						playerData.setHome(new Location(loc.getWorld(), loc.getX(), loc.getY() + 2, loc.getZ()));&#xD;
 		    			plugin.message.send(player, &quot;Your home location has now been set.&quot;);&#xD;
 		    			// Update both memory and database&#xD;
 		    			playerData.update();&#xD;
 					}&#xD;
 				}&#xD;
 			}&#xD;
     	}	&#xD;
 	}&#xD;
 	// *** ZONE B (War Zone) ***&#xD;
 	else if( plugin.zones.isInZoneB(location) )&#xD;
 	{&#xD;
 		// /spawn: for beds in player towns&#xD;
			if( block.getType() == Material.BED_BLOCK )&#xD;
			{&#xD;
				PlayerTown playerTown = (PlayerTown)plugin.towns.getCurrentTown(block.getLocation());&#xD;
&#xD;
	    		if( playerTown != null &amp;&amp; playerTown.getName().equals(playerData.townName) )&#xD;
	    		{&#xD;
	    			if( playerData.getSpawn() != null )&#xD;
					{&#xD;
						plugin.message.sendNo(player, &quot;You already have a bed inside your town (use /spawn clear to fix errors).&quot;);&#xD;
						event.setCancelled(true);&#xD;
						return;&#xD;
					}&#xD;
	    			&#xD;
	    			// Make sure the location is not too close to another player's spawn&#xD;
	    			HashMap&lt;String, Location> spawns = plugin.database.playerQueries.getSpawnLocations(playerTown.getID());&#xD;
	    			for( String resident : spawns.keySet() )&#xD;
	    			{&#xD;
	    				if( block.getLocation().distance(spawns.get(resident)) &lt; plugin.config.Town_DISTANCE_BETWEEN_BEDS &amp;&amp; !resident.equals(playerData.name) )&#xD;
	    				{&#xD;
	    					plugin.message.parseNo(player, &quot;This bed is too close to &quot; + plugin.players.get(resident).getCodedName() + &quot;'s bed - spawn not set.&quot;);&#xD;
	    					event.setCancelled(true);&#xD;
	    					return;&#xD;
	    				}&#xD;
	    			}&#xD;
	    			&#xD;
	    			Location loc = block.getLocation();&#xD;
	    			playerData.setSpawn(new Location(loc.getWorld(), loc.getX(), loc.getY() + 2, loc.getZ()));&#xD;
	    			plugin.message.send(player, &quot;Your spawn location has now been set.&quot;);&#xD;
	    			// Update both memory and database&#xD;
	    			plugin.database.playerQueries.updatePlayer(playerData);&#xD;
	    		}&#xD;
			}&#xD;
 	}&#xD;
     	&#xD;
 	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF1Py4JUEeGsv772wTim0Q" name="canEditBlock" specification="_ECUoy4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1PzIJUEeGsv772wTim0Q" name="event" type="_AlnRUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF1PzYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF1PzoJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Block block = event.getBlock();&#xD;
 	Location location = block.getLocation();&#xD;
 	&#xD;
 	// Check for NPCTowns (zone code handled inside)&#xD;
 	Town town = plugin.towns.getCurrentTown(location);&#xD;
 	if( town instanceof NPCTown )&#xD;
 	{&#xD;
 		NPCTown npcTown = (NPCTown)town;&#xD;
 		if(!RageMod.perms.has(player, &quot;ragemod.build.npctown&quot;) &amp;&amp; !playerData.npcTownName.equalsIgnoreCase(town.getName()) &#xD;
 				&amp;&amp; !npcTown.hasPermission(playerData.name) )&#xD;
 		{&#xD;
 			plugin.message.sendNo(player, &quot;You don't have permission to build here.&quot;);&#xD;
 			return false;&#xD;
 		}&#xD;
 	}&#xD;
 	&#xD;
 	// *** ZONE A (Neutral Zone) ***&#xD;
 	else if( plugin.zones.isInZoneA(location) )&#xD;
 	{&#xD;
 		// See if player is in capitol&#xD;
 		if( plugin.zones.isInCapitol(location) )&#xD;
 		{&#xD;
 			// If the player is below y=22, make sure they have permission to mine below city (don't check lots)&#xD;
     		if( location.getY() &lt; 22 &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.mine.capitol&quot;))&#xD;
     		{&#xD;
     			plugin.message.sendNo(player, &quot;You don't have permission to mine under the city.&quot;);&#xD;
     			return false;&#xD;
     		}&#xD;
     		// See if the player is inside a lot, and if they own it&#xD;
     		else if( !playerData.isInsideOwnLot(location) &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.build.anylot&quot;) )&#xD;
     		{&#xD;
     			Lot lot = plugin.lots.findCurrentLot(location);&#xD;
     			&#xD;
     			if( lot == null )&#xD;
     			{&#xD;
     				if( RageMod.perms.has(player, &quot;ragemod.build.capitol&quot;) || playerData.permits.capitol == true )&#xD;
     					return true;&#xD;
     				&#xD;
     				plugin.message.sendNo(player, &quot;You don't have permission to edit city infrastructure.&quot;);&#xD;
     			}&#xD;
     			else&#xD;
     			{&#xD;
     				if( lot.owner.equals(&quot;&quot;) )&#xD;
     					plugin.message.sendNo(player, &quot;You cannot edit unclaimed lots.&quot;);&#xD;
     				else&#xD;
     				{&#xD;
     					// Check to see if the player has permission to build in this lot&#xD;
     					PlayerData ownerData = plugin.players.get(lot.owner);&#xD;
     					if( !ownerData.lotPermissions.contains(playerData.name) )&#xD;
     						plugin.message.parseNo(player, &quot;This lot is owned by &quot; + plugin.players.get(lot.owner).getCodedName() + &quot;.&quot;);&#xD;
     					else&#xD;
     						return true;&#xD;
     				}&#xD;
     			}&#xD;
     			&#xD;
     			return false;&#xD;
     		}&#xD;
     	}&#xD;
 	}&#xD;
 	// *** ZONE B (War Zone) ***&#xD;
 	else if( plugin.zones.isInZoneB(location) )&#xD;
 	{&#xD;
 		if( town != null &amp;&amp; town instanceof PlayerTown )&#xD;
 		{&#xD;
 			PlayerTown playerTown = (PlayerTown)town;&#xD;
 					&#xD;
 			// Players can only build inside their own towns&#xD;
 			if( !playerTown.getName().equals(playerData.townName) &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.build.anytown&quot;) ) &#xD;
 			{		&#xD;
 				plugin.message.sendNo(player, &quot;You can only build inside of your own town.&quot;);&#xD;
 				return false;&#xD;
 			}&#xD;
 			else if( playerTown.isInsideSanctumFloor(location) )&#xD;
 			{&#xD;
 				plugin.message.sendNo(player, &quot;You cannot modify the inner sanctum floor.&quot;);&#xD;
 				return false;&#xD;
 			}&#xD;
 			else if( playerTown.isInsideSanctum(location) )&#xD;
 			{&#xD;
 				if( block.getType() != Material.TORCH &amp;&amp; block.getType() != Material.GOLD_BLOCK ) &#xD;
 				{&#xD;
 					plugin.message.sendNo(player, &quot;Only torches and gold blocks can be placed inside the inner sanctum.&quot;);&#xD;
     				return false;&#xD;
 				}&#xD;
 				else if( block.getType() == Material.GOLD_BLOCK )&#xD;
 				{&#xD;
 					return playerTown.processGoldBlock(event);&#xD;
 				}	&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 	// *** TRAVEL ZONE ***&#xD;
 	else if( plugin.zones.isInTravelZone(location) &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.build.travelzone&quot;) )&#xD;
 	{&#xD;
 		plugin.message.sendNo(player, &quot;You cannot build inside the Travel Zone.&quot;);&#xD;
 		return false;&#xD;
 	}&#xD;
 	&#xD;
 	return true;&#xD;
 </body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_ECUBsIJUEeGsv772wTim0Q" supplier="_Akf3A4JUEeGsv772wTim0Q" client="_D_EgcIJUEeGsv772wTim0Q" contract="_Akf3A4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_ECUowIJUEeGsv772wTim0Q" name="RMBlockListener" method="_EF1PwoJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_ECUowoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_ECUow4JUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_ECUowYJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECUoxYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECUoxoJUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_ECUoxIJUEeGsv772wTim0Q" type="_D_EgcIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECUox4JUEeGsv772wTim0Q" name="onBlockBreak" method="_EF1Px4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECUoyIJUEeGsv772wTim0Q" name="event" type="_AlmqQIJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECUoyYJUEeGsv772wTim0Q" name="onBlockPlace" method="_EF1PyYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECUoyoJUEeGsv772wTim0Q" name="event" type="_AlnRUoJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_ECUoy4JUEeGsv772wTim0Q" name="canEditBlock" visibility="private" method="_EF1Py4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_ECUozIJUEeGsv772wTim0Q" name="event" type="_AlnRUIJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECVP0IJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECVP0YJUEeGsv772wTim0Q" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_D_FukIJUEeGsv772wTim0Q" name="RMPlayerListener" clientDependency="_ECXFA4JUEeGsv772wTim0Q">
            <ownedComment xmi:id="_EGMcJoJUEeGsv772wTim0Q">
              <body>Handle events for all Player related events&#xD;
@author TheIcarusKid</body>
            </ownedComment>
            <ownedAttribute xmi:id="_EFDMooJUEeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_At6RtoJUEeGsv772wTim0Q" isReadOnly="true" association="_EGc60IJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFDMo4JUEeGsv772wTim0Q" name="questCommands" visibility="private" type="_AbbakIJUEeGsv772wTim0Q" association="_EGc604JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFDzsIJUEeGsv772wTim0Q" name="compassCommands" visibility="private" type="_Aa_8wIJUEeGsv772wTim0Q" association="_EGc61oJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFDzsYJUEeGsv772wTim0Q" name="lotCommands" visibility="private" type="_AbJGsIJUEeGsv772wTim0Q" association="_EGdh4YJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFDzsoJUEeGsv772wTim0Q" name="townCommands" visibility="private" type="_AbcosIJUEeGsv772wTim0Q" association="_EGjBcYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFDzs4JUEeGsv772wTim0Q" name="factionCommands" visibility="private" type="_AbGqcIJUEeGsv772wTim0Q" association="_EGjBdIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFDztIJUEeGsv772wTim0Q" name="debugCommands" visibility="private" type="_AbCZAIJUEeGsv772wTim0Q" association="_EGjogYJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFEawIJUEeGsv772wTim0Q" name="commands" visibility="private" type="_Aa8SYIJUEeGsv772wTim0Q" association="_EGjohIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFEawYJUEeGsv772wTim0Q" name="npcCommands" visibility="private" type="_AbNYIIJUEeGsv772wTim0Q" association="_EGkPkIJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFEawoJUEeGsv772wTim0Q" name="npcTownCommands" visibility="private" type="_AbVT8IJUEeGsv772wTim0Q" association="_EGkPk4JUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFEaw4JUEeGsv772wTim0Q" name="permitCommands" visibility="private" type="_AbZlYIJUEeGsv772wTim0Q" association="_EGkPloJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFEaxIJUEeGsv772wTim0Q" name="rageCommands" visibility="private" type="_D_XbYIJUEeGsv772wTim0Q" association="_EGk2oYJUEeGsv772wTim0Q"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF1Pz4JUEeGsv772wTim0Q" name="RMPlayerListener" specification="_ECXsEIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1P0IJUEeGsv772wTim0Q" name="instance" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_EF1P0YJUEeGsv772wTim0Q" type="_D_FukIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>plugin = instance;&#xD;
     questCommands = new QuestCommands(plugin);&#xD;
     compassCommands = new CompassCommands(plugin);&#xD;
     lotCommands = new LotCommands(plugin);&#xD;
     townCommands = new TownCommands(plugin);&#xD;
     factionCommands = new FactionCommands(plugin);&#xD;
     debugCommands = new DebugCommands(plugin);&#xD;
     commands = new Commands(plugin);&#xD;
     npcCommands = new NPCCommands(plugin);&#xD;
     npcTownCommands = new NPCTownCommands(plugin);&#xD;
     permitCommands = new PermitCommands(plugin);&#xD;
     rageCommands = new RageCommands(plugin);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF120IJUEeGsv772wTim0Q" name="onPlayerJoin" specification="_EEfL8IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF120YJUEeGsv772wTim0Q" name="event" type="_ECWd8IJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();    	&#xD;
 	PlayerData playerData = plugin.players.playerLogin(player.getName());    &#xD;
 	playerData.attachPlayer(player);&#xD;
 	&#xD;
		// Set the state info&#xD;
 	playerData.currentZone = plugin.zones.getZone(player.getLocation());&#xD;
 	playerData.currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
 	playerData.isInCapitol = plugin.zones.isInCapitol(player.getLocation()); &#xD;
 	&#xD;
 	// Display any messages they have from actions that happened while they were offline&#xD;
 	if( !playerData.logonMessageQueue.equals(&quot;&quot;) )&#xD;
 	{&#xD;
 		String[] split = playerData.logonMessageQueue.split(&quot;&lt;br>&quot;);&#xD;
 		&#xD;
 		for( String message : split )&#xD;
 		{&#xD;
 			if( !message.equals(&quot;&quot;) )&#xD;
 			{&#xD;
 				plugin.message.parse(player, message, ChatColor.DARK_GREEN);&#xD;
 			}&#xD;
 		}&#xD;
 		&#xD;
 		// Clear the message queue&#xD;
 		playerData.logonMessageQueue = &quot;&quot;;&#xD;
 		plugin.database.playerQueries.updatePlayer(playerData);&#xD;
 	}&#xD;
 	&#xD;
 	// Check for expired or new memberships&#xD;
 	if( RageMod.perms.playerInGroup(&quot;world&quot;, playerData.name, &quot;Member&quot;) &amp;&amp; !playerData.isMember &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.ismoderator&quot;) ) &#xD;
 	{&#xD;
 		// TODO: Find out a way to do this programatically&#xD;
 		// Message all mods/admins to demote the member&#xD;
 		for( Player onlinePlayer : plugin.getServer().getOnlinePlayers() )&#xD;
 		{&#xD;
 			if( RageMod.perms.has(onlinePlayer, &quot;ragemod.ismoderator&quot;) )&#xD;
 			{&#xD;
 				plugin.message.parse(onlinePlayer, playerData.getCodedName() + &quot;'s membership has expired - please /demote him/her.&quot;);&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 	else if( !RageMod.perms.playerInGroup(&quot;world&quot;, playerData.name, &quot;Member&quot;) &amp;&amp; playerData.isMember &amp;&amp; !RageMod.perms.has(player, &quot;ragemod.ismoderator&quot;) ) &#xD;
 	{&#xD;
 		// Message all mods/admins to promote the member&#xD;
 		for( Player onlinePlayer : plugin.getServer().getOnlinePlayers() )&#xD;
 		{&#xD;
 			if( RageMod.perms.has(onlinePlayer, &quot;ragemod.ismoderator&quot;) )&#xD;
 			{&#xD;
 				plugin.message.parse(onlinePlayer, playerData.getCodedName() + &quot; has donated $&quot; + plugin.database.playerQueries.getRecentDonations(playerData.id_Player) + &quot; to the server!  Please /promote him/her.&quot;);&#xD;
 			}&#xD;
 		}&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF120oJUEeGsv772wTim0Q" name="onPlayerQuit" specification="_EEfzAYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1204JUEeGsv772wTim0Q" name="event" type="_ECWd9oJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();    	&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());    	  &#xD;
 	&#xD;
 	// Make one final update to get values not important enough for instant update&#xD;
 	playerData.update();&#xD;
 	&#xD;
 	plugin.database.playerQueries.playerLogoff(playerData.id_Player);&#xD;
 	plugin.database.playerQueries.recordInstances(playerData);&#xD;
 	plugin.database.playerQueries.recordAffinity(playerData);&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF121IJUEeGsv772wTim0Q" name="onPlayerCommandPreprocess" specification="_EEfzBIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF121YJUEeGsv772wTim0Q" name="event" type="_ECV24oJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	&#xD;
 	String[] split = event.getMessage().split(&quot; &quot;);&#xD;
 	&#xD;
 	// *** Reduce the command tree for the lot-only release ***&#xD;
 	&#xD;
 	// ********* BASIC COMMANDS *********&#xD;
 	if(split[0].equalsIgnoreCase(&quot;/zone&quot;))&#xD;
 	{&#xD;
 		commands.zone(player);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/language&quot;) || split[0].equalsIgnoreCase(&quot;/lang&quot;) )&#xD;
 	{&#xD;
 		commands.language(player);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/affinity&quot;) || split[0].equalsIgnoreCase(&quot;/aff&quot;) )&#xD;
 	{&#xD;
 		commands.affinity(player);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/rage&quot;) )&#xD;
 	{&#xD;
 		rageCommands.onCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* COMPASS COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/compass&quot;) )&#xD;
 	{&#xD;
 		compassCommands.onCompassCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* LOT COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/lot&quot;) )&#xD;
 	{&#xD;
 		lotCommands.onLotCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* DEBUG COMMANDS **********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/debug&quot;) ) &#xD;
 	{&#xD;
 		if( RageMod.perms.has(player, &quot;ragemod.debug&quot;) )&#xD;
 			debugCommands.onRmdebugCommand(player, playerData, split);  &#xD;
 		else&#xD;
 			plugin.message.sendNo(player, &quot;You do not have permission to perform that command.&quot;);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* PERMIT COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/permit&quot;) )&#xD;
 	{&#xD;
 		permitCommands.onCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* NPC COMMANDS ************&#xD;
 	else if(split[0].equalsIgnoreCase(&quot;/npc&quot;))&#xD;
 	{&#xD;
 		if(RageMod.perms.has(player, &quot;ragemod.npc&quot;))&#xD;
			{&#xD;
 			npcCommands.onNPCCommand(player, playerData, split);&#xD;
			}&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	// ********* NPCTOWN COMMANDS *********&#xD;
 	else if( split[0].equalsIgnoreCase(&quot;/npctown&quot;) )&#xD;
 	{&#xD;
 		npcTownCommands.onNPCTownCommand(player, playerData, split);&#xD;
 		event.setCancelled(true);&#xD;
 	}&#xD;
 	&#xD;
 	&#xD;
 	if( !plugin.config.PRE_RELEASE_MODE )&#xD;
 	{&#xD;
     	// ********* BASIC COMMANDS *********&#xD;
     	if( split[0].equalsIgnoreCase(&quot;/spawn&quot;) )&#xD;
     	{&#xD;
     		if( split.length == 1 )&#xD;
     			commands.spawn(player, playerData.name);&#xD;
     		else if( split.length == 2 )&#xD;
     			commands.spawn(player, split[1]);&#xD;
     		else&#xD;
     			plugin.message.parse(player, &quot;Usage: /spawn [player_name]&quot;);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	else if( split[0].equalsIgnoreCase(&quot;/home&quot;) )&#xD;
     	{&#xD;
     		if( split.length == 1 )&#xD;
     			commands.home(player, playerData.name);&#xD;
     		else if( split.length == 2 )&#xD;
     			commands.home(player, split[1]);&#xD;
     		else&#xD;
     			plugin.message.parse(player, &quot;Usage: /home [player_name]&quot;);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	// ********* TOWN COMMANDS *********&#xD;
     	else if( split[0].equalsIgnoreCase(&quot;/town&quot;) )&#xD;
     	{&#xD;
     		townCommands.onTownCommand(player, playerData, split);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	// ********* FACTION COMMANDS **********&#xD;
     	else if(split[0].equalsIgnoreCase(&quot;/faction&quot;) )&#xD;
     	{&#xD;
     		factionCommands.onFactionCommand(player, playerData, split);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
     	// ********* QUEST COMMANDS **********&#xD;
     	else if(split[0].equalsIgnoreCase(&quot;/quest&quot;)) &#xD;
     	{&#xD;
     		questCommands.onQuestCommand(player, playerData, split);&#xD;
     		event.setCancelled(true);&#xD;
     	}&#xD;
 	}&#xD;
 		&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF121oJUEeGsv772wTim0Q" name="onPlayerMove" specification="_EEgaEYJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1214JUEeGsv772wTim0Q" name="event" type="_ECWd8oJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
     PlayerData playerData = plugin.players.get(player.getName());&#xD;
     World world = player.getWorld();&#xD;
&#xD;
     if( event.getFrom().getBlockX() != event.getTo().getBlockX() ||&#xD;
     	event.getFrom().getBlockZ() != event.getTo().getBlockZ() )&#xD;
     {&#xD;
     	// Check to see if the player has changed zones&#xD;
     	if( playerData.currentZone != plugin.zones.getZone(player.getLocation()))&#xD;
     	{&#xD;
     		playerData.currentZone = plugin.zones.getZone(player.getLocation());&#xD;
     		plugin.message.parse(player, &quot;Your current zone is now &quot; + plugin.zones.getName(playerData.currentZone));        		&#xD;
     	}&#xD;
     	&#xD;
     	// *** ZONE A (Neutral Zone) ***&#xD;
     	if( playerData.currentZone == RageZones.Zone.A )&#xD;
     	{&#xD;
     		// Check to see if the player has entered or left the capitol&#xD;
     		if( playerData.isInCapitol )&#xD;
     		{&#xD;
     			if( !plugin.zones.isInCapitol(player.getLocation()) )&#xD;
     			{&#xD;
     				playerData.isInCapitol = false;&#xD;
     				&#xD;
     				&#xD;
     				// TODO: Is this necessary?  It might end up doing more harm than good...&#xD;
     				&#xD;
     				if( playerData.enterLeaveMessageTime == null || Util.secondsSince(playerData.enterLeaveMessageTime) > 10 )&#xD;
     				{&#xD;
     					plugin.message.parse(player, &quot;Now leaving the capitol of &quot; + plugin.config.Capitol_CodedName);&#xD;
     					playerData.enterLeaveMessageTime = Util.now();&#xD;
     				}&#xD;
     			}&#xD;
     		}&#xD;
     		else&#xD;
     		{&#xD;
     			if( plugin.zones.isInCapitol(player.getLocation()) )&#xD;
     			{&#xD;
     				playerData.isInCapitol = true;&#xD;
     				&#xD;
     				if( playerData.enterLeaveMessageTime == null || Util.secondsSince(playerData.enterLeaveMessageTime) > 10 )&#xD;
     				{&#xD;
     					plugin.message.parse(player, &quot;Now entering the capitol of &quot; + plugin.config.Capitol_CodedName);&#xD;
     					playerData.enterLeaveMessageTime = Util.now();&#xD;
     				}&#xD;
     			}&#xD;
     			else&#xD;
     			{&#xD;
     				// See if the player has entered or left a Town&#xD;
     	        	if( playerData.currentTown == null )&#xD;
     	        	{&#xD;
     	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
     	        		if( currentTown != null )&#xD;
     	        		{&#xD;
     	        			plugin.message.parse(player, &quot;Now entering the &quot; + currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + currentTown.getCodedName());&#xD;
     	        			playerData.currentTown = currentTown;&#xD;
     	        			&#xD;
     	        		}&#xD;
     	        	}&#xD;
     	        	else&#xD;
     	        	{&#xD;
     	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
     	        		if( currentTown == null )&#xD;
     	        		{&#xD;
     	        			plugin.message.parse(player, &quot;Now leaving the &quot; + playerData.currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + playerData.currentTown.getCodedName());&#xD;
     	        			playerData.currentTown = null;&#xD;
     	        			&#xD;
     	        		}&#xD;
     	        	}&#xD;
     			}&#xD;
     		}&#xD;
     	}&#xD;
     	// *** ZONE B (War Zone) ***&#xD;
     	else if( playerData.currentZone == RageZones.Zone.B )&#xD;
     	{&#xD;
	        	// See if the player has entered or left a Town&#xD;
	        	if( playerData.currentTown == null )&#xD;
	        	{&#xD;
	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
	        		if( currentTown != null )&#xD;
	        		{&#xD;
	        			plugin.message.parse(player, &quot;Now entering the &quot; + currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + currentTown.getCodedName());&#xD;
	        			playerData.currentTown = currentTown;&#xD;
	        			&#xD;
	        		}&#xD;
	        	}&#xD;
	        	else&#xD;
	        	{&#xD;
	        		Town currentTown = plugin.towns.getCurrentTown(player.getLocation());&#xD;
	        		if( currentTown == null )&#xD;
	        		{&#xD;
	        			plugin.message.parse(player, &quot;Now leaving the &quot; + playerData.currentTown.townLevel.name.toLowerCase() + &quot; of &quot; + playerData.currentTown.getCodedName());&#xD;
	        			playerData.currentTown = null;&#xD;
	        			&#xD;
	        		}&#xD;
	        	}&#xD;
     	}&#xD;
     }&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF122IJUEeGsv772wTim0Q" name="onPlayerInteract" specification="_EEgaFIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF122YJUEeGsv772wTim0Q" name="event" type="_ECV25IJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	Action action = event.getAction();&#xD;
 	Block block = event.getClickedBlock();&#xD;
&#xD;
 	if(action == Action.RIGHT_CLICK_BLOCK)&#xD;
 	{&#xD;
 		&#xD;
 	}	&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF122oJUEeGsv772wTim0Q" name="onPlayerRespawn" specification="_EEhBIIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF1224JUEeGsv772wTim0Q" name="event" type="_ECXFAYJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
 	PlayerData playerData = plugin.players.get(player.getName());&#xD;
 	&#xD;
 	if( playerData.getSpawn() != null &amp;&amp; !plugin.config.PRE_RELEASE_MODE )&#xD;
 	{&#xD;
 		event.setRespawnLocation(playerData.getSpawn());&#xD;
 	}&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF123IJUEeGsv772wTim0Q" name="onPlayerPortal" specification="_EEhBI4JUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF123YJUEeGsv772wTim0Q" name="event" type="_ECWd9IJUEeGsv772wTim0Q"/>
              <language>java</language>
              <body>Player player = event.getPlayer();&#xD;
	    PlayerData playerData = plugin.players.get(player.getName());&#xD;
	    World world = player.getWorld();&#xD;
	    &#xD;
	    if( plugin.config.PRE_RELEASE_MODE )&#xD;
	    	return;&#xD;
	    &#xD;
	    // Portals in normal world&#xD;
	    if( world.getName().equalsIgnoreCase(&quot;world&quot;) )&#xD;
	    {&#xD;
	    	// *** ZONE A (Neutral Zone) ***&#xD;
	    	if( playerData.currentZone == RageZones.Zone.A )&#xD;
	    	{&#xD;
	    		// All portals from the capitol will go to the center of the Travel Zone&#xD;
	    		if( plugin.zones.isInCapitol(player.getLocation()) )&#xD;
	    			event.setTo(plugin.zones.TZ_Center);&#xD;
	    	}&#xD;
	    	else if( playerData.currentZone == RageZones.Zone.B )&#xD;
	    	{&#xD;
	    		if( playerData.currentTown != null &amp;&amp; playerData.currentTown instanceof PlayerTown )&#xD;
	    		{&#xD;
	    			PlayerTown currentTown = (PlayerTown)playerData.currentTown;&#xD;
	    			event.setTo(currentTown.travelNode);&#xD;
	    		}&#xD;
	    		else&#xD;
	    			event.setTo(plugin.zones.TZ_Center);&#xD;
	    	}&#xD;
	    }&#xD;
	    else if( world.getName().equalsIgnoreCase(&quot;world_nether&quot;) )&#xD;
	    {&#xD;
	    	// Temp: Make all portals go back to capitol&#xD;
	    	event.setTo(plugin.zones.Capitol_Portal);&#xD;
	    }&#xD;
	    &#xD;
 </body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_ECXFA4JUEeGsv772wTim0Q" supplier="_Akf3A4JUEeGsv772wTim0Q" client="_D_FukIJUEeGsv772wTim0Q" contract="_Akf3A4JUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_ECXsEIJUEeGsv772wTim0Q" name="RMPlayerListener" method="_EF1Pz4JUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_ECXsEoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_ECXsE4JUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_ECXsEYJUEeGsv772wTim0Q" name="instance" type="_At6RtoJUEeGsv772wTim0Q"/>
              <ownedParameter xmi:id="_ECXsFIJUEeGsv772wTim0Q" type="_D_FukIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEfL8IJUEeGsv772wTim0Q" name="onPlayerJoin" method="_EF120IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEfL8YJUEeGsv772wTim0Q" name="event" type="_ECWd8IJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEfzAYJUEeGsv772wTim0Q" name="onPlayerQuit" method="_EF120oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEfzAoJUEeGsv772wTim0Q" name="event" type="_ECWd9oJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEfzBIJUEeGsv772wTim0Q" name="onPlayerCommandPreprocess" method="_EF121IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEfzBYJUEeGsv772wTim0Q" name="event" type="_ECV24oJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEgaEYJUEeGsv772wTim0Q" name="onPlayerMove" method="_EF121oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEgaEoJUEeGsv772wTim0Q" name="event" type="_ECWd8oJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEgaFIJUEeGsv772wTim0Q" name="onPlayerInteract" method="_EF122IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEgaFYJUEeGsv772wTim0Q" name="event" type="_ECV25IJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEhBIIJUEeGsv772wTim0Q" name="onPlayerRespawn" method="_EF122oJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEhBIYJUEeGsv772wTim0Q" name="event" type="_ECXFAYJUEeGsv772wTim0Q"/>
            </ownedOperation>
            <ownedOperation xmi:id="_EEhBI4JUEeGsv772wTim0Q" name="onPlayerPortal" method="_EF123IJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EEhBJIJUEeGsv772wTim0Q" name="event" type="_ECWd9IJUEeGsv772wTim0Q"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_D_RUwIJUEeGsv772wTim0Q" name="RageTimer" clientDependency="_EEo88YJUEeGsv772wTim0Q">
            <ownedAttribute xmi:id="_EFWHkIJUEeGsv772wTim0Q" name="plugin" visibility="private" isLeaf="true" type="_At6RtoJUEeGsv772wTim0Q" isReadOnly="true" association="_EGmr0IJUEeGsv772wTim0Q"/>
            <ownedAttribute xmi:id="_EFWHkoJUEeGsv772wTim0Q" name="secondHand" visibility="package">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFWuoIJUEeGsv772wTim0Q" value="0"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3E8IJUEeGsv772wTim0Q" name="RageTimer" specification="_ECdysIJUEeGsv772wTim0Q">
              <ownedParameter xmi:id="_EF3E8YJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EF3E8oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EF3E84JUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_EF3E9IJUEeGsv772wTim0Q" type="_D_RUwIJUEeGsv772wTim0Q" direction="return"/>
              <language>java</language>
              <body>this.plugin = plugin;&#xD;
 </body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EF3E9YJUEeGsv772wTim0Q" name="run" specification="_D_R70IJUEeGsv772wTim0Q">
              <language>java</language>
              <body>// Process per-minute tasks (separated out for efficiency)&#xD;
		//if( secondHand == 0 )&#xD;
		//{&#xD;
			// Process town upkeep/taxes&#xD;
			if( plugin.tasks.getSeconds(&quot;TOWN_UPKEEP&quot;) > plugin.config.Task_TOWN_UPKEEP )&#xD;
			{&#xD;
				plugin.tasks.processTownUpkeeps();&#xD;
				plugin.tasks.setComplete(&quot;TOWN_UPKEEP&quot;);&#xD;
			}&#xD;
			// Fill sandlot&#xD;
			if( plugin.tasks.getSeconds(&quot;FILL_SANDLOT&quot;) > plugin.config.Task_FILL_SANDLOT )&#xD;
			{&#xD;
				System.out.println(&quot;It has been &quot; + plugin.tasks.getSeconds(&quot;FILL_SANDLOT&quot;) + &quot; seconds since the last sandlot fill.&quot;);&#xD;
				plugin.tasks.processFillSandlot(plugin);&#xD;
				plugin.tasks.setComplete(&quot;FILL_SANDLOT&quot;);&#xD;
			}&#xD;
			&#xD;
				&#xD;
			&#xD;
		//}&#xD;
		&#xD;
		&#xD;
		&#xD;
		&#xD;
		// Increment/reset the second hand&#xD;
		secondHand++;&#xD;
		if( secondHand == 60 )&#xD;
			secondHand = 0;&#xD;
	</body>
            </ownedBehavior>
            <interfaceRealization xmi:id="_EEo88YJUEeGsv772wTim0Q" supplier="_EEoV4IJUEeGsv772wTim0Q" client="_D_RUwIJUEeGsv772wTim0Q" contract="_EEoV4IJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_D_R70IJUEeGsv772wTim0Q" name="run" method="_EF3E9YJUEeGsv772wTim0Q"/>
            <ownedOperation xmi:id="_ECdysIJUEeGsv772wTim0Q" name="RageTimer" method="_EF3E8IJUEeGsv772wTim0Q">
              <eAnnotations xmi:id="_ECdysoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_ECeZwIJUEeGsv772wTim0Q" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_ECdysYJUEeGsv772wTim0Q" name="plugin" type="_At6RtoJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_ECeZwoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_ECeZw4JUEeGsv772wTim0Q" key="final"/>
                </eAnnotations>
              </ownedParameter>
              <ownedParameter xmi:id="_ECeZwYJUEeGsv772wTim0Q" type="_D_RUwIJUEeGsv772wTim0Q" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_EEoV4IJUEeGsv772wTim0Q" name="Runnable"/>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGbssIJUEeGsv772wTim0Q" name="" memberEnd="_EGbssYJUEeGsv772wTim0Q _EFClkIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGbssYJUEeGsv772wTim0Q" name="" type="_D_BdIIJUEeGsv772wTim0Q" association="_EGbssIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGbss4JUEeGsv772wTim0Q" name="" memberEnd="_EGbstIJUEeGsv772wTim0Q _EFClkYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGbstIJUEeGsv772wTim0Q" name="" type="_D_BdIIJUEeGsv772wTim0Q" association="_EGbss4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGcTwYJUEeGsv772wTim0Q" name="" memberEnd="_EGcTwoJUEeGsv772wTim0Q _EFClkoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGcTwoJUEeGsv772wTim0Q" name="" type="_D_BdIIJUEeGsv772wTim0Q" association="_EGcTwYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGcTxIJUEeGsv772wTim0Q" name="" memberEnd="_EGcTxYJUEeGsv772wTim0Q _EFDMoIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGcTxYJUEeGsv772wTim0Q" name="" type="_D_EgcIJUEeGsv772wTim0Q" association="_EGcTxIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGc60IJUEeGsv772wTim0Q" name="" memberEnd="_EGc60YJUEeGsv772wTim0Q _EFDMooJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGc60YJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGc60IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGc604JUEeGsv772wTim0Q" name="" memberEnd="_EGc61IJUEeGsv772wTim0Q _EFDMo4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGc61IJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGc604JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGc61oJUEeGsv772wTim0Q" name="" memberEnd="_EGc614JUEeGsv772wTim0Q _EFDzsIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGc614JUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGc61oJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGdh4YJUEeGsv772wTim0Q" name="" memberEnd="_EGdh4oJUEeGsv772wTim0Q _EFDzsYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGdh4oJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGdh4YJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGjBcYJUEeGsv772wTim0Q" name="" memberEnd="_EGjBcoJUEeGsv772wTim0Q _EFDzsoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGjBcoJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGjBcYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGjBdIJUEeGsv772wTim0Q" name="" memberEnd="_EGjBdYJUEeGsv772wTim0Q _EFDzs4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGjBdYJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGjBdIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGjogYJUEeGsv772wTim0Q" name="" memberEnd="_EGjogoJUEeGsv772wTim0Q _EFDztIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGjogoJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGjogYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGjohIJUEeGsv772wTim0Q" name="" memberEnd="_EGjohYJUEeGsv772wTim0Q _EFEawIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGjohYJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGjohIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGkPkIJUEeGsv772wTim0Q" name="" memberEnd="_EGkPkYJUEeGsv772wTim0Q _EFEawYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGkPkYJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGkPkIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGkPk4JUEeGsv772wTim0Q" name="" memberEnd="_EGkPlIJUEeGsv772wTim0Q _EFEawoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGkPlIJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGkPk4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGkPloJUEeGsv772wTim0Q" name="" memberEnd="_EGkPl4JUEeGsv772wTim0Q _EFEaw4JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGkPl4JUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGkPloJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGk2oYJUEeGsv772wTim0Q" name="" memberEnd="_EGk2ooJUEeGsv772wTim0Q _EFEaxIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGk2ooJUEeGsv772wTim0Q" name="" type="_D_FukIJUEeGsv772wTim0Q" association="_EGk2oYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGk2pIJUEeGsv772wTim0Q" name="" memberEnd="_EGk2pYJUEeGsv772wTim0Q _EFFB0IJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGk2pYJUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGk2pIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGk2p4JUEeGsv772wTim0Q" name="" memberEnd="_EGk2qIJUEeGsv772wTim0Q _EFFo4IJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGk2qIJUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGk2p4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGldsYJUEeGsv772wTim0Q" name="" memberEnd="_EGldsoJUEeGsv772wTim0Q _EFKhYIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGldsoJUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGldsYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGldtIJUEeGsv772wTim0Q" name="" memberEnd="_EGldtYJUEeGsv772wTim0Q _EFUSZIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGldtYJUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGldtIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGmEwIJUEeGsv772wTim0Q" name="" memberEnd="_EGmEwYJUEeGsv772wTim0Q _EFU5cYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGmEwYJUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGmEwIJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGmEw4JUEeGsv772wTim0Q" name="" memberEnd="_EGmExIJUEeGsv772wTim0Q _EFU5dIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGmExIJUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGmEw4JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGmExoJUEeGsv772wTim0Q" name="" memberEnd="_EGmEx4JUEeGsv772wTim0Q _EFVggYJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGmEx4JUEeGsv772wTim0Q" name="" type="_AlCpkIJUEeGsv772wTim0Q" association="_EGmExoJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGmr0IJUEeGsv772wTim0Q" name="" memberEnd="_EGmr0YJUEeGsv772wTim0Q _EFWHkIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGmr0YJUEeGsv772wTim0Q" name="" type="_D_RUwIJUEeGsv772wTim0Q" association="_EGmr0IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGmr04JUEeGsv772wTim0Q" name="" memberEnd="_EGmr1IJUEeGsv772wTim0Q _EFX8woJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGmr1IJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGmr04JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGmr1oJUEeGsv772wTim0Q" name="" memberEnd="_EGmr14JUEeGsv772wTim0Q _EFX8xIJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGmr14JUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGmr1oJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGnS4YJUEeGsv772wTim0Q" name="" memberEnd="_EGnS4oJUEeGsv772wTim0Q _EFX8xoJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGnS4oJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGnS4YJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGnS5IJUEeGsv772wTim0Q" name="" memberEnd="_EGnS5YJUEeGsv772wTim0Q _EFYj0YJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGnS5YJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGnS5IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGnS54JUEeGsv772wTim0Q" name="" memberEnd="_EGnS6IJUEeGsv772wTim0Q _EFYj04JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGnS6IJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGnS54JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGn58YJUEeGsv772wTim0Q" name="" memberEnd="_EGn58oJUEeGsv772wTim0Q _EFYj1YJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGn58oJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGn58YJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGn59IJUEeGsv772wTim0Q" name="" memberEnd="_EGn59YJUEeGsv772wTim0Q _EFZK4YJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGn59YJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGn59IJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGn594JUEeGsv772wTim0Q" name="" memberEnd="_EGn5-IJUEeGsv772wTim0Q _EFZK44JUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGn5-IJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGn594JUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGohAYJUEeGsv772wTim0Q" name="" memberEnd="_EGohAoJUEeGsv772wTim0Q _EFZK5YJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGohAoJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGohAYJUEeGsv772wTim0Q"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_EGohBIJUEeGsv772wTim0Q" name="" memberEnd="_EGohBYJUEeGsv772wTim0Q _EFZx8IJUEeGsv772wTim0Q">
            <ownedEnd xmi:id="_EGohBYJUEeGsv772wTim0Q" name="" type="_AlDQoYJUEeGsv772wTim0Q" association="_EGohBIJUEeGsv772wTim0Q"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AW440IJUEeGsv772wTim0Q" name="citizensnpcs">
        <packagedElement xmi:type="uml:Package" xmi:id="_AW440YJUEeGsv772wTim0Q" name="api">
          <packagedElement xmi:type="uml:Package" xmi:id="_AW440oJUEeGsv772wTim0Q" name="event">
            <packagedElement xmi:type="uml:Class" xmi:id="_AkdawIJUEeGsv772wTim0Q" name="NPCTargetEvent"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AYeNMYJUEeGsv772wTim0Q" name="lib">
          <packagedElement xmi:type="uml:Package" xmi:id="_AYeNMoJUEeGsv772wTim0Q" name="creatures">
            <packagedElement xmi:type="uml:Class" xmi:id="_AmD9QIJUEeGsv772wTim0Q" name="CreatureNPC"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmCvJIJUEeGsv772wTim0Q" name="NPC"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmDWMYJUEeGsv772wTim0Q" name="NPCNetHandler"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AW78IYJUEeGsv772wTim0Q" name="milkbowl">
        <packagedElement xmi:type="uml:Package" xmi:id="_AW78IoJUEeGsv772wTim0Q" name="vault">
          <packagedElement xmi:type="uml:Package" xmi:id="_AW78I4JUEeGsv772wTim0Q" name="economy">
            <packagedElement xmi:type="uml:Class" xmi:id="_AkkIc4JUEeGsv772wTim0Q" name="Economy"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ak_mQIJUEeGsv772wTim0Q" name="EconomyResponse"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AW78JIJUEeGsv772wTim0Q" name="permission">
            <packagedElement xmi:type="uml:Class" xmi:id="_AkkvgYJUEeGsv772wTim0Q" name="Permission"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AllcIYJUEeGsv772wTim0Q" name="Vault"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AYeNM4JUEeGsv772wTim0Q" name="minecraft">
        <packagedElement xmi:type="uml:Package" xmi:id="_AYeNNIJUEeGsv772wTim0Q" name="server">
          <packagedElement xmi:type="uml:Class" xmi:id="_AmD9QoJUEeGsv772wTim0Q" name="EntityHuman"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmD9RIJUEeGsv772wTim0Q" name="EntityPlayer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmEkUYJUEeGsv772wTim0Q" name="ItemInWorldManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmEkU4JUEeGsv772wTim0Q" name="NetHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmFLYYJUEeGsv772wTim0Q" name="NetServerHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmFLY4JUEeGsv772wTim0Q" name="NetworkManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmFycYJUEeGsv772wTim0Q" name="Packet18ArmAnimation"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmFyc4JUEeGsv772wTim0Q" name="WorldServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmGZgoJUEeGsv772wTim0Q" name="Entity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmZ7gYJUEeGsv772wTim0Q" name="IInventory"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmZ7g4JUEeGsv772wTim0Q" name="TileEntityChest"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmbwsIJUEeGsv772wTim0Q" name="AxisAlignedBB"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmbwsoJUEeGsv772wTim0Q" name="EnumSkyBlock"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmbwtIJUEeGsv772wTim0Q" name="PlayerManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmcXwYJUEeGsv772wTim0Q" name="WorldProvider"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Amc-0YJUEeGsv772wTim0Q" name="World"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmfbEIJUEeGsv772wTim0Q" name="MinecraftServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmieYIJUEeGsv772wTim0Q" name="Packet"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmieYoJUEeGsv772wTim0Q" name="Packet101CloseWindow"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmjFcYJUEeGsv772wTim0Q" name="Packet102WindowClick"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmjFc4JUEeGsv772wTim0Q" name="Packet106Transaction"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmjsgYJUEeGsv772wTim0Q" name="Packet10Flying"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Amjsg4JUEeGsv772wTim0Q" name="Packet130UpdateSign"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmjshYJUEeGsv772wTim0Q" name="Packet14BlockDig"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmkTkYJUEeGsv772wTim0Q" name="Packet15Place"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmkTk4JUEeGsv772wTim0Q" name="Packet16BlockItemSwitch"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Amk6oYJUEeGsv772wTim0Q" name="Packet19EntityAction"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Amk6o4JUEeGsv772wTim0Q" name="Packet255KickDisconnect"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmlhsIJUEeGsv772wTim0Q" name="Packet3Chat"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmlhsoJUEeGsv772wTim0Q" name="Packet7UseEntity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmmIwIJUEeGsv772wTim0Q" name="Packet9Respawn"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_EEMRAoJUEeGsv772wTim0Q" name="NetworkListenThread"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_EEMRBIJUEeGsv772wTim0Q" name="PropertyManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_EEM4EYJUEeGsv772wTim0Q" name="ServerConfigurationManager"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_AW0nYoJUEeGsv772wTim0Q" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_AW0nY4JUEeGsv772wTim0Q" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_AXNB4IJUEeGsv772wTim0Q" name="logging">
          <packagedElement xmi:type="uml:Class" xmi:id="_AlLzgIJUEeGsv772wTim0Q" name="Level"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmZUcIJUEeGsv772wTim0Q" name="Logger"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AY0LcIJUEeGsv772wTim0Q" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="_AmbJoIJUEeGsv772wTim0Q" name="Callable"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_AkYiQIJUEeGsv772wTim0Q" name="ArrayList"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AkcMoIJUEeGsv772wTim0Q" name="Random"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AkkIcYJUEeGsv772wTim0Q" name="HashMap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Ak5foYJUEeGsv772wTim0Q" name="Date"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AlShMIJUEeGsv772wTim0Q" name="Collections"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Alf8kIJUEeGsv772wTim0Q" name="HashSet"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Alk1EIJUEeGsv772wTim0Q" name="List"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Alk1EoJUEeGsv772wTim0Q" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AmCvIIJUEeGsv772wTim0Q" name="Timer"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AmCvIoJUEeGsv772wTim0Q" name="TimerTask"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AmolAIJUEeGsv772wTim0Q" name="Arrays"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_AmpMEYJUEeGsv772wTim0Q" name="Comparator"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_D-LvoIJUEeGsv772wTim0Q" name="regex">
          <packagedElement xmi:type="uml:Class" xmi:id="_EEBR4IJUEeGsv772wTim0Q" name="Matcher"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_EEBR4oJUEeGsv772wTim0Q" name="Pattern"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_EEAq04JUEeGsv772wTim0Q" name="Iterator"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_EEP7YYJUEeGsv772wTim0Q" name="Collection"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AW78IIJUEeGsv772wTim0Q" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_AkjhYIJUEeGsv772wTim0Q" name="File"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Ams2cIJUEeGsv772wTim0Q" name="ByteArrayInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Ams2coJUEeGsv772wTim0Q" name="ByteArrayOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AmtdgYJUEeGsv772wTim0Q" name="InputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Amtdg4JUEeGsv772wTim0Q" name="OutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_ECSMgIJUEeGsv772wTim0Q" name="IOException"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AXA0oIJUEeGsv772wTim0Q" name="sql">
        <packagedElement xmi:type="uml:Class" xmi:id="_Ak44kIJUEeGsv772wTim0Q" name="Timestamp"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Al0ssIJUEeGsv772wTim0Q" name="Connection"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Al1TwYJUEeGsv772wTim0Q" name="PreparedStatement"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Al1Tw4JUEeGsv772wTim0Q" name="ResultSet"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Al2h4YJUEeGsv772wTim0Q" name="SQLException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Al4XEIJUEeGsv772wTim0Q" name="Statement"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AYeNMIJUEeGsv772wTim0Q" name="net">
        <packagedElement xmi:type="uml:Class" xmi:id="_AmBhAIJUEeGsv772wTim0Q" name="Socket"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_D-U5kIJUEeGsv772wTim0Q" name="lang">
        <packagedElement xmi:type="uml:Package" xmi:id="_D-U5kYJUEeGsv772wTim0Q" name="reflect">
          <packagedElement xmi:type="uml:Class" xmi:id="_EEPUUIJUEeGsv772wTim0Q" name="Method"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_EEVa8IJUEeGsv772wTim0Q" name="Field"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_AW1OcYJUEeGsv772wTim0Q" name="org">
      <packagedElement xmi:type="uml:Package" xmi:id="_AW1OcoJUEeGsv772wTim0Q" name="bukkit">
        <packagedElement xmi:type="uml:Package" xmi:id="_AW1Oc4JUEeGsv772wTim0Q" name="block">
          <packagedElement xmi:type="uml:Class" xmi:id="_AkZwY4JUEeGsv772wTim0Q" name="Block"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AlWLkIJUEeGsv772wTim0Q" name="Sign"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AW2ckIJUEeGsv772wTim0Q" name="inventory">
          <packagedElement xmi:type="uml:Class" xmi:id="_Aka-gIJUEeGsv772wTim0Q" name="Inventory"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Aka-goJUEeGsv772wTim0Q" name="ItemStack"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmHAkIJUEeGsv772wTim0Q" name="PlayerInventory"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AW5f4oJUEeGsv772wTim0Q" name="entity">
          <packagedElement xmi:type="uml:Class" xmi:id="_Akeo4IJUEeGsv772wTim0Q" name="Creature"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Akeo4oJUEeGsv772wTim0Q" name="CreatureType"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Akeo5IJUEeGsv772wTim0Q" name="Entity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AkfP8YJUEeGsv772wTim0Q" name="HumanEntity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AkfP84JUEeGsv772wTim0Q" name="Player"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Akf3AYJUEeGsv772wTim0Q" name="Sheep"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak6GsIJUEeGsv772wTim0Q" name="Chicken"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak6GsoJUEeGsv772wTim0Q" name="Cow"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak6twIJUEeGsv772wTim0Q" name="Creeper"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak6twoJUEeGsv772wTim0Q" name="EnderDragon"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak6txIJUEeGsv772wTim0Q" name="Enderman"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak7U0YJUEeGsv772wTim0Q" name="Ghast"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak7U04JUEeGsv772wTim0Q" name="Giant"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak774IJUEeGsv772wTim0Q" name="Pig"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak774oJUEeGsv772wTim0Q" name="PigZombie"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak8i8IJUEeGsv772wTim0Q" name="Skeleton"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak8i8oJUEeGsv772wTim0Q" name="Slime"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak8i9IJUEeGsv772wTim0Q" name="Spider"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak9KAYJUEeGsv772wTim0Q" name="Squid"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak9KA4JUEeGsv772wTim0Q" name="Wolf"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak9xEYJUEeGsv772wTim0Q" name="Zombie"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AW5f44JUEeGsv772wTim0Q" name="event">
          <packagedElement xmi:type="uml:Package" xmi:id="_AW5f5IJUEeGsv772wTim0Q" name="entity">
            <packagedElement xmi:type="uml:Class" xmi:id="_Akf3BYJUEeGsv772wTim0Q" name="CreatureSpawnEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AkgeEYJUEeGsv772wTim0Q" name="EntityDamageByEntityEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AkgeE4JUEeGsv772wTim0Q" name="EntityDamageEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AkhFIYJUEeGsv772wTim0Q" name="EntityTargetEvent"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AW7VEIJUEeGsv772wTim0Q" name="server">
            <packagedElement xmi:type="uml:Class" xmi:id="_AkiTQIJUEeGsv772wTim0Q" name="PluginDisableEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AkiTQoJUEeGsv772wTim0Q" name="PluginEnableEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EEQic4JUEeGsv772wTim0Q" name="ServerListener"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AXvNYIJUEeGsv772wTim0Q" name="block">
            <packagedElement xmi:type="uml:Class" xmi:id="_AlmqQIJUEeGsv772wTim0Q" name="BlockBreakEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AlnRUIJUEeGsv772wTim0Q" name="BlockEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AlnRUoJUEeGsv772wTim0Q" name="BlockPlaceEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECV24IJUEeGsv772wTim0Q" name="Action"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_AYjFsYJUEeGsv772wTim0Q" name="world">
            <packagedElement xmi:type="uml:Class" xmi:id="_AmLSAYJUEeGsv772wTim0Q" name="ChunkLoadEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_EERJgIJUEeGsv772wTim0Q" name="WorldListener"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_Akf3A4JUEeGsv772wTim0Q" name="Listener"/>
          <packagedElement xmi:type="uml:Package" xmi:id="_D3KhoIJUEeGsv772wTim0Q" name="player">
            <packagedElement xmi:type="uml:Class" xmi:id="_ECV24oJUEeGsv772wTim0Q" name="PlayerCommandPreprocessEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECV25IJUEeGsv772wTim0Q" name="PlayerInteractEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECWd8IJUEeGsv772wTim0Q" name="PlayerJoinEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECWd8oJUEeGsv772wTim0Q" name="PlayerMoveEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECWd9IJUEeGsv772wTim0Q" name="PlayerPortalEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECWd9oJUEeGsv772wTim0Q" name="PlayerQuitEvent"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_ECXFAYJUEeGsv772wTim0Q" name="PlayerRespawnEvent"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_D-VgoIJUEeGsv772wTim0Q" name="Event">
            <packagedElement xmi:type="uml:Class" xmi:id="_EEQicYJUEeGsv772wTim0Q" name="Priority"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_EEP7Y4JUEeGsv772wTim0Q" name="Event"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AW7VEYJUEeGsv772wTim0Q" name="plugin">
          <packagedElement xmi:type="uml:Package" xmi:id="_AW8jMoJUEeGsv772wTim0Q" name="java">
            <packagedElement xmi:type="uml:Class" xmi:id="_Ak1OMYJUEeGsv772wTim0Q" name="JavaPlugin"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Aki6UYJUEeGsv772wTim0Q" name="Plugin"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak0nIYJUEeGsv772wTim0Q" name="PluginManager"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Ak0nI4JUEeGsv772wTim0Q" name="RegisteredServiceProvider"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_AYe0QIJUEeGsv772wTim0Q" name="craftbukkit">
          <packagedElement xmi:type="uml:Package" xmi:id="_AYjFsIJUEeGsv772wTim0Q" name="entity">
            <packagedElement xmi:type="uml:Class" xmi:id="_AmKq8IJUEeGsv772wTim0Q" name="CraftEntity"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_AmaikIJUEeGsv772wTim0Q" name="CraftPlayer"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmGZgIJUEeGsv772wTim0Q" name="CraftServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_AmcXw4JUEeGsv772wTim0Q" name="CraftWorld"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_AkZJUIJUEeGsv772wTim0Q" name="Location"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AkZJUoJUEeGsv772wTim0Q" name="Material"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AkZwYYJUEeGsv772wTim0Q" name="World"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Ak0AE4JUEeGsv772wTim0Q" name="Server"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_Ak-_MIJUEeGsv772wTim0Q" name="ChatColor"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_AlYAwIJUEeGsv772wTim0Q" name="DyeColor"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_D3EbAIJUEeGsv772wTim0Q" name="configuration">
          <packagedElement xmi:type="uml:Package" xmi:id="_D3EbAYJUEeGsv772wTim0Q" name="file">
            <packagedElement xmi:type="uml:Class" xmi:id="_ECSzkoJUEeGsv772wTim0Q" name="YamlConfiguration"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_ECZhQIJUEeGsv772wTim0Q" name="Configuration"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_D-TEYIJUEeGsv772wTim0Q" name="command">
          <packagedElement xmi:type="uml:Class" xmi:id="_EEM4E4JUEeGsv772wTim0Q" name="CommandSender"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_ECSzkIJUEeGsv772wTim0Q" name="Bukkit"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AXeHoIJUEeGsv772wTim0Q" name="getspout">
        <packagedElement xmi:type="uml:Package" xmi:id="_AXeHoYJUEeGsv772wTim0Q" name="spoutapi">
          <packagedElement xmi:type="uml:Class" xmi:id="_AlbEEIJUEeGsv772wTim0Q" name="SpoutManager"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_AYy9UIJUEeGsv772wTim0Q" name="martin">
        <packagedElement xmi:type="uml:Package" xmi:id="_AYy9UYJUEeGsv772wTim0Q" name="bukkit">
          <packagedElement xmi:type="uml:Package" xmi:id="_AYzkYIJUEeGsv772wTim0Q" name="npclib">
            <packagedElement xmi:type="uml:Package" xmi:id="_AY3OwIJUEeGsv772wTim0Q" name="NPCPath">
              <packagedElement xmi:type="uml:Class" xmi:id="_AmgCIIJUEeGsv772wTim0Q" name="Node"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AeptsIJUEeGsv772wTim0Q" name="BPlayer">
              <ownedComment xmi:id="_BAt49IJUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <ownedAttribute xmi:id="_A_cGkIJUEeGsv772wTim0Q" name="cPlayer" visibility="private" type="_AmaikIJUEeGsv772wTim0Q" association="_BIWyAYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_cGkoJUEeGsv772wTim0Q" name="ePlayer" visibility="private" type="_AmD9RIJUEeGsv772wTim0Q" association="_BIWyBIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeBVIJUEeGsv772wTim0Q" name="BPlayer" specification="_A2T_wIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeBVYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAeBVoJUEeGsv772wTim0Q" type="_AeptsIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>try {&#xD;
         //this.palyer = player;&#xD;
         cPlayer = (CraftPlayer) player;&#xD;
         ePlayer = cPlayer.getHandle();&#xD;
         //hPlayer = (EntityHuman) ePlayer;&#xD;
         //pManager = BServer.getInstance(player.getServer()).getWorld(player.getWorld().getName()).getPlayerManager();&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeBV4JUEeGsv772wTim0Q" name="openVirtualChest" specification="_A2Um0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeBWIJUEeGsv772wTim0Q" name="chest" type="_AmZ7g4JUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>ePlayer.openContainer(chest);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeBWYJUEeGsv772wTim0Q" name="openVirtualChest" specification="_A2Um0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeBWoJUEeGsv772wTim0Q" name="lChest" type="_AmD9QoJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>ePlayer.openContainer((IInventory) lChest);&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_A2T_wIJUEeGsv772wTim0Q" name="BPlayer" method="_BAeBVIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2T_woJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2T_w4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2T_wYJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2T_xIJUEeGsv772wTim0Q" type="_AeptsIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2Um0IJUEeGsv772wTim0Q" name="openVirtualChest" method="_BAeBV4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2Um0YJUEeGsv772wTim0Q" name="chest" type="_AmZ7g4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2Um0oJUEeGsv772wTim0Q" name="openVirtualChest" method="_BAeBWYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2Um04JUEeGsv772wTim0Q" name="lChest" type="_AmD9QoJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Aeq70IJUEeGsv772wTim0Q" name="BWorld">
              <ownedComment xmi:id="_BAt49YJUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <ownedAttribute xmi:id="_A_ctoIJUEeGsv772wTim0Q" name="server" visibility="private" type="_A2Um1oJUEeGsv772wTim0Q" association="_BIXZEIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_ctooJUEeGsv772wTim0Q" name="world" visibility="private" type="_AkZwYYJUEeGsv772wTim0Q" association="_BIXZE4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_ctpIJUEeGsv772wTim0Q" name="cWorld" visibility="private" type="_AmcXw4JUEeGsv772wTim0Q" association="_BIXZFoJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_dUsYJUEeGsv772wTim0Q" name="mcWorld" visibility="private" type="_Amc-0YJUEeGsv772wTim0Q" association="_BIYAIYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_dUs4JUEeGsv772wTim0Q" name="wServer" visibility="private" type="_AmFyc4JUEeGsv772wTim0Q" association="_BIYAJIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_d7wIJUEeGsv772wTim0Q" name="wProvider" visibility="private" type="_AmcXwYJUEeGsv772wTim0Q" association="_BIYAJ4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeBW4JUEeGsv772wTim0Q" name="BWorld" specification="_A2VN4YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeBXIJUEeGsv772wTim0Q" name="server" type="_A2Um1oJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAeBXYJUEeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAeBXoJUEeGsv772wTim0Q" type="_Aeq70IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.server = server;&#xD;
     world = server.getServer().getWorld(worldName);&#xD;
     try {&#xD;
         cWorld = (CraftWorld) world;&#xD;
         wServer = cWorld.getHandle();&#xD;
         wProvider = wServer.worldProvider;&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeoYIJUEeGsv772wTim0Q" name="BWorld" specification="_A2V09IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeoYYJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAeoYoJUEeGsv772wTim0Q" type="_Aeq70IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>this.world = world;&#xD;
     try {&#xD;
         cWorld = (CraftWorld) world;&#xD;
         wServer = cWorld.getHandle();&#xD;
         wProvider = wServer.worldProvider;&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeoY4JUEeGsv772wTim0Q" name="getPlayerManager" specification="_AesJ8IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeoZIJUEeGsv772wTim0Q" type="_AmbwtIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return wServer.manager;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeoZYJUEeGsv772wTim0Q" name="getCraftWorld" specification="_AesJ8YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeoZoJUEeGsv772wTim0Q" type="_AmcXw4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cWorld;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeoZ4JUEeGsv772wTim0Q" name="getWorldServer" specification="_AesxAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeoaIJUEeGsv772wTim0Q" type="_AmFyc4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return wServer;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeoaYJUEeGsv772wTim0Q" name="getMCWorld" specification="_AesxAYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeoaoJUEeGsv772wTim0Q" type="_Amc-0YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcWorld;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAeoa4JUEeGsv772wTim0Q" name="getWorldProvider" specification="_AesxAoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAeobIJUEeGsv772wTim0Q" type="_AmcXwYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return wProvider;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAfPcIJUEeGsv772wTim0Q" name="createExplosion" specification="_AetYEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAfPcYJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPcoJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPc4JUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPdIJUEeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPdYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return wServer.a(null, x, y, z, power, z, z);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAfPdoJUEeGsv772wTim0Q" name="createExplosion" specification="_A2WcBIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAfPd4JUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAfPeIJUEeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPeYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return wServer.a(null, l.getX(), l.getY(), l.getZ(), power).wasCanceled ? false : true;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAfPeoJUEeGsv772wTim0Q" name="removeEntity" specification="_A2XDEYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAfPe4JUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPfIJUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_BAfPfYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_BAfPfoJUEeGsv772wTim0Q" key="final"/>
                  </eAnnotations>
                </ownedParameter>
                <ownedParameter xmi:id="_BAfPf4JUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>server.getServer().getScheduler().callSyncMethod(plugin, new Callable&lt;Object>() {&#xD;
&#xD;
         @SuppressWarnings(&quot;unused&quot;)&#xD;
			public Object call() throws Exception {&#xD;
&#xD;
             Location loc = player.getLocation();&#xD;
             CraftWorld craftWorld = (CraftWorld) player.getWorld();&#xD;
             CraftPlayer craftPlayer = (CraftPlayer) player;&#xD;
&#xD;
             double x = loc.getX() + 0.5;&#xD;
             double y = loc.getY() + 0.5;&#xD;
             double z = loc.getZ() + 0.5;&#xD;
             double radius = 10;&#xD;
&#xD;
             List&lt;Entity> entities = new ArrayList&lt;Entity>();&#xD;
             AxisAlignedBB bb = AxisAlignedBB.a(x - radius, y - radius, z - radius, x + radius, y + radius, z + radius);&#xD;
             entities = craftWorld.getHandle().entityList;&#xD;
             for (Entity o : entities) {&#xD;
                 if (!(o instanceof EntityPlayer)) {&#xD;
                     o.getBukkitEntity().remove();&#xD;
                 }&#xD;
             }&#xD;
             return null;&#xD;
         }&#xD;
     });&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AesJ8IJUEeGsv772wTim0Q" name="getPlayerManager" method="_BAeoY4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2WcAIJUEeGsv772wTim0Q" type="_AmbwtIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AesJ8YJUEeGsv772wTim0Q" name="getCraftWorld" method="_BAeoZYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2WcAYJUEeGsv772wTim0Q" type="_AmcXw4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AesxAIJUEeGsv772wTim0Q" name="getWorldServer" method="_BAeoZ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2WcAoJUEeGsv772wTim0Q" type="_AmFyc4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AesxAYJUEeGsv772wTim0Q" name="getMCWorld" method="_BAeoaYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Amdl4YJUEeGsv772wTim0Q" type="_Amc-0YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AesxAoJUEeGsv772wTim0Q" name="getWorldProvider" method="_BAeoa4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2WcA4JUEeGsv772wTim0Q" type="_AmcXwYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AetYEIJUEeGsv772wTim0Q" name="createExplosion" method="_BAfPcIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AetYEYJUEeGsv772wTim0Q" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AetYEoJUEeGsv772wTim0Q" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AetYE4JUEeGsv772wTim0Q" name="z">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AetYFIJUEeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_AetYFYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2VN4YJUEeGsv772wTim0Q" name="BWorld" method="_BAeBW4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2V08YJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2V08oJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2VN4oJUEeGsv772wTim0Q" name="server" type="_A2Um1oJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2V08IJUEeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2V084JUEeGsv772wTim0Q" type="_Aeq70IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2V09IJUEeGsv772wTim0Q" name="BWorld" method="_BAeoYIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2V09oJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2V094JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2V09YJUEeGsv772wTim0Q" name="world" type="_AkZwYYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2V0-IJUEeGsv772wTim0Q" type="_Aeq70IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2WcBIJUEeGsv772wTim0Q" name="createExplosion" method="_BAfPdoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2WcBYJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2WcBoJUEeGsv772wTim0Q" name="power">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2XDEIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2XDEYJUEeGsv772wTim0Q" name="removeEntity" method="_BAfPeoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2XDEoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2XDE4JUEeGsv772wTim0Q" name="player" type="_AkfP84JUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_A2XDFoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_A2XDF4JUEeGsv772wTim0Q" key="final"/>
                  </eAnnotations>
                </ownedParameter>
                <ownedParameter xmi:id="_A2XDFIJUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AewbYIJUEeGsv772wTim0Q" name="NPCEntity">
              <ownedComment xmi:id="_BAt494JUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_A2bUgoJUEeGsv772wTim0Q" general="_AmD9RIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_d7woJUEeGsv772wTim0Q" name="lastTargetId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_ei0YJUEeGsv772wTim0Q" name="lastBounceTick" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_ei04JUEeGsv772wTim0Q" name="lastBounceId" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_fJ4IJUEeGsv772wTim0Q" name="path" visibility="private" type="_A2YRMIJUEeGsv772wTim0Q" association="_BIYnMYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_fJ4oJUEeGsv772wTim0Q" name="last" visibility="private" type="_AfPjkYJUEeGsv772wTim0Q" association="_BIYnNIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_fJ5IJUEeGsv772wTim0Q" name="timer" visibility="private" type="_AmCvIIJUEeGsv772wTim0Q" association="_BIZOQIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_fJ5YJUEeGsv772wTim0Q" value="new Timer()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_fw8YJUEeGsv772wTim0Q" name="end" visibility="private" type="_AkZJUIJUEeGsv772wTim0Q" association="_BIZOQ4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_fw84JUEeGsv772wTim0Q" name="maxIter" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2gIJUEeGsv772wTim0Q" name="pathFindTo" specification="_A2YRMoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAf2gYJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAf2goJUEeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>path = new NPCPath(getBukkitEntity().getLocation(), l, maxIterations);&#xD;
     end = l;&#xD;
     maxIter = maxIterations;&#xD;
     timer.schedule(new movePath(), 300);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2hIJUEeGsv772wTim0Q" name="NPCEntity" specification="_A2Y4QoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAf2hYJUEeGsv772wTim0Q" name="minecraftserver" type="_AmfbEIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAf2hoJUEeGsv772wTim0Q" name="world" type="_Amc-0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAf2h4JUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAf2iIJUEeGsv772wTim0Q" name="iteminworldmanager" type="_AmEkUYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAf2iYJUEeGsv772wTim0Q" type="_AewbYIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(minecraftserver, world, s, iteminworldmanager);&#xD;
     NetworkManager netMgr = new NPCNetworkManager(new NullSocket(), &quot;NPC Manager&quot;, new NetHandler() {&#xD;
&#xD;
         @Override&#xD;
         public boolean c() {&#xD;
             return true;&#xD;
         }&#xD;
     });&#xD;
     this.netServerHandler = new NPCNetHandler(minecraftserver, netMgr, this);&#xD;
     this.lastTargetId = -1;&#xD;
     this.lastBounceId = -1;&#xD;
     this.lastBounceTick = 0;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2ioJUEeGsv772wTim0Q" name="animateArmSwing" specification="_Aey3oIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>((WorldServer)this.world).tracker.a(this, new Packet18ArmAnimation(this, 1));&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2i4JUEeGsv772wTim0Q" name="actAsHurt" specification="_Aey3oYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>((WorldServer)this.world).tracker.a(this, new Packet18ArmAnimation(this, 2));&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2jIJUEeGsv772wTim0Q" name="b" specification="_A2ZfVYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAf2jYJUEeGsv772wTim0Q" name="entity" type="_AmD9QoJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAf2joJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>EntityTargetEvent event = new NpcEntityTargetEvent(getBukkitEntity(), entity.getBukkitEntity(), NpcEntityTargetEvent.NpcTargetReason.NPC_RIGHTCLICKED);&#xD;
     CraftServer server = ((WorldServer) this.world).getServer();&#xD;
     server.getPluginManager().callEvent(event);&#xD;
&#xD;
     return super.b(entity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2j4JUEeGsv772wTim0Q" name="a_" specification="_A2aGYoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAf2kIJUEeGsv772wTim0Q" name="entity" type="_AmD9QoJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (lastTargetId == -1 || lastTargetId != entity.id) {&#xD;
         EntityTargetEvent event = new NpcEntityTargetEvent(getBukkitEntity(), entity.getBukkitEntity(), NpcEntityTargetEvent.NpcTargetReason.CLOSEST_PLAYER);&#xD;
         CraftServer server = ((WorldServer) this.world).getServer();&#xD;
         server.getPluginManager().callEvent(event);&#xD;
     }&#xD;
     lastTargetId = entity.id;&#xD;
&#xD;
     super.a_(entity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2kYJUEeGsv772wTim0Q" name="c" specification="_A2atcYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAf2koJUEeGsv772wTim0Q" name="entity" type="_AmGZgoJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>if (lastBounceId != entity.id || System.currentTimeMillis() - lastBounceTick > 1000) {&#xD;
         EntityTargetEvent event = new NpcEntityTargetEvent(getBukkitEntity(), entity.getBukkitEntity(), NpcEntityTargetEvent.NpcTargetReason.NPC_BOUNCED);&#xD;
         CraftServer server = ((WorldServer) this.world).getServer();&#xD;
         server.getPluginManager().callEvent(event);&#xD;
&#xD;
         lastBounceTick = System.currentTimeMillis();&#xD;
     }&#xD;
&#xD;
     lastBounceId = entity.id;&#xD;
&#xD;
     super.c(entity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAgdkIJUEeGsv772wTim0Q" name="getInventory" specification="_Aey3ooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAgdkYJUEeGsv772wTim0Q" type="_AmHAkIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return ((HumanEntity) getBukkitEntity()).getInventory();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAgdkoJUEeGsv772wTim0Q" name="setItemInHand" specification="_A2bUgIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAgdk4JUEeGsv772wTim0Q" name="m" type="_AkZJUoJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>((HumanEntity) getBukkitEntity()).setItemInHand(new ItemStack(m, 1));&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAgdlIJUEeGsv772wTim0Q" name="setName" specification="_AezesIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAgdlYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>this.name = name;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAgdloJUEeGsv772wTim0Q" name="getName" specification="_AezesoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAgdl4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return name;&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AexpgIJUEeGsv772wTim0Q" name="movePath">
                <generalization xmi:id="_A2Y4QYJUEeGsv772wTim0Q" general="_AmCvIoJUEeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAf2g4JUEeGsv772wTim0Q" name="run" specification="_AexpgYJUEeGsv772wTim0Q">
                  <language>java</language>
                  <body>if (path != null) {&#xD;
             Node n = path.getNextNode();&#xD;
             Block b = null;&#xD;
             float angle = yaw;&#xD;
             float look = pitch;&#xD;
             if (n != null) {&#xD;
                 if (last == null || path.checkPath(n, last, true)) {&#xD;
                     b = n.b;&#xD;
                     if (last != null) {&#xD;
                         angle = ((float) Math.toDegrees(Math.atan2(last.b.getX() - b.getX(), last.b.getZ() - b.getZ())));&#xD;
                         look = (float) (Math.toDegrees(Math.asin(last.b.getY() - b.getY())) / 2);&#xD;
                     }&#xD;
                     setPositionRotation(b.getX() + 0.5, b.getY(), b.getZ() + 0.5, angle, look);&#xD;
                     timer.schedule(new movePath(), 300);&#xD;
                 } else {&#xD;
                     pathFindTo(end, maxIter);&#xD;
                 }&#xD;
             } else if (last != null) {&#xD;
                 setPositionRotation(end.getX(), end.getY(), end.getZ(), end.getYaw(), end.getPitch());&#xD;
             }&#xD;
             last = n;&#xD;
         }&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_AexpgYJUEeGsv772wTim0Q" name="run" method="_BAf2g4JUEeGsv772wTim0Q"/>
              </nestedClassifier>
              <ownedOperation xmi:id="_Aey3oIJUEeGsv772wTim0Q" name="animateArmSwing" method="_BAf2ioJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Aey3oYJUEeGsv772wTim0Q" name="actAsHurt" method="_BAf2i4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_Aey3ooJUEeGsv772wTim0Q" name="getInventory" method="_BAgdkIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2atdoJUEeGsv772wTim0Q" type="_AmHAkIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AezesIJUEeGsv772wTim0Q" name="setName" method="_BAgdlIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AezesYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AezesoJUEeGsv772wTim0Q" name="getName" method="_BAgdloJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_Aezes4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2YRMoJUEeGsv772wTim0Q" name="pathFindTo" method="_BAf2gIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2YRM4JUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Y4QIJUEeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2Y4QoJUEeGsv772wTim0Q" name="NPCEntity" method="_BAf2hIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2ZfUoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2ZfU4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2Y4Q4JUEeGsv772wTim0Q" name="minecraftserver" type="_AmfbEIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2Y4RIJUEeGsv772wTim0Q" name="world" type="_Amc-0YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2ZfUIJUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2ZfUYJUEeGsv772wTim0Q" name="iteminworldmanager" type="_AmEkUYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2ZfVIJUEeGsv772wTim0Q" type="_AewbYIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2ZfVYJUEeGsv772wTim0Q" name="b" method="_BAf2jIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2ZfVoJUEeGsv772wTim0Q" name="entity" type="_AmD9QoJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2ZfV4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2aGYoJUEeGsv772wTim0Q" name="a_" method="_BAf2j4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2aGY4JUEeGsv772wTim0Q" name="entity" type="_AmD9QoJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2atcYJUEeGsv772wTim0Q" name="c" method="_BAf2kYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2atcoJUEeGsv772wTim0Q" name="entity" type="_AmGZgoJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2bUgIJUEeGsv772wTim0Q" name="setItemInHand" method="_BAgdkoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2bUgYJUEeGsv772wTim0Q" name="m" type="_AkZJUoJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Ae2iAIJUEeGsv772wTim0Q" name="NPCNetHandler">
              <ownedComment xmi:id="_BAugAIJUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_A2lFgIJUEeGsv772wTim0Q" general="_AmFLYYJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAgdmIJUEeGsv772wTim0Q" name="NPCNetHandler" specification="_A2b7kIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAgdmYJUEeGsv772wTim0Q" name="minecraftserver" type="_AmfbEIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAgdmoJUEeGsv772wTim0Q" name="networkmanager" type="_AmFLY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAgdm4JUEeGsv772wTim0Q" name="entityplayer" type="_AmD9RIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAgdnIJUEeGsv772wTim0Q" type="_Ae2iAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(minecraftserver, networkmanager, entityplayer);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhEoIJUEeGsv772wTim0Q" name="getPlayer" specification="_Ae3JEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAhEoYJUEeGsv772wTim0Q" type="_AmaikIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhEooJUEeGsv772wTim0Q" name="b" specification="_AfKrEIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAhEo4JUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return super.b();&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Ae3JEIJUEeGsv772wTim0Q" name="getPlayer" method="_BAhEoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2cio4JUEeGsv772wTim0Q" type="_AmaikIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Ae3wI4JUEeGsv772wTim0Q" name="a"/>
              <ownedOperation xmi:id="_Ae4XMoJUEeGsv772wTim0Q" name="sendMessage">
                <ownedParameter xmi:id="_Ae4XM4JUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Ae4-Q4JUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_Ae4-RIJUEeGsv772wTim0Q" name="d0">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ae4-RYJUEeGsv772wTim0Q" name="d1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ae5lUIJUEeGsv772wTim0Q" name="d2">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ae5lUYJUEeGsv772wTim0Q" name="f">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
                <ownedParameter xmi:id="_Ae5lUoJUEeGsv772wTim0Q" name="f1">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_AfKrEIJUEeGsv772wTim0Q" name="b" method="_BAhEooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_AfLSIIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2b7kIJUEeGsv772wTim0Q" name="NPCNetHandler" method="_BAgdmIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2cioIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2cioYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2b7kYJUEeGsv772wTim0Q" name="minecraftserver" type="_AmfbEIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2b7koJUEeGsv772wTim0Q" name="networkmanager" type="_AmFLY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2b7k4JUEeGsv772wTim0Q" name="entityplayer" type="_AmD9RIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2ciooJUEeGsv772wTim0Q" type="_Ae2iAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2cipIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2cipYJUEeGsv772wTim0Q" name="packet10flying" type="_AmjsgYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2dJsoJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2dJs4JUEeGsv772wTim0Q" name="packet14blockdig" type="_AmjshYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2dwwYJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2dwwoJUEeGsv772wTim0Q" name="packet15place" type="_AmkTkYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2eX0oJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2eX04JUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2eX1IJUEeGsv772wTim0Q" name="aobject" type="_A2eX0IJUEeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A2eX1oJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2e-44JUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2e-5IJUEeGsv772wTim0Q" name="packet" type="_AmieYIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2fl8YJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2fl8oJUEeGsv772wTim0Q" name="packet16blockitemswitch" type="_AmkTk4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2fl9oJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2gNAIJUEeGsv772wTim0Q" name="packet3chat" type="_AmlhsIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2gNBIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2gNBYJUEeGsv772wTim0Q" name="packet18armanimation" type="_AmFycYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2g0EoJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2g0E4JUEeGsv772wTim0Q" name="packet19entityaction" type="_Amk6oYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2hbIIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2hbIYJUEeGsv772wTim0Q" name="packet255kickdisconnect" type="_Amk6o4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2hbJYJUEeGsv772wTim0Q" name="sendPacket">
                <ownedParameter xmi:id="_A2hbJoJUEeGsv772wTim0Q" name="packet" type="_AmieYIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2iCM4JUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2iCNIJUEeGsv772wTim0Q" name="packet7useentity" type="_AmlhsoJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2ipQoJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2ipQ4JUEeGsv772wTim0Q" name="packet9respawn" type="_AmmIwIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2jQUIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2jQUYJUEeGsv772wTim0Q" name="packet101closewindow" type="_AmieYoJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2jQVYJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2j3YIJUEeGsv772wTim0Q" name="packet102windowclick" type="_AmjFcYJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2j3ZIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2j3ZYJUEeGsv772wTim0Q" name="packet106transaction" type="_AmjFc4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2kecoJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_A2kec4JUEeGsv772wTim0Q" name="packet130updatesign" type="_Amjsg4JUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AfPjkIJUEeGsv772wTim0Q" name="NPCPath">
              <ownedComment xmi:id="_BAugAYJUEeGsv772wTim0Q">
                <body>*&#xD;
@author Top_Cat</body>
              </ownedComment>
              <ownedAttribute xmi:id="_A_iNMYJUEeGsv772wTim0Q" name="nodes" visibility="package" type="_AkkIcYJUEeGsv772wTim0Q" association="_BIZ1VIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_iNM4JUEeGsv772wTim0Q" value="new HashMap&lt;Block, Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_i0QYJUEeGsv772wTim0Q" name="path" visibility="package" type="_AkYiQIJUEeGsv772wTim0Q" association="_BIZ1V4JUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_i0Q4JUEeGsv772wTim0Q" value="new ArrayList&lt;Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_jbUYJUEeGsv772wTim0Q" name="open" visibility="package" type="_AkYiQIJUEeGsv772wTim0Q" association="_BIacYoJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_jbU4JUEeGsv772wTim0Q" value="new ArrayList&lt;Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_kCYYJUEeGsv772wTim0Q" name="closed" visibility="package" type="_AkYiQIJUEeGsv772wTim0Q" association="_BIacZYJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_kCY4JUEeGsv772wTim0Q" value="new ArrayList&lt;Node>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_kCZYJUEeGsv772wTim0Q" name="nodeComp" visibility="package" type="_AmpMEYJUEeGsv772wTim0Q" association="_BIbDcYJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_kpcYJUEeGsv772wTim0Q" value="new NodeComparator()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_kpc4JUEeGsv772wTim0Q" name="startNode" visibility="package" type="_A2lFgYJUEeGsv772wTim0Q" association="_BIbDdIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_A_lQgYJUEeGsv772wTim0Q" name="nonSolid" visibility="package" type="_AkZJUoJUEeGsv772wTim0Q" association="_BIbDd4JUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_lQgoJUEeGsv772wTim0Q" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_lQhIJUEeGsv772wTim0Q" value="{Material.AIR, Material.SAPLING, Material.POWERED_RAIL, Material.DETECTOR_RAIL, Material.RAILS, Material.YELLOW_FLOWER, Material.RED_ROSE, Material.RED_MUSHROOM, Material.BROWN_MUSHROOM, Material.TORCH, Material.FIRE, Material.REDSTONE_WIRE, Material.CROPS, Material.SIGN_POST, Material.WALL_SIGN, Material.LEVER, Material.STONE_BUTTON, Material.STONE_PLATE, Material.WOOD_PLATE, Material.REDSTONE_TORCH_OFF, Material.REDSTONE_TORCH_ON, Material.SUGAR_CANE_BLOCK, Material.DIODE_BLOCK_OFF, Material.DIODE_BLOCK_ON}"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_lQhoJUEeGsv772wTim0Q" name="standon" visibility="package" type="_AkZJUoJUEeGsv772wTim0Q" isOrdered="true" association="_BIbqgYJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_lQh4JUEeGsv772wTim0Q" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_l3kIJUEeGsv772wTim0Q" value="new ArrayList&lt;Material>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_A_l3koJUEeGsv772wTim0Q" name="liquids" visibility="package" type="_AkZJUoJUEeGsv772wTim0Q" isOrdered="true" association="_BIbqhIJUEeGsv772wTim0Q">
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_A_l3k4JUEeGsv772wTim0Q" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_A_l3lIJUEeGsv772wTim0Q" value="new ArrayList&lt;Material>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_BAwVMIJUEeGsv772wTim0Q" name="endNode" visibility="package" type="_A2lFgYJUEeGsv772wTim0Q" association="_BIcRkIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhrtIJUEeGsv772wTim0Q" name="NPCPath" specification="_A2m6sIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAhrtYJUEeGsv772wTim0Q" name="start" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAhrtoJUEeGsv772wTim0Q" name="end" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAhrt4JUEeGsv772wTim0Q" name="maxIteractions">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAhruIJUEeGsv772wTim0Q" type="_AfPjkIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>init(start, end, maxIteractions);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhruYJUEeGsv772wTim0Q" name="init" specification="_A2nhwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAhruoJUEeGsv772wTim0Q" name="s" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAhru4JUEeGsv772wTim0Q" name="e" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAhrvIJUEeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>liquids.add(Material.WATER);&#xD;
     liquids.add(Material.STATIONARY_WATER);&#xD;
     liquids.add(Material.LAVA);&#xD;
     liquids.add(Material.STATIONARY_LAVA);&#xD;
     liquids.add(Material.LADDER); // Trust me it makes sense&#xD;
     standon.addAll(Arrays.asList(nonSolid));&#xD;
     standon.addAll(liquids);&#xD;
&#xD;
     startNode = getNode(s.getBlock());&#xD;
     endNode = getNode(e.getBlock());&#xD;
     look(startNode, max);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhrvYJUEeGsv772wTim0Q" name="getNextNode" specification="_AfRYwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAhrvoJUEeGsv772wTim0Q" type="_A2lFgYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (path.size() > 0) {&#xD;
         Node r = path.get(0);&#xD;
         path.remove(0);&#xD;
         return r;&#xD;
     }&#xD;
     return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAiSwIJUEeGsv772wTim0Q" name="getNode" specification="_A2nhxYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAiSwYJUEeGsv772wTim0Q" name="b" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiSwoJUEeGsv772wTim0Q" type="_A2lFgYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (!nodes.containsKey(b)) {&#xD;
         nodes.put(b, new Node(b));&#xD;
     }&#xD;
     return nodes.get(b);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAiSw4JUEeGsv772wTim0Q" name="look" specification="_A2oI0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAiSxIJUEeGsv772wTim0Q" name="c" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiSxYJUEeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>Node adjacentBlock;&#xD;
     int rep = 0;&#xD;
     while (c != endNode &amp;&amp; rep &lt; max) { // Repetition variable prevents infinite loop when destination is unreachable&#xD;
         rep++;&#xD;
         closed.add(c);&#xD;
         open.remove(c);&#xD;
&#xD;
         for (int i = -1; i &lt;= 1; i++) {&#xD;
             for (int j = -1; j &lt;= 1; j++) {&#xD;
                 for (int k = -1; k &lt;= 1; k++) {&#xD;
                     adjacentBlock = getNode(c.b.getRelative(i, j, k));&#xD;
                     if (adjacentBlock != c &amp;&amp; !(j == 1 &amp;&amp; adjacentBlock.b.getRelative(0, -1, 0).getType() == Material.FENCE)) {&#xD;
                         scoreBlock(adjacentBlock, c);&#xD;
                     }&#xD;
                 }&#xD;
             }&#xD;
         }&#xD;
         Node[] n = open.toArray(new Node[open.size()]);&#xD;
         Arrays.sort(n, nodeComp);&#xD;
         if (n.length == 0) {&#xD;
             break;&#xD;
         }&#xD;
         c = n[0];&#xD;
         if (c == endNode) {&#xD;
             adjacentBlock = c;&#xD;
             while (adjacentBlock != null &amp;&amp; adjacentBlock != startNode) {&#xD;
                 path.add(adjacentBlock);&#xD;
                 adjacentBlock = adjacentBlock.parent;&#xD;
             }&#xD;
             Collections.reverse(path);&#xD;
         }&#xD;
     }&#xD;
     if (path.size() == 0) {&#xD;
         path.add(endNode);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAiSyoJUEeGsv772wTim0Q" name="checkPath" specification="_A2pW84JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAiSy4JUEeGsv772wTim0Q" name="node" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiSzIJUEeGsv772wTim0Q" name="parent" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiSzYJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return checkPath(node, parent, false);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAiSzoJUEeGsv772wTim0Q" name="checkPath" specification="_A2p-AIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAiSz4JUEeGsv772wTim0Q" name="node" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiS0IJUEeGsv772wTim0Q" name="parent" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiS0YJUEeGsv772wTim0Q" name="update">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_BAiS0oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>boolean corner = false;&#xD;
     if ((node.xPos != parent.xPos &amp;&amp; node.zPos != parent.zPos) || (node.xPos != parent.xPos &amp;&amp; node.yPos != parent.yPos) || (node.yPos != parent.yPos &amp;&amp; node.zPos != parent.zPos)) {&#xD;
         int xDir = (node.xPos - parent.xPos);&#xD;
         int zDir = (node.zPos - parent.zPos);&#xD;
&#xD;
         boolean xZCor1 = !getNode(parent.b.getRelative(0, 0, zDir)).notsolid;&#xD;
         boolean xZCor2 = !getNode(parent.b.getRelative(xDir, 0, 0)).notsolid;&#xD;
&#xD;
         corner = (xZCor1 || xZCor2);&#xD;
     }&#xD;
&#xD;
     Node nodeBelow = getNode(node.b.getRelative(0, -1, 0));&#xD;
     Node nodeAbove = getNode(node.b.getRelative(0, 1, 0));&#xD;
&#xD;
     if (update) {&#xD;
         nodeBelow.update();&#xD;
         nodeAbove.update();&#xD;
         node.update();&#xD;
     }&#xD;
&#xD;
     return !corner &amp;&amp; ((node.notsolid &amp;&amp; (!nodeBelow.notsolid || (nodeBelow.liquid &amp;&amp; node.liquid)) &amp;&amp; nodeAbove.notsolid) || node == endNode);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAiS04JUEeGsv772wTim0Q" name="scoreBlock" specification="_A2p-BYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAiS1IJUEeGsv772wTim0Q" name="node" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_BAiS1YJUEeGsv772wTim0Q" name="parent" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>int diagonal = ((node.xPos != parent.xPos &amp;&amp; node.zPos != parent.zPos) || (node.xPos != parent.xPos &amp;&amp; node.yPos != parent.yPos) || (node.yPos != parent.yPos &amp;&amp; node.zPos != parent.zPos)) ? 14 : 10;&#xD;
&#xD;
     if (checkPath(node, parent)) {&#xD;
         if (!open.contains(node) &amp;&amp; !closed.contains(node)) {&#xD;
             node.parent = parent;&#xD;
             node.g = parent.g + diagonal;&#xD;
&#xD;
             int difX = Math.abs(endNode.xPos - node.xPos);&#xD;
             int difY = Math.abs(endNode.yPos - node.yPos);&#xD;
             int difZ = Math.abs(endNode.zPos - node.zPos);&#xD;
&#xD;
             node.h = (difX + difY + difZ) * 10;&#xD;
             node.f = node.g + node.h;&#xD;
&#xD;
             open.add(node);&#xD;
         } else if (!closed.contains(node)) {&#xD;
             int g = parent.g + diagonal;&#xD;
             if (g &lt; node.g) {&#xD;
                 node.g = g;&#xD;
                 node.parent = parent;&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AfPjkYJUEeGsv772wTim0Q" name="Node">
                <ownedAttribute xmi:id="_A_gYAIJUEeGsv772wTim0Q" name="f" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_A_g_EYJUEeGsv772wTim0Q" name="xPos" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_A_hmIIJUEeGsv772wTim0Q" name="parent" visibility="package" type="_A2lFgYJUEeGsv772wTim0Q" association="_BIZORoJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A_hmIoJUEeGsv772wTim0Q" name="b" visibility="package" type="_AkZwY4JUEeGsv772wTim0Q" association="_BIZ1UYJUEeGsv772wTim0Q"/>
                <ownedAttribute xmi:id="_A_hmJIJUEeGsv772wTim0Q" name="notsolid" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BAugAoJUEeGsv772wTim0Q" name="g" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_BAvHEYJUEeGsv772wTim0Q" value="0"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BAvHEoJUEeGsv772wTim0Q" name="h" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BAvHFYJUEeGsv772wTim0Q" name="yPos" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BAvuIYJUEeGsv772wTim0Q" name="zPos" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_BAvuJIJUEeGsv772wTim0Q" name="liquid" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhrsIJUEeGsv772wTim0Q" name="Node" specification="_A2lskYJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAhrsYJUEeGsv772wTim0Q" name="b" type="_AkZwY4JUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BAhrsoJUEeGsv772wTim0Q" type="_AfPjkYJUEeGsv772wTim0Q" direction="return"/>
                  <language>java</language>
                  <body>this.b = b;&#xD;
         xPos = b.getX();&#xD;
         yPos = b.getY();&#xD;
         zPos = b.getZ();&#xD;
         update();&#xD;
     </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAhrs4JUEeGsv772wTim0Q" name="update" specification="_AfQKoIJUEeGsv772wTim0Q">
                  <language>java</language>
                  <body>notsolid = standon.contains(b.getType());&#xD;
         liquid = liquids.contains(b.getType());&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_AfQKoIJUEeGsv772wTim0Q" name="update" method="_BAhrs4JUEeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_A2lskYJUEeGsv772wTim0Q" name="Node" method="_BAhrsIJUEeGsv772wTim0Q">
                  <eAnnotations xmi:id="_A2lsk4JUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_A2lslIJUEeGsv772wTim0Q" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_A2lskoJUEeGsv772wTim0Q" name="b" type="_AkZwY4JUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_A2lslYJUEeGsv772wTim0Q" type="_AfPjkYJUEeGsv772wTim0Q" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_AfR_0IJUEeGsv772wTim0Q" name="NodeComparator" clientDependency="_A2oI1YJUEeGsv772wTim0Q">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAiSxoJUEeGsv772wTim0Q" name="compare" specification="_A2ov4YJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_BAiSx4JUEeGsv772wTim0Q" name="o1" type="_A2lFgYJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BAiSyIJUEeGsv772wTim0Q" name="o2" type="_A2lFgYJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_BAiSyYJUEeGsv772wTim0Q" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>if (o1.f > o2.f) {&#xD;
             return 1;&#xD;
         } else if (o1.f &lt; o2.f) {&#xD;
             return -1;&#xD;
         }&#xD;
         return 0;&#xD;
     </body>
                </ownedBehavior>
                <interfaceRealization xmi:id="_A2oI1YJUEeGsv772wTim0Q" supplier="_AmpMEYJUEeGsv772wTim0Q" client="_AfR_0IJUEeGsv772wTim0Q" contract="_AmpMEYJUEeGsv772wTim0Q"/>
                <ownedOperation xmi:id="_A2ov4YJUEeGsv772wTim0Q" name="compare" method="_BAiSxoJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_A2ov4oJUEeGsv772wTim0Q" name="o1" type="_A2lFgYJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_A2ov44JUEeGsv772wTim0Q" name="o2" type="_A2lFgYJUEeGsv772wTim0Q"/>
                  <ownedParameter xmi:id="_A2ov5IJUEeGsv772wTim0Q" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_AfRYwIJUEeGsv772wTim0Q" name="getNextNode" method="_BAhrvYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2nhxIJUEeGsv772wTim0Q" type="_A2lFgYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2m6sIJUEeGsv772wTim0Q" name="NPCPath" method="_BAhrtIJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_A2m6tIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_A2m6tYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_A2m6sYJUEeGsv772wTim0Q" name="start" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2m6soJUEeGsv772wTim0Q" name="end" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2m6s4JUEeGsv772wTim0Q" name="maxIteractions">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2m6toJUEeGsv772wTim0Q" type="_AfPjkIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2nhwIJUEeGsv772wTim0Q" name="init" visibility="private" method="_BAhruYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2nhwYJUEeGsv772wTim0Q" name="s" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2nhwoJUEeGsv772wTim0Q" name="e" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2nhw4JUEeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2nhxYJUEeGsv772wTim0Q" name="getNode" visibility="private" method="_BAiSwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2oI0IJUEeGsv772wTim0Q" name="b" type="_AkZwY4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2oI0YJUEeGsv772wTim0Q" type="_A2lFgYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_A2oI0oJUEeGsv772wTim0Q" name="look" visibility="private" method="_BAiSw4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2oI04JUEeGsv772wTim0Q" name="c" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2oI1IJUEeGsv772wTim0Q" name="max">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2pW84JUEeGsv772wTim0Q" name="checkPath" method="_BAiSyoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2pW9IJUEeGsv772wTim0Q" name="node" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2pW9YJUEeGsv772wTim0Q" name="parent" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2pW9oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2p-AIJUEeGsv772wTim0Q" name="checkPath" method="_BAiSzoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2p-AYJUEeGsv772wTim0Q" name="node" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2p-AoJUEeGsv772wTim0Q" name="parent" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2p-A4JUEeGsv772wTim0Q" name="update">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <ownedParameter xmi:id="_A2p-BIJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_A2p-BYJUEeGsv772wTim0Q" name="scoreBlock" visibility="private" method="_BAiS04JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2p-BoJUEeGsv772wTim0Q" name="node" type="_A2lFgYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_A2qlEIJUEeGsv772wTim0Q" name="parent" type="_A2lFgYJUEeGsv772wTim0Q"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_AfXfYIJUEeGsv772wTim0Q" name="NullSocket">
              <ownedComment xmi:id="_BAwVM4JUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_A2rzMIJUEeGsv772wTim0Q" general="_AmBhAIJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAi50IJUEeGsv772wTim0Q" name="getInputStream" specification="_AfXfYYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAi50YJUEeGsv772wTim0Q" type="_AmtdgYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>byte[] buf = new byte[1];&#xD;
     return new ByteArrayInputStream(buf);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BAi50oJUEeGsv772wTim0Q" name="getOutputStream" specification="_AfYGc4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_BAi504JUEeGsv772wTim0Q" type="_Amtdg4JUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return new ByteArrayOutputStream();&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_AfXfYYJUEeGsv772wTim0Q" name="getInputStream" method="_BAi50IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2rMIIJUEeGsv772wTim0Q" type="_AmtdgYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_AfYGc4JUEeGsv772wTim0Q" name="getOutputStream" method="_BAi50oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_A2rMIYJUEeGsv772wTim0Q" type="_Amtdg4JUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_A2eX0IJUEeGsv772wTim0Q" name="Object"/>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIWyAYJUEeGsv772wTim0Q" name="" memberEnd="_BIWyAoJUEeGsv772wTim0Q _A_cGkIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIWyAoJUEeGsv772wTim0Q" name="" type="_AeptsIJUEeGsv772wTim0Q" association="_BIWyAYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIWyBIJUEeGsv772wTim0Q" name="" memberEnd="_BIWyBYJUEeGsv772wTim0Q _A_cGkoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIWyBYJUEeGsv772wTim0Q" name="" type="_AeptsIJUEeGsv772wTim0Q" association="_BIWyBIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIXZEIJUEeGsv772wTim0Q" name="" memberEnd="_BIXZEYJUEeGsv772wTim0Q _A_ctoIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIXZEYJUEeGsv772wTim0Q" name="" type="_Aeq70IJUEeGsv772wTim0Q" association="_BIXZEIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIXZE4JUEeGsv772wTim0Q" name="" memberEnd="_BIXZFIJUEeGsv772wTim0Q _A_ctooJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIXZFIJUEeGsv772wTim0Q" name="" type="_Aeq70IJUEeGsv772wTim0Q" association="_BIXZE4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIXZFoJUEeGsv772wTim0Q" name="" memberEnd="_BIXZF4JUEeGsv772wTim0Q _A_ctpIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIXZF4JUEeGsv772wTim0Q" name="" type="_Aeq70IJUEeGsv772wTim0Q" association="_BIXZFoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIYAIYJUEeGsv772wTim0Q" name="" memberEnd="_BIYAIoJUEeGsv772wTim0Q _A_dUsYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIYAIoJUEeGsv772wTim0Q" name="" type="_Aeq70IJUEeGsv772wTim0Q" association="_BIYAIYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIYAJIJUEeGsv772wTim0Q" name="" memberEnd="_BIYAJYJUEeGsv772wTim0Q _A_dUs4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIYAJYJUEeGsv772wTim0Q" name="" type="_Aeq70IJUEeGsv772wTim0Q" association="_BIYAJIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIYAJ4JUEeGsv772wTim0Q" name="" memberEnd="_BIYAKIJUEeGsv772wTim0Q _A_d7wIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIYAKIJUEeGsv772wTim0Q" name="" type="_Aeq70IJUEeGsv772wTim0Q" association="_BIYAJ4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIYnMYJUEeGsv772wTim0Q" name="" memberEnd="_BIYnMoJUEeGsv772wTim0Q _A_fJ4IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIYnMoJUEeGsv772wTim0Q" name="" type="_AewbYIJUEeGsv772wTim0Q" association="_BIYnMYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIYnNIJUEeGsv772wTim0Q" name="" memberEnd="_BIYnNYJUEeGsv772wTim0Q _A_fJ4oJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIYnNYJUEeGsv772wTim0Q" name="" type="_AewbYIJUEeGsv772wTim0Q" association="_BIYnNIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIZOQIJUEeGsv772wTim0Q" name="" memberEnd="_BIZOQYJUEeGsv772wTim0Q _A_fJ5IJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIZOQYJUEeGsv772wTim0Q" name="" type="_AewbYIJUEeGsv772wTim0Q" association="_BIZOQIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIZOQ4JUEeGsv772wTim0Q" name="" memberEnd="_BIZORIJUEeGsv772wTim0Q _A_fw8YJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIZORIJUEeGsv772wTim0Q" name="" type="_AewbYIJUEeGsv772wTim0Q" association="_BIZOQ4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIZORoJUEeGsv772wTim0Q" name="" memberEnd="_BIZOR4JUEeGsv772wTim0Q _A_hmIIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIZOR4JUEeGsv772wTim0Q" name="" type="_AfPjkYJUEeGsv772wTim0Q" association="_BIZORoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIZ1UYJUEeGsv772wTim0Q" name="" memberEnd="_BIZ1UoJUEeGsv772wTim0Q _A_hmIoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIZ1UoJUEeGsv772wTim0Q" name="" type="_AfPjkYJUEeGsv772wTim0Q" association="_BIZ1UYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIZ1VIJUEeGsv772wTim0Q" name="" memberEnd="_BIZ1VYJUEeGsv772wTim0Q _A_iNMYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIZ1VYJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIZ1VIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIZ1V4JUEeGsv772wTim0Q" name="" memberEnd="_BIacYIJUEeGsv772wTim0Q _A_i0QYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIacYIJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIZ1V4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIacYoJUEeGsv772wTim0Q" name="" memberEnd="_BIacY4JUEeGsv772wTim0Q _A_jbUYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIacY4JUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIacYoJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIacZYJUEeGsv772wTim0Q" name="" memberEnd="_BIacZoJUEeGsv772wTim0Q _A_kCYYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIacZoJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIacZYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIbDcYJUEeGsv772wTim0Q" name="" memberEnd="_BIbDcoJUEeGsv772wTim0Q _A_kCZYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIbDcoJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIbDcYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIbDdIJUEeGsv772wTim0Q" name="" memberEnd="_BIbDdYJUEeGsv772wTim0Q _A_kpc4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIbDdYJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIbDdIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIbDd4JUEeGsv772wTim0Q" name="" memberEnd="_BIbDeIJUEeGsv772wTim0Q _A_lQgYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIbDeIJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIbDd4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIbqgYJUEeGsv772wTim0Q" name="" memberEnd="_BIbqgoJUEeGsv772wTim0Q _A_lQhoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIbqgoJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIbqgYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIbqhIJUEeGsv772wTim0Q" name="" memberEnd="_BIbqhYJUEeGsv772wTim0Q _A_l3koJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIbqhYJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIbqhIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_BIcRkIJUEeGsv772wTim0Q" name="" memberEnd="_BIcRkYJUEeGsv772wTim0Q _BAwVMIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_BIcRkYJUEeGsv772wTim0Q" name="" type="_AfPjkIJUEeGsv772wTim0Q" association="_BIcRkIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EAT2kIJUEeGsv772wTim0Q" name="BServer">
              <ownedComment xmi:id="_EGO4ZYJUEeGsv772wTim0Q">
                <body>Server hacks for Bukkit&#xD;
@author Kekec852</body>
              </ownedComment>
              <ownedAttribute xmi:id="_EFuiEoJUEeGsv772wTim0Q" name="ins" visibility="private" isStatic="true" type="_A2Um1oJUEeGsv772wTim0Q" association="_EG3KgYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFvJIYJUEeGsv772wTim0Q" name="mcServer" visibility="private" type="_AmfbEIJUEeGsv772wTim0Q" association="_EG3KhIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFvJI4JUEeGsv772wTim0Q" name="cServer" visibility="private" type="_AmGZgIJUEeGsv772wTim0Q" association="_EG3xkIJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFvJJYJUEeGsv772wTim0Q" name="server" type="_Ak0AE4JUEeGsv772wTim0Q" isReadOnly="true" association="_EG3xk4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFvwMIJUEeGsv772wTim0Q" name="worlds" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_EG3xloJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFvwMoJUEeGsv772wTim0Q" value="new HashMap&lt;String, BWorld>()"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGG8k4JUEeGsv772wTim0Q" name="BServer" specification="_EENfIIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGG8lIJUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGG8lYJUEeGsv772wTim0Q" type="_EAT2kIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>//Getting neede structures&#xD;
     server = plugin.getServer();&#xD;
     try {&#xD;
         cServer = (CraftServer) server;&#xD;
         mcServer = cServer.getServer();&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
     //end&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGG8loJUEeGsv772wTim0Q" name="BServer" specification="_EEOGMIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGG8l4JUEeGsv772wTim0Q" name="server" type="_Ak0AE4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGG8mIJUEeGsv772wTim0Q" type="_EAT2kIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>//Getting neede structures&#xD;
     this.server = server;&#xD;
     try {&#xD;
         cServer = (CraftServer) server;&#xD;
         mcServer = cServer.getServer();&#xD;
     } catch (Exception ex) {&#xD;
         Logger.getLogger(&quot;Minecraft&quot;).log(Level.SEVERE, null, ex);&#xD;
     }&#xD;
     //end&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGG8mYJUEeGsv772wTim0Q" name="disablePlugins" specification="_EAUdoIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>cServer.disablePlugins();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjoIJUEeGsv772wTim0Q" name="dispatchCommand" specification="_EE6CsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjoYJUEeGsv772wTim0Q" name="sender" type="_EEM4E4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGHjooJUEeGsv772wTim0Q" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>cServer.dispatchCommand(sender, msg);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjo4JUEeGsv772wTim0Q" name="getHandle" specification="_EAUdoYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjpIJUEeGsv772wTim0Q" type="_EEM4EYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cServer.getHandle();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjpYJUEeGsv772wTim0Q" name="getReader" specification="_EAUdooJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjpoJUEeGsv772wTim0Q" type="_EEMRAIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cServer.getReader();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjp4JUEeGsv772wTim0Q" name="loadPlugins" specification="_EAVEsIJUEeGsv772wTim0Q">
                <language>java</language>
                <body>cServer.loadPlugins();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjqIJUEeGsv772wTim0Q" name="stop" specification="_EAVEsYJUEeGsv772wTim0Q">
                <language>java</language>
                <body>mcServer.a(&quot;Stopping server!&quot;, server);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjqYJUEeGsv772wTim0Q" name="sendConsoleCommand" specification="_EAVEsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjqoJUEeGsv772wTim0Q" name="cmd">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (!mcServer.isStopped &amp;&amp; MinecraftServer.isRunning(mcServer)) {&#xD;
         mcServer.issueCommand(cmd, mcServer);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjq4JUEeGsv772wTim0Q" name="getLogger" specification="_EAVEtIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjrIJUEeGsv772wTim0Q" type="_AmZUcIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return cServer.getLogger();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjrYJUEeGsv772wTim0Q" name="getWorldServers" specification="_EAVEtYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjroJUEeGsv772wTim0Q" type="_AmFyc4JUEeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EGHjr4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return mcServer.worlds;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGHjsIJUEeGsv772wTim0Q" name="getPropertyManager" specification="_EAVrwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGHjsYJUEeGsv772wTim0Q" type="_EEMRBIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcServer.propertyManager;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIKsIJUEeGsv772wTim0Q" name="getNetworkThread" specification="_EAVrwYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIKsYJUEeGsv772wTim0Q" type="_EEMRAoJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcServer.networkListenThread;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIKsoJUEeGsv772wTim0Q" name="getWorld" specification="_EAVrwoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIKs4JUEeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGIKtIJUEeGsv772wTim0Q" type="_EE6pwYJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (worlds.containsKey(worldName)) {&#xD;
         return worlds.get(worldName);&#xD;
     }&#xD;
     BWorld w = new BWorld(this, worldName);&#xD;
     worlds.put(worldName, w);&#xD;
     return w;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIKtYJUEeGsv772wTim0Q" name="getInstance" specification="_EEOGNoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIKtoJUEeGsv772wTim0Q" name="pl" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGIKt4JUEeGsv772wTim0Q" type="_A2Um1oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (ins == null) {&#xD;
         ins = new BServer(pl);&#xD;
     }&#xD;
     return ins;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIKuIJUEeGsv772wTim0Q" name="getInstance" specification="_EEOtQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIKuYJUEeGsv772wTim0Q" name="pl" type="_Ak0AE4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGIKuoJUEeGsv772wTim0Q" type="_A2Um1oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (ins == null) {&#xD;
         ins = new BServer(pl);&#xD;
     }&#xD;
     return ins;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIKu4JUEeGsv772wTim0Q" name="getMCServer" specification="_EAVrxIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIKvIJUEeGsv772wTim0Q" type="_AmfbEIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return mcServer;&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_EAUdoIJUEeGsv772wTim0Q" name="disablePlugins" method="_EGG8mYJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_EAUdoYJUEeGsv772wTim0Q" name="getHandle" method="_EGHjo4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE6Cs4JUEeGsv772wTim0Q" type="_EEM4EYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAUdooJUEeGsv772wTim0Q" name="getReader" method="_EGHjpYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE6CtIJUEeGsv772wTim0Q" type="_EEMRAIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVEsIJUEeGsv772wTim0Q" name="loadPlugins" method="_EGHjp4JUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_EAVEsYJUEeGsv772wTim0Q" name="stop" method="_EGHjqIJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_EAVEsoJUEeGsv772wTim0Q" name="sendConsoleCommand" method="_EGHjqYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAVEs4JUEeGsv772wTim0Q" name="cmd">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVEtIJUEeGsv772wTim0Q" name="getLogger" method="_EGHjq4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEOGNYJUEeGsv772wTim0Q" type="_AmZUcIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVEtYJUEeGsv772wTim0Q" name="getWorldServers" method="_EGHjrYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAVEtoJUEeGsv772wTim0Q" type="_AmFyc4JUEeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EAVEt4JUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVrwIJUEeGsv772wTim0Q" name="getPropertyManager" method="_EGHjsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE6CtYJUEeGsv772wTim0Q" type="_EEMRBIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVrwYJUEeGsv772wTim0Q" name="getNetworkThread" method="_EGIKsIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE6pwIJUEeGsv772wTim0Q" type="_EEMRAoJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVrwoJUEeGsv772wTim0Q" name="getWorld" method="_EGIKsoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAVrw4JUEeGsv772wTim0Q" name="worldName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EE6pw4JUEeGsv772wTim0Q" type="_EE6pwYJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAVrxIJUEeGsv772wTim0Q" name="getMCServer" method="_EGIKu4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEOtQ4JUEeGsv772wTim0Q" type="_AmfbEIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EENfIIJUEeGsv772wTim0Q" name="BServer" visibility="private" method="_EGG8k4JUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EENfIoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EENfI4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EENfIYJUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EENfJIJUEeGsv772wTim0Q" type="_EAT2kIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEOGMIJUEeGsv772wTim0Q" name="BServer" visibility="private" method="_EGG8loJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EEOGMoJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EEOGM4JUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EEOGMYJUEeGsv772wTim0Q" name="server" type="_Ak0AE4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEOGNIJUEeGsv772wTim0Q" type="_EAT2kIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEOGNoJUEeGsv772wTim0Q" name="getInstance" isStatic="true" method="_EGIKtYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEOGN4JUEeGsv772wTim0Q" name="pl" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEOGOIJUEeGsv772wTim0Q" type="_A2Um1oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEOtQIJUEeGsv772wTim0Q" name="getInstance" isStatic="true" method="_EGIKuIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEOtQYJUEeGsv772wTim0Q" name="pl" type="_Ak0AE4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEOtQoJUEeGsv772wTim0Q" type="_A2Um1oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EE6CsIJUEeGsv772wTim0Q" name="dispatchCommand" method="_EGHjoIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE6CsYJUEeGsv772wTim0Q" name="sender" type="_EEM4E4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EE6CsoJUEeGsv772wTim0Q" name="msg">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EAXg8IJUEeGsv772wTim0Q" name="NPCManager">
              <ownedComment xmi:id="_EGPfcIJUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <ownedAttribute xmi:id="_EFwXQIJUEeGsv772wTim0Q" name="npcs" visibility="private" type="_AkkIcYJUEeGsv772wTim0Q" association="_EG4YoIJUEeGsv772wTim0Q">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFwXQoJUEeGsv772wTim0Q" value="new HashMap&lt;String, NPCEntity>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFwXRIJUEeGsv772wTim0Q" name="server" visibility="private" type="_A2Um1oJUEeGsv772wTim0Q" association="_EG4Yo4JUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFw-UIJUEeGsv772wTim0Q" name="taskid" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFw-UoJUEeGsv772wTim0Q" name="plugin" visibility="private" type="_Ak1OMYJUEeGsv772wTim0Q" association="_EG4YpoJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIKvYJUEeGsv772wTim0Q" name="NPCManager" specification="_EERJgoJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIKvoJUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGIKv4JUEeGsv772wTim0Q" type="_EAXg8IJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>server = BServer.getInstance(plugin);&#xD;
     this.plugin = plugin;&#xD;
     taskid = plugin.getServer().getScheduler().scheduleAsyncRepeatingTask(plugin, new Runnable() {&#xD;
         public void run() {&#xD;
             HashSet&lt;String> toRemove = new HashSet&lt;String>();&#xD;
             for (String i : npcs.keySet()) {&#xD;
                 Entity j = npcs.get(i);&#xD;
                 j.aa();//j.R(); was renamed&#xD;
                 if (j.dead) {&#xD;
                     toRemove.add(i);&#xD;
                 }&#xD;
             }&#xD;
             for (String n : toRemove) {&#xD;
                 npcs.remove(n);&#xD;
             }&#xD;
         }&#xD;
     }, 1L, 1L);&#xD;
     plugin.getServer().getPluginManager().registerEvent(Event.Type.PLUGIN_DISABLE, new SL(), Priority.Normal, plugin);&#xD;
     plugin.getServer().getPluginManager().registerEvent(Event.Type.CHUNK_LOAD, new WL(), Priority.Normal, plugin);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIxxIJUEeGsv772wTim0Q" name="spawnNPC" specification="_EESXpYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIxxYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGIxxoJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGIxx4JUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>int i = 0;&#xD;
     String id = name;&#xD;
     while (npcs.containsKey(id)) {&#xD;
         id = name + i;&#xD;
         i++;&#xD;
     }&#xD;
     return spawnNPC(name, l, id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIxyIJUEeGsv772wTim0Q" name="spawnNPC" specification="_EES-sYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIxyYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGIxyoJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGIxy4JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGIxzIJUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>if (npcs.containsKey(id)) {&#xD;
         server.getLogger().log(Level.WARNING, &quot;NPC with that id already exists, existing NPC returned&quot;);&#xD;
         return npcs.get(id);&#xD;
     } else {&#xD;
         if (name.length() > 16) { // Check and nag if name is too long, spawn NPC anyway with shortened name.&#xD;
             String tmp = name.substring(0, 16);&#xD;
             server.getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 16 characters,&quot;);&#xD;
             server.getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
             name = tmp;&#xD;
         }&#xD;
         BWorld world = new BWorld(l.getWorld());&#xD;
         NPCEntity npcEntity = new NPCEntity(server.getMCServer(), world.getWorldServer(), name, new ItemInWorldManager(world.getWorldServer()));&#xD;
         npcEntity.setPositionRotation(l.getX(), l.getY(), l.getZ(), l.getYaw(), l.getPitch());&#xD;
         world.getWorldServer().addEntity(npcEntity); //the right way&#xD;
         npcs.put(id, npcEntity);&#xD;
         return npcEntity;&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIxzYJUEeGsv772wTim0Q" name="despawnById" specification="_EAYvEYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIxzoJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npcs.remove(id);&#xD;
         try {&#xD;
             npc.world.removeEntity(npc);&#xD;
         } catch (Exception e) {&#xD;
             e.printStackTrace();&#xD;
         }&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIxz4JUEeGsv772wTim0Q" name="despawn" specification="_EAZWIYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIx0IJUEeGsv772wTim0Q" name="npcName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (npcName.length() > 16) {&#xD;
         npcName = npcName.substring(0, 16); //Ensure you can still despawn&#xD;
     }&#xD;
     HashSet&lt;String> toRemove = new HashSet&lt;String>();&#xD;
     for (String n : npcs.keySet()) {&#xD;
         NPCEntity npc = npcs.get(n);&#xD;
         if (npc != null &amp;&amp; npc.name.equals(npcName)) {&#xD;
             toRemove.add(n);&#xD;
             try {&#xD;
                 npc.world.removeEntity(npc);&#xD;
             } catch (Exception e) {&#xD;
                 e.printStackTrace();&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     for (String n : toRemove) {&#xD;
         npcs.remove(n);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIx0YJUEeGsv772wTim0Q" name="despawnAll" specification="_EAZWI4JUEeGsv772wTim0Q">
                <language>java</language>
                <body>for (NPCEntity npc : npcs.values()) {&#xD;
         if (npc != null) {&#xD;
             try {&#xD;
                 npc.world.removeEntity(npc);&#xD;
             } catch (Exception e) {&#xD;
                 e.printStackTrace();&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     npcs.clear();&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIx0oJUEeGsv772wTim0Q" name="pathFindNPC" specification="_EES-tYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGIx04JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGIx1IJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>pathFindNPC(id, l, 1500);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY0IJUEeGsv772wTim0Q" name="pathFindNPC" specification="_EETlwIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY0YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJY0oJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGJY04JUEeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         if (l.getWorld() == npc.getBukkitEntity().getWorld()) {&#xD;
             npc.pathFindTo(l, maxIterations);&#xD;
         } else {&#xD;
             String n = npc.name;&#xD;
             despawnById(id);&#xD;
             spawnNPC(n, l, id);&#xD;
         }&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY1IJUEeGsv772wTim0Q" name="moveNPC" specification="_EETlxIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY1YJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJY1oJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npc.setPositionRotation(l.getX(), l.getY(), l.getZ(), l.getYaw(), l.getPitch());&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY14JUEeGsv772wTim0Q" name="moveNPCStatic" specification="_EETlx4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY2IJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJY2YJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npc.setPosition(l.getX(), l.getY(), l.getZ());&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY2oJUEeGsv772wTim0Q" name="setSneaking" specification="_EAZ9MIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY24JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJY3IJUEeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>NPCEntity npc = npcs.get(id);&#xD;
     if (npc != null) {&#xD;
         npc.setSneak(flag);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY3YJUEeGsv772wTim0Q" name="getNPC" specification="_EAZ9M4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY3oJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJY34JUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return npcs.get(id);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY4IJUEeGsv772wTim0Q" name="isNPC" specification="_EEUM0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY4YJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGJY4oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return (((CraftEntity) e).getHandle() instanceof NPCEntity);&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJY44JUEeGsv772wTim0Q" name="getNPCsByName" specification="_EAZ9NYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJY5IJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJY5YJUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EGJY5oJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>List&lt;NPCEntity> ret = new ArrayList&lt;NPCEntity>();&#xD;
     Collection&lt;NPCEntity> i = npcs.values();&#xD;
     for (NPCEntity e : i) {&#xD;
         if (e.getName().equalsIgnoreCase(name)) {&#xD;
             ret.add(e);&#xD;
         }&#xD;
     }&#xD;
     return ret;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJ_4IJUEeGsv772wTim0Q" name="getNPCs" specification="_EAakQIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJ_4YJUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EGJ_4oJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>return new ArrayList&lt;NPCEntity>(npcs.values());&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJ_44JUEeGsv772wTim0Q" name="getNPCIdFromEntity" specification="_EEUM04JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJ_5IJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGJ_5YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (e instanceof HumanEntity) {&#xD;
         for (String i : npcs.keySet()) {&#xD;
             if (npcs.get(i).getBukkitEntity().getEntityId() == ((HumanEntity) e).getEntityId()) {&#xD;
                 return i;&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     return null;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJ_5oJUEeGsv772wTim0Q" name="rename" specification="_EAakQ4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJ_54JUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJ_6IJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>if (name.length() > 16) { // Check and nag if name is too long, spawn NPC anyway with shortened name.&#xD;
         String tmp = name.substring(0, 16);&#xD;
         server.getLogger().log(Level.WARNING, &quot;NPCs can't have names longer than 16 characters,&quot;);&#xD;
         server.getLogger().log(Level.WARNING, name + &quot; has been shortened to &quot; + tmp);&#xD;
         name = tmp;&#xD;
     }&#xD;
     NPCEntity npc = getNPC(id);&#xD;
     npc.setName(name);&#xD;
     BWorld b = new BWorld(npc.getBukkitEntity().getLocation().getWorld());&#xD;
     WorldServer s = b.getWorldServer();&#xD;
     try {&#xD;
         Method m = s.getClass().getDeclaredMethod(&quot;d&quot;, new Class[]{Entity.class});&#xD;
         m.setAccessible(true);&#xD;
         m.invoke(s, (Entity) npc);&#xD;
         m = s.getClass().getDeclaredMethod(&quot;c&quot;, new Class[]{Entity.class});&#xD;
         m.setAccessible(true);&#xD;
         m.invoke(s, (Entity) npc);&#xD;
     } catch (Exception ex) {&#xD;
         ex.printStackTrace();&#xD;
     }&#xD;
     s.everyoneSleeping();&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_EAYIAIJUEeGsv772wTim0Q" name="SL" visibility="private">
                <generalization xmi:id="_EE7Q0IJUEeGsv772wTim0Q" general="_EEQic4JUEeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIxwIJUEeGsv772wTim0Q" name="onPluginDisable" specification="_EERwkIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_EGIxwYJUEeGsv772wTim0Q" name="event" type="_AkiTQIJUEeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>if (event.getPlugin() == plugin) {&#xD;
             despawnAll();&#xD;
             plugin.getServer().getScheduler().cancelTask(taskid);&#xD;
         }&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_EERwkIJUEeGsv772wTim0Q" name="onPluginDisable" method="_EGIxwIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_EERwkYJUEeGsv772wTim0Q" name="event" type="_AkiTQIJUEeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_EAYvEIJUEeGsv772wTim0Q" name="WL" visibility="private">
                <generalization xmi:id="_EE7Q0YJUEeGsv772wTim0Q" general="_EERJgIJUEeGsv772wTim0Q"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGIxwoJUEeGsv772wTim0Q" name="onChunkLoad" specification="_EESXoIJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_EGIxw4JUEeGsv772wTim0Q" name="event" type="_AmLSAYJUEeGsv772wTim0Q"/>
                  <language>java</language>
                  <body>for (NPCEntity npc : npcs.values()) {&#xD;
             if (npc != null &amp;&amp; event.getChunk() == npc.getBukkitEntity().getLocation().getBlock().getChunk()) {&#xD;
                 BWorld world = new BWorld(event.getWorld());&#xD;
                 world.getWorldServer().addEntity(npc);&#xD;
             }&#xD;
         }&#xD;
     </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_EESXoIJUEeGsv772wTim0Q" name="onChunkLoad" method="_EGIxwoJUEeGsv772wTim0Q">
                  <ownedParameter xmi:id="_EESXoYJUEeGsv772wTim0Q" name="event" type="_AmLSAYJUEeGsv772wTim0Q"/>
                </ownedOperation>
              </nestedClassifier>
              <ownedOperation xmi:id="_EAYvEYJUEeGsv772wTim0Q" name="despawnById" method="_EGIxzYJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAZWIIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAZWIYJUEeGsv772wTim0Q" name="despawn" method="_EGIxz4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAZWIoJUEeGsv772wTim0Q" name="npcName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAZWI4JUEeGsv772wTim0Q" name="despawnAll" method="_EGIx0YJUEeGsv772wTim0Q"/>
              <ownedOperation xmi:id="_EAZ9MIJUEeGsv772wTim0Q" name="setSneaking" method="_EGJY2oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAZ9MYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EAZ9MoJUEeGsv772wTim0Q" name="flag">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAZ9M4JUEeGsv772wTim0Q" name="getNPC" method="_EGJY3YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAZ9NIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EE7344JUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EAZ9NYJUEeGsv772wTim0Q" name="getNPCsByName" method="_EGJY44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAZ9NoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EAZ9N4JUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EAZ9OIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAakQIJUEeGsv772wTim0Q" name="getNPCs" method="_EGJ_4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAakQYJUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" isOrdered="true" direction="return">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EAakQoJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EAakQ4JUEeGsv772wTim0Q" name="rename" method="_EGJ_5oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EAakRIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EAakRYJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EERJgoJUEeGsv772wTim0Q" name="NPCManager" method="_EGIKvYJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EERJhIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EERJhYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EERJg4JUEeGsv772wTim0Q" name="plugin" type="_Ak1OMYJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EERJhoJUEeGsv772wTim0Q" type="_EAXg8IJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EESXpYJUEeGsv772wTim0Q" name="spawnNPC" method="_EGIxxIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EESXpoJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EES-sIJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EE734YJUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EES-sYJUEeGsv772wTim0Q" name="spawnNPC" method="_EGIxyIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EES-soJUEeGsv772wTim0Q" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EES-s4JUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EES-tIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EE734oJUEeGsv772wTim0Q" type="_EE7Q0oJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EES-tYJUEeGsv772wTim0Q" name="pathFindNPC" method="_EGIx0oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EES-toJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EES-t4JUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EETlwIJUEeGsv772wTim0Q" name="pathFindNPC" method="_EGJY0IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EETlwYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EETlwoJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EETlw4JUEeGsv772wTim0Q" name="maxIterations">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EETlxIJUEeGsv772wTim0Q" name="moveNPC" method="_EGJY1IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EETlxYJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EETlxoJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EETlx4JUEeGsv772wTim0Q" name="moveNPCStatic" method="_EGJY14JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EETlyIJUEeGsv772wTim0Q" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EETlyYJUEeGsv772wTim0Q" name="l" type="_AkZJUIJUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEUM0IJUEeGsv772wTim0Q" name="isNPC" method="_EGJY4IJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEUM0YJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEUM0oJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_EEUM04JUEeGsv772wTim0Q" name="getNPCIdFromEntity" method="_EGJ_44JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EEUM1IJUEeGsv772wTim0Q" name="e" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEUM1YJUEeGsv772wTim0Q" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EAdAgIJUEeGsv772wTim0Q" name="NPCNetworkManager">
              <ownedComment xmi:id="_EGPfcYJUEeGsv772wTim0Q">
                <body>*&#xD;
@author martin</body>
              </ownedComment>
              <generalization xmi:id="_EEXQIIJUEeGsv772wTim0Q" general="_AmFLY4JUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGJ_6YJUEeGsv772wTim0Q" name="NPCNetworkManager" specification="_EEVa8oJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGJ_6oJUEeGsv772wTim0Q" name="socket" type="_AmBhAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGJ_64JUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EGJ_7IJUEeGsv772wTim0Q" name="nethandler" type="_AmEkU4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGJ_7YJUEeGsv772wTim0Q" type="_EAdAgIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(socket, s, nethandler);&#xD;
     try {&#xD;
         Field f = NetworkManager.class.getDeclaredField(&quot;j&quot;);&#xD;
         f.setAccessible(true);&#xD;
         f.set(this, false);&#xD;
     } catch (Exception e) {&#xD;
         System.out.println(e);&#xD;
     }&#xD;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_EAdAgYJUEeGsv772wTim0Q" name="a"/>
              <ownedOperation xmi:id="_EEVa8oJUEeGsv772wTim0Q" name="NPCNetworkManager" method="_EGJ_6YJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EEWCAYJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EEWCAoJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EEVa84JUEeGsv772wTim0Q" name="socket" type="_AmBhAIJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEVa9IJUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEWCAIJUEeGsv772wTim0Q" name="nethandler" type="_AmEkU4JUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EEWCA4JUEeGsv772wTim0Q" type="_EAdAgIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEWCBIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_EEWCBYJUEeGsv772wTim0Q" name="nethandler" type="_AmEkU4JUEeGsv772wTim0Q"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EEWpEIJUEeGsv772wTim0Q" name="a">
                <ownedParameter xmi:id="_EEWpEYJUEeGsv772wTim0Q" name="s">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_EEWpEoJUEeGsv772wTim0Q" name="aobject" type="_A2eX0IJUEeGsv772wTim0Q">
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_EEWpFIJUEeGsv772wTim0Q" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_EAeOoIJUEeGsv772wTim0Q" name="NpcEntityTargetEvent">
              <generalization xmi:id="_EEXQIYJUEeGsv772wTim0Q" general="_AkhFIYJUEeGsv772wTim0Q"/>
              <ownedAttribute xmi:id="_EFxlYIJUEeGsv772wTim0Q" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_EFxlYYJUEeGsv772wTim0Q" value="-8103432985035183865L"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_EFxlYoJUEeGsv772wTim0Q" name="reason" visibility="private" type="_EE8e8YJUEeGsv772wTim0Q"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGKm8IJUEeGsv772wTim0Q" name="NpcEntityTargetEvent" specification="_EE9GAIJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGKm8YJUEeGsv772wTim0Q" name="entity" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGKm8oJUEeGsv772wTim0Q" name="target" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGKm84JUEeGsv772wTim0Q" name="reason" type="_EE8e8YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EGKm9IJUEeGsv772wTim0Q" type="_EAeOoIJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>super(entity, target, TargetReason.CUSTOM);&#xD;
     this.reason = reason;&#xD;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_EGKm9YJUEeGsv772wTim0Q" name="getNpcReason" specification="_EAe1s4JUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EGKm9oJUEeGsv772wTim0Q" type="_EE8e8YJUEeGsv772wTim0Q" direction="return"/>
                <language>java</language>
                <body>return this.reason;&#xD;
 </body>
              </ownedBehavior>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_EAeOoYJUEeGsv772wTim0Q" name="NpcTargetReason">
                <eAnnotations xmi:id="_EAeOooJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EAeOo4JUEeGsv772wTim0Q" key="static"/>
                </eAnnotations>
                <ownedLiteral xmi:id="_EAe1sIJUEeGsv772wTim0Q" name="CLOSEST_PLAYER"/>
                <ownedLiteral xmi:id="_EAe1sYJUEeGsv772wTim0Q" name="NPC_RIGHTCLICKED"/>
                <ownedLiteral xmi:id="_EAe1soJUEeGsv772wTim0Q" name="NPC_BOUNCED"/>
              </nestedClassifier>
              <ownedOperation xmi:id="_EAe1s4JUEeGsv772wTim0Q" name="getNpcReason" method="_EGKm9YJUEeGsv772wTim0Q">
                <ownedParameter xmi:id="_EE9GB4JUEeGsv772wTim0Q" type="_EE8e8YJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_EE9GAIJUEeGsv772wTim0Q" name="NpcEntityTargetEvent" method="_EGKm8IJUEeGsv772wTim0Q">
                <eAnnotations xmi:id="_EE9GBIJUEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_EE9GBYJUEeGsv772wTim0Q" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_EE9GAYJUEeGsv772wTim0Q" name="entity" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EE9GAoJUEeGsv772wTim0Q" name="target" type="_Akeo5IJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EE9GA4JUEeGsv772wTim0Q" name="reason" type="_EE8e8YJUEeGsv772wTim0Q"/>
                <ownedParameter xmi:id="_EE9GBoJUEeGsv772wTim0Q" type="_EAeOoIJUEeGsv772wTim0Q" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG3KgYJUEeGsv772wTim0Q" name="" memberEnd="_EG3KgoJUEeGsv772wTim0Q _EFuiEoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG3KgoJUEeGsv772wTim0Q" name="" type="_EAT2kIJUEeGsv772wTim0Q" association="_EG3KgYJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG3KhIJUEeGsv772wTim0Q" name="" memberEnd="_EG3KhYJUEeGsv772wTim0Q _EFvJIYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG3KhYJUEeGsv772wTim0Q" name="" type="_EAT2kIJUEeGsv772wTim0Q" association="_EG3KhIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG3xkIJUEeGsv772wTim0Q" name="" memberEnd="_EG3xkYJUEeGsv772wTim0Q _EFvJI4JUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG3xkYJUEeGsv772wTim0Q" name="" type="_EAT2kIJUEeGsv772wTim0Q" association="_EG3xkIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG3xk4JUEeGsv772wTim0Q" name="" memberEnd="_EG3xlIJUEeGsv772wTim0Q _EFvJJYJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG3xlIJUEeGsv772wTim0Q" name="" type="_EAT2kIJUEeGsv772wTim0Q" association="_EG3xk4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG3xloJUEeGsv772wTim0Q" name="" memberEnd="_EG3xl4JUEeGsv772wTim0Q _EFvwMIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG3xl4JUEeGsv772wTim0Q" name="" type="_EAT2kIJUEeGsv772wTim0Q" association="_EG3xloJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG4YoIJUEeGsv772wTim0Q" name="" memberEnd="_EG4YoYJUEeGsv772wTim0Q _EFwXQIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG4YoYJUEeGsv772wTim0Q" name="" type="_EAXg8IJUEeGsv772wTim0Q" association="_EG4YoIJUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG4Yo4JUEeGsv772wTim0Q" name="" memberEnd="_EG4YpIJUEeGsv772wTim0Q _EFwXRIJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG4YpIJUEeGsv772wTim0Q" name="" type="_EAXg8IJUEeGsv772wTim0Q" association="_EG4Yo4JUEeGsv772wTim0Q"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_EG4YpoJUEeGsv772wTim0Q" name="" memberEnd="_EG4Yp4JUEeGsv772wTim0Q _EFw-UoJUEeGsv772wTim0Q">
              <ownedEnd xmi:id="_EG4Yp4JUEeGsv772wTim0Q" name="" type="_EAXg8IJUEeGsv772wTim0Q" association="_EG4YpoJUEeGsv772wTim0Q"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_At6RsIJUEeGsv772wTim0Q" name="src">
      <packagedElement xmi:type="uml:Package" xmi:id="_At6RsYJUEeGsv772wTim0Q" name="main">
        <packagedElement xmi:type="uml:Package" xmi:id="_At6RsoJUEeGsv772wTim0Q" name="java">
          <packagedElement xmi:type="uml:Package" xmi:id="_At6Rs4JUEeGsv772wTim0Q" name="net">
            <packagedElement xmi:type="uml:Package" xmi:id="_At6RtIJUEeGsv772wTim0Q" name="rageland">
              <packagedElement xmi:type="uml:Package" xmi:id="_At6RtYJUEeGsv772wTim0Q" name="ragemod">
                <packagedElement xmi:type="uml:Class" xmi:id="_At6RtoJUEeGsv772wTim0Q" name="RageMod"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuC0lIJUEeGsv772wTim0Q" name="RMPlayerListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuDboYJUEeGsv772wTim0Q" name="RMBlockListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuECsIJUEeGsv772wTim0Q" name="RMServerListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuECsoJUEeGsv772wTim0Q" name="RMEntityListener"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuFQ0IJUEeGsv772wTim0Q" name="RageConfig"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuFQ0oJUEeGsv772wTim0Q" name="RageZones">
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_EEpkAIJUEeGsv772wTim0Q" name="Zone"/>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_EEqLFYJUEeGsv772wTim0Q" name="Quadrant"/>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_EEqyIoJUEeGsv772wTim0Q" name="Action"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_AuF34oJUEeGsv772wTim0Q" name="Configuration"/>
                <packagedElement xmi:type="uml:Package" xmi:id="_AuqfoYJUEeGsv772wTim0Q" name="data">
                  <packagedElement xmi:type="uml:Class" xmi:id="_AuqfooJUEeGsv772wTim0Q" name="Location2D"/>
                  <packagedElement xmi:type="uml:Package" xmi:id="_AurtwIJUEeGsv772wTim0Q" name="Lot">
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="_AurtwYJUEeGsv772wTim0Q" name="LotCategory"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Aurtw4JUEeGsv772wTim0Q" name="Region2D"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Aus74IJUEeGsv772wTim0Q" name="NPCData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Auti8YJUEeGsv772wTim0Q" name="NPCLocation"/>
                  <packagedElement xmi:type="uml:Package" xmi:id="_AuuKAIJUEeGsv772wTim0Q" name="NPCInstance">
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="_AuuKAYJUEeGsv772wTim0Q" name="NPCType"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Aux0YIJUEeGsv772wTim0Q" name="NPCInstance"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AuzChYJUEeGsv772wTim0Q" name="NPCTown"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Au2s44JUEeGsv772wTim0Q" name="PlayerData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Au5wMYJUEeGsv772wTim0Q" name="Town"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Au7lYIJUEeGsv772wTim0Q" name="BountyHandler"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Au9akIJUEeGsv772wTim0Q" name="Region3D"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Au-osIJUEeGsv772wTim0Q" name="PlayerTown"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Au_PwoJUEeGsv772wTim0Q" name="TownLevel"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvBsAIJUEeGsv772wTim0Q" name="Region"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_EEsAQIJUEeGsv772wTim0Q" name="Lot"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_EEtOYIJUEeGsv772wTim0Q" name="Permits"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_AvMrIYJUEeGsv772wTim0Q" name="database">
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvMrIoJUEeGsv772wTim0Q" name="JDCConnectionPool"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvRjoIJUEeGsv772wTim0Q" name="ConnectionReaper"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvRjooJUEeGsv772wTim0Q" name="ConnectionKeepAlive"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvSKsYJUEeGsv772wTim0Q" name="JDCConnection"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvT_4IJUEeGsv772wTim0Q" name="JDCConnectionDriver"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_AvdJ0IJUEeGsv772wTim0Q" name="entity">
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvdJ0YJUEeGsv772wTim0Q" name="Bounty"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_AveX8IJUEeGsv772wTim0Q" name="npcentities">
                  <packagedElement xmi:type="uml:Class" xmi:id="_AveX8YJUEeGsv772wTim0Q" name="RageEntity"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_AvfmEIJUEeGsv772wTim0Q" name="SpeechData"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_A2JntIJUEeGsv772wTim0Q" name="quest">
                  <packagedElement xmi:type="uml:Class" xmi:id="_A2JntYJUEeGsv772wTim0Q" name="Quest"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_A2KOwYJUEeGsv772wTim0Q" name="QuestData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_A2KOw4JUEeGsv772wTim0Q" name="RewardData"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_A2K10YJUEeGsv772wTim0Q" name="Flags"/>
                  <packagedElement xmi:type="uml:Class" xmi:id="_A2OgMIJUEeGsv772wTim0Q" name="QuestRequirements"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_EE3mcIJUEeGsv772wTim0Q" name="text">
                  <packagedElement xmi:type="uml:Class" xmi:id="_EE3mcYJUEeGsv772wTim0Q" name="NPCParsing"/>
                </packagedElement>
              </packagedElement>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_A2Um1IJUEeGsv772wTim0Q" name="test">
        <packagedElement xmi:type="uml:Package" xmi:id="_A2Um1YJUEeGsv772wTim0Q" name="npclib">
          <packagedElement xmi:type="uml:Class" xmi:id="_A2Um1oJUEeGsv772wTim0Q" name="BServer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_A2YRMIJUEeGsv772wTim0Q" name="NPCPath">
            <nestedClassifier xmi:type="uml:Class" xmi:id="_A2lFgYJUEeGsv772wTim0Q" name="Node"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_EE6pwYJUEeGsv772wTim0Q" name="BWorld"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_EE7Q0oJUEeGsv772wTim0Q" name="NPCEntity"/>
          <packagedElement xmi:type="uml:Package" xmi:id="_EE8e8IJUEeGsv772wTim0Q" name="NpcEntityTargetEvent">
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_EE8e8YJUEeGsv772wTim0Q" name="NpcTargetReason"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_D-SdUIJUEeGsv772wTim0Q" name="jline">
      <packagedElement xmi:type="uml:Class" xmi:id="_EEMRAIJUEeGsv772wTim0Q" name="ConsoleReader"/>
    </packagedElement>
    <profileApplication xmi:id="__tqVoIJTEeGsv772wTim0Q">
      <eAnnotations xmi:id="__tq8sIJTEeGsv772wTim0Q" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="__tq8sYJTEeGsv772wTim0Q" base_Package="__qo20IJTEeGsv772wTim0Q">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AagNgYJUEeGsv772wTim0Q" base_Element="_AagNgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AahboIJUEeGsv772wTim0Q" base_Element="_AagNgIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AahboYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AahbooJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAnLQYJUEeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Aaj34IJUEeGsv772wTim0Q" base_Element="_AajQ0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Aake8IJUEeGsv772wTim0Q" base_Element="_AajQ0IJUEeGsv772wTim0Q">
    <annotations xmi:id="_Aake8YJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Aake8oJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAnyUYJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AaniQ4JUEeGsv772wTim0Q" base_Element="_AaniQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AaxTQYJUEeGsv772wTim0Q" base_Element="_AaxTQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aax6U4JUEeGsv772wTim0Q" base_Element="_Aax6UIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AayhYIJUEeGsv772wTim0Q" base_Element="_Aax6VIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AazIcYJUEeGsv772wTim0Q" base_Element="_AayhYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AazvhIJUEeGsv772wTim0Q" base_Element="_AazvgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aa0Wk4JUEeGsv772wTim0Q" base_Element="_AazvhYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aa09oIJUEeGsv772wTim0Q" base_Element="_Aa0WlIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Aa09oYJUEeGsv772wTim0Q" base_Element="_AaxTQIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Aa09ooJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Aa09o4JUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAnyU4JUEeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Aa85cIJUEeGsv772wTim0Q" base_Element="_Aa8SYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Aa9ggIJUEeGsv772wTim0Q" base_Element="_Aa8SYIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Aa9ggYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Aa-HkIJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAnyVIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AbCZAYJUEeGsv772wTim0Q" base_Element="_AbCZAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AbEOMIJUEeGsv772wTim0Q" base_Element="_AbCZAIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AbEOMYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AbEOMoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAoZYIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AbNYIYJUEeGsv772wTim0Q" base_Element="_AbNYIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AbOmQ4JUEeGsv772wTim0Q" base_Element="_AbOmQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AbOmRYJUEeGsv772wTim0Q" dimensions="1" base_Element="_AbOmQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AbPNU4JUEeGsv772wTim0Q" base_Element="_AbPNUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AbPNVYJUEeGsv772wTim0Q" base_Element="_AbPNUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AbP0YYJUEeGsv772wTim0Q" base_Element="_AbPNVoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AbP0Y4JUEeGsv772wTim0Q" base_Element="_AbPNV4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AbRCgIJUEeGsv772wTim0Q" base_Element="_AbNYIIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AbRCgYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AbRCgoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAoZYoJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AbxY0IJUEeGsv772wTim0Q" base_Element="_AbwxwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Abx_4YJUEeGsv772wTim0Q" base_Element="_Abx_4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Abx_44JUEeGsv772wTim0Q" base_Element="_Abx_4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Abym8oJUEeGsv772wTim0Q" base_Element="_Abym8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Abym84JUEeGsv772wTim0Q" base_Element="_AbwxwIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Abym9IJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Abym9YJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BApAcIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ab5UpIJUEeGsv772wTim0Q" base_Element="_Ab5Uo4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Ab5UpYJUEeGsv772wTim0Q" base_Element="_Ab5Uo4JUEeGsv772wTim0Q">
    <annotations xmi:id="_Ab57sIJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Ab57sYJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BApngoJUEeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ab-NIIJUEeGsv772wTim0Q" base_Element="_Ab9mEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ab_bRIJUEeGsv772wTim0Q" base_Element="_Ab_bQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcACUIJUEeGsv772wTim0Q" base_Element="_Ab_bRYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcACUoJUEeGsv772wTim0Q" base_Element="_AcACUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcACVYJUEeGsv772wTim0Q" base_Element="_AcACU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcACWIJUEeGsv772wTim0Q" base_Element="_AcACVoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcApYoJUEeGsv772wTim0Q" base_Element="_AcApYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcApZIJUEeGsv772wTim0Q" base_Element="_AcApY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AcBQcIJUEeGsv772wTim0Q" base_Element="_Ab9mEIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AcBQcYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AcBQcoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BApng4JUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_AcGI8IJUEeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_AcFh44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AcGwAIJUEeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_AcGI8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_Acd8YYJUEeGsv772wTim0Q" genericsValue="NPCData" base_Element="_AcdVVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AcgYoIJUEeGsv772wTim0Q" base_Element="_AcfxkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AchmwoJUEeGsv772wTim0Q" base_Element="_Acg_sIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AchmxYJUEeGsv772wTim0Q" base_Element="_Achmw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AciN0YJUEeGsv772wTim0Q" base_Element="_AchmxoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AciN04JUEeGsv772wTim0Q" base_Element="_AciN0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AciN1oJUEeGsv772wTim0Q" base_Element="_AciN1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aci044JUEeGsv772wTim0Q" base_Element="_Aci04IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Aci05IJUEeGsv772wTim0Q" base_Element="_AcfxkIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Aci05YJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Aci05oJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAqOkIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AckqEYJUEeGsv772wTim0Q" base_Element="_AckqEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AclRIoJUEeGsv772wTim0Q" base_Element="_AclRIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AclRJYJUEeGsv772wTim0Q" base_Element="_AclRI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Acl4MoJUEeGsv772wTim0Q" base_Element="_Acl4MIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Acl4NIJUEeGsv772wTim0Q" base_Element="_Acl4M4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AcmfQYJUEeGsv772wTim0Q" base_Element="_Acl4NYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AcmfQoJUEeGsv772wTim0Q" base_Element="_AckqEIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AcmfQ4JUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AcmfRIJUEeGsv772wTim0Q" skipName="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAqOkYJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAqOkoJUEeGsv772wTim0Q" value="&quot;null&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_Ac7PYIJUEeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_Ac6oU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdAu8IJUEeGsv772wTim0Q" genericsValue="Town" base_Element="_AdAH44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdBWAIJUEeGsv772wTim0Q" genericsValue="PlayerTown" base_Element="_AdAu8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdBWAoJUEeGsv772wTim0Q" genericsValue="NPCTown" base_Element="_AdBWAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AdMVIIJUEeGsv772wTim0Q" base_Element="_AdLuEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdM8NoJUEeGsv772wTim0Q" base_Element="_AdMVIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdNjQIJUEeGsv772wTim0Q" base_Element="_AdM8N4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdNjRIJUEeGsv772wTim0Q" base_Element="_AdNjQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdOKU4JUEeGsv772wTim0Q" base_Element="_AdOKUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AdOxYIJUEeGsv772wTim0Q" base_Element="_AdLuEIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AdOxYYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AdOxYoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAq1oYJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AdX7UIJUEeGsv772wTim0Q" base_Element="_AdXUQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdYiYYJUEeGsv772wTim0Q" genericsValue="Integer, Integer" base_Element="_AdYiYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdYiYoJUEeGsv772wTim0Q" base_Element="_AdYiYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AdYiY4JUEeGsv772wTim0Q" base_Element="_AdXUQIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AdZJcIJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AdZJcYJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAsDwIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_Ada-ooJUEeGsv772wTim0Q" genericsValue="Lot" base_Element="_Ada-oIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdcMwIJUEeGsv772wTim0Q" genericsValue="String" base_Element="_AdblsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdcMwoJUEeGsv772wTim0Q" genericsValue="String, Lot" base_Element="_AdcMwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_Adf3IYJUEeGsv772wTim0Q" genericsValue="String, NPCTown" base_Element="_Adf3IIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdgeMoJUEeGsv772wTim0Q" genericsValue="String" base_Element="_AdgeMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_Adkvo4JUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_AdkvoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdlWsoJUEeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_AdlWsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_Admk0IJUEeGsv772wTim0Q" genericsValue="String, Location" base_Element="_Adl9woJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AdqPMYJUEeGsv772wTim0Q" base_Element="_AdqPMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdrdUIJUEeGsv772wTim0Q" genericsValue="Integer, Quest" base_Element="_Adq2QIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdrdUYJUEeGsv772wTim0Q" base_Element="_Adq2QIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AdrdVIJUEeGsv772wTim0Q" base_Element="_AdrdUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AdsEYIJUEeGsv772wTim0Q" base_Element="_AdqPMIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AdsEYYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AdsEYoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAsq0IJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_Adt5kYJUEeGsv772wTim0Q" genericsValue="String, PlayerTown" base_Element="_Adt5kIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AdvuxIJUEeGsv772wTim0Q" genericsValue="String" base_Element="_AdvuwoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AdyyE4JUEeGsv772wTim0Q" base_Element="_AdyyEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ad3qkIJUEeGsv772wTim0Q" base_Element="_Ad3DgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ad44sIJUEeGsv772wTim0Q" base_Element="_Ad4RoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ad44soJUEeGsv772wTim0Q" base_Element="_Ad44sYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ad6t4IJUEeGsv772wTim0Q" base_Element="_Ad6G0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ad6t4oJUEeGsv772wTim0Q" base_Element="_Ad6t4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ad7U8IJUEeGsv772wTim0Q" base_Element="_Ad6t44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Ad7U9IJUEeGsv772wTim0Q" base_Element="_Ad7U8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Ad78AIJUEeGsv772wTim0Q" base_Element="_Ad3DgIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Ad78AYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Ad78AoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAsq1IJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AeA0gIJUEeGsv772wTim0Q" base_Element="_AeANcIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeBbkYJUEeGsv772wTim0Q" base_Element="_AeBbkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeCCoIJUEeGsv772wTim0Q" base_Element="_AeBbkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeCCo4JUEeGsv772wTim0Q" base_Element="_AeCCoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeCpsIJUEeGsv772wTim0Q" base_Element="_AeCCpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AeCpsoJUEeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_AeCpsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeCps4JUEeGsv772wTim0Q" base_Element="_AeCpsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeDQwoJUEeGsv772wTim0Q" base_Element="_AeDQwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeDQxYJUEeGsv772wTim0Q" base_Element="_AeDQw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeD30YJUEeGsv772wTim0Q" base_Element="_AeD30IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeD31IJUEeGsv772wTim0Q" base_Element="_AeD30oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeEe4YJUEeGsv772wTim0Q" base_Element="_AeD31YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeEe5IJUEeGsv772wTim0Q" base_Element="_AeEe4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeFF8YJUEeGsv772wTim0Q" base_Element="_AeFF8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AeFF9YJUEeGsv772wTim0Q" base_Element="_AeFF8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeFtAYJUEeGsv772wTim0Q" base_Element="_AeFtAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AeGUEYJUEeGsv772wTim0Q" base_Element="_AeFtAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AeG7IYJUEeGsv772wTim0Q" genericsValue="NPCInstance" base_Element="_AeG7IIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeG7IoJUEeGsv772wTim0Q" base_Element="_AeG7IIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeG7JIJUEeGsv772wTim0Q" base_Element="_AeG7I4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AeHiMIJUEeGsv772wTim0Q" genericsValue="NPCInstance" base_Element="_AeG7JYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeHiMYJUEeGsv772wTim0Q" base_Element="_AeG7JYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeHiM4JUEeGsv772wTim0Q" base_Element="_AeHiMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeIJQoJUEeGsv772wTim0Q" base_Element="_AeIJQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AeIJRYJUEeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_AeIJQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeIwUIJUEeGsv772wTim0Q" base_Element="_AeIJQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeIwU4JUEeGsv772wTim0Q" base_Element="_AeIwUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeJXYYJUEeGsv772wTim0Q" base_Element="_AeJXYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AeJXZIJUEeGsv772wTim0Q" genericsValue="NPCData" base_Element="_AeJXYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AeJXZYJUEeGsv772wTim0Q" base_Element="_AeJXYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AeJ-cIJUEeGsv772wTim0Q" base_Element="_AeANcIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AeJ-cYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AeJ-coJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAsq1YJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AeQsIYJUEeGsv772wTim0Q" base_Element="_AeQsIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AeShUIJUEeGsv772wTim0Q" base_Element="_AeQsIIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AeShUYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AeShUoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAtR4IJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AeXZ0IJUEeGsv772wTim0Q" base_Element="_AeWywIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AeYA4IJUEeGsv772wTim0Q" base_Element="_AeWywIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AeYA4YJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AeYn8IJUEeGsv772wTim0Q" skipName="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAtR4oJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAtR44JUEeGsv772wTim0Q" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AeeHgIJUEeGsv772wTim0Q" base_Element="_AedgcIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aeeuk4JUEeGsv772wTim0Q" base_Element="_AeeHgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AeeulIJUEeGsv772wTim0Q" base_Element="_AedgcIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AeeulYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AeeuloJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAt48YJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Aef8sIJUEeGsv772wTim0Q" base_Element="_AefVoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AegjxIJUEeGsv772wTim0Q" base_Element="_Aef8sYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AehK1YJUEeGsv772wTim0Q" base_Element="_AegjxYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Aehx4IJUEeGsv772wTim0Q" base_Element="_AefVoIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Aehx4YJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_Aehx4oJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAt48oJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_AemDUIJUEeGsv772wTim0Q" genericsValue="String" base_Element="_AelcQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AepGpIJUEeGsv772wTim0Q" base_Element="_AepGoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AexpgoJUEeGsv772wTim0Q" base_Element="_AexpgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AeyQkIJUEeGsv772wTim0Q" base_Element="_AexpgYJUEeGsv772wTim0Q">
    <annotations xmi:id="_AeyQkYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ae3wIIJUEeGsv772wTim0Q" base_Element="_Ae3JEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Ae3wIYJUEeGsv772wTim0Q" base_Element="_Ae3JEIJUEeGsv772wTim0Q">
    <annotations xmi:id="_Ae3wIoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ae3wJIJUEeGsv772wTim0Q" base_Element="_Ae3wI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Ae4XMIJUEeGsv772wTim0Q" base_Element="_Ae3wI4JUEeGsv772wTim0Q">
    <annotations xmi:id="_Ae4XMYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ae4-QIJUEeGsv772wTim0Q" base_Element="_Ae4XMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Ae4-QYJUEeGsv772wTim0Q" base_Element="_Ae4XMoJUEeGsv772wTim0Q">
    <annotations xmi:id="_Ae4-QoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ae5lU4JUEeGsv772wTim0Q" base_Element="_Ae4-Q4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Ae5lVIJUEeGsv772wTim0Q" base_Element="_Ae4-Q4JUEeGsv772wTim0Q">
    <annotations xmi:id="_Ae5lVYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AfLSIYJUEeGsv772wTim0Q" base_Element="_AfKrEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AfLSIoJUEeGsv772wTim0Q" base_Element="_AfKrEIJUEeGsv772wTim0Q">
    <annotations xmi:id="_AfLSI4JUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AfYGcIJUEeGsv772wTim0Q" base_Element="_AfXfYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AfYGcYJUEeGsv772wTim0Q" base_Element="_AfXfYYJUEeGsv772wTim0Q">
    <annotations xmi:id="_AfYGcoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_AfYGdIJUEeGsv772wTim0Q" base_Element="_AfYGc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AfYtgIJUEeGsv772wTim0Q" base_Element="_AfYGc4JUEeGsv772wTim0Q">
    <annotations xmi:id="_AfYtgYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_AkYiQYJUEeGsv772wTim0Q" base_Element="_AkYiQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkZJUYJUEeGsv772wTim0Q" base_Element="_AkZJUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkZwYIJUEeGsv772wTim0Q" base_Element="_AkZJUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkZwYoJUEeGsv772wTim0Q" base_Element="_AkZwYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkZwZIJUEeGsv772wTim0Q" base_Element="_AkZwY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Aka-gYJUEeGsv772wTim0Q" base_Element="_Aka-gIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkblkIJUEeGsv772wTim0Q" base_Element="_Aka-goJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkczsIJUEeGsv772wTim0Q" base_Element="_AkcMoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkeB0IJUEeGsv772wTim0Q" base_Element="_AkdawIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Akeo4YJUEeGsv772wTim0Q" base_Element="_Akeo4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Akeo44JUEeGsv772wTim0Q" base_Element="_Akeo4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkfP8IJUEeGsv772wTim0Q" base_Element="_Akeo5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkfP8oJUEeGsv772wTim0Q" base_Element="_AkfP8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Akf3AIJUEeGsv772wTim0Q" base_Element="_AkfP84JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Akf3AoJUEeGsv772wTim0Q" base_Element="_Akf3AYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Akf3BIJUEeGsv772wTim0Q" base_Element="_Akf3A4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkgeEIJUEeGsv772wTim0Q" base_Element="_Akf3BYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkgeEoJUEeGsv772wTim0Q" base_Element="_AkgeEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkhFIIJUEeGsv772wTim0Q" base_Element="_AkgeE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkhFIoJUEeGsv772wTim0Q" base_Element="_AkhFIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkiTQYJUEeGsv772wTim0Q" base_Element="_AkiTQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Aki6UIJUEeGsv772wTim0Q" base_Element="_AkiTQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Aki6UoJUEeGsv772wTim0Q" base_Element="_Aki6UYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkkIcIJUEeGsv772wTim0Q" base_Element="_AkjhYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkkIcoJUEeGsv772wTim0Q" base_Element="_AkkIcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkkvgIJUEeGsv772wTim0Q" base_Element="_AkkIc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AkkvgoJUEeGsv772wTim0Q" base_Element="_AkkvgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak0nIIJUEeGsv772wTim0Q" base_Element="_Ak0AE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak0nIoJUEeGsv772wTim0Q" base_Element="_Ak0nIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak1OMIJUEeGsv772wTim0Q" base_Element="_Ak0nI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak1OMoJUEeGsv772wTim0Q" base_Element="_Ak1OMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak5foIJUEeGsv772wTim0Q" base_Element="_Ak44kIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak5fooJUEeGsv772wTim0Q" base_Element="_Ak5foYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak6GsYJUEeGsv772wTim0Q" base_Element="_Ak6GsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak6Gs4JUEeGsv772wTim0Q" base_Element="_Ak6GsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak6twYJUEeGsv772wTim0Q" base_Element="_Ak6twIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak6tw4JUEeGsv772wTim0Q" base_Element="_Ak6twoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak7U0IJUEeGsv772wTim0Q" base_Element="_Ak6txIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak7U0oJUEeGsv772wTim0Q" base_Element="_Ak7U0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak7U1IJUEeGsv772wTim0Q" base_Element="_Ak7U04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak774YJUEeGsv772wTim0Q" base_Element="_Ak774IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak7744JUEeGsv772wTim0Q" base_Element="_Ak774oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak8i8YJUEeGsv772wTim0Q" base_Element="_Ak8i8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak8i84JUEeGsv772wTim0Q" base_Element="_Ak8i8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak9KAIJUEeGsv772wTim0Q" base_Element="_Ak8i9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak9KAoJUEeGsv772wTim0Q" base_Element="_Ak9KAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak9xEIJUEeGsv772wTim0Q" base_Element="_Ak9KA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak9xEoJUEeGsv772wTim0Q" base_Element="_Ak9xEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak-_MYJUEeGsv772wTim0Q" base_Element="_Ak-_MIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ak_mQYJUEeGsv772wTim0Q" base_Element="_Ak_mQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AlEewIJUEeGsv772wTim0Q" base_Element="_AlD3sIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AlG7A4JUEeGsv772wTim0Q" base_Element="_AlGT8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlJ-UIJUEeGsv772wTim0Q" base_Element="_AlJXQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlLzgYJUEeGsv772wTim0Q" base_Element="_AlLzgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlMakYJUEeGsv772wTim0Q" base_Element="_AlMakIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AlNBooJUEeGsv772wTim0Q" base_Element="_AlMakoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlTIQIJUEeGsv772wTim0Q" base_Element="_AlShMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlTIQoJUEeGsv772wTim0Q" base_Element="_AlTIQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlWLkYJUEeGsv772wTim0Q" base_Element="_AlWLkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlYAwYJUEeGsv772wTim0Q" base_Element="_AlYAwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlbrIIJUEeGsv772wTim0Q" base_Element="_AlbEEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AleHYYJUEeGsv772wTim0Q" base_Element="_AleHYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AleucIJUEeGsv772wTim0Q" base_Element="_AleHYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlgjoIJUEeGsv772wTim0Q" base_Element="_Alf8kIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Alk1EYJUEeGsv772wTim0Q" base_Element="_Alk1EIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AllcIIJUEeGsv772wTim0Q" base_Element="_Alk1EoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AllcIoJUEeGsv772wTim0Q" base_Element="_AllcIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlmqQYJUEeGsv772wTim0Q" base_Element="_AlmqQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlnRUYJUEeGsv772wTim0Q" base_Element="_AlnRUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AlnRU4JUEeGsv772wTim0Q" base_Element="_AlnRUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Al1TwIJUEeGsv772wTim0Q" base_Element="_Al0ssIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Al1TwoJUEeGsv772wTim0Q" base_Element="_Al1TwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Al160IJUEeGsv772wTim0Q" base_Element="_Al1Tw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Al2h4IJUEeGsv772wTim0Q" base_Element="_Al160YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Al3I8IJUEeGsv772wTim0Q" base_Element="_Al2h4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Al4-IIJUEeGsv772wTim0Q" base_Element="_Al4XEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Al92poJUEeGsv772wTim0Q" base_Element="_Al92oIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmCIEIJUEeGsv772wTim0Q" base_Element="_AmBhAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmCvIYJUEeGsv772wTim0Q" base_Element="_AmCvIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmCvI4JUEeGsv772wTim0Q" base_Element="_AmCvIoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmDWMIJUEeGsv772wTim0Q" base_Element="_AmCvJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmDWMoJUEeGsv772wTim0Q" base_Element="_AmDWMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmD9QYJUEeGsv772wTim0Q" base_Element="_AmD9QIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmD9Q4JUEeGsv772wTim0Q" base_Element="_AmD9QoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmEkUIJUEeGsv772wTim0Q" base_Element="_AmD9RIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmEkUoJUEeGsv772wTim0Q" base_Element="_AmEkUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmFLYIJUEeGsv772wTim0Q" base_Element="_AmEkU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmFLYoJUEeGsv772wTim0Q" base_Element="_AmFLYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmFycIJUEeGsv772wTim0Q" base_Element="_AmFLY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmFycoJUEeGsv772wTim0Q" base_Element="_AmFycYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmFydIJUEeGsv772wTim0Q" base_Element="_AmFyc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmGZgYJUEeGsv772wTim0Q" base_Element="_AmGZgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmGZg4JUEeGsv772wTim0Q" base_Element="_AmGZgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmHAkYJUEeGsv772wTim0Q" base_Element="_AmHAkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmHnpYJUEeGsv772wTim0Q" base_Element="_AmHnoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmIOsYJUEeGsv772wTim0Q" base_Element="_AmHnpoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmLSAIJUEeGsv772wTim0Q" base_Element="_AmKq8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmL5EIJUEeGsv772wTim0Q" base_Element="_AmLSAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmMgJIJUEeGsv772wTim0Q" base_Element="_AmL5EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmMgJ4JUEeGsv772wTim0Q" base_Element="_AmMgJYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmNHNIJUEeGsv772wTim0Q" base_Element="_AmNHMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmNuQoJUEeGsv772wTim0Q" base_Element="_AmNuQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmOVUIJUEeGsv772wTim0Q" base_Element="_AmNuRoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmOVVIJUEeGsv772wTim0Q" base_Element="_AmOVUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmO8YoJUEeGsv772wTim0Q" base_Element="_AmO8YIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmPjcYJUEeGsv772wTim0Q" base_Element="_AmO8Y4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmQKgoJUEeGsv772wTim0Q" base_Element="_AmPjdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AmSmwoJUEeGsv772wTim0Q" base_Element="_AmSmwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmZ7gIJUEeGsv772wTim0Q" base_Element="_AmZUcIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmZ7goJUEeGsv772wTim0Q" base_Element="_AmZ7gYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmZ7hIJUEeGsv772wTim0Q" base_Element="_AmZ7g4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmaikYJUEeGsv772wTim0Q" base_Element="_AmaikIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmbJoYJUEeGsv772wTim0Q" base_Element="_AmbJoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmbwsYJUEeGsv772wTim0Q" base_Element="_AmbwsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ambws4JUEeGsv772wTim0Q" base_Element="_AmbwsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmcXwIJUEeGsv772wTim0Q" base_Element="_AmbwtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmcXwoJUEeGsv772wTim0Q" base_Element="_AmcXwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Amc-0IJUEeGsv772wTim0Q" base_Element="_AmcXw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Amdl4IJUEeGsv772wTim0Q" base_Element="_Amc-0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmfbEYJUEeGsv772wTim0Q" base_Element="_AmfbEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmgCIYJUEeGsv772wTim0Q" base_Element="_AmgCIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmieYYJUEeGsv772wTim0Q" base_Element="_AmieYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmjFcIJUEeGsv772wTim0Q" base_Element="_AmieYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmjFcoJUEeGsv772wTim0Q" base_Element="_AmjFcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmjsgIJUEeGsv772wTim0Q" base_Element="_AmjFc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmjsgoJUEeGsv772wTim0Q" base_Element="_AmjsgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmjshIJUEeGsv772wTim0Q" base_Element="_Amjsg4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmkTkIJUEeGsv772wTim0Q" base_Element="_AmjshYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmkTkoJUEeGsv772wTim0Q" base_Element="_AmkTkYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Amk6oIJUEeGsv772wTim0Q" base_Element="_AmkTk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Amk6ooJUEeGsv772wTim0Q" base_Element="_Amk6oYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Amk6pIJUEeGsv772wTim0Q" base_Element="_Amk6o4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmlhsYJUEeGsv772wTim0Q" base_Element="_AmlhsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Amlhs4JUEeGsv772wTim0Q" base_Element="_AmlhsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmmIwYJUEeGsv772wTim0Q" base_Element="_AmmIwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmpMEIJUEeGsv772wTim0Q" base_Element="_AmolAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmpMEoJUEeGsv772wTim0Q" base_Element="_AmpMEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Ams2cYJUEeGsv772wTim0Q" base_Element="_Ams2cIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmtdgIJUEeGsv772wTim0Q" base_Element="_Ams2coJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmtdgoJUEeGsv772wTim0Q" base_Element="_AmtdgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AmtdhIJUEeGsv772wTim0Q" base_Element="_Amtdg4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_At64wIJUEeGsv772wTim0Q" base_Element="_At6RtoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuA_ZYJUEeGsv772wTim0Q" base_Element="_AuA_YIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuBmcIJUEeGsv772wTim0Q" base_Element="_AuA_aIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuBmc4JUEeGsv772wTim0Q" base_Element="_AuBmcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuBmdoJUEeGsv772wTim0Q" base_Element="_AuBmdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuC0k4JUEeGsv772wTim0Q" base_Element="_AuCNgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuDboIJUEeGsv772wTim0Q" base_Element="_AuC0lIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuDbooJUEeGsv772wTim0Q" base_Element="_AuDboYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuECsYJUEeGsv772wTim0Q" base_Element="_AuECsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuECs4JUEeGsv772wTim0Q" base_Element="_AuECsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuFQ0YJUEeGsv772wTim0Q" base_Element="_AuFQ0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuF34IJUEeGsv772wTim0Q" base_Element="_AuFQ0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuGe8IJUEeGsv772wTim0Q" base_Element="_AuF34oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuI7NIJUEeGsv772wTim0Q" base_Element="_AuI7MIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuJiQYJUEeGsv772wTim0Q" base_Element="_AuI7NYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuJiRoJUEeGsv772wTim0Q" base_Element="_AuJiQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuKJVIJUEeGsv772wTim0Q" base_Element="_AuKJUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuKwYoJUEeGsv772wTim0Q" base_Element="_AuKJVYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuNzsoJUEeGsv772wTim0Q" base_Element="_AuNzsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuOaw4JUEeGsv772wTim0Q" base_Element="_AuOawIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuPB0IJUEeGsv772wTim0Q" base_Element="_AuOaxIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuPB04JUEeGsv772wTim0Q" base_Element="_AuPB0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuPo4IJUEeGsv772wTim0Q" base_Element="_AuPB1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AuQP8oJUEeGsv772wTim0Q" base_Element="_AuQP8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuReFIJUEeGsv772wTim0Q" base_Element="_AuReEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuSFI4JUEeGsv772wTim0Q" base_Element="_AuSFIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuSsMIJUEeGsv772wTim0Q" base_Element="_AuSFJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuSsNIJUEeGsv772wTim0Q" base_Element="_AuSsMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_AuUhYIJUEeGsv772wTim0Q" base_Element="_AuSsNYJUEeGsv772wTim0Q">
    <annotations xmi:id="_AuUhYYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_AuUhYoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAoZYYJUEeGsv772wTim0Q" value="&quot;static-access&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_AuUhZoJUEeGsv772wTim0Q" base_Element="_AuUhY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuVIc4JUEeGsv772wTim0Q" base_Element="_AuVIcIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuVvgYJUEeGsv772wTim0Q" base_Element="_AuVIdYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AuWWlYJUEeGsv772wTim0Q" base_Element="_AuWWk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AuYLwYJUEeGsv772wTim0Q" base_Element="_AuXks4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AubPEIJUEeGsv772wTim0Q" base_Element="_AuaoAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aub2IIJUEeGsv772wTim0Q" base_Element="_AubPEoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aub2I4JUEeGsv772wTim0Q" base_Element="_Aub2IYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AucdMIJUEeGsv772wTim0Q" base_Element="_Aub2JIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AudEQIJUEeGsv772wTim0Q" base_Element="_AucdMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AudESIJUEeGsv772wTim0Q" base_Element="_AudEQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AudrUoJUEeGsv772wTim0Q" base_Element="_AudrUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AueSYIJUEeGsv772wTim0Q" base_Element="_AudrU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AueSY4JUEeGsv772wTim0Q" base_Element="_AueSYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aue5cIJUEeGsv772wTim0Q" base_Element="_AueSZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Aue5c4JUEeGsv772wTim0Q" base_Element="_Aue5cYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_Auh8wIJUEeGsv772wTim0Q" base_Element="_AuhVtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Auqfo4JUEeGsv772wTim0Q" base_Element="_AuqfooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AurtwoJUEeGsv772wTim0Q" base_Element="_AurtwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AusU0IJUEeGsv772wTim0Q" base_Element="_Aurtw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Auti8IJUEeGsv772wTim0Q" base_Element="_Aus74IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Auti8oJUEeGsv772wTim0Q" base_Element="_Auti8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuuKAoJUEeGsv772wTim0Q" base_Element="_AuuKAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuvYJYJUEeGsv772wTim0Q" base_Element="_AuvYJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Aux0YYJUEeGsv772wTim0Q" base_Element="_Aux0YIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuybdoJUEeGsv772wTim0Q" base_Element="_Aux0YoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AuzChIJUEeGsv772wTim0Q" base_Element="_Auybd4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AuzChoJUEeGsv772wTim0Q" base_Element="_AuzChYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au3T8IJUEeGsv772wTim0Q" base_Element="_Au2s44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au6XQIJUEeGsv772wTim0Q" base_Element="_Au5wMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_Au6-U4JUEeGsv772wTim0Q" base_Element="_Au6XQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au7lYYJUEeGsv772wTim0Q" base_Element="_Au7lYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au8zgIJUEeGsv772wTim0Q" base_Element="_Au8McYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_Au8zgoJUEeGsv772wTim0Q" genericsValue="PlayerTown" base_Element="_Au8zgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au9akYJUEeGsv772wTim0Q" base_Element="_Au9akIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au-osYJUEeGsv772wTim0Q" base_Element="_Au-osIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_Au_Pw4JUEeGsv772wTim0Q" base_Element="_Au_PwoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvBsAYJUEeGsv772wTim0Q" base_Element="_AvBsAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AvK18IJUEeGsv772wTim0Q" genericsValue="String, Integer" base_Element="_AvKO5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvMEEYJUEeGsv772wTim0Q" base_Element="_AvMEEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvMrI4JUEeGsv772wTim0Q" base_Element="_AvMrIoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvNSMIJUEeGsv772wTim0Q" base_Element="_AvMrJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvNSMoJUEeGsv772wTim0Q" base_Element="_AvNSMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvN5QIJUEeGsv772wTim0Q" base_Element="_AvNSM4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvN5Q4JUEeGsv772wTim0Q" base_Element="_ECqnAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvOgUYJUEeGsv772wTim0Q" base_Element="_AvOgUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvPHYYJUEeGsv772wTim0Q" base_Element="_AvPHYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_AvPucIJUEeGsv772wTim0Q" base_Element="_AvPHYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvQVgIJUEeGsv772wTim0Q" base_Element="_AvPucYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvQVgoJUEeGsv772wTim0Q" base_Element="_AvQVgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_AvQ8k4JUEeGsv772wTim0Q" genericsValue="JDCConnection" base_Element="_AvQVhIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvRjoYJUEeGsv772wTim0Q" base_Element="_AvRjoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvSKsIJUEeGsv772wTim0Q" base_Element="_AvRjooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvSKsoJUEeGsv772wTim0Q" base_Element="_AvSKsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AvSxwIJUEeGsv772wTim0Q" base_Element="_AvSKs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AvSxxoJUEeGsv772wTim0Q" base_Element="_AvSxwoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvUm8IJUEeGsv772wTim0Q" base_Element="_AvT_4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvV1EIJUEeGsv772wTim0Q" base_Element="_AvVOB4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvV1EoJUEeGsv772wTim0Q" base_Element="_AvV1EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvWcIIJUEeGsv772wTim0Q" base_Element="_AvV1E4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvdJ0oJUEeGsv772wTim0Q" base_Element="_AvdJ0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AveX8oJUEeGsv772wTim0Q" base_Element="_AveX8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvfmEYJUEeGsv772wTim0Q" base_Element="_AvfmEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_Avg0M4JUEeGsv772wTim0Q" base_Element="_Avg0MYJUEeGsv772wTim0Q">
    <annotations xmi:id="_Avg0NIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_AvhbQoJUEeGsv772wTim0Q" base_Element="_AvhbQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AvkelYJUEeGsv772wTim0Q" base_Element="_AvkekoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_AvlssIJUEeGsv772wTim0Q" base_Element="_AvlFo4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_AvlstYJUEeGsv772wTim0Q" base_Element="_AvlssoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A2HLc4JUEeGsv772wTim0Q" base_Element="_A2GkYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A2HLdIJUEeGsv772wTim0Q" genericsValue="NPCPhrase" base_Element="_A2GkYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A2HygIJUEeGsv772wTim0Q" genericsValue="Integer, NPCPhrase" base_Element="_A2GkY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A2HyhIJUEeGsv772wTim0Q" base_Element="_A2HygYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A2IZkoJUEeGsv772wTim0Q" base_Element="_A2HyhYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A2IZloJUEeGsv772wTim0Q" base_Element="_A2IZk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2JnsoJUEeGsv772wTim0Q" base_Element="_A2JnsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_A2KOwIJUEeGsv772wTim0Q" base_Element="_A2JntYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_A2KOwoJUEeGsv772wTim0Q" base_Element="_A2KOwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_A2K10IJUEeGsv772wTim0Q" base_Element="_A2KOw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_A2K10oJUEeGsv772wTim0Q" base_Element="_A2K10YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A2Lc6IJUEeGsv772wTim0Q" base_Element="_A2Lc4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2MD84JUEeGsv772wTim0Q" base_Element="_A2MD8IJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2MD9IJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_A2MrA4JUEeGsv772wTim0Q" base_Element="_A2MrAIJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2MrBIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_A2NSEYJUEeGsv772wTim0Q" base_Element="_A2MrBYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2NSEoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_A2N5IIJUEeGsv772wTim0Q" base_Element="_A2NSE4JUEeGsv772wTim0Q">
    <annotations xmi:id="_A2N5IYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_A2OgMYJUEeGsv772wTim0Q" base_Element="_A2OgMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A2Q8coJUEeGsv772wTim0Q" base_Element="_A2QVYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2SKloJUEeGsv772wTim0Q" base_Element="_A2SKk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2SxoIJUEeGsv772wTim0Q" base_Element="_A2SKk4JUEeGsv772wTim0Q">
    <annotations xmi:id="_A2SxoYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2SxpYJUEeGsv772wTim0Q" base_Element="_A2SxooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2TYsIJUEeGsv772wTim0Q" base_Element="_A2SxooJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2TYsYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_A2VN4IJUEeGsv772wTim0Q" base_Element="_A2Um1oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2XDFYJUEeGsv772wTim0Q" base_Element="_A2XDEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2XqIIJUEeGsv772wTim0Q" base_Element="_A2XDEYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2XqIYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_A2XqIoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_BAt49oJUEeGsv772wTim0Q" value="&quot;unchecked&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_A2YRMYJUEeGsv772wTim0Q" base_Element="_A2YRMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2ZfWIJUEeGsv772wTim0Q" base_Element="_A2ZfVYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2aGYIJUEeGsv772wTim0Q" base_Element="_A2ZfVYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2aGYYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2aGZIJUEeGsv772wTim0Q" base_Element="_A2aGYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2aGZYJUEeGsv772wTim0Q" base_Element="_A2aGYoJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2atcIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2atc4JUEeGsv772wTim0Q" base_Element="_A2atcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2atdIJUEeGsv772wTim0Q" base_Element="_A2atcYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2atdYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2cipoJUEeGsv772wTim0Q" base_Element="_A2cipIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2dJsIJUEeGsv772wTim0Q" base_Element="_A2cipIJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2dJsYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2dJtIJUEeGsv772wTim0Q" base_Element="_A2dJsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2dJtYJUEeGsv772wTim0Q" base_Element="_A2dJsoJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2dwwIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2dww4JUEeGsv772wTim0Q" base_Element="_A2dwwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2dwxIJUEeGsv772wTim0Q" base_Element="_A2dwwYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2dwxYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_A2eX0YJUEeGsv772wTim0Q" base_Element="_A2eX0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2eX1YJUEeGsv772wTim0Q" base_Element="_A2eX0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_A2e-4IJUEeGsv772wTim0Q" base_Element="_A2eX1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2e-4YJUEeGsv772wTim0Q" base_Element="_A2eX0oJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2e-4oJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2e-5YJUEeGsv772wTim0Q" base_Element="_A2e-44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2e-5oJUEeGsv772wTim0Q" base_Element="_A2e-44JUEeGsv772wTim0Q">
    <annotations xmi:id="_A2fl8IJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2fl84JUEeGsv772wTim0Q" base_Element="_A2fl8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2fl9IJUEeGsv772wTim0Q" base_Element="_A2fl8YJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2fl9YJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2gNAYJUEeGsv772wTim0Q" base_Element="_A2fl9oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2gNAoJUEeGsv772wTim0Q" base_Element="_A2fl9oJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2gNA4JUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2gNBoJUEeGsv772wTim0Q" base_Element="_A2gNBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2g0EIJUEeGsv772wTim0Q" base_Element="_A2gNBIJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2g0EYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2g0FIJUEeGsv772wTim0Q" base_Element="_A2g0EoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2g0FYJUEeGsv772wTim0Q" base_Element="_A2g0EoJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2g0FoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2hbIoJUEeGsv772wTim0Q" base_Element="_A2hbIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2hbI4JUEeGsv772wTim0Q" base_Element="_A2hbIIJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2hbJIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2iCMIJUEeGsv772wTim0Q" base_Element="_A2hbJYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2iCMYJUEeGsv772wTim0Q" base_Element="_A2hbJYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2iCMoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2iCNYJUEeGsv772wTim0Q" base_Element="_A2iCM4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2ipQIJUEeGsv772wTim0Q" base_Element="_A2iCM4JUEeGsv772wTim0Q">
    <annotations xmi:id="_A2ipQYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2ipRIJUEeGsv772wTim0Q" base_Element="_A2ipQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2ipRYJUEeGsv772wTim0Q" base_Element="_A2ipQoJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2ipRoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2jQUoJUEeGsv772wTim0Q" base_Element="_A2jQUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2jQU4JUEeGsv772wTim0Q" base_Element="_A2jQUIJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2jQVIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2j3YYJUEeGsv772wTim0Q" base_Element="_A2jQVYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2j3YoJUEeGsv772wTim0Q" base_Element="_A2jQVYJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2j3Y4JUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2j3ZoJUEeGsv772wTim0Q" base_Element="_A2j3ZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2kecIJUEeGsv772wTim0Q" base_Element="_A2j3ZIJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2kecYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2kedIJUEeGsv772wTim0Q" base_Element="_A2kecoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2kedYJUEeGsv772wTim0Q" base_Element="_A2kecoJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2kedoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_A2lskIJUEeGsv772wTim0Q" base_Element="_A2lFgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A2ov4IJUEeGsv772wTim0Q" genericsValue="Node" base_Element="_A2oI1YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2pW8IJUEeGsv772wTim0Q" base_Element="_A2ov4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_A2pW8YJUEeGsv772wTim0Q" base_Element="_A2ov4YJUEeGsv772wTim0Q">
    <annotations xmi:id="_A2pW8oJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A20WEoJUEeGsv772wTim0Q" base_Element="_A20WEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A209IYJUEeGsv772wTim0Q" base_Element="_A20WE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A21kMoJUEeGsv772wTim0Q" base_Element="_A21kMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A22LQYJUEeGsv772wTim0Q" base_Element="_A22LQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A22LQ4JUEeGsv772wTim0Q" base_Element="_A22LQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A22LRYJUEeGsv772wTim0Q" base_Element="_A22LRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A22yUYJUEeGsv772wTim0Q" base_Element="_A22yUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A22yU4JUEeGsv772wTim0Q" genericsValue="Player, Boolean" base_Element="_A22yUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A23ZYIJUEeGsv772wTim0Q" base_Element="_A22yUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A23ZYoJUEeGsv772wTim0Q" base_Element="_A23ZYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A23ZZIJUEeGsv772wTim0Q" base_Element="_A23ZY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A24AcIJUEeGsv772wTim0Q" base_Element="_A23ZZYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A24AcoJUEeGsv772wTim0Q" base_Element="_A24AcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A24AdIJUEeGsv772wTim0Q" base_Element="_A24Ac4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A24ngIJUEeGsv772wTim0Q" base_Element="_A24AdYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A24ng4JUEeGsv772wTim0Q" base_Element="_A24ngYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A24nhoJUEeGsv772wTim0Q" base_Element="_A24nhIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A25OkIJUEeGsv772wTim0Q" base_Element="_A24nh4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A25OkoJUEeGsv772wTim0Q" base_Element="_A25OkYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A25OlIJUEeGsv772wTim0Q" base_Element="_A25Ok4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A251oIJUEeGsv772wTim0Q" base_Element="_A25OlYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A251ooJUEeGsv772wTim0Q" base_Element="_A251oYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A251pIJUEeGsv772wTim0Q" base_Element="_A251o4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A26csIJUEeGsv772wTim0Q" base_Element="_A251pYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A26csoJUEeGsv772wTim0Q" base_Element="_A26csYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A26ctIJUEeGsv772wTim0Q" base_Element="_A26cs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A27DwIJUEeGsv772wTim0Q" base_Element="_A26ctYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A27DwoJUEeGsv772wTim0Q" base_Element="_A27DwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A27DxIJUEeGsv772wTim0Q" base_Element="_A27Dw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A27q0IJUEeGsv772wTim0Q" base_Element="_A27DxYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A28R4IJUEeGsv772wTim0Q" base_Element="_A27q0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A28R4oJUEeGsv772wTim0Q" base_Element="_A28R4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A28R5IJUEeGsv772wTim0Q" base_Element="_A28R44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A2848IJUEeGsv772wTim0Q" genericsValue="String,String[]" base_Element="_A28R5YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2848oJUEeGsv772wTim0Q" base_Element="_A28R5YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A29gAYJUEeGsv772wTim0Q" base_Element="_A29gAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2-HEoJUEeGsv772wTim0Q" base_Element="_A2-HEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2-uIYJUEeGsv772wTim0Q" base_Element="_A2-uIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2_VMoJUEeGsv772wTim0Q" base_Element="_A2_VMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2_8QYJUEeGsv772wTim0Q" base_Element="_A2_8QIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A2_8RIJUEeGsv772wTim0Q" base_Element="_A2_8QoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3AjUYJUEeGsv772wTim0Q" base_Element="_A3AjUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3AjU4JUEeGsv772wTim0Q" base_Element="_A3AjUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3BKYYJUEeGsv772wTim0Q" genericsValue="Bounty" base_Element="_A3BKYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3BxcIJUEeGsv772wTim0Q" base_Element="_A3BKYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3BxcoJUEeGsv772wTim0Q" genericsValue="BountySign" base_Element="_A3BxcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3BxdIJUEeGsv772wTim0Q" base_Element="_A3BxcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3CYgYJUEeGsv772wTim0Q" base_Element="_A3CYgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3CYg4JUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_A3CYgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3C_kIJUEeGsv772wTim0Q" base_Element="_A3CYgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3DmoYJUEeGsv772wTim0Q" base_Element="_A3DmoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Dmo4JUEeGsv772wTim0Q" base_Element="_A3DmooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3ENsIJUEeGsv772wTim0Q" base_Element="_A3DmpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3ENsoJUEeGsv772wTim0Q" base_Element="_A3ENsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3ENtIJUEeGsv772wTim0Q" base_Element="_A3ENs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3E0wIJUEeGsv772wTim0Q" base_Element="_A3ENtYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3GC44JUEeGsv772wTim0Q" base_Element="_A3GC4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Gp8IJUEeGsv772wTim0Q" base_Element="_A3GC5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3HRAIJUEeGsv772wTim0Q" base_Element="_A3Gp9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3HRAoJUEeGsv772wTim0Q" base_Element="_A3HRAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3HRBIJUEeGsv772wTim0Q" base_Element="_A3HRA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3H4EIJUEeGsv772wTim0Q" base_Element="_A3HRBYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3H4EoJUEeGsv772wTim0Q" base_Element="_A3H4EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3IfIIJUEeGsv772wTim0Q" base_Element="_A3H4FIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3JtQIJUEeGsv772wTim0Q" base_Element="_A3JGNIJUEeGsv772wTim0Q">
    <associatedElement xmi:type="uml:Operation" xmi:id="_A3JtQYJUEeGsv772wTim0Q" name="getZone" method="_BAAuVIJUEeGsv772wTim0Q">
      <ownedParameter xmi:id="_A3JtQoJUEeGsv772wTim0Q" type="_AleHYoJUEeGsv772wTim0Q" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3KUUIJUEeGsv772wTim0Q" base_Element="_A3JtQ4JUEeGsv772wTim0Q">
    <associatedElement xmi:type="uml:Operation" xmi:id="_A3KUUYJUEeGsv772wTim0Q" name="getQuadrant" method="_BAAuVoJUEeGsv772wTim0Q">
      <ownedParameter xmi:id="_A3KUUoJUEeGsv772wTim0Q" type="_AleHYIJUEeGsv772wTim0Q" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:StyledElement xmi:id="_A3KUVoJUEeGsv772wTim0Q" base_Element="_A3KUVYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3K7YYJUEeGsv772wTim0Q" genericsValue="Integer, NPCLocation" base_Element="_A3K7YIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3K7YoJUEeGsv772wTim0Q" base_Element="_A3K7YIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3LicYJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_A3LicIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3LicoJUEeGsv772wTim0Q" base_Element="_A3LicIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3MJgIJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_A3Lic4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3MJgYJUEeGsv772wTim0Q" base_Element="_A3Lic4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3MJg4JUEeGsv772wTim0Q" genericsValue="Integer, HashSet&lt;Integer>" base_Element="_A3MJgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3MJhIJUEeGsv772wTim0Q" base_Element="_A3MJgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3MwkYJUEeGsv772wTim0Q" base_Element="_A3MwkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Mwk4JUEeGsv772wTim0Q" base_Element="_A3MwkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3NXoYJUEeGsv772wTim0Q" genericsValue="String" base_Element="_A3NXoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3NXooJUEeGsv772wTim0Q" base_Element="_A3NXoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3NXpIJUEeGsv772wTim0Q" base_Element="_A3NXo4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3N-sYJUEeGsv772wTim0Q" base_Element="_A3N-sIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3N-s4JUEeGsv772wTim0Q" base_Element="_A3N-soJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3N-tYJUEeGsv772wTim0Q" base_Element="_A3N-tIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3OlwYJUEeGsv772wTim0Q" genericsValue="Integer, NPCData" base_Element="_A3OlwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3OlwoJUEeGsv772wTim0Q" base_Element="_A3OlwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3PM0IJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_A3Olw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3PM0YJUEeGsv772wTim0Q" base_Element="_A3Olw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3PM04JUEeGsv772wTim0Q" genericsValue="Integer, HashSet&lt;Integer>" base_Element="_A3PM0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Pz4IJUEeGsv772wTim0Q" base_Element="_A3PM0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3Pz4oJUEeGsv772wTim0Q" genericsValue="Integer, HashSet&lt;Integer>" base_Element="_A3Pz4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Pz44JUEeGsv772wTim0Q" base_Element="_A3Pz4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Qa8IJUEeGsv772wTim0Q" base_Element="_A3Pz5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3RCAoJUEeGsv772wTim0Q" genericsValue="String" base_Element="_A3RCAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3RpEIJUEeGsv772wTim0Q" genericsValue="NPCData" base_Element="_A3RCA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3S3MoJUEeGsv772wTim0Q" base_Element="_A3S3MIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3S3NIJUEeGsv772wTim0Q" base_Element="_A3S3M4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3TeQYJUEeGsv772wTim0Q" base_Element="_A3TeQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3TeQ4JUEeGsv772wTim0Q" base_Element="_A3TeQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3TeRYJUEeGsv772wTim0Q" base_Element="_A3TeRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3UFUYJUEeGsv772wTim0Q" base_Element="_A3UFUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3UFVIJUEeGsv772wTim0Q" base_Element="_A3UFUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3UsYIJUEeGsv772wTim0Q" genericsValue="String" base_Element="_A3UFVYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3UsYYJUEeGsv772wTim0Q" base_Element="_A3UFVYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3UsY4JUEeGsv772wTim0Q" base_Element="_A3UsYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3VTcIJUEeGsv772wTim0Q" base_Element="_A3UsZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3VTcoJUEeGsv772wTim0Q" base_Element="_A3VTcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3V6gIJUEeGsv772wTim0Q" genericsValue="String, PlayerData" base_Element="_A3VTc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3V6gYJUEeGsv772wTim0Q" base_Element="_A3VTc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3V6g4JUEeGsv772wTim0Q" base_Element="_A3V6goJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3WhkYJUEeGsv772wTim0Q" base_Element="_A3WhkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Whk4JUEeGsv772wTim0Q" base_Element="_A3WhkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3WhlYJUEeGsv772wTim0Q" base_Element="_A3WhlIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3XIoYJUEeGsv772wTim0Q" base_Element="_A3XIoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3XIo4JUEeGsv772wTim0Q" base_Element="_A3XIooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3XvsYJUEeGsv772wTim0Q" base_Element="_A3XvsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Xvs4JUEeGsv772wTim0Q" base_Element="_A3XvsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3YWwIJUEeGsv772wTim0Q" base_Element="_A3XvtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3YWwoJUEeGsv772wTim0Q" base_Element="_A3YWwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3YWxIJUEeGsv772wTim0Q" base_Element="_A3YWw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Y90IJUEeGsv772wTim0Q" base_Element="_A3YWxYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Y90oJUEeGsv772wTim0Q" base_Element="_A3Y90YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3Y91IJUEeGsv772wTim0Q" genericsValue="NPCLocation" base_Element="_A3Y904JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Zk4IJUEeGsv772wTim0Q" base_Element="_A3Y904JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3Zk4oJUEeGsv772wTim0Q" base_Element="_A3Zk4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3aL8IJUEeGsv772wTim0Q" base_Element="_A3Zk44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3aL8oJUEeGsv772wTim0Q" base_Element="_A3aL8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3aL9IJUEeGsv772wTim0Q" base_Element="_A3aL84JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3azAIJUEeGsv772wTim0Q" base_Element="_A3aL9YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3azAoJUEeGsv772wTim0Q" base_Element="_A3azAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3azBIJUEeGsv772wTim0Q" base_Element="_A3azA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3azBoJUEeGsv772wTim0Q" base_Element="_A3azBYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3baEYJUEeGsv772wTim0Q" base_Element="_A3baEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3baFIJUEeGsv772wTim0Q" base_Element="_A3baEoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3cBIIJUEeGsv772wTim0Q" base_Element="_A3baFYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3cBIoJUEeGsv772wTim0Q" genericsValue="String" base_Element="_A3cBIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3cBI4JUEeGsv772wTim0Q" base_Element="_A3cBIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3coMIJUEeGsv772wTim0Q" genericsValue="String, PlayerTown" base_Element="_A3cBJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3coMYJUEeGsv772wTim0Q" base_Element="_A3cBJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3coM4JUEeGsv772wTim0Q" genericsValue="String, NPCTown" base_Element="_A3coMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3dPQIJUEeGsv772wTim0Q" base_Element="_A3coMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3dPQoJUEeGsv772wTim0Q" genericsValue="NPCTown" base_Element="_A3dPQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3dPQ4JUEeGsv772wTim0Q" base_Element="_A3dPQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3d2UIJUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_A3dPRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3d2UYJUEeGsv772wTim0Q" base_Element="_A3dPRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3d2U4JUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_A3d2UoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3edYIJUEeGsv772wTim0Q" base_Element="_A3d2UoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3edYoJUEeGsv772wTim0Q" base_Element="_A3edYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3fEdoJUEeGsv772wTim0Q" base_Element="_A3fEdYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3frgYJUEeGsv772wTim0Q" genericsValue="JDCConnection" base_Element="_A3frgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3frgoJUEeGsv772wTim0Q" base_Element="_A3frgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3gSkYJUEeGsv772wTim0Q" base_Element="_A3frg4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A3gSk4JUEeGsv772wTim0Q" genericsValue="JDCConnection" base_Element="_A3gSkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_A3g5oIJUEeGsv772wTim0Q" base_Property="_A3gSlIJUEeGsv772wTim0Q" siblings="_BArcsIJUEeGsv772wTim0Q _BArcsoJUEeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3hgs4JUEeGsv772wTim0Q" base_Element="_A3hgsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3iHwoJUEeGsv772wTim0Q" base_Element="_A3iHwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3iu0IJUEeGsv772wTim0Q" base_Element="_A3iHw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3iu0oJUEeGsv772wTim0Q" base_Element="_A3iu0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3iu1IJUEeGsv772wTim0Q" base_Element="_A3iu04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3jV4IJUEeGsv772wTim0Q" base_Element="_A3iu1YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3jV4oJUEeGsv772wTim0Q" base_Element="_A3jV4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3jV5IJUEeGsv772wTim0Q" base_Element="_A3jV44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3j88IJUEeGsv772wTim0Q" base_Element="_A3jV5YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3j88oJUEeGsv772wTim0Q" base_Element="_A3j88YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3j89IJUEeGsv772wTim0Q" base_Element="_A3j884JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3kkAIJUEeGsv772wTim0Q" base_Element="_A3j89YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3kkAoJUEeGsv772wTim0Q" base_Element="_A3kkAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3kkBIJUEeGsv772wTim0Q" base_Element="_A3kkA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3lLEIJUEeGsv772wTim0Q" base_Element="_A3kkBYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3lLEoJUEeGsv772wTim0Q" base_Element="_A3lLEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3lLFIJUEeGsv772wTim0Q" base_Element="_A3lLE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3lyI4JUEeGsv772wTim0Q" base_Element="_A3lyIoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3mZMYJUEeGsv772wTim0Q" base_Element="_A3mZMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3mZM4JUEeGsv772wTim0Q" base_Element="_A3mZMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3nAQIJUEeGsv772wTim0Q" base_Element="_A3mZNIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3nAQoJUEeGsv772wTim0Q" base_Element="_A3nAQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3nnUIJUEeGsv772wTim0Q" base_Element="_A3nAQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3nnU4JUEeGsv772wTim0Q" base_Element="_A3nnUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3oOY4JUEeGsv772wTim0Q" base_Element="_A3oOYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A3o1cIJUEeGsv772wTim0Q" base_Element="_A3oOZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_PSQYJUEeGsv772wTim0Q" base_Element="_A_PSQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_PSQ4JUEeGsv772wTim0Q" base_Element="_A_PSQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_P5UYJUEeGsv772wTim0Q" base_Element="_A_P5UIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_P5U4JUEeGsv772wTim0Q" base_Element="_A_P5UoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_QgYIJUEeGsv772wTim0Q" base_Element="_A_P5VIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_QgYoJUEeGsv772wTim0Q" base_Element="_A_QgYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_SVk4JUEeGsv772wTim0Q" base_Element="_A_SVkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_S8oYJUEeGsv772wTim0Q" base_Element="_A_S8oIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_S8o4JUEeGsv772wTim0Q" base_Element="_A_S8ooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_UKwYJUEeGsv772wTim0Q" genericsValue="Integer, NPCInstance" base_Element="_A_UKwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_VY4YJUEeGsv772wTim0Q" genericsValue="NPCPhrase" base_Element="_A_VY4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_V_8YJUEeGsv772wTim0Q" genericsValue="Integer, NPCPhrase" base_Element="_A_V_8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A_WnAoJUEeGsv772wTim0Q" base_Element="_A_WnAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A_WnBYJUEeGsv772wTim0Q" base_Element="_A_WnA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_XOEYJUEeGsv772wTim0Q" base_Element="_A_XOEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_A_X1I4JUEeGsv772wTim0Q" base_Element="_A_X1IoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_ZDQIJUEeGsv772wTim0Q" base_Element="_A_YcMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_ZDRIJUEeGsv772wTim0Q" base_Element="_A_ZDQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_ZqUoJUEeGsv772wTim0Q" genericsValue="Integer, Quest" base_Element="_A_ZqUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_a4cYJUEeGsv772wTim0Q" genericsValue="Integer, Language" base_Element="_A_a4cIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_a4c4JUEeGsv772wTim0Q" base_Element="_A_a4cIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_bfgIJUEeGsv772wTim0Q" base_Element="_A_a4dIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_A_bfg4JUEeGsv772wTim0Q" base_Element="_A_bfgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_bfhIJUEeGsv772wTim0Q" base_Element="_A_bfgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_cGkYJUEeGsv772wTim0Q" base_Element="_A_cGkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_cGk4JUEeGsv772wTim0Q" base_Element="_A_cGkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_ctoYJUEeGsv772wTim0Q" base_Element="_A_ctoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_cto4JUEeGsv772wTim0Q" base_Element="_A_ctooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_dUsIJUEeGsv772wTim0Q" base_Element="_A_ctpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_dUsoJUEeGsv772wTim0Q" base_Element="_A_dUsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_dUtIJUEeGsv772wTim0Q" base_Element="_A_dUs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_d7wYJUEeGsv772wTim0Q" base_Element="_A_d7wIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_ei0IJUEeGsv772wTim0Q" base_Element="_A_d7woJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_ei0oJUEeGsv772wTim0Q" base_Element="_A_ei0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_ei1IJUEeGsv772wTim0Q" base_Element="_A_ei04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_fJ4YJUEeGsv772wTim0Q" base_Element="_A_fJ4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_fJ44JUEeGsv772wTim0Q" base_Element="_A_fJ4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_fw8IJUEeGsv772wTim0Q" base_Element="_A_fJ5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_fw8oJUEeGsv772wTim0Q" base_Element="_A_fw8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_fw9IJUEeGsv772wTim0Q" base_Element="_A_fw84JUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_A_gYAYJUEeGsv772wTim0Q" base_Property="_A_gYAIJUEeGsv772wTim0Q" siblings="_BAugAoJUEeGsv772wTim0Q _BAvHEoJUEeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_g_EIJUEeGsv772wTim0Q" base_Element="_A_gYAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_A_g_EoJUEeGsv772wTim0Q" base_Property="_A_g_EYJUEeGsv772wTim0Q" siblings="_BAvHFYJUEeGsv772wTim0Q _BAvuIYJUEeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_g_E4JUEeGsv772wTim0Q" base_Element="_A_g_EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_hmIYJUEeGsv772wTim0Q" base_Element="_A_hmIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_hmI4JUEeGsv772wTim0Q" base_Element="_A_hmIoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_A_hmJYJUEeGsv772wTim0Q" base_Property="_A_hmJIJUEeGsv772wTim0Q" siblings="_BAvuJIJUEeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_iNMIJUEeGsv772wTim0Q" base_Element="_A_hmJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_iNMoJUEeGsv772wTim0Q" genericsValue="Block, Node" base_Element="_A_iNMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_i0QIJUEeGsv772wTim0Q" base_Element="_A_iNMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_i0QoJUEeGsv772wTim0Q" genericsValue="Node" base_Element="_A_i0QYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_jbUIJUEeGsv772wTim0Q" base_Element="_A_i0QYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_jbUoJUEeGsv772wTim0Q" genericsValue="Node" base_Element="_A_jbUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_kCYIJUEeGsv772wTim0Q" base_Element="_A_jbUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_kCYoJUEeGsv772wTim0Q" genericsValue="Node" base_Element="_A_kCYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_kCZIJUEeGsv772wTim0Q" base_Element="_A_kCYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_A_kpcIJUEeGsv772wTim0Q" genericsValue="Node" base_Element="_A_kCZYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_kpcoJUEeGsv772wTim0Q" base_Element="_A_kCZYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_A_kpdIJUEeGsv772wTim0Q" base_Property="_A_kpc4JUEeGsv772wTim0Q" siblings="_BAwVMIJUEeGsv772wTim0Q" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_lQgIJUEeGsv772wTim0Q" base_Element="_A_kpc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_A_lQg4JUEeGsv772wTim0Q" base_Element="_A_lQgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_lQhYJUEeGsv772wTim0Q" base_Element="_A_lQgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_l3kYJUEeGsv772wTim0Q" base_Element="_A_lQhoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_A_l3lYJUEeGsv772wTim0Q" base_Element="_A_l3koJUEeGsv772wTim0Q"/>
  <uml:OpaqueBehavior xmi:id="_A_-5IIJUEeGsv772wTim0Q" name="NPCType" specification="_Ab1qQIJUEeGsv772wTim0Q">
    <ownedParameter xmi:id="_A_-5IYJUEeGsv772wTim0Q" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_A_-5IoJUEeGsv772wTim0Q" type="_Ab0cIIJUEeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>this.value = value;&#xD;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_A_-5I4JUEeGsv772wTim0Q" name="getType" specification="_Ab1qRYJUEeGsv772wTim0Q">
    <ownedParameter xmi:id="_A_-5JIJUEeGsv772wTim0Q" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_A_-5JYJUEeGsv772wTim0Q" type="_AuuKAYJUEeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>switch( value )&#xD;
			{&#xD;
				case 1:&#xD;
					return SPEECH;&#xD;
				default:&#xD;
					return BASIC;&#xD;
			}&#xD;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_BAAuVIJUEeGsv772wTim0Q" name="getZone" specification="_A3JtQYJUEeGsv772wTim0Q">
    <ownedParameter xmi:id="_BAAuVYJUEeGsv772wTim0Q" type="_AleHYoJUEeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>if( this.zone == null )&#xD;
		{&#xD;
			if( plugin.zones.isInCapitol(this))&#xD;
				this.zone = Zone.CAPITOL;&#xD;
			else&#xD;
				this.zone = plugin.zones.getZone(this);&#xD;
		}&#xD;
			&#xD;
		&#xD;
		return this.zone;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_BAAuVoJUEeGsv772wTim0Q" name="getQuadrant" specification="_A3KUUYJUEeGsv772wTim0Q">
    <ownedParameter xmi:id="_BABVYIJUEeGsv772wTim0Q" type="_AleHYIJUEeGsv772wTim0Q" direction="return"/>
    <language>java</language>
    <body>if( this.quadrant == null )&#xD;
			this.quadrant = plugin.zones.getQuadrant(this);&#xD;
		&#xD;
		return this.quadrant;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:MultiDeclaration xmi:id="_BArcsYJUEeGsv772wTim0Q" base_Property="_BArcsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BArcs4JUEeGsv772wTim0Q" base_Property="_BArcsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BAugA4JUEeGsv772wTim0Q" base_Property="_BAugAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_BAvHEIJUEeGsv772wTim0Q" base_Element="_BAugAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BAvHE4JUEeGsv772wTim0Q" base_Property="_BAvHEoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_BAvHFIJUEeGsv772wTim0Q" base_Element="_BAvHEoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BAvHFoJUEeGsv772wTim0Q" base_Property="_BAvHFYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_BAvuIIJUEeGsv772wTim0Q" base_Element="_BAvHFYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BAvuIoJUEeGsv772wTim0Q" base_Property="_BAvuIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_BAvuI4JUEeGsv772wTim0Q" base_Element="_BAvuIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BAvuJYJUEeGsv772wTim0Q" base_Property="_BAvuJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_BAvuJoJUEeGsv772wTim0Q" base_Element="_BAvuJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_BAwVMYJUEeGsv772wTim0Q" base_Property="_BAwVMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_BAwVMoJUEeGsv772wTim0Q" base_Element="_BAwVMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBSgsoJUEeGsv772wTim0Q" base_Element="_BBSgsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBTHwoJUEeGsv772wTim0Q" base_Element="_BBTHwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBTHxYJUEeGsv772wTim0Q" base_Element="_BBTHw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBTu0IJUEeGsv772wTim0Q" base_Element="_BBTHxoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBTu04JUEeGsv772wTim0Q" base_Element="_BBTu0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBTu1oJUEeGsv772wTim0Q" base_Element="_BBTu1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBUV4IJUEeGsv772wTim0Q" base_Element="_BBTu14JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBUV44JUEeGsv772wTim0Q" base_Element="_BBUV4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBU88IJUEeGsv772wTim0Q" base_Element="_BBUV5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBU884JUEeGsv772wTim0Q" base_Element="_BBU88YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBU89oJUEeGsv772wTim0Q" base_Element="_BBU89IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBVkAIJUEeGsv772wTim0Q" base_Element="_BBU894JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBVkA4JUEeGsv772wTim0Q" base_Element="_BBVkAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBVkBoJUEeGsv772wTim0Q" base_Element="_BBVkBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBWLEIJUEeGsv772wTim0Q" base_Element="_BBVkB4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBWLE4JUEeGsv772wTim0Q" base_Element="_BBWLEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBWLFoJUEeGsv772wTim0Q" base_Element="_BBWLFIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBWyIoJUEeGsv772wTim0Q" base_Element="_BBWyIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBWyJYJUEeGsv772wTim0Q" base_Element="_BBWyI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBXZMIJUEeGsv772wTim0Q" base_Element="_BBWyJoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBXZM4JUEeGsv772wTim0Q" base_Element="_BBXZMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBXZNoJUEeGsv772wTim0Q" base_Element="_BBXZNIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBYAQIJUEeGsv772wTim0Q" base_Element="_BBXZN4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBYAQ4JUEeGsv772wTim0Q" base_Element="_BBYAQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBYARoJUEeGsv772wTim0Q" base_Element="_BBYARIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBYnUoJUEeGsv772wTim0Q" base_Element="_BBYnUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBYnVYJUEeGsv772wTim0Q" base_Element="_BBYnU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBZOYIJUEeGsv772wTim0Q" base_Element="_BBYnVoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBZOY4JUEeGsv772wTim0Q" base_Element="_BBZOYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBZOZoJUEeGsv772wTim0Q" base_Element="_BBZOZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBZ1coJUEeGsv772wTim0Q" base_Element="_BBZ1cIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBZ1dYJUEeGsv772wTim0Q" base_Element="_BBZ1c4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBacgIJUEeGsv772wTim0Q" base_Element="_BBZ1doJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBacg4JUEeGsv772wTim0Q" base_Element="_BBacgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBachoJUEeGsv772wTim0Q" base_Element="_BBachIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBbDkoJUEeGsv772wTim0Q" base_Element="_BBbDkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBbDlYJUEeGsv772wTim0Q" base_Element="_BBbDk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBbqoIJUEeGsv772wTim0Q" base_Element="_BBbDloJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBbqo4JUEeGsv772wTim0Q" base_Element="_BBbqoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBbqpoJUEeGsv772wTim0Q" base_Element="_BBbqpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBcRsYJUEeGsv772wTim0Q" base_Element="_BBbqp4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBcRtIJUEeGsv772wTim0Q" base_Element="_BBcRsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBc4wIJUEeGsv772wTim0Q" base_Element="_BBcRtYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBc4w4JUEeGsv772wTim0Q" base_Element="_BBc4wYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBc4xoJUEeGsv772wTim0Q" base_Element="_BBc4xIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBdf0IJUEeGsv772wTim0Q" base_Element="_BBc4x4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBdf04JUEeGsv772wTim0Q" base_Element="_BBdf0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBdf1oJUEeGsv772wTim0Q" base_Element="_BBdf1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBeG4oJUEeGsv772wTim0Q" base_Element="_BBeG4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBeG5YJUEeGsv772wTim0Q" base_Element="_BBeG44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBet8IJUEeGsv772wTim0Q" base_Element="_BBeG5oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBet84JUEeGsv772wTim0Q" base_Element="_BBet8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBet9oJUEeGsv772wTim0Q" base_Element="_BBet9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBfVAIJUEeGsv772wTim0Q" base_Element="_BBet94JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBfVA4JUEeGsv772wTim0Q" base_Element="_BBfVAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBf8EIJUEeGsv772wTim0Q" base_Element="_BBfVBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBf8E4JUEeGsv772wTim0Q" base_Element="_BBf8EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBf8FoJUEeGsv772wTim0Q" base_Element="_BBf8FIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBgjIIJUEeGsv772wTim0Q" base_Element="_BBf8F4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBgjI4JUEeGsv772wTim0Q" base_Element="_BBgjIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBgjJoJUEeGsv772wTim0Q" base_Element="_BBgjJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBhKMoJUEeGsv772wTim0Q" base_Element="_BBhKMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBhKNYJUEeGsv772wTim0Q" base_Element="_BBhKM4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBhxQIJUEeGsv772wTim0Q" base_Element="_BBhKNoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBhxQ4JUEeGsv772wTim0Q" base_Element="_BBhxQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBhxRoJUEeGsv772wTim0Q" base_Element="_BBhxRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBiYUIJUEeGsv772wTim0Q" base_Element="_BBhxR4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBiYU4JUEeGsv772wTim0Q" base_Element="_BBiYUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBi_YIJUEeGsv772wTim0Q" base_Element="_BBiYVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBi_Y4JUEeGsv772wTim0Q" base_Element="_BBi_YYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBi_ZoJUEeGsv772wTim0Q" base_Element="_BBi_ZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBjmcIJUEeGsv772wTim0Q" base_Element="_BBi_Z4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBjmc4JUEeGsv772wTim0Q" base_Element="_BBjmcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBkNgIJUEeGsv772wTim0Q" base_Element="_BBjmdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBkNg4JUEeGsv772wTim0Q" base_Element="_BBkNgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBkNhoJUEeGsv772wTim0Q" base_Element="_BBkNhIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBk0koJUEeGsv772wTim0Q" base_Element="_BBk0kIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBk0lYJUEeGsv772wTim0Q" base_Element="_BBk0k4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBlboIJUEeGsv772wTim0Q" base_Element="_BBk0loJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBlbo4JUEeGsv772wTim0Q" base_Element="_BBlboYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBlbpoJUEeGsv772wTim0Q" base_Element="_BBlbpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBmCsoJUEeGsv772wTim0Q" base_Element="_BBmCsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBmCtYJUEeGsv772wTim0Q" base_Element="_BBmCs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBmpwIJUEeGsv772wTim0Q" base_Element="_BBmCtoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BBmpw4JUEeGsv772wTim0Q" base_Element="_BBmpwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BID3EIJUEeGsv772wTim0Q" base_Element="_BBmpxIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BID3E4JUEeGsv772wTim0Q" base_Element="_BID3EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIEeIIJUEeGsv772wTim0Q" base_Element="_BID3FIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIEeI4JUEeGsv772wTim0Q" base_Element="_BIEeIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIFFMIJUEeGsv772wTim0Q" base_Element="_BIEeJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIFFM4JUEeGsv772wTim0Q" base_Element="_BIFFMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIFFNoJUEeGsv772wTim0Q" base_Element="_BIFFNIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIFsQIJUEeGsv772wTim0Q" base_Element="_BIFFN4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIFsQ4JUEeGsv772wTim0Q" base_Element="_BIFsQYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIGTUIJUEeGsv772wTim0Q" base_Element="_BIFsRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIGTU4JUEeGsv772wTim0Q" base_Element="_BIGTUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIGTVoJUEeGsv772wTim0Q" base_Element="_BIGTVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIG6YoJUEeGsv772wTim0Q" base_Element="_BIG6YIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIG6ZYJUEeGsv772wTim0Q" base_Element="_BIG6Y4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIHhcIJUEeGsv772wTim0Q" base_Element="_BIG6ZoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIHhc4JUEeGsv772wTim0Q" base_Element="_BIHhcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIHhdoJUEeGsv772wTim0Q" base_Element="_BIHhdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIIIgoJUEeGsv772wTim0Q" base_Element="_BIIIgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIIIhYJUEeGsv772wTim0Q" base_Element="_BIIIg4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIIvkIJUEeGsv772wTim0Q" base_Element="_BIIIhoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIIvk4JUEeGsv772wTim0Q" base_Element="_BIIvkYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIIvloJUEeGsv772wTim0Q" base_Element="_BIIvlIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIJWooJUEeGsv772wTim0Q" base_Element="_BIJWoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIJWpYJUEeGsv772wTim0Q" base_Element="_BIJWo4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIJ9sIJUEeGsv772wTim0Q" base_Element="_BIJWpoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIJ9s4JUEeGsv772wTim0Q" base_Element="_BIJ9sYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIJ9toJUEeGsv772wTim0Q" base_Element="_BIJ9tIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIKkwoJUEeGsv772wTim0Q" base_Element="_BIKkwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIKkxYJUEeGsv772wTim0Q" base_Element="_BIKkw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BILL0IJUEeGsv772wTim0Q" base_Element="_BIKkxoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BILL04JUEeGsv772wTim0Q" base_Element="_BILL0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BILL1oJUEeGsv772wTim0Q" base_Element="_BILL1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BILy4oJUEeGsv772wTim0Q" base_Element="_BILy4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BILy5YJUEeGsv772wTim0Q" base_Element="_BILy44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIMZ8IJUEeGsv772wTim0Q" base_Element="_BILy5oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIMZ84JUEeGsv772wTim0Q" base_Element="_BIMZ8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIMZ9oJUEeGsv772wTim0Q" base_Element="_BIMZ9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BINBAIJUEeGsv772wTim0Q" base_Element="_BIMZ94JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BINBA4JUEeGsv772wTim0Q" base_Element="_BINBAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BINBBoJUEeGsv772wTim0Q" base_Element="_BINBBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BINoEoJUEeGsv772wTim0Q" base_Element="_BINoEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BINoFYJUEeGsv772wTim0Q" base_Element="_BINoE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIOPIIJUEeGsv772wTim0Q" base_Element="_BINoFoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIOPI4JUEeGsv772wTim0Q" base_Element="_BIOPIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIOPJoJUEeGsv772wTim0Q" base_Element="_BIOPJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIO2MIJUEeGsv772wTim0Q" base_Element="_BIOPJ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIO2M4JUEeGsv772wTim0Q" base_Element="_BIO2MYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIO2NoJUEeGsv772wTim0Q" base_Element="_BIO2NIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIPdQoJUEeGsv772wTim0Q" base_Element="_BIPdQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIPdRYJUEeGsv772wTim0Q" base_Element="_BIPdQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIQEUIJUEeGsv772wTim0Q" base_Element="_BIPdRoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIQEU4JUEeGsv772wTim0Q" base_Element="_BIQEUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIQEVoJUEeGsv772wTim0Q" base_Element="_BIQEVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIQrYIJUEeGsv772wTim0Q" base_Element="_BIQEV4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIQrY4JUEeGsv772wTim0Q" base_Element="_BIQrYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIQrZoJUEeGsv772wTim0Q" base_Element="_BIQrZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIRScoJUEeGsv772wTim0Q" base_Element="_BIRScIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIRSdYJUEeGsv772wTim0Q" base_Element="_BIRSc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIR5gIJUEeGsv772wTim0Q" base_Element="_BIRSdoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIR5g4JUEeGsv772wTim0Q" base_Element="_BIR5gYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIR5hoJUEeGsv772wTim0Q" base_Element="_BIR5hIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BISgkIJUEeGsv772wTim0Q" base_Element="_BIR5h4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BISgk4JUEeGsv772wTim0Q" base_Element="_BISgkYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BITHoIJUEeGsv772wTim0Q" base_Element="_BISglIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BITHo4JUEeGsv772wTim0Q" base_Element="_BITHoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BITHpoJUEeGsv772wTim0Q" base_Element="_BITHpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BITusoJUEeGsv772wTim0Q" base_Element="_BITusIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BITutYJUEeGsv772wTim0Q" base_Element="_BITus4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIUVwIJUEeGsv772wTim0Q" base_Element="_BITutoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIUVw4JUEeGsv772wTim0Q" base_Element="_BIUVwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIUVxoJUEeGsv772wTim0Q" base_Element="_BIUVxIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIU80IJUEeGsv772wTim0Q" base_Element="_BIUVx4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIU804JUEeGsv772wTim0Q" base_Element="_BIU80YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIU81oJUEeGsv772wTim0Q" base_Element="_BIU81IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIVj4oJUEeGsv772wTim0Q" base_Element="_BIVj4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIVj5YJUEeGsv772wTim0Q" base_Element="_BIVj44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIWK8IJUEeGsv772wTim0Q" base_Element="_BIVj5oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIWK84JUEeGsv772wTim0Q" base_Element="_BIWK8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIWK9oJUEeGsv772wTim0Q" base_Element="_BIWK9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIWyAIJUEeGsv772wTim0Q" base_Element="_BIWK94JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIWyA4JUEeGsv772wTim0Q" base_Element="_BIWyAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIWyBoJUEeGsv772wTim0Q" base_Element="_BIWyBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIXZEoJUEeGsv772wTim0Q" base_Element="_BIXZEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIXZFYJUEeGsv772wTim0Q" base_Element="_BIXZE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIYAIIJUEeGsv772wTim0Q" base_Element="_BIXZFoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIYAI4JUEeGsv772wTim0Q" base_Element="_BIYAIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIYAJoJUEeGsv772wTim0Q" base_Element="_BIYAJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIYnMIJUEeGsv772wTim0Q" base_Element="_BIYAJ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIYnM4JUEeGsv772wTim0Q" base_Element="_BIYnMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIYnNoJUEeGsv772wTim0Q" base_Element="_BIYnNIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIZOQoJUEeGsv772wTim0Q" base_Element="_BIZOQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIZORYJUEeGsv772wTim0Q" base_Element="_BIZOQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIZ1UIJUEeGsv772wTim0Q" base_Element="_BIZORoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIZ1U4JUEeGsv772wTim0Q" base_Element="_BIZ1UYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIZ1VoJUEeGsv772wTim0Q" base_Element="_BIZ1VIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIacYYJUEeGsv772wTim0Q" base_Element="_BIZ1V4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIacZIJUEeGsv772wTim0Q" base_Element="_BIacYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIbDcIJUEeGsv772wTim0Q" base_Element="_BIacZYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIbDc4JUEeGsv772wTim0Q" base_Element="_BIbDcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIbDdoJUEeGsv772wTim0Q" base_Element="_BIbDdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIbqgIJUEeGsv772wTim0Q" base_Element="_BIbDd4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIbqg4JUEeGsv772wTim0Q" base_Element="_BIbqgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIbqhoJUEeGsv772wTim0Q" base_Element="_BIbqhIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_BIcRkoJUEeGsv772wTim0Q" base_Element="_BIcRkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_D_CEMIJUEeGsv772wTim0Q" base_Element="_D_BdIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_CrQYJUEeGsv772wTim0Q" base_Element="_D_CrQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_CrRIJUEeGsv772wTim0Q" base_Element="_D_CrQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_DSUIJUEeGsv772wTim0Q" base_Element="_D_CrRYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_DSUoJUEeGsv772wTim0Q" base_Element="_D_DSUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_DSVYJUEeGsv772wTim0Q" base_Element="_D_DSU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_D_DSVoJUEeGsv772wTim0Q" base_Element="_D_BdIIJUEeGsv772wTim0Q">
    <annotations xmi:id="_D_DSV4JUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_D_DSWIJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGMcIIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_D_FukYJUEeGsv772wTim0Q" base_Element="_D_FukIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_D_G8sIJUEeGsv772wTim0Q" base_Element="_D_FukIJUEeGsv772wTim0Q">
    <annotations xmi:id="_D_G8sYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_D_G8soJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGMcJ4JUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_D_McRIJUEeGsv772wTim0Q" genericsValue="String" base_Element="_D_McQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_Z3oIJUEeGsv772wTim0Q" genericsValue="Lot" base_Element="_D_ZQlYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_diBIJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_D_diA4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_eJFIJUEeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_D_eJE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_rkcYJUEeGsv772wTim0Q" genericsValue="String, Class&lt;?>" base_Element="_D_rkcIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_1VcIJUEeGsv772wTim0Q" genericsValue="Integer, Language" base_Element="_D_0uYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_18gYJUEeGsv772wTim0Q" genericsValue="NPCInstance" base_Element="_D_18gIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_D_3xsIJUEeGsv772wTim0Q" base_Element="_Aly3gYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_D_4YwYJUEeGsv772wTim0Q" genericsValue="String, Timestamp" base_Element="_D_4YwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_4YwoJUEeGsv772wTim0Q" base_Element="_D_4YwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_D_4_0IJUEeGsv772wTim0Q" base_Element="_D_4Yw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_D_4_0YJUEeGsv772wTim0Q" base_Element="_Aly3gYJUEeGsv772wTim0Q">
    <annotations xmi:id="_D_4_0oJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_D_4_04JUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGORUIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_D_8qNIJUEeGsv772wTim0Q" base_Element="_D_8qMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EACw0IJUEeGsv772wTim0Q" base_Element="_EACJwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EACw1YJUEeGsv772wTim0Q" base_Element="_EACw0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EADX4oJUEeGsv772wTim0Q" base_Element="_EADX4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EADX5oJUEeGsv772wTim0Q" base_Element="_EADX44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EAD-8IJUEeGsv772wTim0Q" genericsValue="String" base_Element="_EADX54JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EAD-8YJUEeGsv772wTim0Q" base_Element="_EADX54JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EAD-9oJUEeGsv772wTim0Q" base_Element="_EAD-8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EAEmAYJUEeGsv772wTim0Q" base_Element="_EACJwIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EAEmAoJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_EAEmA4JUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGO4YoJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EAF0IIJUEeGsv772wTim0Q" base_Element="_Ak0AEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EAHCQoJUEeGsv772wTim0Q" base_Element="_EAHCQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EAIQYIJUEeGsv772wTim0Q" base_Element="_Ak0AEYJUEeGsv772wTim0Q">
    <annotations xmi:id="_EAIQYYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_EAIQYoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGO4Y4JUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EASocYJUEeGsv772wTim0Q" base_Element="_EASocIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EATPgIJUEeGsv772wTim0Q" base_Element="_EASocIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EATPgYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_EATPgoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGO4ZIJUEeGsv772wTim0Q" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EAdAgoJUEeGsv772wTim0Q" base_Element="_EAdAgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EAdnkIJUEeGsv772wTim0Q" base_Element="_EAdAgYJUEeGsv772wTim0Q">
    <annotations xmi:id="_EAdnkYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EAeOpIJUEeGsv772wTim0Q" base_Element="_EAeOoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECSMgYJUEeGsv772wTim0Q" base_Element="_ECSMgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECSzkYJUEeGsv772wTim0Q" base_Element="_ECSzkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECSzk4JUEeGsv772wTim0Q" base_Element="_ECSzkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_ECTapoJUEeGsv772wTim0Q" base_Element="_ECTaoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECV24YJUEeGsv772wTim0Q" base_Element="_ECV24IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECV244JUEeGsv772wTim0Q" base_Element="_ECV24oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECV25YJUEeGsv772wTim0Q" base_Element="_ECV25IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECWd8YJUEeGsv772wTim0Q" base_Element="_ECWd8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECWd84JUEeGsv772wTim0Q" base_Element="_ECWd8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECWd9YJUEeGsv772wTim0Q" base_Element="_ECWd9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECXFAIJUEeGsv772wTim0Q" base_Element="_ECWd9oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECXFAoJUEeGsv772wTim0Q" base_Element="_ECXFAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_ECXsFYJUEeGsv772wTim0Q" base_Element="_ECXsEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_ECZhQYJUEeGsv772wTim0Q" base_Element="_ECZhQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EClHcYJUEeGsv772wTim0Q" base_Element="_EClHcIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_ECnjsYJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_ECnjsIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_ECnjtIJUEeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_ECnjs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EDyBUoJUEeGsv772wTim0Q" genericsValue="String, Class&lt;?>" base_Element="_EDyBUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_ED4H9oJUEeGsv772wTim0Q" base_Element="_ED4H8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ED59IIJUEeGsv772wTim0Q" base_Element="_ED5WF4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ED59IYJUEeGsv772wTim0Q" base_Element="_ED5WF4JUEeGsv772wTim0Q">
    <annotations xmi:id="_ED59IoJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ED59JoJUEeGsv772wTim0Q" base_Element="_ED59I4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ED6kMIJUEeGsv772wTim0Q" base_Element="_ED59I4JUEeGsv772wTim0Q">
    <annotations xmi:id="_ED6kMYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ED6kNYJUEeGsv772wTim0Q" base_Element="_ED6kMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ED6kNoJUEeGsv772wTim0Q" base_Element="_ED6kMoJUEeGsv772wTim0Q">
    <annotations xmi:id="_ED6kN4JUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ED8ZZ4JUEeGsv772wTim0Q" base_Element="_ED8ZYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_ED9AcIJUEeGsv772wTim0Q" base_Element="_ED8ZYIJUEeGsv772wTim0Q">
    <annotations xmi:id="_ED9AcYJUEeGsv772wTim0Q" name="SuppressWarnings">
      <annotationParameters xmi:id="_ED9AcoJUEeGsv772wTim0Q" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_EGO4YIJUEeGsv772wTim0Q" value="&quot;static-access&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ED_ct4JUEeGsv772wTim0Q" base_Element="_ED_ctIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EEADwIJUEeGsv772wTim0Q" base_Element="_ED_ctIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EEADwYJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EEADxYJUEeGsv772wTim0Q" base_Element="_EEADwoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EEAq0IJUEeGsv772wTim0Q" base_Element="_EEADwoJUEeGsv772wTim0Q">
    <annotations xmi:id="_EEAq0YJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_EEAq1IJUEeGsv772wTim0Q" base_Element="_EEAq04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEBR4YJUEeGsv772wTim0Q" base_Element="_EEBR4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEBR44JUEeGsv772wTim0Q" base_Element="_EEBR4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEB49YJUEeGsv772wTim0Q" base_Element="_EEB48YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEDuI4JUEeGsv772wTim0Q" base_Element="_EEDHEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEDuJ4JUEeGsv772wTim0Q" base_Element="_EEDuJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEEVMIJUEeGsv772wTim0Q" base_Element="_EEDuKIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEEVNYJUEeGsv772wTim0Q" base_Element="_EEEVMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEE8QIJUEeGsv772wTim0Q" base_Element="_EEEVNoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEE8RIJUEeGsv772wTim0Q" base_Element="_EEE8QYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEE8SYJUEeGsv772wTim0Q" base_Element="_EEE8RYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEFjU4JUEeGsv772wTim0Q" base_Element="_EEFjUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEFjV4JUEeGsv772wTim0Q" base_Element="_EEFjVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEGKYYJUEeGsv772wTim0Q" base_Element="_EEFjWIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEGKZoJUEeGsv772wTim0Q" base_Element="_EEGKYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEGxcoJUEeGsv772wTim0Q" base_Element="_EEGKZ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEGxd4JUEeGsv772wTim0Q" base_Element="_EEGxc4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEHYgYJUEeGsv772wTim0Q" base_Element="_EEGxeIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEHYhoJUEeGsv772wTim0Q" base_Element="_EEHYgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEH_koJUEeGsv772wTim0Q" base_Element="_EEHYh4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEH_l4JUEeGsv772wTim0Q" base_Element="_EEH_k4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEImo4JUEeGsv772wTim0Q" base_Element="_EEH_mIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEImqIJUEeGsv772wTim0Q" base_Element="_EEImpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEJNsYJUEeGsv772wTim0Q" base_Element="_EEImqYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EELp8YJUEeGsv772wTim0Q" base_Element="_EELC4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEMRAYJUEeGsv772wTim0Q" base_Element="_EEMRAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEMRA4JUEeGsv772wTim0Q" base_Element="_EEMRAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEM4EIJUEeGsv772wTim0Q" base_Element="_EEMRBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEM4EoJUEeGsv772wTim0Q" base_Element="_EEM4EYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEM4FIJUEeGsv772wTim0Q" base_Element="_EEM4E4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEP7YIJUEeGsv772wTim0Q" base_Element="_EEPUUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEP7YoJUEeGsv772wTim0Q" base_Element="_EEP7YYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEQicIJUEeGsv772wTim0Q" base_Element="_EEP7Y4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEQicoJUEeGsv772wTim0Q" base_Element="_EEQicYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEQidIJUEeGsv772wTim0Q" base_Element="_EEQic4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EERJgYJUEeGsv772wTim0Q" base_Element="_EERJgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EERwkoJUEeGsv772wTim0Q" base_Element="_EERwkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EERwk4JUEeGsv772wTim0Q" base_Element="_EERwkIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EERwlIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EESXooJUEeGsv772wTim0Q" base_Element="_EESXoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EESXo4JUEeGsv772wTim0Q" base_Element="_EESXoIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EESXpIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_EEVa8YJUEeGsv772wTim0Q" base_Element="_EEVa8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EEWCBoJUEeGsv772wTim0Q" base_Element="_EEWCBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EEWCB4JUEeGsv772wTim0Q" base_Element="_EEWCBIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EEWCCIJUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EEWpE4JUEeGsv772wTim0Q" base_Element="_EEWpEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Array xmi:id="_EEWpFYJUEeGsv772wTim0Q" base_Element="_EEWpEoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Annotations xmi:id="_EEWpFoJUEeGsv772wTim0Q" base_Element="_EEWpEIJUEeGsv772wTim0Q">
    <annotations xmi:id="_EEWpF4JUEeGsv772wTim0Q" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_EEfzAIJUEeGsv772wTim0Q" base_Element="_EEfL8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEfzA4JUEeGsv772wTim0Q" base_Element="_EEfzAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEgaEIJUEeGsv772wTim0Q" base_Element="_EEfzBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEgaE4JUEeGsv772wTim0Q" base_Element="_EEgaEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEgaFoJUEeGsv772wTim0Q" base_Element="_EEgaFIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEhBIoJUEeGsv772wTim0Q" base_Element="_EEhBIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:StyledElement xmi:id="_EEhBJYJUEeGsv772wTim0Q" base_Element="_EEhBI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEo88IJUEeGsv772wTim0Q" base_Element="_EEoV4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEqLEIJUEeGsv772wTim0Q" base_Element="_EEpkAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEqyIIJUEeGsv772wTim0Q" base_Element="_EEqLFYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEqyI4JUEeGsv772wTim0Q" base_Element="_EEqyIoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEsAQYJUEeGsv772wTim0Q" base_Element="_EEsAQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEtOYYJUEeGsv772wTim0Q" base_Element="_EEtOYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEvDkYJUEeGsv772wTim0Q" base_Element="_EEvDkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEvqoIJUEeGsv772wTim0Q" base_Element="_EEvDk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEvqo4JUEeGsv772wTim0Q" base_Element="_EEvqooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEwRsIJUEeGsv772wTim0Q" base_Element="_EEvqpYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EEwRtIJUEeGsv772wTim0Q" genericsValue="?" base_Element="_EEwRsoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEw4wYJUEeGsv772wTim0Q" base_Element="_EEw4wIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:TypeParameterDeclaration xmi:id="_EEw4xIJUEeGsv772wTim0Q" typeParameterDeclarationValue="T" base_Operation="_EEw4woJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EEw4xoJUEeGsv772wTim0Q" base_Element="_EEw4woJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EExf0IJUEeGsv772wTim0Q" genericsValue="T" base_Element="_EEw4w4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EExf0oJUEeGsv772wTim0Q" base_Element="_EExf0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEyG4IJUEeGsv772wTim0Q" base_Element="_EExf04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEyt8IJUEeGsv772wTim0Q" base_Element="_EEyG5oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEyt84JUEeGsv772wTim0Q" base_Element="_EEyt8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEzVAIJUEeGsv772wTim0Q" base_Element="_EEyt9YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEzVA4JUEeGsv772wTim0Q" base_Element="_EEzVAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EEz8EIJUEeGsv772wTim0Q" base_Element="_EEzVBYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EE1KMIJUEeGsv772wTim0Q" base_Element="_EE0jI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EE1xQYJUEeGsv772wTim0Q" base_Element="_EE1xQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EE3mcoJUEeGsv772wTim0Q" base_Element="_EE3mcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EE6pwoJUEeGsv772wTim0Q" base_Element="_EE6pwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EE734IJUEeGsv772wTim0Q" base_Element="_EE7Q0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EE8e8oJUEeGsv772wTim0Q" base_Element="_EE8e8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFDMoYJUEeGsv772wTim0Q" base_Element="_EFDMoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFFB0YJUEeGsv772wTim0Q" base_Element="_EFFB0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFFo4YJUEeGsv772wTim0Q" base_Element="_EFFo4IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFFo5IJUEeGsv772wTim0Q" base_Element="_EFFo4oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFFo5oJUEeGsv772wTim0Q" base_Element="_EFFo5YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFGP8oJUEeGsv772wTim0Q" base_Element="_EFGP8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFGP9IJUEeGsv772wTim0Q" base_Element="_EFGP84JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFGP9oJUEeGsv772wTim0Q" base_Element="_EFGP9YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFG3AIJUEeGsv772wTim0Q" base_Element="_EFGP94JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFG3AoJUEeGsv772wTim0Q" base_Element="_EFG3AYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFG3BIJUEeGsv772wTim0Q" base_Element="_EFG3A4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFHeEIJUEeGsv772wTim0Q" base_Element="_EFG3BYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFHeE4JUEeGsv772wTim0Q" base_Element="_EFHeEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFHeFoJUEeGsv772wTim0Q" base_Element="_EFHeFIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFIFIIJUEeGsv772wTim0Q" base_Element="_EFHeF4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFIFI4JUEeGsv772wTim0Q" base_Element="_EFIFIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFIFJoJUEeGsv772wTim0Q" base_Element="_EFIFJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFIsMYJUEeGsv772wTim0Q" base_Element="_EFIFJ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFIsNIJUEeGsv772wTim0Q" base_Element="_EFIsMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFIsN4JUEeGsv772wTim0Q" base_Element="_EFIsNYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFJTQYJUEeGsv772wTim0Q" base_Element="_EFIsOIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFJTRIJUEeGsv772wTim0Q" base_Element="_EFJTQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFJTR4JUEeGsv772wTim0Q" base_Element="_EFJTRYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFJ6UoJUEeGsv772wTim0Q" base_Element="_EFJ6UIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFJ6VYJUEeGsv772wTim0Q" base_Element="_EFJ6U4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFJ6WIJUEeGsv772wTim0Q" base_Element="_EFJ6VoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFKhYYJUEeGsv772wTim0Q" genericsValue="Integer, TownLevel" base_Element="_EFKhYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFKhYoJUEeGsv772wTim0Q" base_Element="_EFKhYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFKhZYJUEeGsv772wTim0Q" base_Element="_EFKhY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFLIcYJUEeGsv772wTim0Q" base_Element="_EFKhZoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFLIdIJUEeGsv772wTim0Q" base_Element="_EFLIcoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFLId4JUEeGsv772wTim0Q" base_Element="_EFLIdYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFLvgoJUEeGsv772wTim0Q" base_Element="_EFLvgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFLvhYJUEeGsv772wTim0Q" base_Element="_EFLvg4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFLviIJUEeGsv772wTim0Q" base_Element="_EFLvhoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFMWkoJUEeGsv772wTim0Q" base_Element="_EFMWkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFMWlIJUEeGsv772wTim0Q" base_Element="_EFMWk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFMWloJUEeGsv772wTim0Q" base_Element="_EFMWlYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFM9ooJUEeGsv772wTim0Q" base_Element="_EFM9oIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFM9pYJUEeGsv772wTim0Q" base_Element="_EFM9o4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFM9qIJUEeGsv772wTim0Q" base_Element="_EFM9poJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFNksoJUEeGsv772wTim0Q" base_Element="_EFNksIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFNktYJUEeGsv772wTim0Q" base_Element="_EFNks4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFOLwIJUEeGsv772wTim0Q" base_Element="_EFNktoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFOLw4JUEeGsv772wTim0Q" base_Element="_EFOLwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFOLxYJUEeGsv772wTim0Q" base_Element="_EFOLxIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFOy0IJUEeGsv772wTim0Q" base_Element="_EFOLxoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFOy0oJUEeGsv772wTim0Q" base_Element="_EFOy0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFOy1IJUEeGsv772wTim0Q" base_Element="_EFOy04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFPZ4IJUEeGsv772wTim0Q" base_Element="_EFOy1YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFPZ4oJUEeGsv772wTim0Q" base_Element="_EFPZ4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFPZ5IJUEeGsv772wTim0Q" base_Element="_EFPZ44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFPZ5oJUEeGsv772wTim0Q" base_Element="_EFPZ5YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFQA8YJUEeGsv772wTim0Q" base_Element="_EFQA8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFQA9IJUEeGsv772wTim0Q" base_Element="_EFQA8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFQoAIJUEeGsv772wTim0Q" base_Element="_EFQA9YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFQoA4JUEeGsv772wTim0Q" base_Element="_EFQoAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFQoBoJUEeGsv772wTim0Q" base_Element="_EFQoBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFRPEIJUEeGsv772wTim0Q" base_Element="_EFQoB4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFRPE4JUEeGsv772wTim0Q" base_Element="_EFRPEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFRPFoJUEeGsv772wTim0Q" base_Element="_EFRPFIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFR2IYJUEeGsv772wTim0Q" base_Element="_EFRPF4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFR2JIJUEeGsv772wTim0Q" base_Element="_EFR2IoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFR2JoJUEeGsv772wTim0Q" base_Element="_EFR2JYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFSdMYJUEeGsv772wTim0Q" base_Element="_EFR2J4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFSdNIJUEeGsv772wTim0Q" base_Element="_EFSdMoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFSdN4JUEeGsv772wTim0Q" base_Element="_EFSdNYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFTEQoJUEeGsv772wTim0Q" base_Element="_EFTEQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFTERYJUEeGsv772wTim0Q" base_Element="_EFTEQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFTrUIJUEeGsv772wTim0Q" base_Element="_EFTERoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFTrU4JUEeGsv772wTim0Q" base_Element="_EFTrUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFTrVoJUEeGsv772wTim0Q" base_Element="_EFTrVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFUSYIJUEeGsv772wTim0Q" base_Element="_EFTrV4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFUSY4JUEeGsv772wTim0Q" base_Element="_EFUSYYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFUSZYJUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_EFUSZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFU5cIJUEeGsv772wTim0Q" base_Element="_EFUSZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFU5coJUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_EFU5cYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFU5c4JUEeGsv772wTim0Q" base_Element="_EFU5cYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFU5dYJUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_EFU5dIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFVggIJUEeGsv772wTim0Q" base_Element="_EFU5dIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFVggoJUEeGsv772wTim0Q" genericsValue="Integer, String" base_Element="_EFVggYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFVgg4JUEeGsv772wTim0Q" base_Element="_EFVggYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFWHkYJUEeGsv772wTim0Q" base_Element="_EFWHkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFWuoYJUEeGsv772wTim0Q" base_Element="_EFWHkoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFWuo4JUEeGsv772wTim0Q" base_Element="_EFWuooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFXVsIJUEeGsv772wTim0Q" base_Element="_EFWupIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFXVsoJUEeGsv772wTim0Q" base_Element="_EFXVsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFXVtIJUEeGsv772wTim0Q" base_Element="_EFXVs4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFXVtoJUEeGsv772wTim0Q" base_Element="_EFXVtYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFX8wYJUEeGsv772wTim0Q" base_Element="_EFX8wIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFX8w4JUEeGsv772wTim0Q" base_Element="_EFX8woJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFX8xYJUEeGsv772wTim0Q" base_Element="_EFX8xIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFYj0IJUEeGsv772wTim0Q" base_Element="_EFX8xoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFYj0oJUEeGsv772wTim0Q" base_Element="_EFYj0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFYj1IJUEeGsv772wTim0Q" base_Element="_EFYj04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFZK4IJUEeGsv772wTim0Q" base_Element="_EFYj1YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFZK4oJUEeGsv772wTim0Q" base_Element="_EFZK4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFZK5IJUEeGsv772wTim0Q" base_Element="_EFZK44JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFZK5oJUEeGsv772wTim0Q" base_Element="_EFZK5YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFZx8YJUEeGsv772wTim0Q" base_Element="_EFZx8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFaZAIJUEeGsv772wTim0Q" base_Element="_EFZx8oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFaZAoJUEeGsv772wTim0Q" genericsValue="String, Lot" base_Element="_EFaZAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFaZA4JUEeGsv772wTim0Q" base_Element="_EFaZAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFbAEIJUEeGsv772wTim0Q" base_Element="_EFaZBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFbAEoJUEeGsv772wTim0Q" base_Element="_EFbAEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFbnIIJUEeGsv772wTim0Q" base_Element="_EFbAE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFbnIoJUEeGsv772wTim0Q" base_Element="_EFbnIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFbnJYJUEeGsv772wTim0Q" base_Element="_EFbnI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFcOMIJUEeGsv772wTim0Q" base_Element="_EFbnJoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFcOMoJUEeGsv772wTim0Q" base_Element="_EFcOMYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFcONIJUEeGsv772wTim0Q" base_Element="_EFcOM4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFcONoJUEeGsv772wTim0Q" base_Element="_EFcONYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFc1QYJUEeGsv772wTim0Q" base_Element="_EFc1QIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFc1Q4JUEeGsv772wTim0Q" base_Element="_EFc1QoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFc1RYJUEeGsv772wTim0Q" base_Element="_EFc1RIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFdcUIJUEeGsv772wTim0Q" base_Element="_EFc1RoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFdcUoJUEeGsv772wTim0Q" base_Element="_EFdcUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFdcVYJUEeGsv772wTim0Q" base_Element="_EFdcU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFeDYYJUEeGsv772wTim0Q" base_Element="_EFdcVoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFeDZIJUEeGsv772wTim0Q" base_Element="_EFeDYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFeDZoJUEeGsv772wTim0Q" base_Element="_EFeDZYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFeqcYJUEeGsv772wTim0Q" base_Element="_EFeDZ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFeqdIJUEeGsv772wTim0Q" base_Element="_EFeqcoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFeqdoJUEeGsv772wTim0Q" genericsValue="Lot" base_Element="_EFeqdYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFfRgYJUEeGsv772wTim0Q" base_Element="_EFeqdYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFfRg4JUEeGsv772wTim0Q" genericsValue="String" base_Element="_EFfRgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFfRhYJUEeGsv772wTim0Q" base_Element="_EFfRgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFf4kYJUEeGsv772wTim0Q" base_Element="_EFfRhoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFf4lIJUEeGsv772wTim0Q" base_Element="_EFf4koJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFgfoIJUEeGsv772wTim0Q" genericsValue="Integer, Integer" base_Element="_EFf4lYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFgfoYJUEeGsv772wTim0Q" base_Element="_EFf4lYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFgfo4JUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_EFgfooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFhGsIJUEeGsv772wTim0Q" base_Element="_EFgfooJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFhGsoJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_EFhGsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFhGs4JUEeGsv772wTim0Q" base_Element="_EFhGsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFhtwIJUEeGsv772wTim0Q" genericsValue="Integer, Float" base_Element="_EFhGtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFhtwYJUEeGsv772wTim0Q" base_Element="_EFhGtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFhtw4JUEeGsv772wTim0Q" base_Element="_EFhtwoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFhtxYJUEeGsv772wTim0Q" base_Element="_EFhtxIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFiU0YJUEeGsv772wTim0Q" base_Element="_EFiU0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFiU1IJUEeGsv772wTim0Q" base_Element="_EFiU0oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFiU14JUEeGsv772wTim0Q" base_Element="_EFiU1YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFi74YJUEeGsv772wTim0Q" base_Element="_EFi74IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFi744JUEeGsv772wTim0Q" base_Element="_EFi74oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFji8YJUEeGsv772wTim0Q" genericsValue="String, Timestamp" base_Element="_EFji8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFji8oJUEeGsv772wTim0Q" base_Element="_EFji8IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFkKAYJUEeGsv772wTim0Q" base_Element="_EFkKAIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFkKA4JUEeGsv772wTim0Q" base_Element="_EFkKAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFkxEIJUEeGsv772wTim0Q" base_Element="_EFkKBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFkxEoJUEeGsv772wTim0Q" base_Element="_EFkxEYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFkxFIJUEeGsv772wTim0Q" base_Element="_EFkxE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFl_MIJUEeGsv772wTim0Q" base_Element="_EFlYIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFl_MoJUEeGsv772wTim0Q" base_Element="_EFl_MYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFl_NIJUEeGsv772wTim0Q" base_Element="_EFl_M4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFmmQ4JUEeGsv772wTim0Q" base_Element="_EFmmQoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFnNUYJUEeGsv772wTim0Q" base_Element="_EFnNUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFnNU4JUEeGsv772wTim0Q" base_Element="_EFnNUoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFn0YIJUEeGsv772wTim0Q" base_Element="_EFnNVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFobcIJUEeGsv772wTim0Q" genericsValue="Integer" base_Element="_EFn0ZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFobcYJUEeGsv772wTim0Q" base_Element="_EFn0ZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFobc4JUEeGsv772wTim0Q" base_Element="_EFobcoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFpCgYJUEeGsv772wTim0Q" base_Element="_EFpCgIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFpCg4JUEeGsv772wTim0Q" base_Element="_EFpCgoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFpChYJUEeGsv772wTim0Q" base_Element="_EFpChIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFqQooJUEeGsv772wTim0Q" genericsValue="ArrayList&lt;String>" base_Element="_EFqQoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFvJIIJUEeGsv772wTim0Q" base_Element="_EFuiEoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFvJIoJUEeGsv772wTim0Q" base_Element="_EFvJIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFvJJIJUEeGsv772wTim0Q" base_Element="_EFvJI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFvwMYJUEeGsv772wTim0Q" genericsValue="String, BWorld" base_Element="_EFvwMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFvwM4JUEeGsv772wTim0Q" base_Element="_EFvwMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Generics xmi:id="_EFwXQYJUEeGsv772wTim0Q" genericsValue="String, NPCEntity" base_Element="_EFwXQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFwXQ4JUEeGsv772wTim0Q" base_Element="_EFwXQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFwXRYJUEeGsv772wTim0Q" base_Element="_EFwXRIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFw-UYJUEeGsv772wTim0Q" base_Element="_EFw-UIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFw-U4JUEeGsv772wTim0Q" base_Element="_EFw-UoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_EFxlY4JUEeGsv772wTim0Q" base_Element="_EFxlYoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGbssoJUEeGsv772wTim0Q" base_Element="_EGbssIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGcTwIJUEeGsv772wTim0Q" base_Element="_EGbss4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGcTw4JUEeGsv772wTim0Q" base_Element="_EGcTwYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGcTxoJUEeGsv772wTim0Q" base_Element="_EGcTxIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGc60oJUEeGsv772wTim0Q" base_Element="_EGc60IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGc61YJUEeGsv772wTim0Q" base_Element="_EGc604JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGdh4IJUEeGsv772wTim0Q" base_Element="_EGc61oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGjBcIJUEeGsv772wTim0Q" base_Element="_EGdh4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGjBc4JUEeGsv772wTim0Q" base_Element="_EGjBcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGjogIJUEeGsv772wTim0Q" base_Element="_EGjBdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGjog4JUEeGsv772wTim0Q" base_Element="_EGjogYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGjohoJUEeGsv772wTim0Q" base_Element="_EGjohIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGkPkoJUEeGsv772wTim0Q" base_Element="_EGkPkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGkPlYJUEeGsv772wTim0Q" base_Element="_EGkPk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGk2oIJUEeGsv772wTim0Q" base_Element="_EGkPloJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGk2o4JUEeGsv772wTim0Q" base_Element="_EGk2oYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGk2poJUEeGsv772wTim0Q" base_Element="_EGk2pIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGldsIJUEeGsv772wTim0Q" base_Element="_EGk2p4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGlds4JUEeGsv772wTim0Q" base_Element="_EGldsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGldtoJUEeGsv772wTim0Q" base_Element="_EGldtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGmEwoJUEeGsv772wTim0Q" base_Element="_EGmEwIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGmExYJUEeGsv772wTim0Q" base_Element="_EGmEw4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGmEyIJUEeGsv772wTim0Q" base_Element="_EGmExoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGmr0oJUEeGsv772wTim0Q" base_Element="_EGmr0IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGmr1YJUEeGsv772wTim0Q" base_Element="_EGmr04JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGnS4IJUEeGsv772wTim0Q" base_Element="_EGmr1oJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGnS44JUEeGsv772wTim0Q" base_Element="_EGnS4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGnS5oJUEeGsv772wTim0Q" base_Element="_EGnS5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGn58IJUEeGsv772wTim0Q" base_Element="_EGnS54JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGn584JUEeGsv772wTim0Q" base_Element="_EGn58YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGn59oJUEeGsv772wTim0Q" base_Element="_EGn59IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGohAIJUEeGsv772wTim0Q" base_Element="_EGn594JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGohA4JUEeGsv772wTim0Q" base_Element="_EGohAYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGohBoJUEeGsv772wTim0Q" base_Element="_EGohBIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGpIEoJUEeGsv772wTim0Q" base_Element="_EGpIEIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGpIFYJUEeGsv772wTim0Q" base_Element="_EGpIE4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGpvIIJUEeGsv772wTim0Q" base_Element="_EGpIFoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGpvI4JUEeGsv772wTim0Q" base_Element="_EGpvIYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGpvJoJUEeGsv772wTim0Q" base_Element="_EGpvJIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGqWMoJUEeGsv772wTim0Q" base_Element="_EGqWMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGqWNYJUEeGsv772wTim0Q" base_Element="_EGqWM4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGqWOIJUEeGsv772wTim0Q" base_Element="_EGqWNoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGq9QoJUEeGsv772wTim0Q" base_Element="_EGq9QIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGq9RYJUEeGsv772wTim0Q" base_Element="_EGq9Q4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGrkUIJUEeGsv772wTim0Q" base_Element="_EGq9RoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGrkU4JUEeGsv772wTim0Q" base_Element="_EGrkUYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGrkVoJUEeGsv772wTim0Q" base_Element="_EGrkVIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGsLYoJUEeGsv772wTim0Q" base_Element="_EGsLYIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGsLZYJUEeGsv772wTim0Q" base_Element="_EGsLY4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGsycIJUEeGsv772wTim0Q" base_Element="_EGsLZoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGsyc4JUEeGsv772wTim0Q" base_Element="_EGsycYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGsydoJUEeGsv772wTim0Q" base_Element="_EGsydIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGtZgIJUEeGsv772wTim0Q" base_Element="_EGsyd4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGtZg4JUEeGsv772wTim0Q" base_Element="_EGtZgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGtZhoJUEeGsv772wTim0Q" base_Element="_EGtZhIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGuAkoJUEeGsv772wTim0Q" base_Element="_EGuAkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGuAlYJUEeGsv772wTim0Q" base_Element="_EGuAk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGunoIJUEeGsv772wTim0Q" base_Element="_EGuAloJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGuno4JUEeGsv772wTim0Q" base_Element="_EGunoYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGunpoJUEeGsv772wTim0Q" base_Element="_EGunpIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGvOsIJUEeGsv772wTim0Q" base_Element="_EGunp4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGvOs4JUEeGsv772wTim0Q" base_Element="_EGvOsYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGvOtoJUEeGsv772wTim0Q" base_Element="_EGvOtIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGv1wIJUEeGsv772wTim0Q" base_Element="_EGvOt4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGv1w4JUEeGsv772wTim0Q" base_Element="_EGv1wYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGv1xoJUEeGsv772wTim0Q" base_Element="_EGv1xIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGwc0IJUEeGsv772wTim0Q" base_Element="_EGv1x4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGwc04JUEeGsv772wTim0Q" base_Element="_EGwc0YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGwc1oJUEeGsv772wTim0Q" base_Element="_EGwc1IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGxD4IJUEeGsv772wTim0Q" base_Element="_EGwc14JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGxD44JUEeGsv772wTim0Q" base_Element="_EGxD4YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGxD5oJUEeGsv772wTim0Q" base_Element="_EGxD5IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGxq8IJUEeGsv772wTim0Q" base_Element="_EGxD54JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGxq84JUEeGsv772wTim0Q" base_Element="_EGxq8YJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGxq9oJUEeGsv772wTim0Q" base_Element="_EGxq9IJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGySAYJUEeGsv772wTim0Q" base_Element="_EGxq94JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGySBIJUEeGsv772wTim0Q" base_Element="_EGySAoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGySB4JUEeGsv772wTim0Q" base_Element="_EGySBYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGy5EoJUEeGsv772wTim0Q" base_Element="_EGy5EIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGy5FYJUEeGsv772wTim0Q" base_Element="_EGy5E4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGy5GIJUEeGsv772wTim0Q" base_Element="_EGy5FoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGzgIoJUEeGsv772wTim0Q" base_Element="_EGzgIIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGzgJYJUEeGsv772wTim0Q" base_Element="_EGzgI4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EGzgKIJUEeGsv772wTim0Q" base_Element="_EGzgJoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG0HMoJUEeGsv772wTim0Q" base_Element="_EG0HMIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG0HNYJUEeGsv772wTim0Q" base_Element="_EG0HM4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG0HOIJUEeGsv772wTim0Q" base_Element="_EG0HNoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG0uQoJUEeGsv772wTim0Q" base_Element="_EG0uQIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG0uRYJUEeGsv772wTim0Q" base_Element="_EG0uQ4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG0uSIJUEeGsv772wTim0Q" base_Element="_EG0uRoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG1VUoJUEeGsv772wTim0Q" base_Element="_EG1VUIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG1VVYJUEeGsv772wTim0Q" base_Element="_EG1VU4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG18YIJUEeGsv772wTim0Q" base_Element="_EG1VVoJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG18Y4JUEeGsv772wTim0Q" base_Element="_EG18YYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG18ZoJUEeGsv772wTim0Q" base_Element="_EG18ZIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG2jcIJUEeGsv772wTim0Q" base_Element="_EG18Z4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG2jc4JUEeGsv772wTim0Q" base_Element="_EG2jcYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG2jdoJUEeGsv772wTim0Q" base_Element="_EG2jdIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG3KgIJUEeGsv772wTim0Q" base_Element="_EG2jd4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG3Kg4JUEeGsv772wTim0Q" base_Element="_EG3KgYJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG3KhoJUEeGsv772wTim0Q" base_Element="_EG3KhIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG3xkoJUEeGsv772wTim0Q" base_Element="_EG3xkIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG3xlYJUEeGsv772wTim0Q" base_Element="_EG3xk4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG3xmIJUEeGsv772wTim0Q" base_Element="_EG3xloJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG4YooJUEeGsv772wTim0Q" base_Element="_EG4YoIJUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG4YpYJUEeGsv772wTim0Q" base_Element="_EG4Yo4JUEeGsv772wTim0Q"/>
  <UMLLabProfile:Reference xmi:id="_EG4_sIJUEeGsv772wTim0Q" base_Element="_EG4YpoJUEeGsv772wTim0Q"/>
</xmi:XMI>
